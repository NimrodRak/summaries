#LyX 2.3 created this file. For more info see http://www.lyx.org/
\lyxformat 544
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass heb-article
\begin_preamble
\usepackage{dsfont}
\usepackage{polynom}

\usepackage[nottoc, notlot, notlof]{tocbibind}

\setcounter{page}{1}
\usepackage{qtree}
\newcommand*{\defeq}{\stackrel{\mathsmaller{\mathsf{def}}}{=}}

\usepackage{tikz}
\usepackage[pdfpagelabels]{hyperref}
\hypersetup{
    linktoc=all,
    colorlinks,
	linkcolor=teal,
    bookmarksopen=true,         
    bookmarksopenlevel=2
}
\definecolor{darkgreen}{RGB}{0,100,0}
\definecolor{realbrown}{RGB}{80,60,0}
\end_preamble
\use_default_options true
\maintain_unincluded_children false
\language hebrew
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "default" "David"
\font_sans "default" "Arial"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts true
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\use_microtype false
\use_dash_ligatures true
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing double
\use_hyperref false
\pdf_bookmarks true
\pdf_bookmarksnumbered false
\pdf_bookmarksopen false
\pdf_bookmarksopenlevel 1
\pdf_breaklinks true
\pdf_pdfborder false
\pdf_colorlinks true
\pdf_backref false
\pdf_pdfusetitle true
\papersize default
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date true
\justification true
\use_refstyle 1
\use_minted 0
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 2.1cm
\topmargin 2.1cm
\rightmargin 2.1cm
\bottommargin 2.1cm
\secnumdepth 2
\tocdepth 3
\paragraph_separation skip
\defskip medskip
\is_math_indent 0
\math_numbering_side default
\quotes_style english
\dynamic_quotes 1
\papercolumns 1
\papersides 1
\paperpagestyle default
\listings_params "keywordstyle={\color{red}},stringstyle={\color{darkgreen}},commentstyle={\color{realbrown}},identifierstyle={\color{blue}}"
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title

\size giant
מערכות הפעלה |
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
67808
\numeric off

\begin_inset VSpace 40bp
\end_inset


\begin_inset Newline newline
\end_inset


\size default
הרצאות | פרופ' דוד חי ופרופ' דרור פייטלסון
\size giant
 
\begin_inset VSpace 30bp
\end_inset


\begin_inset Newline newline
\end_inset


\size larger
כתיבה | נמרוד רק
\size giant

\begin_inset VSpace 30bp
\end_inset


\size default

\begin_inset Newline newline
\end_inset


\size large
תשפ
\begin_inset Quotes erd
\end_inset

ב סמסטר ב'
\end_layout

\begin_layout Standard
\paragraph_spacing single
\noindent

\size giant
\begin_inset VSpace 30bp
\end_inset


\begin_inset Newpage newpage
\end_inset


\size default
הרצאות לפי פרופ' דרור פייטלסון ותרגולים לפי עידן רפאלי.
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Standard
\paragraph_spacing single
\noindent
\begin_inset FormulaMacro
\newcommand{\desc}[2]{\underset{#2}{\underline{#1}}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\oh}{\mathcal{O}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\oo}[1]{\oh\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\om}[1]{\Omega\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\ot}[1]{\Theta\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\fldr}{\mathbb{R}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\ip}[2]{\left\langle #1\mid#2\right\rangle }
\end_inset


\begin_inset FormulaMacro
\newcommand{\fldc}{\mathbb{C}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\em}{\omega}
\end_inset


\begin_inset FormulaMacro
\newcommand{\k}{\mathcal{K}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\c}{\mathcal{C}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\m}{\mathcal{M}}
\end_inset


\end_layout

\begin_layout Standard
\paragraph_spacing single
\noindent
\begin_inset FormulaMacro
\newcommand{\fldn}{\mathbb{N}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\fldz}{\mathbb{Z}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\mez}[1]{\mathds{#1}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\boxo}[1]{\begin{array}{|c|}
\hline #1\\\hline \end{array}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\var}[1]{\textrm{var}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\renewcommand{\ip}[2]{\left\langle #1\mid#2\right\rangle }
\end_inset


\begin_inset FormulaMacro
\newcommand{\norm}[1]{\left\Vert #1\right\Vert }
\end_inset


\begin_inset FormulaMacro
\newcommand{\xy}[2]{\left(\begin{smallmatrix}#1\\
 #2 
\end{smallmatrix}\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\la}{\lambda}
\end_inset


\begin_inset FormulaMacro
\newcommand{\corr}[1]{\textrm{corr}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\bin}[1]{\textrm{Bin}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\ber}[1]{\textrm{Ber}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\geo}[1]{\textrm{Geo}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\unif}[1]{\textrm{Unif}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\dx}{\;\textrm{dx}}
{\textrm{dx}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\dt}{\;\textrm{dt}}
{\textrm{dt}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\d}[1]{\;\textrm{d#1}}
{\textrm{d#1}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\ift}{\mathbb{\mathcal{\int\limits _{-\infty}^{\infty}}}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\os}{\textrm{OS}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\cs}{\textrm{cs}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\vm}{\textrm{VM}}
\end_inset


\end_layout

\begin_layout Standard
\paragraph_spacing single
\noindent
\begin_inset Note Comment
status open

\begin_layout Plain Layout
שבוע -
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\numeric off
, הרצאה/תרגול
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
-
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
8
\numeric off
, מסקנות -
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
7
\end_layout

\end_inset


\begin_inset Note Note
status open

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{part}{הצפנה סימטרית}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{I
\backslash
;
\backslash
; מבוא לקריפטוגרפיה מודרנית}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\size giant
שבוע 
\begin_inset Formula $\mathbb{I}$
\end_inset

 | 
\end_layout

\begin_layout Plain Layout

\size largest
הרצאה
\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{א | }
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\paragraph_spacing single
\noindent
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{I
\backslash
;
\backslash
; מבוא, אבסטרקציה ווירטואליזציה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{I}$
\end_inset

 | מבוא, אבסטרקציה ווירטואליזציה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
מהו מחשב? מחשב מורכב מחומרה שעליה מריצים אפליקציות )תהליכים, לעתיד( באמצעות
 מערכת הפעלה.
 משתמשים ונתונים משתמשים בה, אך אינם חלק ממערכת מחשב.
\end_layout

\begin_layout Standard
בין האפליקציות לחומרה יש מערכת הפעלה, והיא חוצצת )לרוב( ביניהן.
 מערכת ההפעלה לא תמיד רצה, אלא רק כשהיא מתבקשת על ידי האפליקציה )לדוגמה
 הצגה למסך(.
 על מערכת ההפעלה )לרוב( רצות הרבה מאוד אפליקציות בו-בזמן.
\end_layout

\begin_layout Standard
החציצה הזו מורכבת משני ממשקים:
\end_layout

\begin_layout Itemize
ארכיטקטורה )בין החומרה למערכת ההפעלה(: אילו פקודות המעבד מממש וכיצד קוראים
 להן.
\end_layout

\begin_layout Itemize
קריאות מערכת )בין האפליקציות למערכת ההפעלה(: פעולות ושירותים שניתנים לאפליקציות.
\end_layout

\begin_layout Standard
מערכת ההפעלה קובעת איזו אפליקציה מקבלת את כוח החישוב של המעבד וכשהיא רצה
 )קובעת איזו אפליקציה תרוץ לדוגמה( אף אפליקציה לא רצה ולהפך.
 לאחר זמן מה שאפליקציה רצה, קורת פסיקה של שעון המעבד )שמתקתק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1000
\numeric off
~ פעמים בשנייה( ומערכת ההפעלה עוברת להרצת אפליקציה אחרת.
\end_layout

\begin_layout Standard
מערכת ההפעלה מספקת סביבה נוחה ובטחוה לאפליקציות )באמצעות וירטואליזציה ואבסטרקציה
(.
 מערכת ההפעלה היא ריאקטיבית, כלומר היא מחכה שמשהו יקרה.
 בנוסף היא תמיד שם, לעולם לא מסיימת את פעולתה ונמצאת בלולאה אינסופית.
\end_layout

\begin_layout Standard
אם לא הייתה לנו מערכת הפעלה, היינו צריכים לשים את הקוד במקום ספציפי כדי
 שכשהמחשב נדלק הוא יתחיל להריץ את הקוד הנכון, להתמודד עם זה שאין קבצים בכלל,
 לדבר ישירות עם העכבר/מקלדת וכל זה באופן לא בטוח ובלי מיקבול של פעולות.
\end_layout

\begin_layout Standard
על מחשב אחד ניתן להריץ יותר ממערכת הפעלה אחת )וירטואליזציה( ולהפך )ארכיטקטורות
 רבות-מעבדים( אך לא נעסוק בכך בקורס הזה.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{אבסטרקציה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
אבסטרקציה
\end_layout

\begin_layout Standard
מערכת ההפעלה מציגה לאפליקציות מכונה אבסטרקטית, שמכילה פעולות שלא קיימות
 בחומרה אך מתבססות עליה.
 זה מקל על כתיבה של קוד והופך את המערכת לחזקה הרבה יותר משימוש סתמי בחומרה.
 עבור דברים שדורשים יעילות יתרה, לעתים כן כדאי לעבוד עם חומרה ולהיפטר מהאבסטרקצי
ה.
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
חומרה
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
מערכות הפעלה
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
שמירה בבלוקי מידע
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
שמירת מידע בקבצים בעלי שם
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
גודל קבוע
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
גודל משתנה ככל שנרצה
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
קריאה לפי מיקום על דיסק )משטח, מחלקה, מסלול(
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
קריאה לפי פוינטר לזיכרון והיסט
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
מבנה נתונים היררכי
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קבצים כדוגמה לאבסטרקציה
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
מערכת ההפעלה מגבילה את 
\begin_inset Quotes xld
\end_inset

שדה הראיה
\begin_inset Quotes xrd
\end_inset

 של כל אפליקציה למכונה אבסטרקטית שמכילה רק את מה שהאפליקציה צריכה לראות,
 ומכונה זו יכולה להיות שונות בין אפליקציות )מיקומי זיכרון שונים(.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{וירטואליזציה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
וירטואליזציה
\end_layout

\begin_layout Standard
לנתק את החומרה מהמגבלות הפיזיות שלה - יצירת אשלייה.
 כל תוכנה חושבת שהמעבד הוא שלה, אפע
\begin_inset Quotes xrd
\end_inset

פ שזה לא נכון )לא תמיד נריץ את התוכנה של האפליקציה הזו(.
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
מכונה וירטואלית
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
חומרה אמיתית
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
פקודות מכונה ללא הרשאות
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
פקודות מכונה )עם ובלי הרשאות(
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ג'יגה זיכרון רציף
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
זיכרון יחסית קטן )כמה ג'יגה( ומטמון
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
קבצים בעלי שם
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
דיסק מסודר לפי בלוקים
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
וירטואליזציה של מערכת ההפעלה
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
מבחינת זיכרון כדוגמה לוירטואליזציה, האפליקציה חושבת שיש לה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ג'יגה )במערכות 
\numeric on
32
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביט( של זיכרון רציף )שניתן לקרוא לו עם פוינטר בסיס והיסט( ושלה יש זיכרון
 יחודי, מערכת ההפעלה תומכת באשלייה הזו ומקצה זיכרון בעת הצורך ואילו לחומרה
 יש רק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ג'יגה.
 למעשה לאפליקציה יש הרגשה שיש לה הרבה יותר זיכרון משיש לה באמת וזו אחריות
 מערכת ההפעלה לספק את הדמיון הזה לה ולשלל האפליקציות האחרות שחושבות כך גם
 כן.
\end_layout

\begin_layout Standard
ההבדל בין אבסרטקציה לוירטואליזציה לא תמיד ברור אבל ככלל אבסטרקציה משפרת
 ווירטואליזציה יוצרת עוד.
\end_layout

\begin_layout Standard
מערכת ההפעלה ממונה על הקצאת משאבים )זיכרון, זמן מעבד( ונמדוד את איכותה בהקשר
 זה באמצעות התחשבות ביעילות, ביצועים והוגנות.
\end_layout

\begin_layout Standard

\size larger
טרמינולוגיית ביצועים
\end_layout

\begin_layout Enumerate
זמן תגובה/השהייה |
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Latency/Response time
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- הזמן שלקח לבצע פעולה/להגיב )שניות(.
\end_layout

\begin_layout Enumerate
תפוקה |
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Throughput
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- הקצב שמתבצעת עבודה )אחד חלקי שנייה, הרץ(.
\end_layout

\begin_layout Enumerate
ניצולת |
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Utilization
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- חלקיות הזמן שהמחשב עובד ולא נח.
\end_layout

\begin_layout Enumerate
תקורה |
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Overhead
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- המשאבים המנוצלים באופן משני/נוסף כדי לעשות משהו, לדוגמה ריצת מערכת ההפעלה.
\end_layout

\begin_layout Standard
סכום הניצולת )שאפליקציה ביקשה באופן ישיר( + תקורה + זמן מנוחה מסתכם ל-
\numeric on
100%
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מהזמן.
\end_layout

\begin_layout Standard

\size larger
\begin_inset Formula $ $
\end_inset


\lang english
Multiprogramming
\end_layout

\begin_layout Standard
עד לבוא מערכות ההפעלה, תוכניות היו רצות אחת אחרי השנייה.
 מערכת ההפעלה חידשה ועתה מכילה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Job pool
\lang hebrew
, בה נמצאות כל העבודות שהמעבד צריך לבצע.
 מערכת ההפעלה דואגת לחווית משתמש יותר נעימה כי היא מריצה במקביל כמה דברים
 )לא באמת במקביל, אלא מעבר מהיר בין אחד לשני(.
 דוגמה קלאסית לכך היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Spooling
\lang hebrew
, לפיה בזמן ריצה של רכיב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
I/O
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 באפליקציה אחת ניתן לאפליקציה אחרת לרוץ.
\end_layout

\begin_layout Standard

\size larger
הנחות התאוריה
\end_layout

\begin_layout Itemize
המעבד תמיד שם וזמן מנוחה שלו הוא ביזבוז.
\end_layout

\begin_layout Itemize
המעבד מהיר בהרבה מה-
\lang english
I/O
\lang hebrew
.
\end_layout

\begin_layout Itemize
הזיכרון מספיק גדול כדי שירוצו הרבה תוכנות.
\end_layout

\begin_layout Itemize
הגישה לזיכרון היא ישירה )
\lang english
DMA
\lang hebrew
(, כלומר יש לנו מטמון שצמוד למעבד שהוא מהיר ומכיל מידע חשוב וכל מידע אחר
 ניתן לשלוח לזיכרון להביא לנו ולעשות דברים אחרים בזמן הזה )עד שיקרא לנו
 חזרה עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
interrupt
\lang hebrew
(.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/dma.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
תרשים שמדגים את השימוש ב-
\lang english
DMA
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
יש יותר מדבר אחד לעשות בכל רגע נתון.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{סקירת הקורס}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
דרישות מערכת ההפעלה
\end_layout

\begin_layout Itemize
תקשורת פרימיטיבית עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
I/O
\lang hebrew
.
\end_layout

\begin_layout Itemize
מתזמן, שיקבע איזו עבודה כרגע רצה על המעבד.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/multi-prog-example.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
הדגמה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
multiprogramming
\end_layout

\end_inset


\end_layout

\end_inset

בדוגמה הנ
\begin_inset Quotes xrd
\end_inset

ל מערכת ההפעלה אחראית על המעבר בין התהליכים, בדיקה מתי ה-
\lang english
I/O
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מסיימים לעבוד, שימוש ב-
\lang english
I/O
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ועוד.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
spooler
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שינהל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
I/O
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יותר איטי.
\end_layout

\begin_layout Standard

\size larger
שימושים של מערכת הפעלה
\end_layout

\begin_layout Enumerate
הרצת תוכנה.
\end_layout

\begin_layout Enumerate
ניהול תהליכים )הריגת תוכנות אם הן נתקעו לדוגמה(.
\end_layout

\begin_layout Enumerate
ניהול זיכרון )הקצאת זיכרון(.
\end_layout

\begin_layout Enumerate
מערכת קבצים )שמירת היררכיה(.
\end_layout

\begin_layout Enumerate
רשתות )תקשורת אינטרנט(.
\end_layout

\begin_layout Enumerate
אבטחה ובטיחות )הגנה מפני פריצות(.
\end_layout

\begin_layout Enumerate
הקצאת משאבים ומעקב אחריהם.
\end_layout

\begin_layout Enumerate
תקשורת עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
I/O
\lang hebrew
.
\end_layout

\begin_layout Enumerate
תקושרת עם המשתמש באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Command Interpreter
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Shell
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וכו'.
\end_layout

\begin_layout Standard
בימינו מערכות הפעלה מורכבות הרבה יותר, בין אם בקשיים ארכיטקטואלים כגון מערכות
 מרובות מעבדים ובין אם קשיים שנובעים משינוי הסביבה, בין אם זה בשירותי ענן
 ובין אם זה מערכות מובייל.
\end_layout

\begin_layout Standard
בחמישים השנה האחרונות עלה אקספוננציאלית מספר הטרנזיסטורים במעבד, כשגודלו
 עומד כעת על כמה נאנומטרים )אחד חלקי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
10,000
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 שערה(.
 קצב השעון עלה אקספוננציאלית גם הוא עד 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2005
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 עד שנקבע שהחום שהם יוצרים חמור מדי ומאז הוא נשאר קבוע, ואיתו גם כמות החשמל
 שנדרשת לשימוש במעבד.
 מה שהחל לעלות אחרי 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2005
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 הוא מספר הליבות )המעבדים( בתוך כל מעבד, ומספר זה חסום על ידי 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כרגע בטלפונים ומונה עשרות במעבדים מתקדמים.
\end_layout

\begin_layout Standard
בגלל שהאנרגיה מגבילה את מהירות השעון, הפתרון הוא מיקבול, וזו הסיבה שעברו
 לריבוי מעבדים.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{המשך וירטואליזציה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
דוגמאות לוירטואליזציה
\end_layout

\begin_layout Enumerate
פרטישנים )
\lang english
partitions
\lang hebrew
( בדיסק הם חלוקות לוגיות של כונן קשיח שמתנהגים כמו דיסקים שונים אך אינם
 באמת כאלה.
\end_layout

\begin_layout Enumerate
זיכרון וירטואלי - הזיכרון הרציף המוגבל שיש לכל אפליקציה.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
VPN
\lang hebrew
, שמאפשר למשתמש להתחבר לאינטרנט ממקום השונה ממקומו האמיתי.
\end_layout

\begin_layout Standard
אפשר לעשות וירטואליזציה גם למערכת ההפעלה, כלומר לשים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
hypervisor
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בין החומרה למערכות ההפעלה כך שכל מערכת הפעלה תחשוב שהיא היחידה ושיש לה זיכרון
 כלשהו שלא בהכרח חייב להיות קיים במציאות ואפשר להוסיף עוד שכבות וירטואליזציה
 כאוות נפשנו )באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שרץ על מערכת הפעלה שרצה בתוך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וכו' וכו'( ויכולות להיות דרגות שונות של וירטואליזציה באותה המכונה )אפליקציה
 אחת כן ב-
\lang english
VM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואחרת לא(.
 יש גם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
container
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שזו אריזה של אפליקציה שהיא לא בדיוק מערכת הפעלה בעצמה.
\end_layout

\begin_layout Standard

\size larger
יתרונות של וריטואליזציה
\end_layout

\begin_layout Enumerate
גיוון - כמה מערכות הפעלה על אותה מכונה.
\end_layout

\begin_layout Enumerate
סנאפשוט - להקפיא את המערכת המצב מסוים ולהשתמש בו בזמן אחר.
\end_layout

\begin_layout Enumerate
הגירה - אפשר להעביר בקלות מערכת מאמצעי פיזי אחד לאחר.
\end_layout

\begin_layout Enumerate
בידוד - כל מכונה וירטואלית מופרד )כמעט( לחלוטין מהאחרות וזה מספק אבטחה.
\end_layout

\begin_layout Standard
עם כל היתרונות הנ
\begin_inset Quotes xrd
\end_inset

ל, באה גם תקורה ומשם יורדת היעילות.
\end_layout

\begin_layout Standard
בענן וירטואליזציה מאוד נוחה מבחינת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
scalability
\lang hebrew
, אבטחה, גמישות וכד' וכל זה בזול מאוד.
\end_layout

\begin_layout Standard
בטלפון המצב מאוד שונה מבחינת ההנחות בעיקר כי הוא עובד על סוללה ולא חשמל
 ולכן במקום להשתמש במעבד תמיד נרצה להשתמש בו כמה שפחות, יש הרבה פחות זיכרון
 וקשה יותר לעשות יותר מדבר אחד בו בזמן.
\end_layout

\begin_layout Standard
מעבר לכך יש עוד הרבה מערכות אחרות שלהן צרכים ודרישות שונות ומספקים שירותים
 שונים.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
סקרנו את הנהלים, שימוש ב-
\lang english
valgrind
\lang hebrew
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
strace
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
gdb
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והתרגיל.
\end_layout

\begin_layout Standard

\size larger
תהליכים שנלמד בקורס
\end_layout

\begin_layout Enumerate
מה קורה כשלוחצים על מקש במקלדת )דרייבר של המקלדת נקרא וכו'(?
\end_layout

\begin_layout Enumerate
מה קורה כשכותבים או קוראים מקובץ )אבסטרקציה של מערכת הפעלה(?
\end_layout

\begin_layout Enumerate
אפע
\begin_inset Quotes xrd
\end_inset

פ שקריאת קובץ היא איטית מאוד, המחשב מגיב לפעולות שלנו, כיצד זה קורה )מולטי-פרוגר
מינג(?
\end_layout

\begin_layout Enumerate
איך אפשר להשתמש בתוכנות שדורשות יותר זיכרון משהמחשב יכול להציע?
\end_layout

\begin_layout Enumerate
מהו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
segmentation fault
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)גישה לזיכרון לא קיים במכונה הוירטואלית(?
\end_layout

\begin_layout Enumerate
איך אפשר להריץ אפליקציות מרובות ליבות?
\end_layout

\begin_deeper
\begin_layout Standard
איך נמנעים מהתנגשות בין פעולות של ליבות )סינכרון(?
\end_layout

\end_deeper
\begin_layout Enumerate
איך אפשר להריץ יותר ממערכת הפעלה אחת על מחשב )וירטואליזציה(?
\end_layout

\begin_layout Enumerate
איך מחשבים מתקשרים אחד עם השני?
\end_layout

\begin_layout Standard

\size larger
רגיסטרים )אוגרים( מיוחדים
\end_layout

\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
PC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
-
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Program Counter
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שעוקב אחר אינדקס הפעולה שמורצת כרגע.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
SP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
-
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Stack Pointer
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שעוקב אחר ראש המחסנית.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
IR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
-
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Instruction Register
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עוקב אחר הזיכרון שאליו אנחנו מצביעים לשם שימוש בו.
\end_layout

\begin_layout Standard

\size larger
סוגי פעולות המעבד
\end_layout

\begin_layout Enumerate
עיבוד מידע: טעינת בית לרגיסטר, כתיבה לזיכרון.
\end_layout

\begin_layout Enumerate
פעולות אריתמטיות: כפל, חיבור, פעולות 
\begin_inset Quotes xld
\end_inset

או
\begin_inset Quotes xrd
\end_inset

 ביטית.
\end_layout

\begin_layout Enumerate
בקרת זרימה: קפיצה מותנת, לא מותנת.
\end_layout

\begin_layout Standard

\size larger
מחזור החיים של פקודה במעבד
\end_layout

\begin_layout Enumerate
בקשת פקודה.
\end_layout

\begin_layout Enumerate
פענוח פקודה ובקשה לאוגרים הנדרשים.
\end_layout

\begin_layout Enumerate
פעולות הרכיב האריתמטי בתוך המעבד.
\end_layout

\begin_layout Enumerate
קריאה וכתיבה לזיכרון )
\lang english
lw, sw
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שהם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
load, store
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהתאמה(.
\end_layout

\begin_layout Enumerate
כתיבה חזרה לאוגרים.
\end_layout

\begin_layout Description
דוגמה הפקודה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\begin_inset Formula $\textrm{lw}\;\$1,\;32\left(\$2\right)$
\end_inset

 מבצעת 
\begin_inset Formula $\textrm{Reg}\left[1\right]=\textrm{M}\left[\textrm{Reg}\left[2\right]+32\right]$
\end_inset

.
\end_layout

\begin_layout Description
הערה גם אם יש לנו מעבד אחד, אין מניעה שיהיו פקודות שונות בשלבים שונים במחזור
 החיים וכך נשיג שיפור קטן ביעילות.
\end_layout

\begin_layout Standard

\size larger
היררכיית הזיכרון במחשב
\end_layout

\begin_layout Enumerate
זיכרון אוגרים: מאוד מהיר, עם פחות מ-
\numeric on
1
\numeric off
\lang english
KB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 מקום, מספיק לחישובים זמניים.
\end_layout

\begin_layout Enumerate
זיכרון מטמון: קצת פחות מהיר, עם פי כמה וכמה זיכרון מהאוגרים )עשרות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
KB
\lang hebrew
( ומספיק לגישה מהירה לזיכרון, נחשב בתוך המעבד.
\end_layout

\begin_layout Enumerate
זיכרון
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RAM
\lang hebrew
: איטי ביחס למעבד, עם הרבה מאוד מקום אך לא מספיק לשימוש סדיר בו ולכן הומצא
 המטמון.
\end_layout

\begin_layout Enumerate
דיסק: הרבה מאוד מקום, מאוד איטי, המידע אף פעם לא ימחק בניגוד לכל השאר.
\end_layout

\begin_layout Standard
על המחשב אפשר לא רק להריץ אפליקציות, אלא להוסיף שכבת וירטואליזציה נוספת
 מעל מה שמערכת ההפעלה כבר מספקת ועליה להתקין מערכות הפעלה נוספות שלא ידעו
 בכלל שיש משהו מתחתן.
 הבעיה במערכות כאלה היא שיש קורה רבה והן דורשות הרבה משאבים.
 לשם כך הומצאו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
docker
\lang hebrew
-ים, שעושים וירטואליזציה ברמת מערכת ההפעלה.
 כלומר, היא לא מדמה חומרה חדשה אלא רק מערכת הפעלה חדשה, וכך יש עדיין הפרדה
 מלאה בין האפליקציות והגישה שלהן לחומרה.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{II
\backslash
;
\backslash
; מצב קרנל ואינטראפטים}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{II}$
\end_inset

 | מצב קרנל ואינטראפטים
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard

\size larger
סוגי פעולות
\end_layout

\begin_layout Itemize
פעולות לא מיוחסות: פעולות שלא חשוב לנו לבקר את ההתנהגות שלהם אצל האפליקציות,
 לדוגמה חיבור, כפל, קפיצה וכיוצ
\begin_inset Quotes xrd
\end_inset

ב.
\end_layout

\begin_layout Itemize
פעולות מיוחסות: פעולות שרק מערכת ההפעלה יכולה להשתמש בהן.
 לדוגמה קריאה לקבצים והגבלת הגישה של משתמשים שלא אמורים לגשת לבלוקים מסוימים
 מלגשת אליהם.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{מצב גרעין}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
מצבי פעולה
\end_layout

\begin_layout Itemize
מצב גרעין: אפשר להריץ כל פעולה שהיא, מערכת ההפעלה רצה במצב זה.
\end_layout

\begin_layout Itemize
מצב משתמש: ניתן להריץ רק פעולות ל מיוחסות.
\end_layout

\begin_layout Standard

\size larger
מימוש מצב גרעין
\end_layout

\begin_layout Standard
יש במעבד אוגר ששמו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PSW
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמכיל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביט מצב ואם הביט על מצב משתמש לא תינתן אפשרות להרצת פעולות מיוחסות.
 במעבדים מודרניים יש יותר משני מצבים ולכן נצטרך יותר מביט אחד.
\end_layout

\begin_layout Standard
כדי להיכנס למצב קרנל צריך לקרוא ל-
\lang english
trap
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 שעושה שני דברים בו בזמן )אטומית(:
\end_layout

\begin_layout Enumerate
לשנות את ביט המצב ב-
\lang english
PSW
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
למצב קרנל.
\end_layout

\begin_layout Enumerate
לטעון ל-
\lang english
PC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 כתובת של פ' 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
OS
\lang hebrew
.
\end_layout

\begin_layout Standard
\begin_inset Formula $\,$
\end_inset


\lang english
trap
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא פ' לא מיוחסת כי כשקוראים לה בהכרח צריכים עדיין להיות במצב משתמש.
\end_layout

\begin_layout Standard

\size larger
מתי נכנסים למצב גרעין
\end_layout

\begin_layout Itemize

\bar under
כניסה מצב קרנל בקריאת 
\lang english
Syscall
\bar default
\lang hebrew
: כדי להשתמש בשירות של מערכת ההפעלה צריך להשתמש ב-
\lang english
syscall
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ופקודות כאלה מהוות את ה-
\lang english
API
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של ה-
\lang english
OS
\lang hebrew
.
 המשתמש קורא לה כמו פ' רגילה )יחסית מיוחדת אמנם( והפ' רצה במצב קרנל.
\end_layout

\begin_deeper
\begin_layout Standard
בלי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
syscall
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אי אפשר לשנות רכיבים פנימיים של ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כדי לשמור בטיחות המערכת.
 בנוסף, לפני שפועלים על הפרמטרים שהתקבלו ל-
\lang english
syscall
\lang hebrew
, תקינותם נבדקת כדי לא לבצע פעולות מסוכנות.
\end_layout

\begin_layout Standard
בקריאה ל-
\lang english
syscall
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קוראים ל-
\lang english
trap
\lang hebrew
, מריצים את הפעולה הנדרשת, יוצאים ממצב קרנל וחוזרים מה-
\lang english
syscall
\lang hebrew
.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/syscall-trap.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
הדגמה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 קריאה ל-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
syscall
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Description
דוגמה נרצה לפתוח קובץ.
 קוראים לפ' ספריה ששמה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
open
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 )פ' בספריית מערכת ההפעלה( שמעבירה את הפרמטרים לאוגרים ושומרת את הקוד של
 ה-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
syscall
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\numeric on
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
במקרה הזה(.
 לאחר מכן, מבצעים את ה-
\lang english
trap
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מוצא את הפעולה הרלוונטית )פתיחת קובץ במקרה הזה( בהסתמך על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
switch-case
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
גדול )כבר במצב קרנל(.
 לאחר ביצוע הפעולה נחזור ל-
\lang english
entry point
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 שקרא לפעולה, נחזור ממצב קרנל למשתמש ונחזור לבסוף לפ' המקורית שקראה לנו.
\end_layout

\begin_layout Description
הערה כל הפעולה הזו מאוד יקרה.
\end_layout

\begin_layout Standard

\size larger
דוגמאות ל-
\lang english
Syscalls
\end_layout

\begin_layout Itemize
ניהול קבצים.
\end_layout

\begin_layout Itemize
תקשורת )אינטרנט, פרוטוקולים אחרים(.
\end_layout

\begin_layout Itemize
ניהול תהליכים )להרוג, ליצור, לשנות(.
\end_layout

\begin_layout Itemize
ניהול התקנים )מדפסות, עכברים(.
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
כניסה מצב קרנל בהתקלות ב-
\lang english
Exception
\bar default
\lang hebrew
: לעתים ה-
\lang english
CPU
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא יכול לבצע את הפקודה שהוא קיבל, מצב זה הוא חריג ולכן נקרא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
exception
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה חלוקה באפס היא לא פעולה שאפשר לבצע.
\end_layout

\begin_layout Description
דוגמה פעולה לא קיימת )בנאנד היו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
פקודות אבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
64
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אפשרויות - הרבה אפשרויות לקודים שלא קיימים( או לא חוקית )פעולה מיוחסת במצב
 משתמש(.
\end_layout

\begin_layout Standard
בגלל שזה לרוב נובע מבאג בתוכנה, החומרה מעבירה את האחריות לתוכנה - למערכת
 ההפעלה.
 בגלל שלרוב אין מה לעשות עם שגיאה בסגנון זה )למעט בשגיאות ניהול זיכרון(,
 מערכת ההפעלה תהרוג את התהליך באמצעות שליחת אות.
\end_layout

\end_deeper
\begin_layout Itemize
כניסה למצב קרנל באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Interrupt
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)ראו המשך(.
\end_layout

\begin_layout Description
הערה לא תמיד ברור מה חלק ממערכת ההפעלה ומה לא, לדוגמה האם דפדפן הוא חלק
 ממערכת ההפעלה? האם תמיכה בחלונות והזזה שלהם היא חלק ממערכת ההפעלה? לא תמיד,
 לפעמים זו אפליקציה בפני עצמה.
\end_layout

\begin_deeper
\begin_layout Standard
מערכות הפעלה מודרניות באות עם שירותים למשתמש שרצים כמו במצב משתמש, אך אינם
 אפליקציות רגילות.
\end_layout

\end_deeper
\begin_layout Description
דוגמה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
shell
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 או 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
echo
\lang hebrew
, שיכולות לקרוא ל-
\lang english
syscall
\lang hebrew
-ים אבל אינן רצות במצב קרנל באופן ישיר.
\end_layout

\begin_layout Standard
מתחת לאפליקציות ולשירותים האלה של ה-
\lang english
OS
\lang hebrew
, יש את ספריות הקוד של ה-
\lang english
OS
\lang hebrew
, שמתחתן יש את שירותי היסוד של ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)ניהול זיכרון, תהליכים וכיוצ
\begin_inset Quotes xrd
\end_inset

ב( שהם רוב מה שאנו לומדים בקורס זה.
\end_layout

\begin_layout Standard
מתחתם יש דרייברים, שהם סקריפטים שמתממשקים עם התקנים שונים )עכבר, מקלדת,
 דיסק( או מנהלים חלקים במכונה ומתחת לכל זה מגיעה החומרה.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/os-layers.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
הדגמה של שכבות ה-
\lang english
OS
\end_layout

\end_inset


\end_layout

\end_inset

בגלל שדרייברים הם חלק ממערכת ההפעלה והם יכולים לגשת לכל רכיב של ה-
\lang english
OS
\lang hebrew
, הם רצים במצב קרנל ומועדים להוות סכנה למחשב )יש הרבה מאוד דרייברים ואי
 אפשר לבדוק שאף אחד מהם הוא לא וירוס(.
 לשם כך הומצאו פריבלגיות ביניים - בין המשתמש למצב קרנל - אף על פי שלא משתמשים
 בזה ברוב מערכות ההפעלה ולכן מחשבים קצת יותר חשופים לנזקים.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{התקני IO}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
התקני
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
IO
\end_layout

\begin_layout Standard
כדי לחבר התקן קלט/פלט כגון עכבר, מקלדת, דיסק משתמשים ב-
\lang english
System Bus
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 שבאמצעות דרייברים לכל מכשיר מחבר כל התקן באופן מסודר וגנרי.
\end_layout

\begin_layout Standard
שימוש ב-
\lang english
System Bus
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מאפשר חיבור של התקנים חדשים בקלות באמצעות הורדת ה-
\lang english
Controller
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלהם שמאפשר להתממשק איתם וזהו.
 בנוסף, על אותם כבלים אפשר להתקין )באמצעות הגנריות( הרבה התקנים שונים ולא
 צריך אחד מיוחד לכל אחד.
\end_layout

\begin_layout Standard
עם זאת, יש לו כמה חסרונות.
 בעיקר, הוא 
\series bold
יכול להוות צוואר בקבוק
\series default
 כי המהירות שלו מוגבלת ע
\begin_inset Quotes xrd
\end_inset

י אורכו, מספר ההתקנים המחוברים אליו והדרישה שיתאים להרבה התקנים שונים ולכן
 הוא צריך לתמוך במהירויות העברה שונות.
\end_layout

\begin_layout Standard
ה-
\lang english
Bus
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מכיל שלושה סוגי מידע שעובר בכבלים: חוטי כתובת )איפה לכתוב את המידע(, חוטי
 מידע )מה המידע( וחוטי אות )מתאמים את קצבי העברת המידע(.
\end_layout

\begin_layout Standard
כדי לתקשר עם התקני
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
I/O
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
משתמשים ב
\series bold
קונטרולרים
\series default
 שלהם שנדלקים כשכותבים למקומות ספציפיים שמיועדים להם.
 הקונטרולר רץ ברקע עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DMA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)הסכמה למעבר מידע מהמעבד לזיכרון מההרצאה הקודמת(.
\end_layout

\begin_layout Standard
כשהתקן מסיים את העבודה על הנתונים שהוא קיבל הוא צריך לבקש את תשומת ליבו
 של המעבד )אם מקלדת אז כדי להעביר תווים, אם מדפסת אז כדי לקבל משהו להדפיס(,
 וכדי להתריע למעבד )דרך ה-
\lang english
OS
\lang hebrew
( על זה, משתמשים ב-
\lang english
interrupt
\lang hebrew
-ים.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{אינטראפטים}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
אינטראפטים
\end_layout

\begin_layout Standard
\begin_inset Formula $\,$
\end_inset


\lang english
interrupt
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
גורם למעבד לעצור את מה שהוא עושה עכשיו ולהריץ את פ' של ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמתמודדת עם ה-
\lang english
interrupt
\lang hebrew
.
 התנהלות עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
interrupt
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא תפקידה של ה-
\lang english
OS
\lang hebrew
.
\end_layout

\begin_layout Standard
נשאלת השאלה איך החומרה, ההתקן, יודע לאיזו פ' לקרוא? מה אם היא לא הייתה קיימת
 כשיוצר המעבד? לשם כך יש 
\series bold
וקטור אינטראפט
\series default
 - זה מיקום קבוע בזיכרון שנקבע ע
\begin_inset Quotes xrd
\end_inset

י החומרה שבו ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
צריך לשים פוינטרים לפ' לכל אינטרפט בהתאם לאינדקס שלו )אינטרפט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
39
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 יקרא לפ' במיקום 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
39
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בוקטור הזה(.
 כל פעם שמערכת ההפעלה נדלקת והתקנים חדשים מותקנים ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמה את הפוינטרים הרלוונטיים בוקטור.
 
\end_layout

\begin_layout Description
הערה הוקטור נחשב חלק בלתי נגיש בזיכרון למשתמשים כדי למנוע ממשתמש להיכנס
 למצב קרנל באמצעות אינטרפטים מכוונים.
\end_layout

\begin_layout Standard
החומרה תיקח באופן עיוור את הפ' מהוקטור ובאותו הזמן תעבור למצב קרנל.
 כחלק מהמנגנון, מזהים את ההתקן באמצעות מספרי זהות לדוגמה וכך בקלות ניתן
 להתממשק עם התקן ב-
\lang english
OS
\lang hebrew
.
\end_layout

\begin_layout Standard
בזמן שמטפלים ב-
\lang english
interrupt
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתעלמים מ-
\lang english
interrupt
\lang hebrew
-ים, אלא אם הם קריטיים - 
\lang english
Non-Maskable
\lang hebrew
 )בלתי מסיכים( - ולא נרצה לשכוח מהם כגון כיבוי המחשב.
 בנוסף, אם ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עושה משהו חשוב כרגע שהיא לא רוצה להפסיק היא יכולה להגדיר שהיא לא רוצה לקבל
 אינטרפטים.
\end_layout

\begin_layout Standard
ניזכר כי יש שלוש דרכים להיכנס למצב קרנל: אינטראפט )אינטראפט חומרה(; סיסקול
 )אינטרפט תוכנה(; שגיאות )טכנית גם אינטראפט תוכנה(.
 אף על פי שאנחנו מתייחסים אליהם כמשהו שונה, הם למעשה אותו הדבר ו
\series bold
כולם משתמשים באינטראפטים
\series default
 )בפרט בוקטורן
\begin_inset Newline newline
\end_inset

האינטראפט(, כאשר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
trap
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא למעשה אינטרפט מספר 
\begin_inset Formula $0x80$
\end_inset

 בקונבנציה שקורא ל-
\lang english
syscall
\lang hebrew
.
\end_layout

\begin_layout Standard

\size larger
סיווג אינטראפטים
\end_layout

\begin_layout Itemize
תוכנה )טראפ ושגיאות( מול חומרה )אינרפטים של התקנים(.
\end_layout

\begin_layout Itemize
פנימי )תוכנה( מול חיצוני )חומרה(.
\end_layout

\begin_layout Itemize
סינכרוני )בזמן תיק של השעון( מול אסינכרוני )חיצוני(.
\end_layout

\begin_layout Itemize
מסיך )מלשון מסכה, אינטרפטים פחות חשובים( מול בלתי-מסיך )אינטרפטים קריטיים(.
\end_layout

\begin_layout Itemize
מחזורי )השעון( מול לא מחזורי )כל השאר(.
\end_layout

\begin_layout Standard
לא כל מה שה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 חייב לרוץ במצב קרנל וככל שיש לנו קרנל יותר קטן כך יש פחות תקורה אבל פחות
 אבטחה כי לא הכל נעשה במצב בטיחותי שבו הכל נבדק.
 אם הקרנל קטן בנוסף הוא יתפוס פחות מקום בזיכרון ואם משנים פ' מחוץ לקרנל,
 לא צריך להתקין את כל הקרנל מחדש אלא רק החלקים החיצוניים.
\end_layout

\begin_layout Standard
בעבר מעבדים היו 
\series bold
מונוליטיים
\series default
, כלומר הכל היה בקרנל.
 מעבדים יותר חדשים הם 
\series bold
מודולריים-מונוליטיים
\series default
, כלומר קרנל יחסית קטן וכשצריך סקריפט נוסף הוא נטען מספריה חיצונית.
 יש בנוסף 
\series bold
מיקרו-קרנל
\series default
 שמכיל את המינימום הנדרש ומשאיר את כל ניהול הקבצים וכו' לפ' שלא דורשות כניסה
 למצב קרנל.
 כך הבטיחות יורדת בהרבה )כל ארחי פרחי יכול לכתוב לקובץ(, אבל התקורה קטנה
 בהרבה.
 במקום שהכל יהיה בפנים, יש 
\begin_inset Quotes xld
\end_inset

סרברים
\begin_inset Quotes xrd
\end_inset

 שמשרתים את המטרות המקבילות למה שהיה קורה בתוך הקרנל )סרבר ניהול קבצים,
 סרבר תזמון תהליכים(.
 מיקרו-קרנל לא באמת שימושי במציאות והוא בעיקר מושא מחקר מעניין.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
יש פערים בסיבוכיויות של כל מיני פעולות בין מבני נתונים עיליים לבין איך ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עובדת.
 בשני קטעי הקוד הבאים לכאורה נדמה ששניהם בעלי סיבוכיות זהה, אך למעשה בגלל
 האופן שבו המעבד עושה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
cache
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לבלוקים של קוד אחרי שהשתמש בהם לראשונה, הגישה הראשונה תהיה מהירה הרבה יותר
 כי בגישה השנייה הוא כל פעם ניגש למערך אחר )מערך דו ממדי הוא מערך של מערכים
 רציפים(.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/os-complex.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
הדגמה של סיבוכיות לא טריוויאלית
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
גם בהשוואה בין וקטור לרשימה מקושרת יש פערים גדולים מאוד בסיבוכיות פרקטית
 כי הוקטור יטמין את המערך מוקדם מאוד בעוד ברשימה המקושרת צריך לעשות גישה
 לזיכרון כל פעם מחדש.
\end_layout

\begin_layout Standard
בנוסף, הסיבוכיות של איפוס ה-
\lang english
RAM
\lang hebrew
 הוא לינארי באורך ה-
\lang english
RAM
\lang hebrew
, שהוא אפקטיבית קבוע אך למעשה אינו.
\end_layout

\begin_layout Standard

\size larger
הגדרות
\end_layout

\begin_layout Enumerate

\bar under
תכנית
\bar default
 היא קובץ שניתן להריץ.
\end_layout

\begin_layout Enumerate

\bar under
תהליך
\bar default
 הוא הרצה של תכנית.
 
\bar under
תהליך פעיל
\bar default
 הוא התהליך שהמעבד כרגע מריץ.
\end_layout

\begin_layout Enumerate

\bar under
קלט/פלט
\bar default
 הוא אוסף ההתקנים, תכניות ופעולות שאמונות על העברת מידע מ- או לציוד פריפרלי.
\end_layout

\begin_layout Enumerate
ה
\bar under
גרעין
\bar default
 הוא יסוד מערכת ההפעלה ויש לו שליטה מלאה על כל מה שקורה במחשב.
 בקורס נשתמש ב
\begin_inset Quotes xrd
\end_inset

מערכת הפעלה
\begin_inset Quotes xrd
\end_inset

 ו
\begin_inset Quotes xrd
\end_inset

גרעין
\begin_inset Quotes xrd
\end_inset

 לסרוגין אפע
\begin_inset Quotes xrd
\end_inset

פ שהם שונים במציאות )גרעינים לא מונוליטים(.
 הגרעין הוא אמין וכל תוכנה שאינה הגרעין היא לא אמינה.
\end_layout

\begin_layout Standard
מה שלוקח הרבה זמן זה לעבור למצב קרנל ממצב משתמש ועושים את זה כאמור עם אינטראפט.
\end_layout

\begin_layout Standard
לכאורה כדי לבדוק האם התקן רוצה להעביר/לקבל מידע מהמחשב אפשר לעשות לולאה
 שבודקת את כל ההתקנים כל פעם אם הם רוצים משהו, אבל לשיטה זו שני חסרונות
 מרכזיים: זה בזבזני מבחינת סיבוכיות וזה גורם לאובדן מידע במקרה שהשעונים
 של המעבד וההתקן לא מסונכרנים.
 במקום זאת, נמנה את ההתקנים להודיע כשהם מסיימים משימה.
\end_layout

\begin_layout Standard
האינטראפטים מנוהלים על ידי ה-
\lang english
PIC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
-
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Programmable Interrupt Controller
\lang hebrew
, שמחובר מצד אחד להתקנים בחוטים יעודיים שמעבירים לו את אות ומצד שני למעבד
 בחוט שמעביר את המספר של ההתקן שהקפיץ את האינטראפט.
\end_layout

\begin_layout Standard
אינטראפט הוא למעשה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
APC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
-
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Asynchronous Procedure Call
\lang hebrew
, קריאה אסינכרונית לפרצודורה - שכן האינטראפט בלתי נשלט ע
\begin_inset Quotes xrd
\end_inset

י התכנית ולכן אסינכרוני.
 האינטראפט בלתי נראה לתכנית שהופסקה כי היא פשוט מפסיקה ו)אולי(חוזרת כשמסיימים
 לטפל באינטראפט.
\end_layout

\begin_layout Standard

\size larger
שלבי האינטראפט
\end_layout

\begin_layout Enumerate

\bar under
קבלת האינטראפט
\bar default
: מגיע אות חשמלי למעבד בסוף מחזור של המעבד ולכן לא נעצור פקודה של המעבד
 באמצע )חיבור לדוגמה(.
\end_layout

\begin_layout Enumerate

\bar under
שמירת המצב הנוכחי
\bar default
: נשמור את ה-
\lang english
PC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וכל האוגרים האחרים של התכנית שרצה עד עכשיו.
\end_layout

\begin_layout Enumerate

\bar under
העברת שליטה וסיפוק הבקשה
\bar default
: מעבד אטומי למצב קרנל וקריאה לפ' הרלוונטית מוקטור האינטראפטים.
\end_layout

\begin_layout Enumerate

\bar under
החזרת המצב הקודם
\bar default
: נחזיר את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 ושאר האוגרים.
\end_layout

\begin_layout Enumerate

\bar under
החזרת השליטה
\bar default
: חזרה למצב משתמש והחזרת התכנית המקורית.
\end_layout

\begin_layout Description
דוגמה נבצע סכימה, חיסור ופעולת 
\begin_inset Quotes xld
\end_inset

וגם
\begin_inset Quotes xrd
\end_inset

 ביטית ובאמצעי החיסור נזיז את העכבר, אז המעבד יסיים את החיסור קודם, יזיז
 את העכבר ויחזור ולעשות את פעולת ה
\begin_inset Quotes xrd
\end_inset

וגם
\begin_inset Quotes xrd
\end_inset

.
\end_layout

\begin_layout Standard
אחרי שמתקבל אינטראפט שגיאה, נותנים ל-
\lang english
handler
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לנסות 
\begin_inset Quotes xld
\end_inset

לפתור
\begin_inset Quotes xrd
\end_inset

 את הבעיה ואלא במקרה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
page fault
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא יהרוג את התהליך.
\end_layout

\begin_layout Description
דוגמה האינראפט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
int3
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא פקודה שעוצרת את פעולת התכנית ונותנת את השליטה לדיבאגר, זה למעשה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
breakpoint
\lang hebrew
.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{III
\backslash
;
\backslash
; תהליכים וחוטים}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{III}$
\end_inset

 | תהליכים וחוטים
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
הרצאה
\size default

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{תהליכים והקונטקסט שלהם}
\end_layout

\end_inset


\end_layout

\begin_layout Description
הגדרה תהליך הוא מופע של ריצת תכנית.
\end_layout

\begin_layout Standard
תכנית היא טקסט, ותהליך הוא אובייקט של ה-
\begin_inset Formula $\os$
\end_inset

 שעושה דברים.
 כשמריצים תכנית יוצרים תהליך שחי לאורך מהלך הריצה.
\end_layout

\begin_layout Standard

\size larger
איך תכנית הופכת לתהליך
\end_layout

\begin_layout Enumerate
כתיבת קוד המקור )פקודות ב-
\lang english
c
\lang hebrew
(.
\end_layout

\begin_layout Enumerate
קימפול קוד המקור ל-
\lang english
executable
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)פקודות לפי הארכיטקטורה של המעבד, לדוגמה 
\lang english
x86
\lang hebrew
(.
 ה-
\lang english
executable
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מכיל גם מידע שצריך לאתחיל מראש לפני תחילת התכנית.
\end_layout

\begin_layout Enumerate
טעינת תוכן הקובץ אל תוך הזיכרון.
\end_layout

\begin_layout Description
הערה נניח מעתה שיש לנו מספיק זיכרון לעשות מה שנרצה.
\end_layout

\begin_layout Standard

\size larger
חלקי מרחב הכתובות של התהליך
\end_layout

\begin_layout Standard
לכל תהליך יש חלק בזיכרון שלדעתו נראה רציף )אך אינו במציאות, נדון בכך בהמשך(
 שמורכב מארבעה חלקים.
\end_layout

\begin_layout Enumerate
טקסט - הפקודות של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
a.exe
\lang hebrew
.
\end_layout

\begin_layout Enumerate
מידע - נתונים סטטיים וערכים מאותחלים מ-
\lang english
a.exe
\lang hebrew
.
\end_layout

\begin_layout Enumerate
ערמה - כאן מוקצה זיכרון באופן דינמי )גודל לא קבוע(.
\end_layout

\begin_layout Enumerate
מחסנית - לניהול קריאות לפונקציות ומשתנים מקומיים )גודל לא קבוע(.
\end_layout

\begin_layout Standard
תכנית לא מגדירה חח
\begin_inset Quotes xrd
\end_inset

ע תהליך כי אפשר להריץ את אותה התכנית כמה פעמים בו זמנית, לדוגמה שרת שמקמפל
 כמה דברים בו בזמן שיריץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
gcc
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אבל ברור שאלו תהליכים שונים.
\end_layout

\begin_layout Standard

\size larger
מצבי תהליכים
\end_layout

\begin_layout Standard
אמנם תכנית רצה באופן רציף, נזכור כי מערכת ההפעלה עוברת כל הזמן בין התהליכים
 שרצים ולכן תהליכים לא תמיד רצים ויש להם מצבים אחרים.
\end_layout

\begin_layout Enumerate
רץ )
\lang english
running
\lang hebrew
( - זה מה שהמעבד מבצע כרגע.
\end_layout

\begin_layout Enumerate
מוכן )
\lang english
ready
\lang hebrew
( - יכול לרוץ אבל תהליך אחר רץ כרגע על המעבד.
\end_layout

\begin_layout Enumerate
חסום )
\lang english
blocked
\lang hebrew
( - לא יכול לרוץ כי הוא מחכה למשהו )לדוגמה התקן קלט/פלט(.
\end_layout

\begin_layout Standard
ברגע שתהליך נוצר, הוא נכנס לתור המוכנים )
\lang english
ready queue
\lang hebrew
( שמכיל את כל התהליכים שמוכנים להרצה, מתי שהוא מתחיל באמת לרוץ על המעבד
 עד שהוא צריך לחכות למשהו )שעון, דיסק(, מחכה לדבר הזה ואז חוזר לתור המוכנים
 וחוזר חלילה.
 אם הוא מסיים את התכנית שהוא רץ, סוגרים את התהליך והוא יוצא מהלולאה הזו
 )ראו הדגמה(.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/process-life-cycle-2.png
	lyxscale 30
	scale 25

\end_inset


\begin_inset Graphics
	filename img/process-life-cycle.png
	lyxscale 30
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
הדגמה של מחזור החיים של תהליך
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
כשמדילקים את המחשב מתחיל תהליך שמריץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
shell
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
GUI
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)במקרה של ווינדוס(.
 כשכותבים פקודה או לוחצים על אפליקציה בהתאמה, מתחיל תהליך חדש בהתאם למה
 שנבחר.
\end_layout

\begin_layout Description
הערה כל תהליך יכול לקרוא ל-
\lang english
Syscall
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שיתחיל תהליך חדש.
\end_layout

\begin_layout Standard
בזמן שהתהליך במצב רץ, מעדכנים באוגרים של המעבד את כתובות הזיכרון של התהליך
 בזיכרון המשתמש - בין היתר איפה מתחיל הזיכרון ומה גודלו, וכך יודע המעבד
 האם גישה לזיכרון היא חוקית או לא )רעיונית, במציאות זה קורה יותר מורכב(.
 בנוסף נשמר הפוינטר לראשית המחסנית של התהליך הנוכחי וה-
\lang english
PC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מופנה לפקודות של התהליך הספציפי.
\end_layout

\begin_layout Standard

\size larger
קונטקסט של תהליך
\end_layout

\begin_layout Standard
המכלול של המידע של התהליך נקרא ההקשר של ההרצה )
\lang english
Execution Context
\lang hebrew
( שנשמר בשלושה רבדים שונים.
\end_layout

\begin_layout Enumerate
בתוך המעבד: האוגרים שהתהליך משתמש בהם, לרבות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PC
\lang hebrew
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וגם אוגר המידע והכתובת וכיוצ
\begin_inset Quotes xrd
\end_inset

ב.
\end_layout

\begin_layout Enumerate
בזיכרון המשתמש: מרחב הכתובות של התהליך שהוזכר למעלה.
\end_layout

\begin_layout Enumerate
במערכת ההפעלה: מספר הזהות של התהליך, המצב שלו, המשתמש שמריץ אותו )כדי לדעת
 אילו הרשאות יש לו(, אילו קבצים פתוחים אצלו, מידע לניהול התהליך וכד'.
\end_layout

\begin_layout Standard
הקונטקסט הזה נשמר ב-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
במבנה נתונים מיוחד שנקרא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Process Control Block (PCB)
\lang hebrew
, ותור המוכנים ממומש כרשימה מקושרת בין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PCB
\lang hebrew
-ים.
\end_layout

\begin_layout Standard
ה-
\lang english
PCB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שומר גם את מצב האוגרים במעבד, גם מיקום מרחב הכתובות וגם את המידע של ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על התהליך.
\end_layout

\begin_layout Standard
תהליך יכול להסתיים בכמה דרכים: יציאה רגילה או יציאת שגיאה )לדוגמה אם קיבל
 פרמטר לא טוב( - יציאות יזומות; שגיאה קטלנית )לדוגמה חלוקה באפס( או הריגה
 שמגיעה מתהליך אחר )באמצעות אותות( - יציאות לא יזומות.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{
\backslash
!
\backslash
! Multiprocessing}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
\begin_inset Formula $ $
\end_inset


\lang english
Multiprocessing
\end_layout

\begin_layout Standard
לרוב במחשב ירוצו כמה תהליכים ביחד וה-
\begin_inset Formula $\os$
\end_inset

 צריך לדעת לנהל אותם, ובעיקר להמשיך את האשליה שכל תהליך רץ מטעם עצמו ולא
 מתחרה באף אחד )זיכרון נפרד לכל אחד, חלוקת זמנים בין התהליכים(.
\end_layout

\begin_layout Standard
כדי לעבור מהרצת תהליך אחד לאחר נצטרך לבצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Context Switching
\lang hebrew
, כלומר לשמור את מצב המעבד הנוכחי, של כל האוגרים שלו ב-
\lang english
PCB
\lang hebrew
, לעדכן את המידע ב-
\lang english
PCB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 של התהליך הקודם, להעביר את ה-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PCB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לתור הנכון )מוכן, מחכה(, לבחור תהליך חדש להריץ, לעדכן את ה-
\lang english
PCB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של התהליך החדש ולהחזיר את המצב הקודם של המעבד והזיכרון מה-
\lang english
PCB
\lang hebrew
.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/context-switch-example.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
הדגמה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Context Switching
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
מה צריך לשמור כשעוברים בין תהליכים? את הקונטקסט )איפה הוא מרחב הכתובות שלו
 וכו'( ואת האוגרים של המעבד אבל לא את הזיכרון של המשתמש כי הוא לא משתנה.
\end_layout

\begin_layout Standard

\size larger
מתי עושים קונטקסט סוויץ'?
\end_layout

\begin_layout Enumerate
אינטראפטים: אם נגמר ה-
\lang english
timeslice
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של התהליך או שהתקן חיצוני )שעון בשביל להריץ סרטון בתמונות עם הפרשי זמן קבועים(
 הופך תהליך עם חשיבות גבוהה למוכן.
\end_layout

\begin_layout Enumerate
שגיאת זיכרון: כתובת הגיעה לזיכרון וירטואלי וסיבות נוספות שבהן נדון בהמשך.
\end_layout

\begin_layout Enumerate
מתוך התהליך:
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Syscall
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שדורש המתנה.
\end_layout

\begin_layout Enumerate
שגיאה: כשקורת שגיאה והתהליך נהרג.
\end_layout

\begin_layout Standard
מי שקובע איזה תהליך עושה את זה הוא ה-
\lang english
CPU Scheduler
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שעליו נלמד בהמשך והוא משנה קונטקסט מאות פעמים בשנייה.
 מי שמבצע את ההעתקה של המידע בין ה-
\lang english
PCB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
למעבד וכו' הוא ה-
\lang english
Dispatcher
\lang hebrew
.
\end_layout

\begin_layout Standard

\size larger
תקשורת בין תהליכית
\end_layout

\begin_layout Standard
תהליכים צריכים להיות נפרדים אחד מהשני כדי להגן עליהם, אבל לפעמים נרצה תקשורת
 בין תהליכים.
 לשם כך ה-
\begin_inset Formula $\os$
\end_inset

 מספקת שירות שנקרא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Inter-Process Communication (IPC)
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שבאמצעות תקורה גבוהה מאוד ודרך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Syscalls
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מבצע את התקשורת הזו.
\end_layout

\begin_layout Standard
כדי לממש את ה-
\lang english
IPC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אפשר ליצור זיכרון משותף שיוכלו לגשת אליו כל התהליכים, או באמצעות 
\begin_inset Quotes xld
\end_inset

הודעות
\begin_inset Quotes xrd
\end_inset

 ביניהן )זהו ממשק ה-
\lang english
socket
\lang hebrew
-ים שמוכר מתקשורת אינטרנטית גם( או באמצעות קריאה וכתיבה מקובץ רגיל.
\end_layout

\begin_layout Standard
מימושי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
IPC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מחולקים לשתי קטגוריות - מבוססי זיכרון משותף ומבוססי הודעות.
 לא משנה איך ממשים את ה-
\lang english
IPC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
זה מוביל לבעיות סנכרון, כלומר האם התהליך קורא בזמן את התוכן שמועבר לו או
 שהוא בדיוק פיספס כי זה נדרס ע
\begin_inset Quotes xrd
\end_inset

י תוכן חדש וכו', וזה הנושא של השבוע הבא.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{חוטים}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
חוטים
\end_layout

\begin_layout Standard
חוט הוא מסלול ריצה בתוך התכנית.
 עד כה דיברנו על מצב בו לכל תהליך יש חוט שליטה יחיד שמתחיל ב-
\lang english
main
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ורץ בהתאם לפקודות.
 עם זאת, ב-
\lang english
multithreading
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לכל תהליך יכולים להיות כמה מסלולי ריצה שמבצעים חלקים שונים של הקוד בו זמנית.
 בניגוד לתהליכים, בין חוטים באותו התהליך אין הפרדות קונטקסט )למעשה ההבדל
 היחיד הוא אילו פקודות רצות(.
\end_layout

\begin_layout Description
דוגמה למה צריך חוטים שרצים בו זמנית? בדפדפן לדוגמה, נרצה להתממשק עם המשתמש,
 לטעון תמונות ולהוריד דפים מהאינטרנט כל זה בו זמנית.
 בדומה גם אפליקציה לכתיבת טקסט.
\end_layout

\begin_deeper
\begin_layout Standard
אם לא הייתה מקביליות, היינו נאלצים לעשות הכל אחד אחרי השני, כלומר ש-
\lang english
Word
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יחכה לתו ובנתיים לא יעשה שום דבר, ואז יעבד קצת ויחזור לחכות לתוים וככלל
 לא מאוד יעיל.
\end_layout

\begin_layout Standard
אם הייתה מקביליות ברמת התהליכים, כלומר כל תהליך היה אמון על משימה אחת הייתה
 לנו תקורה מאוד גבוה מבחינת ה-
\lang english
IPC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שחייב לקשר בין כל המשימות ויש חזרתיות של הזיכרון.
\end_layout

\begin_layout Standard
הפתרון הוא להשתמש בחוט לכל משימה שחולק זיכרון עם חוטים אחרים.
\end_layout

\end_deeper
\begin_layout Standard
תהליך הוא וירטואליזציה של המחשב )לדעתו הוא היחיד שקיים( ואילו חוט הוא וירטואליזצ
יה של המעבד )במחשב עם כמה מעבדים נוכל להריץ כמה דברים בו זמנית, במקרה הזה
 כמה חוטים באותו תהליך(.
\end_layout

\begin_layout Description
דוגמה במקרה של שרת, יהיה לנו חוט שמקשיב לפורט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
80
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לפי פרוטוקול
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
http
\lang hebrew
, שבכל פעם שיקלוט תקשורת מלקוח, יפתח חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Worker
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שיריץ פ' שתטפל בבקשה של הלקוח )יתממשק עם קבצים בשרת וכו'(.
 בזמן שהחוט העובד עושה את שלו החוט המקשיב יכול לקבל בקשות חדשות ולפתוח חוטים
 עובדים חדשים לכל לקוח חדש.
 כאן אחריותה של מערכת ההפעלה היא ליצור את החוטים, להחליף ביניהם בהרצתם,
 מנהל את התקשורת וכו'.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{חוטים ברמת הקרנל והמשתמש}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
רמות חוטים
\end_layout

\begin_layout Enumerate
חוטים ברמת הקרנל: במקרה כזה הקרנל מנהל ושומר מידע על התהליך והחוטים ואפשר
 לחסום חוט אחד ולא לחסום חוט אחר )חוט אחד מחכה לאינטרנט, אחר יכול לרוץ בנתיים(.
 החסרון של שיטה זו היא התקורה שנוצרת במעבר בין חוטים, שדורש את הקרנל.
\end_layout

\begin_deeper
\begin_layout Standard
אין להתבלבל בין 
\series bold
חוטי קרנל
\series default
, חוטים שתפקידם ניהול מערכת ההפעלה ו
\series bold
חוטים ברמת הקרנל
\series default
, שבסה
\begin_inset Quotes xrd
\end_inset

כ מנוהלים ע
\begin_inset Quotes xrd
\end_inset

י הקרנל אבל רצים במצב משתמש ותפקידם לנהל את האפליקציה.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/signle-proc-pcb.png
	lyxscale 30
	scale 40

\end_inset


\begin_inset Graphics
	filename img/multi-thread-pcb.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ניהול תהליך במערכת עם תהליך אחד )ימין( מרובת חוטים בשיטת רמת הקרנל )שמאל(
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
חוטים ברמת המשתמש: במקום שהחוטים ינוהלו ע
\begin_inset Quotes xrd
\end_inset

י הקרנל, נממש חוטים עם ספריות במצב משתמש והקרנל יחשוב שרץ רק חוט בכל פעם
 והספריה תדמה קפיצה בין חוטים ותקטין את התקורה שקיימת במעבר בין חוטים ברמת
 הקרנל.
 החסרון של שיטה זו הוא שאם קוראים ל-
\lang english
Syscall
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמקפיא את החוט, הוא מקפיא גם את כל שאר החוטים כי לדעת הקרנל יש רק חוט אחד
 ואז אי אפשר לעבור להריץ אחד אחר.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה פייתון עובד עם חוטים ברמת המשתמש, בשל מנגנון ה-
\lang english
GIL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמגביל תהליך שמריץ תכנית פייתון לחוט אחד בכל רגע נתון.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/multi-thread-pcb-2.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ניהול תהליך במערכת מערכת מרובת חוטים בשיטת רמת המשתמש
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Description
הערה במערכות מרובות חוטים )כל מחשב כיום( על ה-
\lang english
CPU
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 חוט אחד בכל פעם, במקום תהליך אחד.
 עם זאת, יכול להיות יותר ממעבד אחד במחשב )ואז אפשר להריץ כמה חוטים בו זמנית(.
\end_layout

\begin_deeper
\begin_layout Standard
מערכת ההפעלה בוחרת הן איזה תהליך להריץ והן איזה חוט להריץ בתוך התהליך ההוא
 )תבחר בין חוטים ברמת הקרנל בלבד(.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
יתרונות של חוטים
\end_layout

\begin_layout Enumerate
הרבה יותר מהיר לייצר חוט חדש מאשר תהליך חדש.
\end_layout

\begin_layout Enumerate
הרבה יותר מהיר לסיים חוט מאשר תהליך.
\end_layout

\begin_layout Enumerate
הרבה יותר מהיר לעבור בין קונטקסטים של חוטים בתוך תהליך מאשר בין תהליכים.
\end_layout

\begin_layout Enumerate
תקשורת בין חוטים היא פשוטה עם שיתוף הזיכרון ולא דורשת כניסה למצב קרנל ושימוש
 ב-
\lang english
IPC
\lang hebrew
.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/proc-thread-table.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
סיכום של הבדלים בין תהליכים, חוטי קרנל וחוטי משתמש
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
סקרנו מחדש אינטראפטים, כשהדבר החדש היחיד הוא להסתכל על אינטראפט כהודעה ל-
\begin_inset Formula $\os$
\end_inset

 שהיא צריכה לתפוס שליטה ולפעול בתגובה לאירוע כלשהו.
\end_layout

\begin_layout Description
הגדרה אותות הם התראות לתהליך שקרה אירוע חשוב.
\end_layout

\begin_layout Standard
אותות גורמים לתהליכים לעצור את מה שהם עושים )לאחר סיום מחזור המעבד( ומחייבים
 אותם להתמודד עם האירוע מיד.
 כל תהליך יכול לקבוע איך הוא מתנהל בקבלת אות.
\end_layout

\begin_layout Standard
אות נוצר ע
\begin_inset Quotes xrd
\end_inset

י מערכת ההפעלה ונשלח לניהול אצל התהליך, בעוד אינטראפט נוצר ע
\begin_inset Quotes xrd
\end_inset

י חומרה/תוכנה ונשלח לניהול אצל ה-
\begin_inset Formula $\os$
\end_inset

.
\end_layout

\begin_layout Description
הערה אותות ביוניקס מסומנים ע
\begin_inset Quotes xrd
\end_inset

י מספרים ויש להם שמות.
\end_layout

\begin_layout Standard

\size larger
מה גורם לאות?
\end_layout

\begin_layout Enumerate
קלט אסינכרוני מהמשתמש, לדוגמה 
\lang english
Crtl+C
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ב-
\lang english
shell
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שגורם לאות סיום ריצה של תהליך.
\end_layout

\begin_layout Enumerate
תהליכים אחרים וה-
\begin_inset Formula $\os$
\end_inset

, לדוגמה אם נגמר טיימר שהתהליך התחיל.
\end_layout

\begin_layout Enumerate
אינטראפט תוכנה, לדוגמה כזה שנגרם לאחר הרצת פקודה לא חוקית.
 במקרה כזה, ההרצה תיצור אינטראפט תוכנה, הוא יגיע ל-
\begin_inset Formula $\os$
\end_inset

, והיא תעביר אל התהליך כאות את המידע על ההרצה הלא חוקית.
\end_layout

\begin_layout Description
דוגמה העברת אותות באמצעות המקלדת.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Ctrl+C
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 הורג את התהליך, 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Ctrl+Z
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
משהה את התהליך,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Ctrl+/
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שומר את מצב התהליך בקובץ.
\end_layout

\begin_layout Description
דוגמה העברת אותות ב-
\lang english
command line
\lang hebrew
.
 פקודת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
kill
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 עם מספר התהליך הורג את התהליך, פקודה 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
fg
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם מספר התהליך הורג תהליך מושהה.
\end_layout

\begin_layout Description
דוגמה יש פ' ספריה,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
kill
\lang hebrew
, שבאמצעותה אפשר לשלוח אותות לתהליכים אחרים.
\end_layout

\begin_layout Description
הערה יש אותות לשימוש כללי של אפליקציות, תחת השמות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SIGUSR1/2
\lang hebrew
.
\end_layout

\begin_layout Description
הערה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
strace
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עוקב גם אחרי אותות, לא רק פקודות.
\end_layout

\begin_layout Standard

\size larger
דרכי טיפול באותות
\end_layout

\begin_layout Enumerate
התנהגות ברירת מחדל: התהליך יכול להסתיים, להתעלם, להשהות את עצמו או להמשיך
 הלאה.
\end_layout

\begin_layout Enumerate
התנהגות מותאמת: ניתן להגדיר התנהגות יעודית באמצעות פ' הספריה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sigaction
\lang hebrew
.
\end_layout

\begin_layout Standard
ישנם כמה תהליכים שאי אפשר להתאים את הטיפול בהם, לדוגמה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
KILL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
STOP
\lang hebrew
.
\end_layout

\begin_layout Description
הערה אם לא מתאימים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
handlers
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מיוחדים לאותות, המערכת תשתמש ב-
\lang english
handlers
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ברירת מחדל.
\end_layout

\begin_layout Standard

\size larger
\begin_inset Formula $\,$
\end_inset


\lang english
Handler
\lang hebrew
-ים מוגדרים מראש
\end_layout

\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
SIG_IGN
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 - מתעלם מהאות.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
SIG_DFL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 - מריץ את ההנדלר הדיפולטיבי.
\end_layout

\begin_layout Description
הערה לכל אות יש הנדלר שמתאים לו.
\end_layout

\begin_layout Standard
אם אנחנו מבצעים משהו חשוב בתהליך )מחיקת קבצים לדוגמה(, נוכל לעשות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
masking
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לאותות כדי לסיים את מה שאנחנו עושים עכשיו ואז לעסוק באות החדש.
 לחלופין, אם אנחנו מטפלים באות כרגע ומקבלים אות חדש, נוכל להגיד לאחד מהם
 לחכות עד שנסיים עם האחר.
 כדי להכריז אילו אותות אנחנו חוסמים, משתמשים בפ' הספריה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sigprocmask
\lang hebrew
.
\end_layout

\begin_layout Description
\begin_inset Formula $ $
\end_inset


\lang english
sigprocmask
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מקבל שלושה פרמטרים: מה הפעולה שאנחנו מבצעים כרגע )הוספת אותות לרשימת החסומים,
 הסרה(; רשימת האותות שאנחנו מוסיפים/מסירים; ופוינטר לשמירת רשימת האותות
 החסומים הישנה.
\end_layout

\begin_layout Description
\begin_inset Formula $ $
\end_inset


\lang english
sigaction
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מקבלת שלושה פרמטרים: מספר האות; מה ה-
\lang english
action
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
החדש שמותאם לאות )
\lang english
handler
\lang hebrew
, אותות שהוא מתעלם מהם ודגלים אחרים(; ופוינטר לשמירת ה-
\lang english
action
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הקודם.
\end_layout

\begin_layout Standard
מסכת האותות חלה רק במהלך שה-
\lang english
handler
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הנוכחי מותקן.
\end_layout

\begin_layout Description
דוגמה נרצה כשאנחנו מקבלים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SIGINT
\lang hebrew
, מ-
\lang english
Ctrl+C
\lang hebrew
, להדפיס הודעה למסך.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/sigaction-output.png
	lyxscale 30
	scale 80

\end_inset


\begin_inset Graphics
	filename img/sigaction.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קטע קוד שמגדיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
handler
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לאות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SIGINT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)מימין( והרצה שלו )מימין(
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
הלולאה בסוף מחכה כל הזמן לאותות לפעול עליהם.
\end_layout

\end_deeper
\begin_layout Standard
סקרנו מחדש תהליכים,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PCB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והחלפה ביניהם.
\end_layout

\begin_layout Standard
אף על פי שלחוטים יש זיכרון משותף והרבה משאבים אחרים משותפים עם חוטים אחרים
 בתהליך, יש להם עדיין מחסנית ואוגרים משל עצמם, לרבות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PC
\lang hebrew
, שכן אלו נדרשים לריצה עצמאית של קוד.
\end_layout

\begin_layout Standard

\size larger
חוטים ברמת המשתמש
\end_layout

\begin_layout Standard
ממומשים ע
\begin_inset Quotes xrd
\end_inset

י ספריה שאחראית על התחלתם, סיומם וכיוצ
\begin_inset Quotes xrd
\end_inset

ב.
 יתרון שלא הזכרנו של חוטים ברמת המשתמש הוא שאופן התזמון של החוטים הוא תלוי
 אימפלמנטציה ואפשר להתאים אותו לצרכינו.
 העובדה שרק חוט אחד רץ בכל רגע נתון ולכן רק חוט אחד יכול לגשת למשאב משותף,
 מייתרת את חלק ממנגנוני הסינכרון שצריך כשיש יותר מחוט אחד )בשבועות הקרובים
 נעסוק בכך(.
\end_layout

\begin_layout Standard
בספריה שומרים לכל חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
thrread descriptor
\lang hebrew
, שמתארת את החוט, המידע שצריך על הקונטקסט שלו וכו'.
 במימוש ברמת המשתמש יש בתוך החוט )הקרנלי( תור מוכנים של חוטים.
\end_layout

\begin_layout Standard
כדי לממש ספריה כזו צריך לממש החלפה בין חוטים, כלומר, עצירת פעולת החוט הנוכחי,
 שמירת מצבו וקפיצה לאחר.
 את זה עושים עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sigsetjmp
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)שומר את המצב הנוכחי( וכן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
siglongjmp
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)משחזר מצב מזיכרון(.
\end_layout

\begin_layout Description
\begin_inset Formula $ $
\end_inset


\lang english
sigsetjmp
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מקבל שני פרמטרים: המיקום אליו שומרים את קונטקסט המחסנית )מיקומה, גודלה(
 ומצב המעבד; ופרמטר שקובע האם שומרים את מסכת האותות או לא.
 לאחר מכן נשחזר את המידע האגור הזה באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
siglongjmp
\lang hebrew
.
\end_layout

\begin_layout Standard
ערך ההחזרה שלו הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם הוא חוזר מיד או ערך שמוגדר ע
\begin_inset Quotes xrd
\end_inset

י המשתמש אם עכשיו הגענו מ-
\lang english
siglongjmp
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)כלומר שיחזרנו הכל והמשכנו להריץ מאיפה שעצרנו(.
\end_layout

\begin_layout Standard
הפ' שומרת את את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PC
\lang hebrew
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SP
\lang hebrew
, את מסכת האותות בהתאם לפרמטר כאמור ואת מצב המעבד, אך לא שומרת משתנים גלובליים
 )הם לא משתנים(, משתנים מוקצים דינמית )הם גם לא הולכים לשום מקום כי הם בערימה
 שהיא משותפת( וגם לא ערכים של ערכים מקומיים כי אלו שמורים במחסנית.
\end_layout

\begin_layout Description
\begin_inset Formula $ $
\end_inset


\lang english
siglongjmp
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מקבל שני פרמטרים: המיקום בו שמורים הקונטקסט של החוט; והערך שמוחזר ל-
\lang english
sigsetjmp
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כאמור, שהוא יחזיר בעצמו גם.
\end_layout

\begin_layout Description
דוגמה בדוגמה הבאה מופיעים שני קטעי קוד זהים, כאשר אנחנו מתחילים את הריצה
 מהחוט הראשון.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
env
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא מערך שמגדיר את הקונטקסטים של החוטים בהתאמה.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/sigsetjmp-example.png
	lyxscale 30
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
הדגמה של שימוש בפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sigsetjmp
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
siglongjmp
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
מה שקורה בריצה הוא כזה: מתחילים מחוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
, מגיעים ל-
\lang english
sigsetjmp
\lang hebrew
, שומרים את המצב הנוכחי עם מסכת האותות כי יש ערך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, לא נכנסים ל-
\lang english
if
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי ערך ההחזרה הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
, ואז עוברים קונטקסט לחוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, בהתסמך על המידע שנשמר מלפני על חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
\end_layout

\begin_layout Standard
לאחר מכן, שומרים את המצב הנוכחי של חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם מסכת אותות, לא נכנסים ל-
\lang english
if
\lang hebrew
, ואז עוברים לקונטקסט של חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
, שנשמר פעם אחרונה מתוך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sigsetjmp
\lang hebrew
, כאשר ערך ההחזרה הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 כפי שניתן לנו מ-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
siglongjmp
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי עכשיו יצאנו מ-
\lang english
sigsetjmp
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כזכור.
 הפעם כן ניכנס ל-
\lang english
if
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ונסיים את הריצה.
 החצים מסבירים מה קורה אולי יותר טוב מטקסט.
\end_layout

\end_deeper
\begin_layout Description
דוגמה נעשה שאלה ממבחן דומה לדוגמה הקודמת.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/exam-q1.png
	lyxscale 30
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קוד המקור של השאלה מהמבחן
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
התשובה היא ג',
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
, כי ערך ההחזרה מה-
\lang english
sigsetjmp
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 בהתחלה הוא 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי יצאנו ישירות ולא חזרנו דרך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
siglongjmp
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן נצא מיד מהריצה, לפני כל הדפסה שהיא.
 
\end_layout

\end_deeper
\begin_layout Standard
לקרנל יש טבלת חוטים )
\lang english
TCB
\lang hebrew
( שבה הוא עוקב אחרי כל החוטים )ברמת הקרנל(, גם כדי להריץ את אלג' התזמון.
 בעיקרון כל עוד תהליך כלשהו קיבל זמן מעבד, הקרנל יחליף רק בין חוטים ברמת
 הקרנל ששייכים לתהליך הזה, כלומר למעשה חוטים מתהליכים שונים אינם מצויים
 בתחרות אחד עם השני אף פעם.
\end_layout

\begin_layout Standard
מתי נשתמש ברמת הקרנל ומתי ברמת המשתמש? ככלל אם התכנית היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPU-bound
\lang hebrew
, כלומר עושה הרבה פעולות אבל פעולות שונות, עדיף להשתמש בחוטים ברמת המשתמש
 כי אין בעיה של חסימה מהתקנים חציוניים, לעומת זאת אם התכנית היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
I/O-bound
\lang hebrew
, כלומר תלויה הרבה בהתקנים חיצוניים, עדיף להשתמש בחוטים ברמת הקרנל.
\end_layout

\begin_layout Standard
בתרגיל נממש מחלקה לניהול חוטים ברמת המשתמש, כאשר לכל חוט יהיו שלושה מצבים
 אפשריים: רץ, מוכן וחסום, כאשר התזמון שלנו יהיה הבסיסי ביותר, כלומר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
queue
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קלאסי כך שחוט ירוץ רק לאחר שכל החוטים שהיו מוכנים לפניו רצים.
 נעצור את הריצה של החוט לאחר תקופת זמן קבועה )קוואנטום( אם הוא לא יחסום
 את עצמו קודם.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{IV
\backslash
;
\backslash
; סנכרון}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{IV}$
\end_inset

 | סנכרון
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
בתקשורת בין תהליכים שונים, אם בוחרים להשתמש במשאב כלשהו משותף, נוצרים בעיות
 של סנכרון.
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{link30}{}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{דוגמאות לבעיות סינכרון}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
דוגמאות לבעיות סינכרון
\end_layout

\begin_layout Description
דוגמה ספולר של מדפסת.
 המעבד בתוך המדפסת שומר מערך עם ג'ובים שהוא צריך לעשות, וכל פעם שפרוסס רוצה
 להדפיס משהו כל מה שהוא צריך לעשות זה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Spooler[IN] = job
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
IN++
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\lang english
IN
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מצביע לראש התור( כלומר אנחנו מדמים כאן תור עבודה.
\end_layout

\begin_deeper
\begin_layout Standard
אם תהליך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מבצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Spooler[IN] = job1
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וכן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
IN++
\lang hebrew
.
 לאחר מכן עושים קונטקסט סוויץ', תהליך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עושה את אותו הדבר רק עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
job2
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אז הכל טוב ויפה.
\end_layout

\begin_layout Standard
לחלופין, ייתכן כי תהליך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יבצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Spooler[IN] = job1
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז יקרה קונטקסט סוויץ' )שהוא לא שולט מתי הוא יקרה(, תהליך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יעשה בעצמו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Spooler[IN] = job2
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
job1
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מעולם לא יודפס.
 לאחר מכן עושים שוב קונטקסט סוויץ', תהליך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מעלה את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
IN
\lang hebrew
, שוב קונטקסט סוויץ' ופרוסס
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מעלה את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
IN
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ומסיימים.
\end_layout

\begin_layout Standard
קרו כאן שני דברים רעים:
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
job1
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נמחק ונוצר לנו רווח מיותר.
 הספולר יחכה שהערך האחרון
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שהינו 
\lang english
null
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בבאפר שלו יהפוך ל-לא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
null
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז ימשיך לרוץ, הבעיה עכשיו היא שהרווח הזה, שהוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
null
\lang hebrew
, מעולם לא ישתנה כי אנחנו שמים עבודות רק בהמשך.
 כלומר הרסנו לגמרי את הספולר.
\end_layout

\end_deeper
\begin_layout Standard
הבעיה הזו לא יחודית לתהליכים, היא קורת גם בין חוטים.
\end_layout

\begin_layout Description
דוגמה נניח שיש לנו כמה חוטים עם משתנה גלובלי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
IN
\lang hebrew
.
 בכתיבת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
IN++
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ב-
\lang english
C
\lang hebrew
, נקבל באסמבלי שלוש פקודות שונות: קריאה מהזיכרון, אינקרמנט ברגיסטר וכתיבה
 לזיכרון )ראו קוד(.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/assembly-inc.png
	lyxscale 30
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קוד אסמבלי של אינקרמנטציית ערך בכתובת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
100
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
העובדה שזה מופרד גורמת לכך שניתן לבצע קונטקסט סוויץ' בין הפעולות.
 יכול להיות שהכל יעבוד כרצוי )קרי הקונטקסט סוויץ' יקרה לאחר סדרת הפעולות(
 אבל יכול להיות שגם לא, לדוגמה שיקרה הדבר הבא:
\end_layout

\begin_layout Itemize
חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
: קורא מהזיכרון.
\end_layout

\begin_layout Itemize
חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
: אינקרמנט.
\end_layout

\begin_deeper
\begin_layout Standard
קונטקסט סוויץ' )הרגיסטרים משתנים(.
\end_layout

\end_deeper
\begin_layout Itemize
חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
: קורא מהזיכרון
\end_layout

\begin_layout Itemize
חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
: אינקרמנט.
\end_layout

\begin_layout Itemize
חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
: כתיבה לזיכרון
\end_layout

\begin_deeper
\begin_layout Standard
קונטקסט סוויץ'
\end_layout

\end_deeper
\begin_layout Itemize
חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
: כותב לזיכרון.
\end_layout

\begin_layout Standard
וכך הגענו בסופו של דבר למצב ש-
\lang english
IN
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עלה רק באחד, לא ב-
\numeric on
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כפי שרצינו - שזה חמור!
\end_layout

\end_deeper
\begin_layout Description
הערה באגים בסגנון הזה לא תמיד קורים ולכן קשה לעלות עליהם באמצעות הרצת טסטים
 )יכול להיות ש-
\numeric on
1000
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
פעמים הכל היה בסדר אבל אז ב-
\numeric on
1001
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הכל קורס אל תוך עצמו(.
\end_layout

\begin_layout Standard
הפתרון לבעיה כזו הוא סינכרוניזציה, ונובע ממצב מציאותי )הניחו כן כי כל שורה
 באה אחרי קודמותיה(.
\end_layout

\begin_layout Description
דוגמה
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="10" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
השותפה שלי
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אני
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
חוזר הביתה
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
מסתכל במקרר ורואה שאין חלב
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
הולך למכולת
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
חוזרת הביתה
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
מסתכלת במקרר ורואה שאין חלב
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
מגיע למכולת
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
הולכת למכולת
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
קונה חלב
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
מגיע הביתה ושם את החלב במקרר
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
קונה חלב
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
מגיעה הביתה ומגלה שיש יותר מדי חלב
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
הדגמה של בעיית סינכרון במציאות
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center

\end_layout

\end_inset


\end_layout

\begin_layout Standard
הפתרון כאן הוא לדוגמה לשים פתק במקרר ולהתריע שהלכתי לקנות חלב כך שהשותפה
 לא תצטרך לעשות כן.
 חשוב בנוסף להסיר את הפתק בסוף כדי שלא יחשבו שמישהו קונה חלב כשנגמר כשזה
 לא המצב.
 העיקרון הזה ינחה אותנו גם בסינכרון תהליכים.
\end_layout

\end_deeper
\begin_layout Standard
הבעיה היא שיש 
\series bold
גישה לא מתואמת
\series default
 למשאב משותף )זיכרון, התקן חיצוני וכו'(, לא משנה אם זה חוטים, תהליכים או
 אם הם רצים במקביל או לא.
\end_layout

\begin_layout Standard

\series bold
החלק הקריטי בהתנגשות
\series default
 הוא הגישה לזיכרון המשותף )כל שאר הפעולות הלואקליות לא מעניינות(.
 קטע הקוד הקריטי יכול להיות קצר מאוד )אינקרמנט( או מאוד ארוך.
 כדי שהכל יעבוד תקין, נדרוש שלכל היותר חוט אחד מריץ קטע קוד קריטי.
\end_layout

\begin_layout Standard
הפתרון הוא אלג' מניעה הדדית )
\lang english
Mutual Exclusion
\lang hebrew
( שמונע ריצה במקביל של קטעי קוד קריטיים.
\end_layout

\begin_layout Description
הערה יש בעיות סינכרון שאינן קשורות למניעה הדדית, לדוגמה קוד שדורש שקוד אחר
 יסיים לפניו - זו בעיית קורדינציה.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{המודל של Djikstra ודרישות לאלג' מניעה
 הדדית}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
המודל של
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Djikstra
\end_layout

\begin_layout Standard
כדי לפתור בעיה זו פורמלית, דייקסטרה יצר מודל מופשט של קטע קוד שמשתתף בגישה
 למשאב משותף.
 באיור, רואים את קוד ה-
\lang english
Remainder
\lang hebrew
, שהוא לא מעניין ועוסק בקוד לוקאלי שלא רלוונטי לבעיה.
 לפני ואחרי החלק הקריטי, יש שני קטעי קוד - 
\series bold
הכניסה
\series default
, שיכול לקחת הרבה זמן )לכן יש לו לולאה סביב עצמו( לדוגמה כשהוא מחכה לחוטים
 אחרים, או להיות מאוד מהיר ו
\series bold
קטע היציאה
\series default
 שרץ ואז חוזר לקוד 
\begin_inset Quotes xld
\end_inset

לא מעניין
\begin_inset Quotes xrd
\end_inset

.
 האופן שבו החצים מכוונים מאפשר לקטע הקוד הקריטי לרוץ פעם אחת, אף פעם, הרבה
 פעמים ושלפניו ואחריו יקרו כל מיני דברים - כמה שיותר גנרי.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/djikstra-model.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
המודל של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Djikstra
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לבעיית המניעה ההדדית
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
דרישות לאלג' מניעה הדדית
\end_layout

\begin_layout Standard
המשימה שלנו היא לכתוב את קטעי הקוד של הכניסה והיציאה כך שהכל יעבוד כמו שצריך.
 לשם כך יש כמה תכונות נדרשות:
\end_layout

\begin_layout Enumerate
מניעה הדדית: בכל רגע נתון רק תהליך אחד מריץ את החלק הקריטי שלו )חוקיות הקוד(.
\end_layout

\begin_layout Enumerate
התקדמות: כל תהליך שמנסה להגיע לקטע קוד קריטי בשלב כלשהו יגיע אליו הוא או
 תהליך אחר )לא נוכל למנוע מכולם לגשת למשאב פשוט(.
\end_layout

\begin_layout Enumerate
היעדר מרעב: אם תהליך מנסה להגיע לחלק קריטי, הוא מתישהו יגיע אליו )לא יעקפו
 אותו(.
\end_layout

\begin_layout Enumerate
כלליות: אין הנחות על המהירות או מספר התהליכים שרוצים להריץ את קטע הקוד הקריטי.
\end_layout

\begin_layout Enumerate
איסור חסימה ב-
\lang english
Remainder
\lang hebrew
: אף תהליך לא יכול לחסום אף אחד אחר מחוץ לקטע הקוד הקריטי.
\end_layout

\begin_layout Description
הערה אם קטע קוד הקריטי זורק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Exception
\lang hebrew
 אז קטע היציאה יטפל בו ולא יחסום אחרים.
\end_layout

\begin_layout Description
הערה יש כאן הנחה סמויה שתהליך לא נגמר באמצע קטע הקוד הקריטי ורץ לפרק זמן
 סופי.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{פתרונות למניעה הדדית}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
פתרונות למניעה הדדית
\end_layout

\begin_layout Enumerate
קטע הכניסה חוסם את כל האינטרפטים וקטע היציאה מחזיר אותם.
 תנאי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתקיים כי אף אחד לא יכול להתערב,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתקיים בבירור,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתקיים כי מריצים אותם לפי הסדר ו-
\numeric on
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתקיים כי הרימיינדר בסדר גמור.
\end_layout

\begin_deeper
\begin_layout Standard
עם זאת,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא מתקיים כי הוא לא מתייחס למצב שבו יש לנו כמה ליבות.
 עם זאת, באופן יותר פרקטי, מי שמממש את האלג' הזה הוא המשתמש ומשתמש לא יכול
 לחסום אינטראפטים.
 גם אם מערכת ההפעלה עושה את זה היא צריכה לעשות את זה לפרק זמן מאוד קצר )לדוגמה
 בעת טיפול באינטראפט אחר כזכור( ולא לפרקי זמן ארוכים כאלה.
 מיסוך אינטראפטים כזה מקפיא את המערכת לגמרי לפרק זמן לא ידוע.
 
\end_layout

\end_deeper
\begin_layout Enumerate
נגדיר משתנה גלובלי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
turn
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בגודל ביט אחד שאי אפשר לגעת בו אלא בקטעי קוד הכניסה והיציאה.
 ונגדיר את קטעי הכניסה והיציאה באופן הבא:
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/mutex-1.png
	lyxscale 30
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קטעי הכניסה והיציאה עם משתנה גלובלי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
turn
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
כלומר, חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מחכה עד ש-
\lang english
turn
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
, כלומר הגיע התור שלו, מריץ את הקטע הקריטי ומעביר את התור לחוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
 חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עושה פעולה דומה וככה הם מעבירים ביניהם את התור.
\end_layout

\begin_layout Standard
מניעה הדדית מתקיימת כי נחכה עד שיהיה תורנו.
 איסור החסימה ברימיינדר לא מתקיים כי אם חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קיבל את תורו אבל אף פעם לא נכנס לקטע קוד קריטי אז חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נחסם לתמיד.
 לכן גם התקדמות וגם היעדר רעב לא מתקיימים.
\end_layout

\end_deeper
\begin_layout Enumerate
נגדיר שני משתנים חדשים:
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
flag[0]
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
flag[1]
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 שהם הדגלים של חוט 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהתאמה.
 אם אנחנו רוצים להריץ את קטע הקוד הקריטי, נעלה את הדגל שלנו ונחכה שהחוט
 האחר יסיים.
 כך נתריע שאנחנו רוצים לגשת ולא נצטרך לחכות שמתישהו יזכרו בנו )ראו איור(.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/mutex-2.png
	lyxscale 30
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קטעי הכניסה והיציאה עם דגלים
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
מניעה הדדית מתקיימת, אין חסימה ברימיינדר אבל אין התקדמות ולכן גם לא היעדר
 הרעבה.
 לדוגמה, אם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מרים את הדגל, עושה קונטקסט סוויץ' ואז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מרים את הדגל אז אף אחד מהם אף פעם לא יגיע לקטע הקריטי.
 מצב כזה נקרא דד-לוק, כי שני החוטים מחכים אחד לשני.
 זה דומה לצומת לא פנוי )ראו איור(.
 הפתרון בצמתים הוא רמזורים.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/deadlock-car.png
	lyxscale 30
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
הדגמה של דד-לוק
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
ננסה לטפל בבעיה הזו בדרך הבא: נוסיף חזרה את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
turn
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 באופן הבא
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
 )
\begin_inset Formula $i$
\end_inset

 מכליל לנו את שני המקרים(: בכל פעם שמגיעים לקטע הכניסה, נרים את הדגל שאנחנו
 רוצים להגיע לחלק הקריטי, ניתן לאחר את התור ונחכה שיגיע תורנו וגם שהחוט
 האחר לא ירים את הדגל שלו, ואז ניכנס.
 בסוף נוריד את הדגל שלנו.
 למעשה אנחנו קודם פותחים את הדלת לאחר, מציעים לו להיכנס, בהתאם להחלטה שלו
 בסופו של דבר ניכנס גם אנחנו )אם הוא רוצה להיכנס נחכה לו ואם הוא לא רוצה
 נרוץ בעצמנו(.
 לא נגיע לחילופים אינסופיים )הסטודנטית המשקיעה תריץ מקרה בו יש קונטקסט סוויץ'
 באמצע ותגלה שזהו אכן המצב(.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/petersons.png
	lyxscale 30
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
האלג' של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Peterson
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
הפתרון הזה הוא מאוד אלגנטי ולמעשה מספק את כל חמשת התנאים.
\end_layout

\begin_layout Standard
הבעיה איתו היא שהלולאה בא אנחנו מחכים לתהליך האחר היא מיותרת ומבזבזת את
 משאבי המעבד כי המתזמן לא יודע שהתהליך מבזבז כוח חישוב.
 הבעיה השנייה היא שאי אפשר להרחיב אותו ליותר משני חוטים.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
קונספטים בתזמון
\end_layout

\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
Race Condition
\lang hebrew
: מצב שבו בהינתן סדר אחר של תזמון היינו מקבלים תוצאה אחרת, קשה מאוד לעלות
 על מצבים כאלה.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
Atomic Instruction
\lang hebrew
: פעולה שמבצעים בלי שיכול לקרות קונטקסט סוויץ' במהלכה.
 אינקרמנט של משתנה זה לא כמו שראינו אבל כתיבה לזיכרון כן.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
Busy Waiting
\lang hebrew
: בדיקה חזרתית של תנאי ובזבוז משאבים באותו הזמן.
 הפתרון לדבר זה הוא לחכות לאינטראפט שמספר לי שהתנאי חדל מלהתקיים ועד אז
 לא לרוץ בכלל.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{אלג' המאפייה של למפורט}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
נסיונות לאלגוריתם המאפייה של למפורט
\end_layout

\begin_layout Standard
נניח שאנחנו במאפייה שבה כל אחד לוקח מספר ומחכה בתור )לא בישראל(.
 קטע הכניסה הוא לקחת מספר ולחכות עד שיגיע תורנו וקטע היציאה הוא לעדכן את
 המספר הבא בתור על המסך.
 האלג' עובד באופן אינטואיטיבי יחסית, רק שהבעיה כאן היא שלקיחת מספר אינה
 אטומית ואז אין מניעה הדדית.
 ננסה לממש אותו עם שינויים כדי שיעבוד.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/bakery-1.png
	lyxscale 30
	scale 35

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
מימוש ראשון של אלג' המאפייה
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
בוחרים את הערך הראשון אחרי כולם ואז בודקים לכל חוט אחר שונה מאיתנו שמחכה
 בתור שהוא לא לפנינו, ורק כשכולם לא לפנינו נכנסים.
 אנחנו כאן סומכים על זה שמי שיקח מספר אחרינו )כלומר הוא סיים את תורו ואולי
 חוזר חזרה לתור( הוא בטוח אחרינו ולא צריך לבדוק אותו שוב.
\end_layout

\begin_layout Enumerate
אם היינו משנים את האי-שוויון להיות חלש, כלומר נחכה שכל אלה עם מספרים כמונו
 ילכו לפנינו נקבל בבירור דד-לוק.
\end_layout

\begin_layout Enumerate
כדי לפתור זאת, נבדוק עבור שניים באותו המספר למי יש מספר חוט יותר גבוה.
 הבעיה כאן היא שלקחת מספר דורשת קריאת ערכים, חישוב מקסימום וכתיבת ערכים.
 יכול לקרות כאן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Race Condition
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\numeric off
 יכול לחשב מקסימום אבל עוד לא לכתוב לזיכרון, יקרה קונטקסט סוויץ' וחוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
5
\numeric off
 יחשב את המקסימום, יסיים גם לכתוב ויכנס לקטע הקוד הקריטי.
 אז יקרה עוד קונטקסט סוויץ', חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יראה שיש לו מספר זהה לאחר אבל בגלל שהוא לפניו במספר החוט הוא יכנס גם ויש
 לנו עכשיו שניים בקטע הקוד הקריטי בניגוד לתנאי המניעה ההדדית.
\end_layout

\begin_layout Enumerate
הפתרון הסופי לכך הוא להרים דגלי בחירה, כלומר כשמחשבים מקסימום להרים לפני
 ולהוריד אחרי את הדגל 
\begin_inset Quotes xld
\end_inset

אני בוחר
\begin_inset Quotes xrd
\end_inset

 וכשבודקים בלולאת ה-
\lang english
while
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
האם יש מישהו לפני, נחכה שכל חוט אחד יסיים לבחור מספר )אם זה מה שהוא עושה
 כרגע(, ראו איור.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/good-bakery.png
	lyxscale 30
	scale 35

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
מימוש נכון של אלג' המאפייה
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
האלג' כאן גם שומר על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FIFO
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)למעט עבור שניים שבוחרים את אותו המספר(.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{פעולות אטומיות מורכבות}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
פעולות אטומיות בארכיטקטורה מודרנית
\end_layout

\begin_layout Standard
כיום במעבד יש פעולות אטומיות מורכבות מאוד כדי לאפשר פעולות בסיסיות בלי קונטקסט
 סוויץ' באמצע.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Test&Set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמקבלת ביט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
lock
\lang hebrew
, הופכת אותו ל-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ומחזירה את ערכו הקודם בפעולה אטומית אחת.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Fetch&Add
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמקבלת פוינטר ומספר ומוסיפה אותו למספר בפוינטר ומחזירה את ערכו הקודם של
 המיקום בזיכרון )בפעולה אחת(.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Compare&Swap
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמקבלת פוינטר, ערך ישן וחדש ששמה בפוינטר את הערך החדש רק אם לפני היה את
 הערך הישן ומחזירה האם הצליחה או לא.
\end_layout

\begin_layout Standard
נוכל לממש באלגנטיות אפילו יותר את אלג' המאפייה באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Test&Set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
באופן הבא )ראו איור(.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/teset-bakery.png
	lyxscale 30
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
מימוש עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Test&Set
\lang hebrew
 של אלג' המאפייה
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
מה שקורה כאן זה שאנחנו מחכים עד שהלוק פתוח לשימושינו, מבצעים את קטע הקוד
 הקריטי ובסיומו משחררים את הלוק.
 הבעיה כאן היא שאין היעדר הרעבה כי האם תפסנו את הלוק כשהוא פנוי הוא על בסיס
 מזל כי יכול להיות חוט אחד שיחכה אינסוף זמן כי הוא אף פעם לא הגיע בזמן ללוק
 פתוח.
 ניתן לפתור זאת באמצעות האלג' של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Burn
\lang hebrew
, שבודק כמה זמן כל אחד חיכה ועוד דברים מורכבים אחרים שלא נעסוק בהם.
\end_layout

\begin_layout Standard
פתרנו את בעיית המניעה ההדדית אבל עדיין לא פתרנו את ביזבוז משאבי המעבד.
 כדי לפתור את זה נבקש את עזרת ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
באמצעות פרימיטיביי סנכרון עם ממשק ברור.
 הפרימיטיבים האלה ממומשים בספריות )השלב הכי גבוה שהוא לא אפליקציות(.
 נעסוק בפרימיטיבים באופן אבסטרקטי בלי להתעניין איך הם ממומשים מבחינה פנימית.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
נרצה להשתמש בהרבה חוטים או תהליכים אם יש לנו הרבה מעבדים, אם יש לנו פעולות
 חוסמות או אם יש לנו כמה פעולות שצריך לעשות בו זמנית.
 להלן טבלת תזכורת של ההבדלים בין תהליכים, חוטי קרנל וחוטי משתמשים.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/proc-thread-2.png
	lyxscale 30
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
הבדלים בין תהליכים לבין חוטים
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
ספריית
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
pthread
\end_layout

\begin_layout Standard
כל פעם שתהליך נוצר יש לו חוט ראשון, וכל השאר צריך ליצור באופן מפורש בקוד.
 כדי לעשות זאת, משתמשים בספריית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
pthread_create
\lang hebrew
.
\end_layout

\begin_layout Description
\begin_inset Formula $ $
\end_inset


\lang english
pthread_create
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מקבלת פוינטר לשמירת מספר החוט; אטריביוט לא מעניין; מה להריץ ברגע שהחוט נפתח;
 ואילו ארגומנטים להעביר לפ' הזו.
 היא מחזירה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם הצליחה ואחרת את קוד השגיאה.
\end_layout

\begin_layout Standard
כדי לסיים חוט יש כמה אפשרויות.
\end_layout

\begin_layout Itemize
קוראים ל-
\lang english
pthread_exit
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם פרמטר סטטוס סיום שיהיה נגיש לחוט שיריץ עליו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
pthread_join
\lang hebrew
,
\end_layout

\begin_layout Itemize
אם החוט מסיים את ריצה הפ' שהוא קיבל בהתחלה.
\end_layout

\begin_layout Itemize
אם הוא מבוטל עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
pthread_cancel
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמקבל את מספר החוט.
\end_layout

\begin_layout Itemize
אם כל התהליך מסתיים.
\end_layout

\begin_layout Description
דוגמה נכתוב קוד שפותח חמישה חוטים.
 מה שהוא עושה זה לפתוח חוט שידפיס
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Hello World
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם מספר החוט שלו ויסיים.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/5-thrread.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קוד לתכנית שפותחת חוטים ולא עובד כמו שצריך
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
הבעיה עם הקוד הזה היא שהחוט של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
main
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יכול לסיים את הריצה לפני שהוטים האחרים יסיימו את הריצה שלהם ואז לא יודפס
 הכל כראוי.
 לשם כך נצטרך להבטיח שמיין ייסגר רק אחרי שכל השאר מסיימים.
\end_layout

\end_deeper
\begin_layout Description
\begin_inset Formula $\,$
\end_inset


\lang english
pthread_join
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מקבלת מספר חוט; ומקום לשמור בו את סטטוס היציאה של החוט והיא חוסמת את החוט
 הנוכחי עד שהחוט האחר מסיים.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/pthread-diag.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
תרשים זרימה של שימוש ב-
\lang english
join
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Description
הערה בחזרה לדוגמה הקודמת, עתה קטע הקוד החדש שיעבוד יהיה:
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/5-working.png
	lyxscale 30
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קטע קוד לפתיחת חוטים עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
join
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
חזרנו על 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{link30}{דוגמאות ל-Race Conditions}
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
נרצה בהינתן 
\begin_inset Formula $n$
\end_inset

 תהליכים, 
\begin_inset Formula $P_{0},\ldots,P_{n-1}$
\end_inset

, בלי אף הנחה אחרת על התזמון שלהם )הוא לא דטרמיניסטי(, לפתור את בעיית קטע
 הקוד הקריטי, ההנחה שלי )המסכם( היא שראית את ההרצאה ולא צריך לחזור על מה
 שנאמר שם.
\end_layout

\begin_layout Standard
באלג' של פיטרסון אנחנו מחכים שהתור שלנו או שהאחר לא ירים את הדגל שלו.
 ההוכחה להתקדמות מאוד פשוטה:
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
turn
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז בהכרח שאחד מה-
\lang english
while
\lang hebrew
-ים לא מתקיים ובטוח אחד התהליכים נכנס לקרטע הקריטי.
\end_layout

\begin_layout Standard

\size larger
מיוטקס
\end_layout

\begin_layout Standard
נראה איך פרקטית משתמשים במשאב משותף.
 נשתמש באובייקט שנקרא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
mutex
\lang hebrew
:
\end_layout

\begin_layout Enumerate
יוצרים את משתנה המיוטקס.
\end_layout

\begin_layout Enumerate
כמה חוטים מנסים לנעול )לקחת לעצמם( את המיוטקס.
\end_layout

\begin_layout Enumerate
רק אחד מצליח והמיוטקס בבעלותו.
\end_layout

\begin_layout Enumerate
אותו אחד מריץ את קטע הקוד הקריטי.
\end_layout

\begin_layout Enumerate
הבעלים משחרר את המיוטקס וחוזרים לשלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
.
\end_layout

\begin_layout Enumerate
משחררים את המיוטקס כשנגמרת הריצה.
\end_layout

\begin_layout Itemize
אפשר לאתחל מיוטקס ב-
\lang english
pthread
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או סטטית לערך דיפלוטיבי כלשהו, או דינמית )במהלך הריצה( באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
pthread_mutex_init
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמקבל את המיוטקס לפני שאותחל וערכי אטריביוטים דיפולטיבים ומחזיר את אותו
 המיוטקס.
\end_layout

\begin_layout Itemize
כדי להרוס מיוטקס קוראים ל-
\lang english
pthread_mutex_destroy
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמקבל את המיוטקס ונפתר ממנו.
\end_layout

\begin_layout Itemize
כדי לנעול מיוטקס קרואים ל-
\lang english
pthread_mutex_lock
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמקבל את המיוטקס ומנסה לקחת בעלות עליו ואם הוא לא מצליח הוא חוסם את עצמו
 עד שהמיוטקס משוחרר ע
\begin_inset Quotes xrd
\end_inset

י חוט אחר.
\end_layout

\begin_layout Itemize
כדי לשחרר אותו קוראים ל-
\lang english
pthread_mutex_unlock
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם המיוטקס והוא משחרר אותו אם החוט שקורא לו הוא הבעלים של המיוטקס כרגע.
 הוא יחזיר שגיאה אם המיוטקס כבר שוחרר או אם המיוטקס ננעל על ידי אחר.
\end_layout

\begin_layout Description
דוגמה כדי לעשות אינקרמנט/דיקרמנט בשני חוטים שונים עם מיוטקסים, נכתוב את
 הקוד הבא:
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/two-mutx.png
	lyxscale 30
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קטע קוד שמוביל לדד-לוק
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
הבעיה עוד לא נפתרה כי אם אנחנו רוצים לקחת שני משאבים, נוכל להיכנס לדד-לוק.
 לדוגמה, בקוד הבא חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יקבל את הלוק של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
a
\lang hebrew
, יהיה קונטקסט סוויץ', חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יקבל את הלוק של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
b
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וניכנס לדד-לוק.
 בהמשך נלמד איך להתמודד איתם.
\end_layout

\begin_layout Standard

\size larger
מוניטורים )משתנים מותנים(
\end_layout

\begin_layout Standard
מיוטקסים מבצעים סינכרון של חוטים מבחינת בעיית המניעה ההדדית.
 אבל יש עוד הרבה בעיות סינכרון שונות.
\end_layout

\begin_layout Description
דוגמה בתרחיש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Barrier
\lang hebrew
, נרצה לחכות בחוט הנוכחי שלנו עד שכל החוטים האחרים מגיעים לנקודה מסוימת
 בריצה שלהם.
\end_layout

\begin_layout Description
דוגמה בתרחיש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Reader-Writers
\lang hebrew
 צריך לטפל בקריאה וכתיבה של הקובץ ולוודא שמי שקורא את התוכן הרלוונטי.
\end_layout

\begin_layout Description
דוגמה בתרחיש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Bounded-Buffer
\lang hebrew
 יש צרכן שקורא תוכן מבאפר כלשהו ויש יצרן שמוסיף תוכן לאותו הבאפר והשאלה
 היא איך הוא יקרא את המידע הרלוונטי לו.
\end_layout

\begin_layout Description
הערה את כל אלה אפשר לממש באמצעות מיוטקס אבל זה לא תמיד הכי אלגנטי.
\end_layout

\begin_layout Description
דוגמה נניח שחוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
 צריך את המשתנה של חוט 
\numeric on
2
\numeric off
.
 נוכל לכתוב את קטע הקוד הבא:
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/condi-var.png
	lyxscale 30
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קטע קוד להמתנה למשתנה מחוט אחר
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
כאן חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 לוקח את מיוטקס, מחשב מה שהוא צריך, מסמן את הדגל שקובע האם המשתנה אותחל
 ומשחרר את המיוטקס.
 חוט 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לוקח את הלוק, כשהוא מקבל אותו הוא בודק אם דגל ה
\begin_inset Quotes xrd
\end_inset

מוכנות
\begin_inset Quotes xrd
\end_inset

 מורם, אם כן, עושה מה שהוא צריך ומוריד את הדגל, ואחרת ממשיך בלולאה האינסופית.
 ה-
\lang english
if
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הפנימי מתייחס למקרה שבו חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קיבל גישה למשתנה לפני חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
.
\end_layout

\end_deeper
\begin_layout Description
הערה המימוש הנ
\begin_inset Quotes xrd
\end_inset

ל משתמש ב-
\lang english
Busy Waiting
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולא אלגנטי.
\end_layout

\begin_layout Standard
מוניטורים מיועדים לפתור בעייה זו )של התנייה בין חוטים(.
 למוניטור שתי פ' מרכזיות:
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Wait
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמקבל מיוטקס ומשתנה ומשחרר את המיוטקס )החוט חייב להיות בבעלותו( וחוסם את
 החוט עד להודעה חדשה, כשהוא מתעורר הוא מחכה עד שהוא יכול לקחת את המיוטקס.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Signal
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמקבל משתנה ומשחרר חוט כלשהו שנחסם ע
\begin_inset Quotes xrd
\end_inset

י
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Wait
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על אותו המשתנה ונותן לו את המיוטקס.
\end_layout

\begin_layout Description
דוגמה בחזרה לדוגמה הקודמת, נוכל לממש זאת באמצעות מיוטקס באופן אלגנטי הרבה
 יותר.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/real-condi.png
	lyxscale 30
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קטע קוד להמתנה למשתנה מחוט אחר עם מוניטור
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
מה שקורה כאן הוא הדבר הבא: חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לוקח את המיוטקס, אם הערך במשתנה עוד לא מוכן הוא חוסם את עצמו עד שמעירים
 אותו שהוא מוכן, פועל עליו, ומשחרר את המיוטקס )ה-
\lang english
if
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אמור להיות אם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
canUseVar
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series bold
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא
\series default
 דלוק, זו טעות(.
\end_layout

\begin_layout Standard
חוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לוקח את המיוטקס, שם את הערך במשתנה, מסמן שהוא מוכן לשימוש ומעיר חוט שצריך
 את המשתנה הזה ומשחרר מהמיוטקס.
\end_layout

\end_deeper
\begin_layout Standard
אין לי כוח להקליד את כל אלה מחדש, אז הנה הפקודות הרלוונטיות למשתנים מותנים:
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/pthread-condi.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
פקודות ב-
\lang english
pthread
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
למוניטורים
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
על כל הפ' דיברנו למעט ברודקאסט.
 ברודקאסט במקום להעיר רק חוט אחד שרירותי כמו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
signal
\lang hebrew
, מעיר את כל החוטים שמחכים לערך המותנה.
\end_layout

\begin_layout Standard

\size larger
מחסום
\end_layout

\begin_layout Description
דוגמה נממש מחסום, כלומר פ' שמחזירה רק כשכל שאר החוטים מגיעים לנקודה כלשהי.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/barrier-2.png
	lyxscale 30
	scale 38

\end_inset


\begin_inset Graphics
	filename img/barrier-1.png
	lyxscale 30
	scale 36

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קטע קוד ליצירת מחסום
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
משמאל אנחנו מאתחלים הכל, יוצרים את כל החוטים עם פ' החוט שמוגדרת מימין ואז
 עושים לכולם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
join
\lang hebrew
.
 פ' המחסום מבקשת נעילה על מספר החוטים שסיימו את עבודתם ועושה לו אינקרמנט.
\end_layout

\begin_layout Standard
אם זה לא החוט האחרון קוראים ל-
\lang english
wait
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על ה-
\lang english
CV
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של המחסום.
 אם זה כן האחרון עושים ברודקאסט ונותנים לכולם לסיים לרוץ.
 הארגומנט מספר לחוט מה המספר שלו.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
סמאפור
\end_layout

\begin_layout Standard
סמאפור מאפשר לכמה חוטים לגשת למשאב משותף, ולא רק אחד כמו מיוטקס.
 לדוגמה, בכתיבה-קריאה לקובץ, אפשר שיהיה רק כותב אחד אבל הרבה קוראים.
 סמאפור אפשר לאתחל עם כל מכסה של חוטים שרק נרצה.
\end_layout

\begin_layout Standard
בעת הכניסה לחלק הקריטי נעשה דיקרמנט וכשנסיים נעשה אינקרמנט.
 חוט נחסם אם הוא מנסה לעשות דקרמנט והערך הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)כלומר אין עוד מקום(.
\end_layout

\begin_layout Itemize
כדי לאתחל סמאפור קוראים ל-
\lang english
sem_init
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמקבלת אובייקט סמאפור; האם לאפשר שיתוף בין תהליכים )לרוב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
(; וערך התחלה למכסה.
\end_layout

\begin_layout Itemize
כדי לסיים שימוש בו קוראים ל-
\lang english
sem_destroy
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמקבלת את הסמאפור ומחזירה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם הצליחה ומספר שלילי אחרת )בדומה ל-
\lang english
sem_init
\lang hebrew
(.
\end_layout

\begin_layout Itemize
כדי לקבל גישה קוראים ל-
\lang english
sem_wait
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמקבלת את הסמאפור ומחכה עד שיהיה אפשר לגשת אליו ואז מחזירה.
\end_layout

\begin_layout Itemize
כדי להחזיר גישה קוראים ל-
\lang english
sem_post
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמקבלת את הסמאפור ועושה אינקרמנט לסופר הפנימי כדי לאפשר לאחרים לגשת אל המשאב.
\end_layout

\begin_layout Description
דוגמה מה הבעיה בקוד הבא? אנחנו עושים אינקרמנט לקאונטר מכל מיני חוטים שונים
 ויכול להיות שנעשה אינקרמנט באותו הזמן ונקבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Race Condition
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/atomic.png
	lyxscale 30
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קטע קוד בעייתי
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
לשם כך הומצא המשתנה האטומי, שעוטף טייפ כלשהו ומאפשר לקרוא עליו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
load
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
store
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם פרמטר כדי לקבל/לשים אותו 
\begin_inset Quotes xld
\end_inset

אטומית
\begin_inset Quotes xrd
\end_inset

 )מחזיק מיוטקס בפנים(.
 ככה לא צריך להתעסק עם מיוטקסים והם ממומשים באופן פנימי )שתי הפ' מחכות עד
 שהן מקבלות גישה למשתנה(.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{V
\backslash
;
\backslash
; סמאפורים ומוניטורים}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{V}$
\end_inset

 | סמאפורים ומוניטורים
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
נעסוק עתה בפתרונות לבעיות תיאום שונות.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{סמאפור}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
סמאפור הוא מחלקה עם שני ערכים: ערך, ורשימה של חוטים.
 יש לו שלוש פעולות בסיסיות )ראו איור( - העלת והורדת הערך ואתחול.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/sempa.png
	lyxscale 30
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קטעי קוד עבור מימוש סמאפור
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Description
הערה את הפעולות אנחנו מבצעים בצורה אטומית.
\end_layout

\begin_layout Standard
הורדת ערך מורידה את הערך )כל הכבוד נמרוד( ואם 
\begin_inset Quotes xld
\end_inset

נגמר המקום
\begin_inset Quotes xrd
\end_inset

 בסמאפור, קרי הערך קטן מאפס, נשלח את החוט לישון עד להודעה חדשה ונוסיף אותו
 לרשימת החוטים שמחכים למקום בסמאפור.
\end_layout

\begin_layout Standard
באותו האופן העלאת ערך מעלה את הערך ומוציאה חוט מרשימת ההמתנה אם יש כזה.
\end_layout

\begin_layout Description
הערה זה דומה למארחת שמשמשת סמאפור במסעדה שמשאירה אנשים בהמתנה עד שמתפנה
 מקום.
\end_layout

\begin_layout Description
הערה הרשימה היא לא בהכרח תור, אבל אם היא כן נאמר כי הסמאפור הוא הוגן.
\end_layout

\begin_layout Standard
בספרות האקדמית לעתים מתייחסים להורדה והלאה כ-
\lang english
P
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
V
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי ככה זה בהולנדית.
\end_layout

\begin_layout Description
דוגמה נציג מימוש של מניעה הדדית עם סמאפור.
 כל מה שצריך לעשות זה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
down
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בקטע הכניסה ו-
\lang english
up
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בקטע היציאה כאשר הוא מאותחל להיות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
 כל התכונות מתקיימות, כאשר היעדר הרעבה מתקיים רק אם הסמאפור הוגן, אחרת בשלושה
 חוטים יוכלו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לשחק ביניהם עם הסמאפור והשלישי לעולם לא יקבל גישה למשאב.
 למעשה לעתים מיוטקס ממומש ע
\begin_inset Quotes xrd
\end_inset

י סמאפור בינארי )עם אתחול
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
(.
\end_layout

\begin_layout Description
דוגמה נניח שאנחנו רוצים לבצע את משימה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
A
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לפני משימה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
B
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 כשהמשימות בשני חוטים שונים, כיצד נדרוש זאת? עם מיוטקס קלאסי זה קצת קשה
 כי אין פה קטע קוד קריטי, לכן נוכל להשתמש בסמאפורים.
 כל מה שצריך לעשות זה 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
up
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אחרי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
A
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
down
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לפני
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
B
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם סמאפור בינארי ואז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
B
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יתחיל רק אחרי שהוא נכנס לסמאפור.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{מגבלות הסמאפור}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
מגבלות הסמאפור
\end_layout

\begin_layout Description
הערה סמאפורים לא פותרים כל בעיה.
 נגיד אנחנו רוצים להעביר כסף מ-
\lang english
A
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\lang english
B
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 בחוט אחד ובחוט אחר מ-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
B
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\lang english
A
\lang hebrew
.
 נרצה להימנע מ-
\lang english
Race Condition
\lang hebrew
.
 נוכל להכריז על קטעי ההעברה כקטעים קריטים ואז הכל יהיה בסדר.
\end_layout

\begin_layout Description
דוגמה עכשיו נניח שיש לנו חוטים שרוצים להעביר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מ-
\lang english
A
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\lang english
B
\lang hebrew
, מ-
\lang english
B
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\lang english
C
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ומ-
\lang english
C
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\lang english
D
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהתאמה.
 במקרה כזה, נוכל פשוט להכריז על הכל כקטעים קריטיים אבל זה לא יעיל, כי אין
 לנו בעיה שהחוט הראשון והשלישי יעבדו בו זמנית כי אין קשר ביניהם.
\end_layout

\begin_deeper
\begin_layout Standard
נוכל במקום לעשות סמאפור לכל חשבון ואז כדי להעביר בין שני חשבונות יצטרכו
 לחסום את כל שאר החוטים מלגעת בחשבונות בהם אנחנו עוסקים.
\end_layout

\end_deeper
\begin_layout Description
דוגמה אם היינו עושים העברה מעגלית )
\lang english
A
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\lang english
B
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\lang english
C
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\lang english
D
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\lang english
A
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בארבעה חוטים שונים( נוכל בקלות לקבל דד-לוק כשכל אחד מחכה לחשבון אחד וחוזרים
 ללולאה.
\end_layout

\begin_layout Description
הערה גם כשיש לנו רק שתי העברות, חשוב לנעול את הסמאפורים לפי אותו הסדר תמיד
 כי אחרת יכול להיווצר דד-לוק, כלומר צריך להיות סדר גלובלי למשאבים.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{בעיית הפילוסופים האוכלים}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
בעיית הפילוסופים האוכלים
\end_layout

\begin_layout Standard
נניח שיש לנו שולחן עגול שבו יושבים פילוסופים שהם או אוכלים )למשך זמן סופי(
 או חושבים )ויכולים להחליף בין המצבים(.
 כשהם אוכלים הם צריכים לקחת שני צ'ופסטיקים וכשהם מסיימים לאכול הם מניחים
 אותם )משחררים אותם(.
 שני פילוסופים לא יכולים להחזיק צ'ופסטיק יחד, כאשר בין כל שני פילוסופים
 יש צ'ופסטיק יחיד )כלומר כל אחד חוסם את שני שכניו(.
\end_layout

\begin_layout Standard
נסמן 
\begin_inset Formula $P0,\ldots,PN-1$
\end_inset

 פילוסופים ו-
\begin_inset Formula $c\left[i\right]$
\end_inset

 צ'ופסטיק )משאב/סמאפור בינארי(.
 לפני האכילה יעשה הפילוסוף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
down
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לסמאפור משמאלו ואז מימינו, יאכל, ואז יעשה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
up
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
למסאפור משמאלו ואז מימינו ויחזור לחשוב וחוזר חלילה.
\end_layout

\begin_layout Standard
זה לא יעבוד כי יכול להיות דד-לוק - כל אחד לוקח את השמאלי וקורה קונטקסט סוויץ'
 מיד אחרי ואז בסוף יוצא שכולם מחזיקים את השמאלי אבל לא מצליחים לקחת את הימני.
\end_layout

\begin_layout Standard
הפתרון הוא לשבור את הסימטריה, לדוגמה באמצעות קביעה שאחד הפילוסופים יבחר
 הפוך.
 כלומר, כולם ירימו את השמאלי ואז הימני אבל 
\begin_inset Formula $PN-1$
\end_inset

 ירים קודם את הימני )
\begin_inset Formula $c\left[N-1\right]$
\end_inset

( ורק אז את השמאלי )
\begin_inset Formula $c\left[0\right]$
\end_inset

(.
\end_layout

\begin_layout Description
משפט בפתרון הא-סימטרי הנ
\begin_inset Quotes xrd
\end_inset

ל לא ניתן להגיע למצב של דד-לוק.
\end_layout

\begin_layout Proof
נניח בשלילה שהפילוסוף ה-
\begin_inset Formula $i$
\end_inset

 מרים צ'ופסטיק אבל אף אחד לא אוכל, כלומר אף אחד לא הצליח להרים את הצ'ופסטיק
 השני שלא.
\end_layout

\begin_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $i<N-2$
\end_inset

: אם 
\begin_inset Formula $i$
\end_inset

 מנסה לקחת את הצ'ופסטיק השמאלי שלו, 
\begin_inset Formula $i+1$
\end_inset

 ולא מצליח, ולכן 
\begin_inset Formula $i+1$
\end_inset

 הצליח לקחת את הצ'ופסטיק הימני שלו ולכן הוא אוכל סתירה.
\end_layout

\begin_deeper
\begin_layout Standard
אם 
\begin_inset Formula $i$
\end_inset

 לקח את השמאלי שלו ועכשיו מנסה לקחת את הצו'פסטיק הימני שלו, 
\begin_inset Formula $i-1$
\end_inset

 ולא מצליח, ולכן מי שמימינו לקח לו אותו.
 אם מי שמימינו לא אוכל זה אומר שמי שמימינו )
\begin_inset Formula $i-2$
\end_inset

( לקח לו אותו.
 אם הוא לא אוכל אז מי שמימינו לקח לו וכו' וכו' עד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
, שאם לקחו לו את הצ'ופסטיק שמימינו זה אומר ש-
\begin_inset Formula $N-1$
\end_inset

 לקח אותו אבל בגלל שאצלו הסדר הפוך, זה אומר ש-
\begin_inset Formula $N-1$
\end_inset

 מחזיק כבר בשני הצ'ופסטיקים והוא אוכל סתירה.
\end_layout

\end_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $i=N-2$
\end_inset

: אם 
\begin_inset Formula $N-2$
\end_inset

 לא מצליח לקחת את האחד משמאלו זה אומר ש-
\begin_inset Formula $N-1$
\end_inset

 מחזיק אותו ואם ל-
\begin_inset Formula $N-1$
\end_inset

 אין את האחד שמשמאלו זה אומר של-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יש אותו אבל זה השני של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אוכל.
\end_layout

\begin_deeper
\begin_layout Standard
אם 
\begin_inset Formula $N-2$
\end_inset

 לקח את השמאלי אבל מחכה לימני המקרה זהה למקרה המתאים ל-
\begin_inset Formula $i<N-2$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $i=N-1$
\end_inset

: אם 
\begin_inset Formula $N-1$
\end_inset

 מצליח לקחת את האחד מימינו אבל לא מצליח לקחת את האחד משמאלו )
\numeric on
0
\numeric off
( אז ל-
\begin_inset Formula $0$
\end_inset

 יש את שניהם ולכן הוא אוכל.
\end_layout

\begin_deeper
\begin_layout Standard
אם 
\begin_inset Formula $N-1$
\end_inset

 מחכה לאחד מימינו אז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\begin_inset Formula $N-2$
\end_inset

 לקח לו ואם הוא לא אוכל 
\begin_inset Formula $N-3$
\end_inset

 לקח לו וכו' עד 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אבל אם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לקח מ-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אז הוא בהכרח אוכל כי האחד מימינו לא נלקח כי 
\begin_inset Formula $N-1$
\end_inset

 עדיין מחכה לראשון שלו.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
הערה היעדר ההרעבה לא טריוויאלי כאן והוא כנראה לא מתקיים אם הסמאפור לא הוגן
 ואולי מתקיים אם הוא כן אבל צריך לבדוק את זה.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{תנאי קופמן הכרחיים לדד-לוק}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
תנאי קופמן הכרחיים לדד-לוק
\end_layout

\begin_layout Enumerate
לפחות משאב אחד צריך להינעל במצב בו לא משתפים את המשאב )רק לתהליך אחד יש
 גישה אליו(.
\end_layout

\begin_layout Enumerate
חוט אחד מחזיק במשאב אחד ומבקש גישה למשאב אחר.
\end_layout

\begin_layout Enumerate
משאב יכול להשתחרר רק באמצעות שחרור וולונטרי של המחזיק בו.
\end_layout

\begin_layout Enumerate
המתנה מעגלית.
\end_layout

\begin_layout Standard
אפשר לתאר דד-לוק ע
\begin_inset Quotes xrd
\end_inset

י גרף שבו הקודקודים הם חוטים ומשאבים משותפים והצלעות הן ממשאב לחוט אם יש
 לו גישה אליו ומחוט למשאב אם הוא מחכה לו.
 אם יש מעגל בגרף כזה הרי שהתנאי הרביעי בתנאי קופמן מתקיים.
\end_layout

\begin_layout Standard
הבעיה עם שבירת הסימטריה הנ
\begin_inset Quotes xrd
\end_inset

ל היא שיכול להיות שרק אחד אוכל בכל פעם.
 אם נחלק את החוטים לזוגיים ואי-זוגיים ונגיד לכל אחד לקחת משמאל לימין והאחר
 מימין לשמאל נוכל להגיע למצב שלפחות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אוכלים ולא רק אחד.
 פתרון זה נקרא פתרון
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
LR
\lang hebrew
.
\end_layout

\begin_layout Standard
קשה מאוד לעלות על דד-לוקים כי זה תלוי בתזמון ולא תמיד קורה.
 כדי להימנע מדד-לוקים, נגדיר סדר על המשאבים וננעל בסדר אחד ונשחרר בסדר ההפוך
 תמיד.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{יצרן-צרכן}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
יצרן-צרכן
\end_layout

\begin_layout Standard
חוט אחד או יותר יוצרים עבודה וחוט אחד או יותר צורכים עבודה )לדוגמה חוטי
 עבודה ומדפסות בהתאמה(.
 בעיות של דריסה יכולות לקרות גם בצד של העובדים, כלומר שאחד ידרוס את העבודה
 של האחר ויגרום לקריסה של הכל, אבל גם מהצד של הצרכנים, לדוגמה שעבודה תודפס
 פעמיים וכו'.
\end_layout

\begin_layout Description
הערה אם הבאפר שעליו שמים משימות הוא בגודל חסום, נסתכל על הבאפר כציקלי, כלומר
 אחרי שנגמר האינדקס האחרון חוזרים להתחלה.
\end_layout

\begin_layout Standard
במקרה של באפר ציקלי יש בעיות כבר עם צרכן ויצרן אחד.
 אם הצרכן מתעכב על משימה אחת והיצרן בנתיים מייצר עוד ועוד משימות הוא יכול
 להגיע ולדרוס את המשימה בהתחלה שעדיין בפעולה ע
\begin_inset Quotes xrd
\end_inset

י הצרכן.
 בשלב כלשהו הצרכן והיצרן מצביעים לאותו המיקום ואז נשאלת השאלה - האם הבאפר
 ריק או מלא? אי אפשר לדעת כי יכול להיות שהצרכן סיים הכל והגיע חזרה לחזית
 או שהיצרן כתב באפר שלם שהצרכן עוד לא עשה.
 אפשר להוסיף משתנה שסופר כמה משימות יש בבאפר ואז בקלות מבדילים בין שני המצבים
 הנ
\begin_inset Quotes xrd
\end_inset

ל.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/prod-cons.png
	lyxscale 30
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
מימוש של מצב צרכן-יצרן יחידים
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
למעשה הצרכן מחכה שיהיה מה לעשות והיצרן מחכה שיהיה מקום לכתוב.
 חשוב להפוך את השורה של האינקרמנט ודיקרמנט של הקאונטר לאטומית אחרת כמובן
 נקבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Race Condition
\lang hebrew
.
\end_layout

\begin_layout Standard
במקרה הכללי המצב קצת יותר מורכב, נצטרך שלושה סמאפורים.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/prods-conss.png
	lyxscale 30
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
מימוש של מצב צרכנים
\numeric on
-
\numeric off
יצרנים רבים
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
כדי לכתוב לבאפר, יצרן צריך להחזיק במיוטקס שהוא סמאפור בינארי.
 בנוסף, הוא צריך לחכות שיהיה תא ריק, כלומר ש-
\lang english
empty
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)מאותחל ל-
\begin_inset Formula $n$
\end_inset

( לא יהיה שלילי.
 כשהוא מסיים, הוא מעלה את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
full
\lang hebrew
, שמחזיק במידע כמה תאים מלאים יש )מאותחל ל-
\numeric on
0
\numeric off
(
\end_layout

\begin_layout Standard
הצרכן באותו האופן צריך לחכות שיהיה תא מלא, להחזיק במיוטקס ואחרי זה להעלות
 את מספר התאים הריקים.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{מוניטורים}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
מוניטורים
\end_layout

\begin_layout Standard
דרך נוספת לפתור את הבעיה הזו היא עם מוניטורים.
 מוניטורים הם אובייקטים ברמת שפת התכנות שעוטפים סכמת סנכרון כך שאפשר לגשת
 למידע רק באמצעות פ' יעודיות.
 מוניטור פוטר אותנו מהתעסקות עם כמה סמאפורים.
\end_layout

\begin_layout Standard
מחליטים שלכל היותר חוט אחד יבצע פ' של האובייקט וככה מקבלים מניעה הדדית אוטומטית
 כי רק אחד יכול לגעת בכלל במשאב בכל רגע נתון.
 אם מישהו נוסף מנסה לגשת, הוא נחסם עד שמשתחרר המשאב.
 
\end_layout

\begin_layout Standard
בדוגמת הצרכן-יצרן נגדיר פ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
produce
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
consume
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 שכותב/קורא ומעלה/מוריד קאונטר.
 לכאורה אם מגיע צרכן לפני שהיה יצרן אז הוא נחסם עד להודעה חדשה עד שמגיע
 יצרן ואנחנו בבעיה.
 כדי לפתור את זה יש משתנים מותנים, שלהם יש שלוש פעולות.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
wait
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמשחרר את המוניטור ומחכה שמישהו יעיר אותו אחרי ששינה את הערך של המשתנה.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
signal
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמעיר חוט אחד שמחכה )ברשימת המתנה שהיא תור(.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
broadcast
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמעיר את כל החוטים שמחכים.
\end_layout

\begin_layout Description
הערה בקורס הזה אנחנו מניחים ככלל שתהליכים מתקשרים באמצעות משאבים משותפים
 )זיכרון משותף(.
 אפשר במקום לתקשר באמצעות שליחת הודעות עם סוקטים ואז עולות בעיות דומות ועוסקים
 בזה יותר בקורס אלג' מבוזרים.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard

\size larger
בעיית ה-
\lang english
Bounded-Buffer
\end_layout

\begin_layout Standard
כבר דיברנו עליו בהרצאה, זו בעיית היצרן-צרכן - נרצה שצרכן לא יקרא אם אין
 מה לקרוא והיצרן לא יכתוב אם אין מקום.
 הפתרון הוא סמאפורים סופרים.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
mutex
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמאותחל ל-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שדואג למניעה הדדית.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
fillCount
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שסופר את מספר התאים המלאים.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
emptyCount
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שסופר את מספר התאים הריקים.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/prod-2.png
	lyxscale 30
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
מימוש של בעיית הבאפר החסום
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
למה צריך גם אחד שסופר כמה מלאים ואחד שסופר כמה ריקים יש? נניח שנזרוק את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
fillCount
\lang hebrew
 אז יכול להיות שנצרוך הרבה יותר משאפשר.
\end_layout

\begin_layout Standard

\size larger
בעיית הפילוסופים האוכלים
\end_layout

\begin_layout Standard
ראינו את הבעיה כבר בהרצאה, נדון בפתרונות לדד-לוקים שנוצרים מאלג' סימטריים
 )כל חוט מריץ את אותו הקוד(.
 למעשה, אף פתרון סימטרי לא חף מדד-לוקים.
\end_layout

\begin_layout Standard
אפשר להוסיף חוט נוסף שישמש מלצר/בורר שיחליט מי עושה מה מתי.
 לחלופין אפשר לשבור את הסימטריה באמצעות פתרון
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
LR
\lang hebrew
.
 או שאפשר לעשות באקראי את סדר המשאבים.
\end_layout

\begin_layout Standard

\size larger
אלג' למן-רבין
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/lehman-rabin.png
	lyxscale 30
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
מימוש של אלג' למן-רבין
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
אנחנו קודם קובעים האם אנחנו מתחילים משמאל לימין או ימין לשמאל.
 לאחר מכן אנחנו מחכים שהראשון ישתחרר )ערך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
false
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
במערך הוא פנוי(, נועלים אותו ומחכים לשני.
 אם אנחנו לא מצליחים לקחת את השני ניכנס שוב ללולאה עד שכן נוכל לקחת אותו.
 לאחר מכן נבצע את ה
\begin_inset Quotes xrd
\end_inset

אכילה
\begin_inset Quotes xrd
\end_inset

, ואז נשחרר את הצ'ופסטיקים.
\end_layout

\begin_layout Description
הערה זה פתרון שמשתמש ב-
\lang english
busy wait
\lang hebrew
.
\end_layout

\begin_layout Standard

\size larger
בעיית הקוראים-כותבים
\end_layout

\begin_layout Standard
נניח שיש לנו מבנה נתונים משותף למספר חוטים שונים.
 יש חוטים קוראים שרק קוראים ולא כותבים ויש כותבים שיכולים לכתוב ולקרוא.
\end_layout

\begin_layout Standard
נרצה לאפשר כמה קוראים בו זמנית, כותב אחד בכל רגע נתון וקריאה נחסמת בזמן
 שמישהו כותב.
\end_layout

\begin_layout Enumerate
נשמור מספר )לא סמאפור(
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
readCount
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמאותחל ל-
\numeric on
0
\numeric off
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
readCount_mutex
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
סמאפור בינארי שמגן על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
readCount
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
write
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
גם סמאפור בינארי ששומר את מספר הקוראים.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/read-1.png
	lyxscale 30
	scale 45

\end_inset


\begin_inset Graphics
	filename img/write-1.png
	lyxscale 30
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
מימוש הפתרון הראשון, משמאל קוד הכותב ומימין קוד הקורא
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
הכותב מחכה שיוכל לכתוב.
 הקורא חוסם כתיבה, קורא ואז אם הוא הקורא האחרון הוא משחרר את הכותב.
\end_layout

\begin_layout Standard
הפתרון הזה עובד אבל הוא מוביל להרעבה אם יש הרבה קוראים של התוכן וקצת כותבים.
\end_layout

\end_deeper
\begin_layout Enumerate
נוסיף עכשיו סמאפור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
read
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בינארי שימנע מקוראים לקרוא בזמן שכותב רוצה לכתוב,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
writeCount
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
משתנה שמאותחל לאפס, מיוטקס שמגן עליו וסמאפור בינארי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
queue
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/read-2.png
	lyxscale 30
	scale 45

\end_inset


\begin_inset Graphics
	filename img/write-2.png
	lyxscale 30
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
מימוש הפתרון השני, משמאל קוד הכותב ומימין קוד הקורא
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
עכשיו הכותב מעדכן את מספר הכותבים שמחכים, חוסם קוראים, לוקח את הסמאפור של
 הכתיבה, כותב, משחרר אותו ומעדכן את מספר הכותבים שוב.
\end_layout

\begin_layout Standard
הקורא צריך לקחת את ה-
\lang english
queue
\lang hebrew
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
read
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והמיוטקס של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
readCount
\lang hebrew
, לעדכן את מספר הקוראים ולחסום כותבים, לשחרר את כל הנ
\begin_inset Quotes xrd
\end_inset

ל, לקרוא, ולעדכן חזרה את מספר הקוראים עם המיוטקס.
\end_layout

\begin_layout Standard
ה-
\lang english
read
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
חשוב כי הוא מאפשר לכותב לחסום קוראים.
 ה-
\lang english
queue
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
חשוב כדי שהרבה קוראים לא ירעיבו כותב אחד.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
שאלות ממבחנים
\end_layout

\begin_layout Enumerate
האלג' בשאלה דומה לאלג' של פיטרסון.
 ההבדל היחיד הוא שבמקום לתת את זכות הקדימה לתהליך האחר, לוקחים את התור לעצמנו.
 ברור שזה לא יעבוד כי אם יש קונטקסט סוויץ' מיד אחרי השמת ה-
\lang english
turn
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שני החוטים חושבים שהם בעלי זכות הקדימה ונכנסים ביחד לקטע הקריטי.
 לכן א' לא נכון, ב' כן נכון.
 ג' כן נכון כי צריך להוסיף 
\begin_inset Formula $1-$
\end_inset

 ב-
\begin_inset Formula $turn=i$
\end_inset

 וד' לא נכון כי אי אפשר.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/prob-1.png
	lyxscale 30
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
שאלה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ממבחן
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
הבעיה עם הקוד הבא היא שהוא לא מעדכן אטומית.
 לכן א' לא נכון כי אם יש קונטקסט סוויץ' בדיוק לאחר האינקרמנט )ולא נכנסים
 ל-
\lang english
if
\lang hebrew
( אז גם כותב וגם קורא נכנסים יחד.
\end_layout

\begin_deeper
\begin_layout Standard
גם ב' לא נכון, כי בתנאיי המקרה הקודם נכנסים שני קוראים, שניהם משחררים את
 הסמאפור ואז יותר כותבים יכולים לקרוא.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/prob-2.png
	lyxscale 30
	scale 55

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
הנחיות שאלה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ממבחן
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
נקבע עבור הסעיפים הבאים האם מתקיימת עבורם מניעה הדדית והתקדמות.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/prob-1-2.png
	lyxscale 30
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
שאלה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ממבחן
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
לא מתקיימת מניעה הדדית כי כש-
\lang english
door
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
true
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שני חוטים יכולים להגיע ל-
\lang english
else
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ויחד להיכנס לחלק הקריטי.
 התקדמות כן מתקיימת.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/prob-3.png
	lyxscale 30
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
שאלה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ממבחן
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
אין התקדמות כי אם ראשון נכנס ויש קונטקסט סוויץ' לפני בדיקת ה-
\lang english
race
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 וחוט נוסף מגיע עד ל-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
if
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז חוזרים לראשון אז שניהם יגיעו ל-
\lang english
continue
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כל הזמן.
 אין מניעה הדדית כי מניעה טריוויאלית אינה נחשבת מניעה הדדית.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/prob-5.png
	lyxscale 30
	scale 55

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
שאלה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ממבחן
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
אין מניעה הדדית כי חוט ראשון יכול לרוץ, לקבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
win=true
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולהיכנס לקטע הקוד הקריטי.
 לאחר מכן, יגיע חוט נוסף, יקבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
win=false
\lang hebrew
, יכנס למאפייה ויעבור לקטע הקוד הקריטי כי הוא ראשון בתור.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/prob-6.png
	lyxscale 30
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
שאלה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ממבחן
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
המניעה ההדדית תישמר כי רק אחד יכול לחמוק מהמאפייה ואילו רק אחד יוצא בכל
 פעם מהמאפייה ואז עליהם אנחנו עושים פיטרסון של שני חוטים ואז הכל בסדר.
 יש התקדמות כי אף אחד לא יתקע אותנו.
\end_layout

\begin_layout Standard
מתי הקוד בסעיף הנ
\begin_inset Quotes xrd
\end_inset

ל עדיף על אלג' המאפייה הקלאסי? אם זה תהליך יחיד והרבה חוטים עדיף להשתמש
 בו, אבל אחרת החישוב של המאפייה הוא יקר עם כמה תהליכים ואז עדיף את האלג'
 הזה.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/prob-7.png
	lyxscale 30
	scale 50

\end_inset


\begin_inset Graphics
	filename img/prob-8.png
	lyxscale 30
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
תנאי השאלה מהמבחן
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/prob-9.png
	lyxscale 30
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
שאלה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ממבחן
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
אין מניעה הדדית כי שני לקוחות יכולים עושים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
post
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז לא מחכים ב-
\lang english
wait
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
20
\numeric off
, הם לא נחסמים( ומריצים את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
getMeal
\lang hebrew
.
 יש התקדמות כי אחרי כל מנה השף מעלה את הסמאפור והוא מאותחל ל-
\numeric on
20
\numeric off
.
 יש יעילות כי השף יתקע ב-
\lang english
wait
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם אין אף אחד שרוצה מנה.
 אין עמידה בתנאי התו הסגול כי הלקוח ה-
\numeric on
21
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אמנם יחכה לסמאפור השף אבל הוא יעשה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
post
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ובשלב הזה הוא כבר בתוך קטע הקוד שנחשב המתנה.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/prob-10.png
	lyxscale 30
	scale 55

\end_inset


\begin_inset Graphics
	filename img/prob-11.png
	lyxscale 30
	scale 55

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
שאלה ממבחן, קוד השף לא השתנה
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
מניעה הדדית לא מתקיימת מאותה הסיבה שהתקיימה בסעיף הקודם - לקוח אחד באמצע
 לקבל את המנה שלו אחרי שסיים להתעסק עם הסמאפורים וגם לקוח נוסף מגיע והם
 שניהם לוקחים את המנה שלהם.
 התקדמות מתקיימת כמו הפעם הקודמת.
 יעילות מתקיימת גם כמו הפעם הקודמת.
 התו הסגול לא מתקיים כי יכול להיות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Race Condition
\lang hebrew
.
\end_layout

\end_deeper
\begin_layout Standard
בתרגיל נצטרך לממש את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MapReduce
\lang hebrew
: הקלט הוא סדרת איברים.
 בשלב ה-
\lang english
map
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 מפעילים פ' על כל האלמנטים באופן מקביל; בשלב הערבוב/מיון האיברים ממיונים
 לסדרה חדשה; ובשלב ה-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
reduce
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מפעילים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 פ' שאוגרת ערכים.
\end_layout

\begin_layout Description
דוגמה נספור את תדירות האותיות בסטרינג.
 הקלט הוא סדרת מחרוזות.
 שלב ה-
\lang english
map
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
סופר בכל מחרוזת כמה פעמים כל תו המופיע וככה מקבלים סדרה חדשה לכל מחרוזת.
 מסדרים מחדש את האיברים כך שלכל אות יש רשימה שמכילה את המחרוזות שמכילות
 אותה.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
reduce
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
פשוט סוכם כמה פעמים כל תו מופיע בכל המחרוזות.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{VI
\backslash
;
\backslash
; תזמון תהליכים}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{VI}$
\end_inset

 | תזמון תהליכים
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
אנחנו משתמשים במתזמנים כל פעם שיש משאב אחד והרבה משתמשים.
 אנחנו נעסוק רק במתזמן של ה-
\lang english
CPU
\lang hebrew
.
\end_layout

\begin_layout Description
דוגמה כשמתשמשים ב-
\lang english
HDD
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נרצה לצמצם כמה שפחות תזוזה של הראש המגנטי שקורא מידע מתוך הדיסק, לשם כך
 נצטרך לסדר את משימות הקריאה/כתיבה מתוכו כמה שיותר טוב.
\end_layout

\begin_layout Standard
ראינו את הדיאגרמה של המצבים בהם יכולים להיות תהליכים, ועתה נעסוק במתי/איך
 בוחרים איזה תהליך רץ ובנוסף מתי אולי נעצור אותו אחרי שהוא רץ יותר מדי )פעולות
 ה-
\lang english
schedule
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
preempt
\lang hebrew
(.
\end_layout

\begin_layout Description
הערה כזכור אנחנו עוסקים במתזמן שהוא המוח של התזמון ולא ב-
\lang english
dispatcher
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שהוא טכנית מבצע את ההחלפה.
\end_layout

\begin_layout Standard
עבודה כלשהי מגיעה, מחכה שתוכל לרוץ )זמן ההמתנה(, רצה )זמן ריצה( ומסיימת.
 כל הפעולה הזו קורת במהלך זמן התגובה.
 זוהי הפשטה של מה שקורה, כי כמו שראינו, אם ניגשים להתקן חיצוני לדוגמה, לא
 רצים עד שההתקן מחזיר תשובה.
 כלומר, יש לנו פרצים של ריצת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPU
\lang hebrew
.
 לעתה נזנח את ההבחנה זו ונסתכל על ריצה כדבר רציף, כאשר עבודה שבאמצע שלה
 לא רצים כי מחכים למשהו נחשבת למעשה כמה עבודות שונות, כל אחת רציפה בפני
 עצמה.
\end_layout

\begin_layout Standard
המתזמן הוא בסה
\begin_inset Quotes xrd
\end_inset

כ אלג'.
 ה
\series bold
קלט
\series default
 של הוא רשימת תכניות לתזמון; ה
\series bold
פלט
\series default
 הוא לבחור את התכנית הבאה להרצה; ה
\series bold
מטרה
\series default
 היא שלמחשב יהיו 
\begin_inset Quotes xld
\end_inset

ביצועים טובים
\begin_inset Quotes xrd
\end_inset

 )חווית משתמש נעימה(; ה
\series bold
פעולות הנתוונת
\series default
 לנו משתנות )האם אפשר לעצור תהליך לפני שהוא מסתיים?(.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{מטרות התזמון}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
מטרות התזמון
\end_layout

\begin_layout Itemize
זמן:
\end_layout

\begin_deeper
\begin_layout Itemize
מערכת תגובתית )זו חווית המשתמש, אבל לא תמיד בשליטת המתזמן כי אחרי שהעבודה
 מתחילה לרוץ לא תמיד נוכל לעצור אותה(.
 
\end_layout

\begin_layout Itemize
נרצה שמשימות מסתיימות כמה שיותר מהר )תוחלת מינימלית על התפלגות ההמתנה(.
 
\end_layout

\begin_layout Itemize
נרצה שהמערכת תאט כמה שפחות, כלומר לצמצם את 
\begin_inset Formula $\frac{\text{זמן תגובה}}{\text{זמן ריצה}}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Throughput
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
גבוה, כלומר מספר העבודות שסיימנו ליחידת זמן - זה רלוונטי בשרתי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
web
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שבהם חווית המשתמש לא משנה, אלא שכמה שיותר מהר נבצע פעולות.
\end_layout

\begin_layout Itemize
ניצולת מעבד גבוהה, כלומר לצמצם את הזמן שהמעבד עסוק ולא בתקורה.
\end_layout

\begin_layout Itemize
הוגנות:
\end_layout

\begin_deeper
\begin_layout Itemize
כל עבודה מקבלת את החלק הראוי לה )לא בהכרח שווה, אלא הוגן לפי איזושהי מדיניות(.
\end_layout

\begin_layout Itemize
נמנע הרעבה של עבודות )אף עבודה לא תחכה אינסוף זמן(.
\end_layout

\begin_layout Itemize
נתמוך בקדימות של משתמשים/עבודות )לדוגמה בשרת של האונ', ניתן עדיפות לפרופ'
 על פני סטודנטים(.
\end_layout

\end_deeper
\begin_layout Description
הערה המטרות האלה מוגבלות כשהמערכת עמוסה מאוד ובהינתן סדר הגעה שונה של עבודות
 נוכל לקבל תוצאות מאוד שונות )אם הן מסודרות בסדר עולה של אורך נוח לסדר אותן
 הרבה יותר(.
\end_layout

\begin_layout Description
הערה נניח לעתה שאין לנו קדימויות ושהחלקים ההוגנים הם שווים, ובהמשך נעסוק
 במקרה שזה לא נכון.
\end_layout

\begin_layout Standard
יכולה להיות סתירה בין מטרות - כדי להגדיל את ה-
\lang english
throughput
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)באמצעות סיום כל תהליך בלי לבזבז זמן על קונטקסט סוויצ'ים( נסתור את הרצון
 למזער זמן תגובה כי נאלץ לחכות שמשימות אחרות יסיימו לפני שנריץ חדשות.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{אלגוריתמים אופליין}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
אלגוריתמים
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Offline
\end_layout

\begin_layout Standard
הכוונה ב-
\lang english
offline
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא שהאלג' מקבל את כל הקלט המלא ומחזיר פלט בהתבסס עליו.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
online
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מקבל קלט בחלקים קטנים ומחזיר פלט ש
\begin_inset Quotes xrd
\end_inset

נכון לאותו הרגע
\begin_inset Quotes xrd
\end_inset

 כאשר התוצאה יכולה להשתנות בהינתן קלט חדש.
\end_layout

\begin_layout Standard
אנחנו מניחים שיש לנו רשימה של עבודות לרבות זמן הריצה שלהן שאנחנו צריכים
 לסדר.
\end_layout

\begin_layout Enumerate
האלג' הכי פשוט שהוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
offline
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
First Come First Serve
\lang hebrew
, כלומר נחזיר את אותו הסדר בדיוק.
\end_layout

\begin_deeper
\begin_layout Standard
זמן ההמתנה הממוצע יוצא כאן מאוד ארוך אם יש משימה גדולה מאוד בהתחלה )בדומה
 לשיירה שנוצרת מאחורי משאית בכביש(.
\end_layout

\end_deeper
\begin_layout Enumerate
נסדר את העבודות לפי גודל עולה ואז לא ניתקע מאחורי משימות ארוכות, זה נקרא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Shortest Job First
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Standard
ה-
\lang english
throughput
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ישאר אותו הדבר אבל זמן ההמתנה ירד דרסטית.
 הבעיה כאן היא שאם רשימת המשימות היא אינסופית )ב-
\lang english
online
\lang hebrew
( נוכל לקבל הרעבה, אבל זו לא בעיה כאן כי אנחנו מניחים רשימה סופית.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
SJF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מצמצם זמן המתנה ממוצע, ולמעשה הוא אופטימלי על המדד הזה.
 מאוד קל להוכיח את זה - אם יש סידור יותר טוב מ-
\lang english
SJF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שהוא לא בסדר עולה של זמני ריצה, נחליף שני איברים שהם בסדר הפוך ונקבל סידור
 יותר אופטימלי סתירה.
\end_layout

\begin_layout Standard
גם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
preemption
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא עוזר לנו כי אין לנו סיבה לשנות את דעתנו באמצע כי הכל ידוע לנו מראש )
\lang english
offline
\lang hebrew
, כאמור(.
\end_layout

\begin_layout Standard
מבחינת זמן תגובה, זה גם אופטימלי, כי זמן התגובה מורכב מזמן הריצה )קבוע(
 עם זמן המתנה )אופטימלי(.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{אלגוריתמים אונליין}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
אלגוריתמים
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Online
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם זמני ריצה ובלי
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
preemption
\end_layout

\begin_layout Standard
נניח מודל פשוט, שלפיו העבודות מגיעות בזמן לא ידוע, כשהן כן מגיעות אנחנו
 יודעים את זמן הריצה שלהן, ואנחנו לא משתמשים ב-
\lang english
preemption
\lang hebrew
.
\end_layout

\begin_layout Enumerate
האלג' הכי פשוט שהוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
online
\lang hebrew
 גם כן הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FCFS
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Description
עקרון אנחנו שואלים בכל פעם שאנחנו מקבלים עבודה חדשה את המתזמן מה הוא רוצה
 לעשות.
 במקרה הזה נגיד לכולם לחכות עד שאלו שלפניהם יגמרו.
\end_layout

\end_deeper
\begin_layout Enumerate
כדי לשפר את זמני ההמתנה והתגובה, נוכל להשתמש במתזמן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SJF
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Description
עקרון בכל פעם שנקבל משימה חדשה, נקבע שהבאה היא הקצרה ביותר מבין כל האלה
 שמחכות כרגע )ונזיז אחורה ארוכות יותר(.
\end_layout

\begin_layout Standard
לא נעצור משימות )גם אם ארוכות( שרצות כרגע, אבל כשנתבקש לבחור אחת לרוץ, נבחר
 את הקצרה ביותר.
\end_layout

\begin_layout Description
הערה אפשר להסתכל על זה בתור אלג' עם עדיפויות כאשר בוחרים בכל פעם את העבודה
 עם העדיפות הגבוהה ביותר, כאשר כאן העדיפות היא זמן הריצה )אחד חלקי למעשה(.
\end_layout

\begin_deeper
\begin_layout Standard
גם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FCFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא אלג' עדיפות כאשר העדיפות היא הזמן שהמתנו מאז שהגענו.
\end_layout

\end_deeper
\begin_layout Description
חסרון עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SJF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אונליין הוא כמובן ולכן לא יודע את העתיד, לשם כך נצטרך דרך לשנות את דעתנו
 לפני סוף המשימה, קרי עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
preemption
\lang hebrew
.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
אלגוריתמים
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Online
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם זמני ריצה ועם
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
preemption
\end_layout

\begin_layout Standard
עתה נניח שהעבודות מגיעות בזמן לא ידוע, כשהן מגיעות אנחנו יודעים את זמן הריצה
 שלהן, ואנחנו כן יכולים להשתמש ב-
\lang english
preemption
\lang hebrew
.
 המחיר של תוספת זו היא שקונטקסט סוויץ' עולה בתקורה.
\end_layout

\begin_layout Enumerate
נכניס בכל פעם את התהליך שזמן הריצה שנותר לו הוא הקצר ביותר,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Shorest Remaining Processing Time
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Description
עקרון בכל פעם שמגיעה משימה חדשה והמתזמן מתבקש לבצע קביעה, נחליף למשימה שנותרה
 לה הכי קצת זמן )או נשאיר אותו הדבר אם המשימה הנוכחית היא הקצרה ביותר(.
\end_layout

\end_deeper
\begin_layout Standard
המודל השלישי שלנו והוא הריאלי, הוא שהמשימות מגיעות בזמן לא ידוע ולא ידוע
 לנו מה זמן הריצה שלהן, אבל כן יש לנו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
preemption
\lang hebrew
.
 הבעיה כאן היא שאנחנו לא יודעים את העתיד - כמה זמן משימה תיקח, מתי לעצור
 משימות ארוכות )אנחנו לא יודעים מי ארוכה( ולכן משימות קצרות נתקעות מאחורי
 ארוכות.
\end_layout

\begin_layout Standard

\size larger
אלגוריתמים
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Online
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 בלי זמני ריצה ועם 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
preemption
\end_layout

\begin_layout Enumerate
נוכל לשערך את הזמן שיקח לתהליך לרוץ )כאשר כאן אנחנו כן מתייחסים לתהליך כסדרת
 פרצי מעבד עם הפסקות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
I/O
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
באמצע( ואז להריץ אלג' שכבר ראינו, שמניחים שאנחנו יודעים את זמן הריצה.
\end_layout

\begin_deeper
\begin_layout Description
עקרון כדי לחשב את זמן הריצה המשוערך, נחשב 
\begin_inset Formula $\tau_{n+1}=\alpha t_{n}+\left(1-\alpha\right)\tau_{n}$
\end_inset

 כאשר 
\begin_inset Formula $\tau_{n}$
\end_inset

 הוא הזמן המשוערך לפרץ ה-
\begin_inset Formula $n$
\end_inset

, 
\begin_inset Formula $\alpha$
\end_inset

 הוא משקולת ב-
\begin_inset Formula $\left[0,1\right]$
\end_inset

 ו-
\begin_inset Formula $t_{n}$
\end_inset

 הוא הזמן האמיתי שמדדנו.
\end_layout

\begin_layout Description
חסרון שיטה זו לא תמיד נותנת תוצאות טובות מדי והיא דורשת הרבה מאוד תקורה.
\end_layout

\end_deeper
\begin_layout Enumerate
נניח שאפשר להריץ כמה עבודות ביחד.
\end_layout

\begin_deeper
\begin_layout Description
עקרון נגיד למשימות לרוץ 
\begin_inset Formula $\frac{1}{k}$
\end_inset

 זמן אם יש 
\begin_inset Formula $k$
\end_inset

 משימות, כלומר אנחנו מבצעים שיתוף מעבד.
\end_layout

\begin_layout Standard
ככל שיש יותר משימות נעבוד יותר לאט.
 בכל פעם שהמתזמן נשאל מה לעשות, הוא יגיד לדחוף גם את המשימה החדשה אל תוך
 המעבד )וכך נאט גם את המשימות הקודמות(.
\end_layout

\begin_layout Standard
זמן ההמתנה הוא 
\begin_inset Formula $0$
\end_inset

 וזמן התגובה הוא לא משהו.
\end_layout

\begin_layout Standard
משימות קצרות לא נתקעות יותר מדי זמן, אבל הרבה משימות יחד יהיו איטיות.
 הביצועים של שיטה זו תלויים בסטטיסטיקה של ה-
\lang english
workload
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- עם אילו משימות אנחנו עובדים.
 אם המשימות קצרות ברובן, אנחנו למעשה משערכים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SRPT
\lang hebrew
.
\end_layout

\begin_layout Description
חסרון אם הרבה משימות באותו האורך ויחסית ארוכות, אנחנו מקבלים ביצועים יותר
 גרועים מהאלג' הנאיבי,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FCFS
\lang hebrew
.
\end_layout

\begin_layout Description
ביצועים מבחינת התאוריה, ניתן להוכיח שאם ההתפלגות מוטה, כלומר שיש הרבה ערכים
 קטנים וקצת גדולים, אז שיתוף מעבד הוא יעיל.
 כלומר, אם 
\begin_inset Formula $CV=\frac{\text{סטיית תקן}}{\text{תוחלת}}>1$
\end_inset

 אז נקבל ביצועים טובים.
\end_layout

\begin_deeper
\begin_layout Standard
מחשבים מודרניים שומרים לוגים על תהליכים שבעבר ונוכל ללמוד על זמני הריצה
 משם.
 מסתבר שמקבלים הסת' עם זנב פארטו, כלומר 
\begin_inset Formula $P\left(r>t\right)=\frac{1}{t}$
\end_inset

 שזו דעיכה אקספוננציאלית ומאוד מוטה.
\end_layout

\begin_layout Standard
המידע הזה לא תמיד מדויק כי זה משתנה לכל מערכת וכיוצ
\begin_inset Quotes xrd
\end_inset

ב, אבל בעיקרון שיתוף מעבד זו שיטה טובה.
 הבעיה היא שאי אפשר לדחוף 
\begin_inset Formula $k$
\end_inset

 משימות אל תוך מעבד, אלא רק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
\end_layout

\end_deeper
\end_deeper
\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
Round Robin
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא שערוך של שיתוף מעבד.
\end_layout

\begin_deeper
\begin_layout Description
עקרון מריצים תהליך במשך קוואנטום זמן כלשהו )
\begin_inset Formula $10-100\;{\rm ms}$
\end_inset

(, עושים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
preempt
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ומחזירים אותו בחזרה לתור.
\end_layout

\begin_layout Standard
למעשה אנחנו פותחים את האבסטרקציה של שיתוף מעבד וכל הזמן מחליפים מה אנחנו
 מריצים במקום להריץ הכל ביחד.
\end_layout

\begin_layout Standard
ככל שהקוואנטום יותר קצר, זמן ההמתנה יותר קצר, אבל עם קוואנטם קצר יש יותר
 תקורה של סוויצ'ים.
 אם הקוואנטום מאוד ארוך, התהליך יכול לסיים לפני הקוואנטום ונקבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FCFS
\lang hebrew
.
 עם זאת, עבור איזון כלשהו של קוונאום יחסית ארוך, נוכל לתת למשימות קצרות
 לרוץ עד הסוף ומשימות ארוכות נריץ בחלקים וכך נקבל את הטוב משני העולמות.
\end_layout

\begin_layout Description
ביצועים פרקטית, אפליקציות כמו מדיה פליירים, תוכנות להורדת קבצים ואפליקציות
 יוטיליטי בסיסיות יקחו מעט מאוד זמן )כעשירית הפרומיל מקוואנטום באורך 
\begin_inset Formula $100{\rm ms}$
\end_inset

(.
\end_layout

\begin_deeper
\begin_layout Standard
משימות שמושפעות בעיקר ע
\begin_inset Quotes xrd
\end_inset

י ה-
\lang english
CPU
\lang hebrew
, לאמור משימות חישוביות, לעומת זאת, מגיעות לעתים שכיחות הרבה יותר לתום הקוואנטום
 או לפחות לחלק נכבד ממנו.
\end_layout

\end_deeper
\begin_layout Standard
כדי לממש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RR
\lang hebrew
, נשלח
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
interrupt
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כל פרק זמן קבוע מהשעון ובכל פעם שהוא מתקבל נריץ את האלג' של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)זה בדיוק מה שעשינו בתרגיל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
(.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
RR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עובד בסביבת אונליין ומתמודד עם העובדה שהוא לא יודע מה הולך לקרות באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
preemption
\lang hebrew
, והוא נותן יחס שווה לכולם.
 האם אפשר לעשות משהו יותר טוב מזה?
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{VII
\backslash
;
\backslash
; תזמון לעומק}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{VII}$
\end_inset

 | תזמון לעומק
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
אנחנו דנים במשימות שמגיעות מתישהו, מחכות, רצות ויוצאות מהתור.
 אנחנו לא מתייחסים ל-
\lang english
I/O
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אלא רק חישוב, ובתוכנות ריאקטיביות אחרי מאורע כלשהו יש פרץ חישוב שהוא משימה.
\end_layout

\begin_layout Standard
ראינו ש-
\lang english
SPRT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)זמן נותר מינימלי( הוא הכי יעיל במצב אופליין ובמציאות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 הוא מימוש אונליין פרקטי של שיתוף מעבדים, שהוא המקבילה האונליין של 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SPRT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לצורך העניין.
\end_layout

\begin_layout Standard
כדי לשפר את התזמון, נשתמש במידע מצטבר על משימות.
 בניגוד למה שעשינו עד כה, במקום להתייחס על כל תת משימה כמשימה נפרדת, נסתכל
 על משימות כחלק מתהליך כלשהו שנמשך גם אם הוא לא כרגע בתור.
 כשאנחנו עושים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
preemption
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 למשימה אחרי קוואנטום, אנחנו יודעים שהוא לא קצר.
 המטרה שלנו היא להיפטר ממשימות קצרות כמה שיותר מהר.
 לכן, נוכל להנמיך את הקדימות של משימה שאנחנו שהיא לא קצרה )סיימה קוונאטום(.
 לשם כך נשתמש בתור פידבק רב שלבי.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{תור פידבק רב שלבי}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
תור פידבק רב שלבי
\end_layout

\begin_layout Standard
תור פידבק רב שלבי הוא אלג' תזמון לפיו לאחר שמשימה מסיימת קוונאטום, היא מועברת
 לתור אחר שבו שמים משימות ארוכות.
 ניקח משימות מהתור המשני רק אם התור המרכזי ריק.
 אפשר ליצור כמה תורים כאלה שלכל אחד מהם יהיה קוואנטום אחר ואלג' תזמון אחר.
\end_layout

\begin_layout Description
דוגמה נבנה ארבעה תורים עם קוואנטומים, משמאל לימין, 
\begin_inset Formula $10,20,40,80$
\end_inset

 )ההגדלה של הקוואנטומים מצמצת תקורה כי ככל שעובר יותר זמן ניכר כי המשימה
 יותר ארוכה ואז לא כדאי לבזבז תקורה(.
 בכל פעם אם המשימה לא נגמרת עד סוף הקוואנטום מורידים אותה לתור הבא.
\end_layout

\begin_layout Description
הערה היות משימה כלשהי בתור מסוים מעידה על אורכה בערך )ככל שהוא יותר למטה
 הוא יותר ארוך(.
\end_layout

\begin_layout Standard
לסיכום, משימה נכנסת בעדיפות הכי גבוהה, מריצים את המשימה מהתור עם העדיפות
 הכי גבוהה ובתוך כל תור מתזמנים לפי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RR
\lang hebrew
.
 האלג' מתעדף בסגנון
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SJF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בלי לדעת מה האורך שנותר ומתי יגיעו משימות בעזרת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
preemption
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והוא קליל מאוד ומשומש במידה כזו או אחרת ברוב המערכות המרכזיות.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{הרעבה בתור פידבק רב שלבי}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
פתרונות להרעבה בתור פידבק רב שלבי
\end_layout

\begin_layout Standard
משימות ארוכות מורעבות באופן די שכיח, נצטרך למנועה זאת.
\end_layout

\begin_layout Enumerate
הקצאת זמן מעבד באופן יחסי בהתאם לעדיפות )כמה שיותר גבוה כמה שיותר זמן( כאשר
 נממש זאת בתור הגרלת משימה להרצה עם הסת' בהתאם להקצאה.
 כך גם משימות בעדיפות נמוכות יקבלו יותר מ-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
זמן חישוב.
\end_layout

\begin_layout Enumerate
משוב שלילי - ככל שתהליך רץ נוריד לו את העדיפות וככל שהוא ממתין יותר נעלה
 לו את העדיפות.
\end_layout

\begin_layout Description
דוגמה במערכות יוניקס המתזמן הקלאסי הכיל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
128
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תורים עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
128
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עדיפויות.
 עדיפויות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0-49
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 נשמרו לקרנל וכל השאר למשתמשים.
 המתנה של הקרנל לדיסק )באמצעות 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
syscall
\lang hebrew
( הייתה בעדיפות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
20
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולטרמינל בעדיפות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
28
\numeric off
.
\end_layout

\begin_deeper
\begin_layout Standard
העדיפות מחושבת ע
\begin_inset Quotes xrd
\end_inset

י: בסיס )
\numeric on
50
\numeric off
( + זמן החישוב עד כה )הבסיס הנוסף כדי שלא ניכנס לאזור של הקרנל(.
\end_layout

\begin_layout Standard
הקוונאטום היה כל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 תיקים, כאשר תיק של השעון קורה כל מאית שנייה.
 לאחר כל פרץ )הקוואנטום המלא או בלוק לפניו( בודקים אם יש תהליך בעדיפות גבוהה
 יותר, אם לא, עושים 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על התהליכים בעדיפות של התהליך הנוכחי.
\end_layout

\begin_layout Standard
כל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 שנייה )
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
100
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תיקים( עוברים על כל זמני החישוב השמורים וחוצים אותם לשניים ובכך מעלים את
 העדיפות של כולם.
 הפעולה הזו גורמת לעלייה אקספוננציאלית בעדיפות )ראו גרף(.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/unix.png
	lyxscale 30
	scale 55

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמה לריצת המתזמן הקלאסי של יוניקס
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
לחלופין, הרעבה היא לא בעיה אלא פיצ'ר.
 כלומר, העובדה שמשימות קצרות מגיעות כל הזמן מעיד על כך שהמערכת בעומס יתר
 ולכן ברור שאי אפשר להריץ הכל.
\end_layout

\begin_layout Description
הערה הכוונה בעומס הוא היחס בין הקיבולת של המערכת לדרישות המשתמש.
 נרצה שהמערכת תהיה לרוב ב-
\begin_inset Formula $100\%$
\end_inset

 עומס וכל דבר מעל זה לא יוכל להיות מורץ כמו שצריך.
 מערכות ממשלתיות/גדולות נבחרות לפי העומס המצופה עליהן כך שלא אמורים להגיע
 לעומס יתר.
\end_layout

\begin_layout Standard
למעשה, זה הגיוני להקריב את הג'וב הארוך כי זה אומר שהוא לא רלוונטי למשתמש
 בטווח הקצר וכן שמשימה ארוכה אחת שקולה להרבה קצרות ועדיף להריץ הרבה מאשר
 מעט.
 לאחר שעומס היתר ירגע )לדוגמה בלילה(, המשימות הארוכות יוכלו לרוץ ללא הרעבה.
\end_layout

\begin_layout Standard
בתור פידבק רב שלבי, משימות חישוביות מקבלות עדיפות נמוכה בעוד משימות אינטראקטיביו
ת )קצרות( מקבלות עדיפות מאוד גבוהה וירוצו מיד.
 בימינו יש משימות אינטראקטיביות ארוכות כגון רנדרינג של תלת מימד ובמודל הנוכחי
 הן לא יקבלו עדיפות גבוהה.
 לשם כך אפשר לתעדף לפי החלון שכרגע המשתמש מתממשק איתה )כך קורה בווינדוס(.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{הערכת ביצועי מתזמנים}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
הערכת ביצועי מתזמנים
\end_layout

\begin_layout Standard
בניגוד לניתוח באלגו', נתעלם מהסיבוכיות של האלג' ויעניין אותנו רק איכות הפלט
 שלו )נמדוד לפי מדדים כגון ניצולת וכו'(.
\end_layout

\begin_layout Standard

\size larger
כיצד נעריך מתזמן?
\end_layout

\begin_layout Enumerate
ניתוח אנליטי - הוכחות מתמטיות לביצועים.
\end_layout

\begin_layout Enumerate
סימולציה - להשתמש במימוש של המתזמן עם קלט שאמור לייצג את המציאות.
\end_layout

\begin_layout Enumerate
מימוש - לממש את המתזמן במערכת האמיתית ולראות אם הוא מבע היטב.
\end_layout

\begin_layout Standard
נבצע ניתוח אנליטי, ראו המודל שלנו.
 הפרמטרים של הניתוח הם ממוצע מספר המשימות שמגיעות ליחידת זמן, אלג' התזמון
 )
\lang english
FCFS
\lang hebrew
( והזמן שלוקח לבצע כל משימה.
 נרצה לדעת מה זמן התגובה הממוצע.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/queue.png
	lyxscale 30
	scale 55

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
המודל איתו נעבוד לניתוח תזמון
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{ניתוח של מודל פשטני}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
ניתוח תור 
\begin_inset Formula ${\rm M/M/1}$
\end_inset


\end_layout

\begin_layout Standard
נניח כי יש לנו מערכת יחידה שבה העבודות מגיעות בקצב 
\begin_inset Formula $\la$
\end_inset

 עבודות ליחידת זמן בהפרשים שמתפלגים פואסון )אחרי שהגיעה משימה הבאה תגיעה
 לאחר זמן שנקבע ע
\begin_inset Quotes xrd
\end_inset

י מ
\begin_inset Quotes xrd
\end_inset

מ פואסאון( עם פרמטר 
\begin_inset Formula $\la$
\end_inset

 וכמות המשימות שהמעבד מבצע ליחידת זמן היא אקספוננציאלית עם פרמטר )תוחלת(
 
\begin_inset Formula $\mu$
\end_inset

.
\end_layout

\begin_layout Description
הערה אם 
\begin_inset Formula $\la>\mu$
\end_inset

 אז המערכת לא יציבה )אורך תור המוכנים ישאף לאינסוף( ולכן נדרוש 
\begin_inset Formula $\la\leq\mu$
\end_inset

.
\end_layout

\begin_layout Standard
בהינתן 
\begin_inset Formula $\la,\mu$
\end_inset

, נרצה לדעת מה זמן התגובה הממוצע יהיה.
\end_layout

\begin_layout Standard
אם נניח שההפרש בין עבודות הוא קבוע וכל עבודה רצה זמן קבוע אז אם עבודה מגיעה
 כל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\numeric off
 יחידות זמן וכל משימה היא באורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יחידת זמן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אז העומס יהיה 
\begin_inset Formula $10\%$
\end_inset

 וקל מאוד לעשות את זה לכל שני מספרים במקרה הדטרמיניסטי.
 אי אפשר להכליל כל כך בקלות למקרה ההסת' כי אם אורך העבודה והפרשי זמן ההגעה
 הם מאוד קרובים, לא תמיד תהיה הפרדה מלאה ביניהם.
\end_layout

\begin_layout Description
משפט )משפט קטן( אם 
\begin_inset Formula $\la$
\end_inset

 )קצב ההגעה( ו-
\begin_inset Formula $\mu$
\end_inset

 )קצב העיבוד( אז מתקיים 
\begin_inset Formula $\overline{n}=\la\overline{r}$
\end_inset

 כאשר 
\begin_inset Formula $\overline{r}$
\end_inset

 הוא זמן התגובה הממוצע ו-
\begin_inset Formula $\overline{n}$
\end_inset

 הוא מספר המשימות במערכת בממוצע.
\end_layout

\begin_layout Description
הערה נותר לנו למצוא את 
\begin_inset Formula $\overline{n}$
\end_inset

 כפ' של 
\begin_inset Formula $\la$
\end_inset

 ו-
\begin_inset Formula $\mu$
\end_inset

.
\end_layout

\begin_layout Standard

\size larger
מצבים בה המערכת יכולה להיות
\end_layout

\begin_layout Itemize
אין תהליכים בכלל בתור.
\end_layout

\begin_layout Itemize
יש תהליך אחד בתור.
\end_layout

\begin_layout Itemize
יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תהליכים בתור.
\end_layout

\begin_layout Itemize
...
\end_layout

\begin_layout Standard
המעבר ממצב 
\begin_inset Formula $i$
\end_inset

 ל-
\begin_inset Formula $i+1$
\end_inset

 קורה בקצב 
\begin_inset Formula $\la$
\end_inset

 והמעבר מ-
\begin_inset Formula $i+1$
\end_inset

 ל-
\begin_inset Formula $i$
\end_inset

 קורה בקצב 
\begin_inset Formula $\mu$
\end_inset

.
 תרשים מצבים כזה יוצר שרשרת מרקוב.
 שרשראות מרקוב לאורך זמן מתכנסות להסת' כלשהי למעבר בין מצבים )עם עוד כמה
 תנאים(.
 נסמן ב-
\begin_inset Formula $\pi_{i}$
\end_inset

 ההסת' האסימפטוטית להיות במצב ה-
\begin_inset Formula $i$
\end_inset

.
 באמצעות זרימה מאוזנת, כלומר שההסת' למעבר ממצב אחד לאחר שווה למעבר הפוך,
 מתקיים 
\begin_inset Formula $\pi_{0}\la=\pi_{1}\mu$
\end_inset

 ולכן 
\begin_inset Formula $\pi_{1}=\frac{\la}{\mu}\pi_{0}$
\end_inset

 ובאותו האופן 
\begin_inset Formula $\pi_{2}=\left(\frac{\la}{\mu}\right)^{2}\pi_{0}$
\end_inset

 ובמקרה הכללי 
\begin_inset Formula $\pi_{i}=\left(\frac{\la}{\mu}\right)^{i}\pi_{0}=\rho^{i}\pi_{0}$
\end_inset

 ובהתחשב בזה שצריך להיות במצב כלשהו תמיד,
\begin_inset Formula 
\[
1=\sum_{i=0}^{\infty}\pi_{i}=\pi_{0}\sum_{i=0}^{\infty}\rho^{i}=\frac{\pi_{0}}{1-\rho}
\]

\end_inset

ולכן 
\begin_inset Formula $\pi_{i}=\rho^{i}\left(1-\rho\right)$
\end_inset

 כאשר 
\begin_inset Formula $\rho=\frac{\la}{\mu}$
\end_inset

.
 מתקיים
\begin_inset Formula 
\[
\overline{n}=\sum_{i=0}^{\infty}i\pi_{i}=\sum_{i=0}^{\infty}i\left(1-\rho\right)\rho^{i}=\frac{\rho}{1-\rho}
\]

\end_inset

ובאמצעות משפט קטן נקבל 
\begin_inset Formula $\overline{r}=\frac{\overline{n}}{\la}=\frac{\rho}{\la\left(1-\rho\right)}=\frac{1}{\mu\left(1-\rho\right)}$
\end_inset

 שזה אקספוננציאלי בניצולת )ראו גרף(.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/util.png
	lyxscale 30
	scale 55

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
שאיפה אסימפטוטית של זמן התגובה הממוצע כפ' של הניצולת
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
הגרף הזה מלמד אותנו שגם במקרה הכללי, הרעבה אינה בינארית אלה תהליך שגדל עם
 העומס על המערכת.
\end_layout

\begin_layout Standard
בנוסף, אנו למדים כי חשוב שלא להתקרב ל-
\begin_inset Formula $100\%$
\end_inset

 ניצולת כי זה אומר שנקבל זמני תגובה מאוד גרועים, ולכן נקנה מערכת עם קצת
 יותר כוח חישוב מהנדרש.
\end_layout

\begin_layout Description
הערה כל זה הראנו רק עבור המודל הספציפי אבל נטען כי זה נכון גם במקרה הכללי.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{מערכות פתוחות וסגורות}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
מערכות פתוחות וסגורות
\end_layout

\begin_layout Itemize
מערכת פתוחה: אוכלוסיה אינסופית של עבודות שמגיעות למודל מבחוץ )מה שעכשיו
 ראינו(.
\end_layout

\begin_deeper
\begin_layout Standard
ביצועי המערכת לא משפיעים על הגעת המשימות )אנשים ישלחו בקשות לשרת בלי קשר
 לאיכות השרת(.
 נהיה חייבים שהעומס יהיה פחות מ-
\begin_inset Formula $100\%$
\end_inset

 ונמדוד את איכות המתזמן לפי זמן התגובה.
\end_layout

\end_deeper
\begin_layout Itemize
מערכות סגורה: מספר קבוע של משימות שחוזרות על עצמן )לדוגמה מזגן, שצריך לבדוק
 כל כמה זמן האם הוא בטמפרטורה הנכונה, אם לא לעשות משהו וזהו(.
\end_layout

\begin_deeper
\begin_layout Standard
ביצועי המערכת נותנים 
\begin_inset Quotes xld
\end_inset

פידבק
\begin_inset Quotes xrd
\end_inset

 למשימות )ביצוע איטי יאט את קצב ההגעה(, העומס צריך להיות 
\begin_inset Formula $100\%$
\end_inset

 ונמדוד לפי תפוקה )כמה מהר מבצעים סיבוב במערכת(.
\end_layout

\end_deeper
\begin_layout Standard
יש גם מערכות מעורבות גם פתחות וגם סגורות )ראו איור(.
 במערכת זו נדמה משימות להיות משתמשים שמבצעים פעולה כלשהי שהיא או חישובית,
 או ממתינה לטרמינל/דיסק ואז חוזרות למערכת )סגורה( אבל יכולות להסתיים )פתוחה(.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/open-close.png
	lyxscale 30
	scale 55

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
מערכת גם פתוחה וגם סגורה
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
ברגע שיש לנו רשת של תורים )גם דיסק וגם מעבד וכו'(, חשוב לנו בעיקר מי צוואר
 הבקבוק.
\end_layout

\begin_layout Description
דוגמה אם הפעולות הן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPU-Bound
\lang hebrew
, המעבד הוא צוואר בקבוק, אם זה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
I/O-Bound
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אז הדיסק הוא צוואר הבקבוק והמעבד לא עובד יותר מדי.
\end_layout

\begin_layout Standard
בכל מקרה, רק התזמון של צוואר הבקבוק הוא זה שמשנה.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{תזמון מתקדם}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
תזמון בטווח ארוך
\end_layout

\begin_layout Standard
עד כה דנו בתזמון בטווח הקצר, כלומר משימות שנמצאות בזיכרון וכו', אבל יכול
 להיות שהמשימות שיש לנו דורשות יותר זיכרון משיש, לכן צריך לבחור אילו משימות
 שמים בזיכרון ואילו שומרים בדיסק לעתה.
 התקורה מאוד גבוהה לתזמון כזה ולכן יש לנו שני שיקולים מרכזיים: להשאיר את
 המערכת אינטראקטיבית; ולמצוא תערובת טובה של משימות שיאזנו את השימוש במשאבים.
\end_layout

\begin_layout Standard
כלומר, לאזן בין משימות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPU-Bound
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
I/O-Bound
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כדי שלא המעבד ולא הדיסק יהיו צווארי בקבוק.
\end_layout

\begin_layout Standard

\size larger
תזמון הוגן
\end_layout

\begin_layout Standard
תזמון יכול להתחשב גם בחלקים הוגנים )לא שווים( של תהליכים - לתת לכל תהליך
 את החלק ה
\begin_inset Quotes xrd
\end_inset

ראוי
\begin_inset Quotes xrd
\end_inset

 לו, בהתחשב במשאבים, דרישות, עדיפויות פוליטיות וכו'.
\end_layout

\begin_layout Enumerate
תזמון זמן וירטואלי: נבחר את התהליך עם יחס הזמן המעבד שקיבל מול זמן המעבד
 שמגיע לו )בהתחשב בשיקולים הנ
\begin_inset Quotes xrd
\end_inset

ל( ונריץ אותו למשך קוואנטום.
\end_layout

\begin_layout Enumerate
תזמון לוטו: ניתן לתהליכים כרטיסי לוטו למשאבים שונים וכמות הכרטיסים ייצגו
 את ההקצאה שמגיעה לתהליך.
 בוחרים כרטיס אקראי והתהליך שיש לו אותו מקבל את המשאב הזה )המעבד, הדיסק
 וכו'(.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard

\size larger
קריטריונים מעשיים לבחירת שיטת תזמון
\end_layout

\begin_layout Itemize
ניצולת )
\lang english
utilization
\lang hebrew
( - שהמעבד ירוץ כמה ש
\bar under
יותר
\bar default
 )על משימות אמיתיות, לא תקורה(.
\end_layout

\begin_layout Itemize
תפוקה )
\lang english
throughput
\lang hebrew
( - כמה ש
\bar under
יותר
\bar default
 משימות מסיימות את הרצתן.
\end_layout

\begin_layout Itemize
זמן המתנה )
\lang english
waiting time
\lang hebrew
( - כמה ש
\bar under
פחות
\bar default
 זמן לוקח מהכניסה למתזמן ועד להתחלת הריצה.
\end_layout

\begin_layout Itemize
זמן מוכלל )
\lang english
turnaround time
\lang hebrew
( - כמה ש
\bar under
פחות
\bar default
 זמן מהכניסה למתזמן ועד סיום הריצה.
\end_layout

\begin_layout Description
הערה יש הרבה דוגמאות שלא אוסיף כי זה לוקח הרבה זמן ולא מלמד יותר מדי.
 הסטודנטית המשקיעה תמציא ממוחה התוסס דוגמה ותריץ את האלג' השונים.
 כל התרגול הוא תמצות מסודר של ההרצאה.
\end_layout

\begin_layout Standard

\size larger
שיטות תזמון
\end_layout

\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
First Come, First Serve
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- מורצים לפי הסדר.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה 
\begin_inset Formula $\left(P_{1},10\right),\left(P_{2},1\right),\left(P_{2},1\right)$
\end_inset

 )זמן המתנה, משימה( הזמן שייקח סה
\begin_inset Quotes xrd
\end_inset

כ הוא 
\begin_inset Formula $12+2\cs$
\end_inset

 )קונטסט סוויצ'ים(.
\end_layout

\begin_layout Standard
הבעיה איתו היא שהוא אמנם הוגן אבל לא מתפקד היטב במשימות ארוכות.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
Shorest-Job-First
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- מורצים לפי זמן קצר ביותר )באופליין, בלי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
preemption
\lang hebrew
(, אם יש שניים באותו האורך, עושים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FCFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 על המשימות השוות.
\end_layout

\begin_deeper
\begin_layout Standard
הבעיה איתו היא שהרבה מאוד משימות קצרות מרעיבות משימה אחת ארוכה יותר, ובעיקר
 הוא לא פרקטי כי אנחנו אף פעם לא באופליין.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $\left(P_{1},8\right),\left(P_{2},4\right),\left(P_{3},9\right),\left(P_{4},5\right)$
\end_inset

.
 נבצע את המשימות במלואן בסדר 
\begin_inset Formula $P_{2},P_{4},P_{1},P_{3}$
\end_inset

.
 זמן ההמתנה הוא סה
\begin_inset Quotes xrd
\end_inset

כ 
\begin_inset Formula $7.5$
\end_inset

 )עם קונטקסט סוויץ' זניח(.
 לעומת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FCFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
זמן ההמתנה זה עדיף כי שם זמן ההמתנה הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $10.25$
\end_inset

.
 הניצולת מקסימלית, תפוקה זהה ל-
\lang english
FCFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 וזמן מוכלל קצר במעט מזה של 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FCFS
\lang hebrew
.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
Shortest Remaining Time First
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- מורצים לפי זמן קצר ביותר שנותר )עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
preemption
\lang hebrew
(.
\end_layout

\begin_deeper
\begin_layout Standard
יש לו את אותם היתרונות והחסרונות של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SJF
\lang hebrew
.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $\left(P_{1},8,0\right),\left(P_{2},4,1\right),\left(P_{3},9,2\right),\left(P_{4},5,3\right)$
\end_inset

 כאשר הוספנו עכשיו זמני הגעה.
 נריץ אותם באופן הבא:
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/srtf.png
	lyxscale 30
	scale 55

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמה לריצת מתזמן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SRTF
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
זמן ההמתנה הוא 
\begin_inset Formula $\left(\left(10-1\right)+0+\left(17-2\right)+\left(5-3\right)\right)/4=6.5$
\end_inset

 כאשר החיסורים הם ביחס למתי הם הגיעו, אם חטפו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
preemption
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 לא נספור זאת כהמתנה נוספת.
\end_layout

\end_deeper
\end_deeper
\begin_layout Enumerate
תזמון עדיפויות - מריצים לפי עדיפות )לדוגמה טווח מספרים בהתבסס על נתונים
 כלשהם(.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FCFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
זה תזמון עדיפויות לפי זמן הגעה.
\end_layout

\begin_layout Standard
ניתן להגדיר עדיפויות לפי סיבות פוליטיות או לפי דברים פנימיים )כמה זיכרון
 זה דורש(.
 הבעיה עם השיטה הזו היא הרעבה של משימות עם עדיפות נמוכה.
\end_layout

\begin_layout Standard
הפתרון לכך הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
aging
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- ככל שמשימה ממתינה יותר זמן מעלים את העדיפות שלה.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
Round-Robin
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- מריצים בקוואנטומים משימות.
\end_layout

\begin_deeper
\begin_layout Standard
אם המשימה מסתיימת מוקדם היא תעזוב באופן יזום, אחרת נחייב אותה לעזוב את המעבד.
\end_layout

\begin_layout Description
דוגמה עבור 
\begin_inset Formula $\left(P_{1},24\right),\left(P_{2},3\right),\left(P_{3},3\right)$
\end_inset

 עם קוואנטום
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\numeric off
, נקבל את החלוקה הבאה:
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/quant.png
	lyxscale 30
	scale 55

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמה לריצת מזתמן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RR
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
הניצולת נפגעת במתזמן זה בעיקר כי עושים הרבה קונטקסט סוויצ'ים.
 הוא מאוד דומה ל-
\lang english
FCFS
\lang hebrew
, כאשר 
\lang english
FCFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא עם זמן סיום הרבה יותר נמוך.
 כשהשונות גבוהה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מבצע יותר טוב )גם במציאות(.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
Multilevel Queue
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- נחלק את התור לכמה תורים שונים, שלכל אחד יהיה תזמון משלו ולתור הכללי יהיה
 גם תזמון כלשהו.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה תור עדיפויות כללי שמכיל תורי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לסטודנטים, פרופסורים וכו' בנפרד.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
Multilevel Feedback Queue
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- תור רב שלבי כאשר משימות יכולות לעבור בין תורים.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה הדוגמה הקודמת, כאשר משימות שרצות יותר מדי זמן משונמכות כדי לא לגרום
 להרעבה.
\end_layout

\begin_layout Standard
אלג' כזה מוגדר ע
\begin_inset Quotes xrd
\end_inset

י כמה תורים; מה אלג' התזמון של כל תור )כולל הכללי(; באיזו שיטה קובעים לאיזה
 תור נכנסת משימה כשהיא מגיעה; מתי משדרגים משימה; מתי משמנמכים משימה.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $Q_{0}$
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\begin_inset Formula $Q_{1}$
\end_inset

 הם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם 
\begin_inset Formula $8$
\end_inset

 ו-
\numeric on
16
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מילישניות בהתאמה ו-
\begin_inset Formula $Q_{2}$
\end_inset

 הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FCFS
\lang hebrew
.
 כשתור חדש הוא מגיע הוא נכנס ל-
\begin_inset Formula $Q_{0}$
\end_inset

, אם הוא מקבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 מילישניות מלאות הוא משונמך ל-
\begin_inset Formula $Q_{2}$
\end_inset

, שם אם הוא מקבל 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
16
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מילישניות מלאות הוא משונמך ל-
\begin_inset Formula $Q_{2}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
תזמון במערכות מקביליות
\end_layout

\begin_layout Standard
מחשבי על משמשים כדי לחשב דברים ממש מהר.
 לכל מחשב יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בסיסי ויש מחשב שמנהל איזו משימה יריץ כל מחשב בתוך החווה.
 המחשבים מריצים ביחד משימות ולרוב שירותים כאלה לא משתמשים ב-
\lang english
preemption
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אלא מוגבלים על ידי הדרישות שלהם )המשתמש מספק כמה זמן/זיכרון/מעבדים הוא רוצה(.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
AWS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא חברת הענן של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אמאזון, ומספקת שירות כזה בתשלום )באמצעות 
\lang english
EC2
\lang hebrew
(, שקיים מאז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2006
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והוא שולט בשליש משוק הענן.
 בנוסף, 
\begin_inset Formula $5\%$
\end_inset

 מכל האינטרנט עובר דרך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
AWS
\lang hebrew
.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
Akamai
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא חברת החישוב המבוזר הגדולה בעולם )שאינה מוכרת(, שהוקמה ב-
\numeric on
1998
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ע
\begin_inset Quotes xrd
\end_inset

י
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
דניאל לווין שנרצח בפיגועי התאומים.
\end_layout

\begin_layout Standard

\size larger
שיטות תזמון במערכות מבוזרות
\end_layout

\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
FCFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- נריץ משימות לפי הסדר, כאשר בכל פעם שמגיעה משימה חדשה )שדורש מספר כלשהו
 של מעבדים(, נבדוק אם יש לנו מספר מעבדים פנויים גדול דיו, אם כן נכניס את
 המשימה, אחרת נגרום לה לחכות.
 ניתן להסתכל על זה בתור גרף דו ממדי שבו ציר ה-
\begin_inset Formula $x$
\end_inset

 הוא הזמן וציר ה-
\begin_inset Formula $y$
\end_inset

 הוא מספר המעבדים ובזכות העובדה שידוע לנו כמה זמן צריך לכל משימה, נוכל להרכיב
 את כל הבלוקים באופן אופטימלי )בשלב הזה עדיין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FCFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אבל בהמשך יותר מתוחכם(.
 ראו דוגמה לבניה כזו, כל מלבן הא משימה אחרת.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/fcfs.png
	lyxscale 30
	scale 55

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמה לריצת מזתמן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FCFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 במערכת מבוזרת
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
Backfilling
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 - נריץ משימות לפי הסדר ואם תגיע משימה שאפשר לדחוף איפשהו בגרף נעשה זאת,
 גם אם היא לא ראשונה.
\end_layout

\begin_deeper
\begin_layout Standard
הבעיה כאן היא שזה גורם להרעבה של משימות שלא נדחפות במקומות.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
EASY
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- נשמור רשימה של משימות רצות וממתינות ונזכור כמה מעבדים הן דורשות ומתי הן
 אמורות להסתיים, וכן מתי הן הגיעו )נמיין את הממתינות לפי פרמטר זה(.
\end_layout

\begin_deeper
\begin_layout Standard
האלג' פועל באופן הבא:
\end_layout

\begin_layout Enumerate
נתזמן את המשימות לפי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FCFS
\lang hebrew
.
\end_layout

\begin_layout Enumerate
נשריין מקום למשימה הראשונה שאי אפשר להריץ.
\end_layout

\begin_layout Enumerate
נבצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Backfilling
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כמה שאפשר בהתחשב בשיריון.
 השלמת חורים אפשר לבצע בשתי דרכים.
\end_layout

\begin_deeper
\begin_layout Itemize
דחיפת המשימה לפי נתוניה המקוריים.
\end_layout

\begin_layout Itemize
מריחת המשימה עם פחות מעבדים אך לאורך יותר זמן.
\end_layout

\end_deeper
\begin_layout Standard
זהו אלג' מאוד פופולרי ופשוט שמשיג ביצועים מאוד טובים.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{VIII
\backslash
;
\backslash
; ניהול זיכרון}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{VIII}$
\end_inset

 | ניהול זיכרון
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{המטמון}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
עד כה דנו באופן סכמתי בזיכרון ועתה נעסוק בו באופן יותר מפורט.
 הזיכרון עצמו מחולק לשני סוגי זיכרון: הזיכרון המרכזי ומטמון )
\lang english
Cache
\lang hebrew
(.
 מטמון מחולק לשלושה שלבים -
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
L1, L2, L3
\lang hebrew
.
 לפי הסדר שלהם, מהירותם יורדת אבל מחירם וגודלם גם יורד )ראו איור(.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/cache.png
	lyxscale 30
	scale 55

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
חלוקה הזיכרון במחשב
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
שליש נאנו שנייה הוא בערך המהירות שבה עובד גם המעבד, לא רק 
\begin_inset Formula $\text{L1}$
\end_inset

 )שלושה גיגה הרץ זה פעולה כל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\begin_inset Formula $0.000000000333...$
\end_inset

 שניות(.
 נשים לב שהגישה לדיסק היא איטית בכמה סדרי גודל )
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
5
\numeric off
( 
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
ביחס לזיכרון המרכזי.
 כלומר, אם רגיסטר שקול ללהרים פריט שיש לידי על השולחן, הזיכרון המרכזי שקול
 למשהו שנמצא ממני במרחק דקה וחצי והדיסק שקול להזמנת משהו מדואר ישראל )שהוא
 גם מגיע(.
\end_layout

\begin_layout Standard
לאורך השנים, מהירות המעבד גדלה דרסטית )בהתאם לחוק מור, 
\begin_inset Formula $\times1.5$
\end_inset

 בשנה( ואילו הזיכרון גדל ב-
\begin_inset Formula $\times1.07$
\end_inset

.
 לכן, יש פער מאוד גדול בין מהירות המעבד ל-
\begin_inset Formula ${\rm DRAM}$
\end_inset

 )זיכרון דינמי, שהוא הזיכרון המרכזי(.
 לשם כך כבר יחסית מוקדם הומצא המטמון, שמטרתו להיות מתווך עם קיבולת קטנה
 אך מהירה בין המעבד לזיכרון ששומר דברים שהמעבד צריך.
 המטמון מבוסס על עקרון הלוקאליות הזמנית והמרחבית.
\end_layout

\begin_layout Description
דוגמה לוקאליות זמנית פרושה שאם ניגשנו לזיכרון כלשהו, הסיכוי שניגש לזיכרון
 הזה שוב מאוד גבוה.
\end_layout

\begin_deeper
\begin_layout Standard
אם אנחנו עושים אינקרמנט למשתנה, אנחנו קוראים ואז מיד כותבים, פעמיים קראנו
 לאותה הכתובה.
\end_layout

\begin_layout Standard
לולאות בקוד גם נחשבות לוקאליות זמנית כי הסיכוי להיות במיקום בקוד שוב בטווח
 זמן קצר הוא גבוה.
\end_layout

\end_deeper
\begin_layout Description
דוגמה לוקאליות מרחבית פרושה שאם ניגשנו לזיכרון כלשהו, סביר שניגש לכתובת
 סמוכה לו.
\end_layout

\begin_deeper
\begin_layout Standard
מערכים הם בבירור מקרה של לוקאליות מרחבית, וכך גם עצם העובדה שאנחנו מריצים
 פקודות באופן סדרתי )עד כדי קפיצות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
control flow
\lang hebrew
(.
\end_layout

\end_deeper
\begin_layout Standard
העיקרון הוא לשמור את הדבר הבא שהמעבד סביר ביותר להיות צריך.
\end_layout

\begin_layout Description
דוגמה כל שכבה מהווה מטמון של השלב שמעליה.
 אם קוראים משהו מהענן אנחנו שמים אותו בדיסק, ואז בזיכרון, ואז בכל אחד מהקאשים
 ורק אז ברגיסטרים של המעבד - כל אחד מהיר מהקודם.
\end_layout

\begin_layout Standard

\size larger
טכנולוגיות זיכרון
\end_layout

\begin_layout Enumerate
מטמון משתמש בטכנולוגיית 
\begin_inset Formula ${\rm SRAM}$
\end_inset

 )סטטי( שהיא יקרה אבל מהירה, ושומרת את הזיכרון בו לתמיד כל עוד המחשב דלוק,
 אבל כשהוא כבוי הכל נאבד )זיכרון נדיף,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
volatile
\lang hebrew
(.
\end_layout

\begin_layout Enumerate
הזיכרון המרכזי משתמש בטכנלוגיית 
\begin_inset Formula ${\rm DRAM}$
\end_inset

 )דינמי( שהיא זולה אבל יחסית איטית ודורשת ריענון של הערכים בה כל כמה מילי-שניות
 )זיכרון נדיף(.
\end_layout

\begin_layout Enumerate
דיסקים עובדים על משטחים מגנטיים שמסתובבים עם ראש שזז וכל הפעולות האלה מכניות
 ולוקחות הרבה מאוד זמן )זיכרון לא נדיף(.
\end_layout

\begin_deeper
\begin_layout Standard
לחלופין יש 
\begin_inset Formula ${\rm SSD}$
\end_inset

 שהוא דומה ל-
\begin_inset Formula ${\rm DRAM}$
\end_inset

 אבל יותר איטי ולצורך העניין דומה לדיסקים.
\end_layout

\end_deeper
\begin_layout Description
הערה כשמדובר במערכות מרובות ליבה, הרגיסטירים ומטמוני
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
L1, L2
\lang hebrew
, הם נפרדים לכל ליבה וכל מה שאחרי זה )
\begin_inset Formula ${\rm L3}$
\end_inset

, זיכרון וכו'( הוא משותף לכל הליבות.
\end_layout

\begin_layout Standard
כל רכיב הוא תחת אחריות של דבר אחר - רגירסטרים מנוהלים ע
\begin_inset Quotes xrd
\end_inset

י הקומפיילר; מטמון ע
\begin_inset Quotes xrd
\end_inset

י חומרה; וזיכרון ואחסון ע
\begin_inset Quotes xrd
\end_inset

י מערכת ההפעלה.
\end_layout

\begin_layout Standard
מערכת ההפעלה מבצעת את האבסטרקציה של קבצים בדיסק, ניהול זיכרון בזיכרון המרכזי
 וכו'.
\end_layout

\begin_layout Standard

\size larger
מרחב הכתובות
\end_layout

\begin_layout Standard
מרחב הכתובות הוא כל הזיכרון שאליו יכול תהליך לגשת.
 בארכיטקטורת 
\begin_inset Formula $32$
\end_inset

-ביט אפשר לגשת ל-
\begin_inset Formula $4$
\end_inset

 ג'יגה זיכרון )
\begin_inset Formula $2^{32}\sim4,000,000,000$
\end_inset

(.
 חלק מהזיכרון הזה שמור למערכת )בווינדוס שני ג'יגה למשתמש ובלינקוס שלושה
 ג'יגה נותרו למשתמש(.
\end_layout

\begin_layout Standard
מרחב הזיכרון מחולק לארבעה סגמנטים שכבר דיברנו עליהם )ראו איור(.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/text-data.png
	lyxscale 30
	scale 20

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
סגמנטי הזיכרון במחשב
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
יש פער בין מרחב הכתובות שתהליך רואה לבין זה שיש במציאות )זוהי האבסטרקציה
 של מערכת ההפעלה(.
 בין שני ה
\begin_inset Quotes xrd
\end_inset

יקומים
\begin_inset Quotes xrd
\end_inset

 האלה, צריך משהו שיתרגם כתובות.
 ה-
\lang english
loader
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אמון על תרגום הכתובות מהקוד המקומפל למרחב הכתובות אבל עדיין לא המציאות.
 נדרש עוד רכיב.
 הרכיב הזה נקרא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Memory Managment Unit
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\lang english
MMU
\lang hebrew
( שאחראי לפני שהבקשה לזיכרון נשלחת דרך ה-
\lang english
bus
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לתרגם את הכתובות.
 הוא מבצע תרגום מכתובות 
\series bold
לוגיות 
\series default
לכתובות 
\series bold
פיזיות
\series default
.
\end_layout

\begin_layout Standard

\size larger
שיטות תרגום כתובות
\end_layout

\begin_layout Standard
השיטה הכי פשוטה לתרגם היא הקצאה רציפה - נקצה לכל תהליך אזור בתוך הזיכרון
 שיהיה רציף וכדי לתרגם את 
\begin_inset Formula $x$
\end_inset

 נחשב 
\begin_inset Formula $x+base$
\end_inset

 בזיכרון הפיזי.
 נשמור את ה-
\begin_inset Formula $base$
\end_inset

 והחסם העליון של מרחב הכתובות של כל תהליך ובכל קונטקסט סוויץ' נחליף את המידע
 הזה בהתאם לתהליך.
\end_layout

\begin_layout Standard
אם יש הרבה מאוד תהליכים ויחסית מעט זיכרון )מה שקורה לרוב( אז אין מספיק מקום
 לכולם ואי אפשר לממש את השיטה הזו בכלל.
\end_layout

\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

physical(logical_x) {
\end_layout

\begin_layout Plain Layout

	return base + logical_x;
\end_layout

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{סגמנטציה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
סגמנטציה
\end_layout

\begin_layout Standard
סה
\begin_inset Quotes xrd
\end_inset

כ הזיכרון שתהליך משתמש בו הוא לרוב קטן הרבה יותר ממש שהוא יכול טכנית לגשת
 אליו, לכן נשמור זיכרון פיזי רק לסגנמטים שמשתמשים בהם.
\end_layout

\begin_layout Standard
כל סגמנט בפני עצמו הוא רציף וכדי לתרגם את הכתובת 
\begin_inset Formula $x$
\end_inset

 הוירטואלית בסגמנט כלשהו שמתחיל ב-
\begin_inset Formula $base$
\end_inset

, שוב פשוט נחשב את 
\begin_inset Formula $base+x$
\end_inset

 בזיכרון הפיזי.
\end_layout

\begin_layout Standard
צריך לבדוק בנוסף שהזיכרון לא חורג מהחסם העליון על הסגמנט.
 זה בניגוד להקצאה רציפה שבה מרחב הכתובות הוא כל הזיכרון שיש, ואז אי אפשר
 פיזית לייצר כתובת שחורגת ממה שאפשר לגשת אליו כי אין מספיק ביטים, אבל כאן
 בגלל שהסגמנטים קצרים יחסית אז כן אפשר.
\end_layout

\begin_layout Standard

\size larger
טבלאות סגמנטים
\end_layout

\begin_layout Standard
בגלל שלכל תהליך יש כמה סגמנטים, נשמור אותם בטבלה שתכיל את כתובת הבסיס שלהם
 והגודל שלהם, כאשר כתובת לוגית עתה תכיל בביטים הראשונים את אינדקס הסגמנט
 ובשאר הביטים את הכתובת היחסית בתוך הסגמנט.
 בנוסף כדי שתהליך יוכל לשריין לעצמו מקום לסגמנטים בעתיד )לדוגמה אם הוא רוצה
 ליצור חוטים ומחסנית לכל אחד מהם(, נשמור גם ביט 
\begin_inset Formula $v$
\end_inset

 שיגיד לנו האם הסגמנט הנוכחי הוא בכלל חוקי )
\lang english
valid
\lang hebrew
( או שהוא שמור להמשך, אם הוא לא, אסור לנו לגשת למקום הזה בזיכרון.
\end_layout

\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

physical(logical_x) {
\end_layout

\begin_layout Plain Layout

	seg_i = logical_x.segment // top bits of the address
\end_layout

\begin_layout Plain Layout

	segment = seg_table[seg_i]
\end_layout

\begin_layout Plain Layout

	if (segment.v == 0) {
\end_layout

\begin_layout Plain Layout

		throw exception;
\end_layout

\begin_layout Plain Layout

	}
\end_layout

\begin_layout Plain Layout

	if (logical_x.offset < segment.bound) {
\end_layout

\begin_layout Plain Layout

		return segment.base + logical_x.offset;
\end_layout

\begin_layout Plain Layout

	} else {
\end_layout

\begin_layout Plain Layout

		throw exception;
\end_layout

\begin_layout Plain Layout

	}
\end_layout

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
את הטבלה אנחנו שומרים ברגיסטר ה-
\lang english
Segment Table Address Register
\lang hebrew
, שהוא שונה לכל תהליך.
 בקונטקסט סוויץ' צריך להחליף את הרגיסטר הזה בהתאם לערכו בתהליך החדש.
 כך, סגמנטים של תהליך אחד אינם נגישים לתהליכים אחרים - זה מוסיף בטיחות לזיכרון!
\end_layout

\begin_layout Standard
ברגע שרגיסטר ה-
\lang english
STA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מכיל את הפוינטר לטבלה של התהליך הנוכחי, כל שאר החישוב נעשה אוטומטית ע
\begin_inset Quotes xrd
\end_inset

י החומרה )ה-
\lang english
MMU
\lang hebrew
(.
 המעבד יכול לבקש אותה כתובת וירטואלית ולקבל כתובות אחרות אם מדובר בתהליכים
 שונים )לכל אחד טבלה שונה(.
\end_layout

\begin_layout Standard
איפה החלק של מערכת ההפעלה בכל הסיפור הזה? היא אחראית על המיפוי של הסגמנטים
 לזיכרון הפיזי וכן על שינוי ערך רגיסטר ה-
\lang english
STA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהתאם להתליך.
\end_layout

\begin_layout Standard
יש כמה שיקולים בהקצאה של סגמנטים - ההקצאות צריכות להיות רציפות, בגדלים שונים,
 צריך לשמור מה הוקצה וכן לשחרר הקצאות.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{פרגמנטציה ופתרונותיה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
פרגמנטציה
\end_layout

\begin_layout Standard
אם הסגמנטים שמוקצים הם בגדלים שונים ובסדר מסוים, יוצא לפעמים שקטעים מוקצים
 גורמים לכך שהמקום שאליו אפשר להקצות סגמנטים רציפים קטן או לא נוח, לדוגמה
 באיור הבא שבו לאחר הקצאות ושחרורים, יוצא שהמרחק בין ההקצאה של תהליך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
9
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\numeric on
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא בלתי שמיש בעליל.
 הבעיה הזו נקראת פרגמנטציה חיצונית כי מחוץ להקצאות יש שברירים של קטעים שמקשים
 על הקצאה.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/frag.png
	lyxscale 30
	scale 55

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
פרגמנטציה חיצונית בזיכרון
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Description
הגדרה פרגמנטציה היא מצב שבו יש מספיק זיכרון כדי להקצות סגמנט לתהליך אבל
 לא באופן רציף אלא מפוזר לאורך הזיכרון בקטעים קצרים.
\end_layout

\begin_layout Description
הגדרה פרגמנטציה פנימית היא המקרה שבו הקצאנו לתהליך יותר ממה שהוא היה צריך
 ואז נשאר מרווח בפנים.
 פרגמנטציה חיצונית היא שיש זיכרון חופשי בין הקצאות של תהליכים.
\end_layout

\begin_layout Description
הערה אנחנו ננסה לפתור רק את בעיית הפרגמנטציה החיצונית.
\end_layout

\begin_layout Standard

\size larger
אלגוריתמי הקצאת סגמנטים
\end_layout

\begin_layout Standard
אלגוריתמים כאלה מקבלים כקלט את רשימת הקטעים החופשיים ובקשה להקצאה חדשה ופולטים
 באיזה אזור להקצות, ואיזה חלק ממנו להקצות.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
First Fit
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- להקצות את המקום הראשון שפנוי.
 הסיבוכיות היא לינארית באורך הרשימה )נעצור לכל היותר בסוף הרשימה(.
\end_layout

\begin_deeper
\begin_layout Standard
לכאורה לשם ההקצאה אין חשיבות למיון של רשימת האזורים הפנויים, אבל לשחרור
 זה כן חשוב כי אם היו לנו שני אזורים פנויים שהופרדו ע
\begin_inset Quotes xrd
\end_inset

י קטע מוקצה שעכשיו שוחרר, נרצה לאחד את שלושת הקטעים לאחד גדול כדי לקבל תוצאות
 יותר טובות.
 לכן נניח שהרשימה ממויינת.
\end_layout

\begin_layout Standard
הבעיה עם האלג' היא שיכול להיות פרגמנטציה בכתובות הנמוכות )כל הזמן נקצה ונשחרר
 גדלים שונים בהתחלה(.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
Next Fit
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- להקצות את המקום הראשון שפנוי אחרי ההקצאה הקודמת.
\end_layout

\begin_deeper
\begin_layout Standard
האלג' הזה מפזר את הפרגמנטציה באופן יותר אחיד על הזיכרון כי לא נקצה ונשחרר
 כל הזמן בהתחלה ולא יקרה כלום בסוף אלא בפעמים נדירות.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
Best fit
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- להקצות את המקום שההקצאה בו היא הכי הדוקה )אין יותר מדי מקום חופשי לפרגמנטציה(.
\end_layout

\begin_deeper
\begin_layout Standard
כך אנחנו שומרים על אזורים חופשיים יחסית גדולים והפרגמנטים שלנו יחסית קטנים,
 שזה חמור יותר כשזה מגיע למצב שזה משפיע כי באמת אי אפשר להשתמש בזה..
 עם זאת, נצטרך לעבור על כל הרשימה כל פעם במקום לעצור מוקדם יותר.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
Compaction
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- נזיז את החורים )את הזיכרון סביבו למעשה( כדי שהאזורים הפנויים יהיו יותר
 ארוכים ונצמצם פרגמנטציה.
\end_layout

\begin_deeper
\begin_layout Standard
החיסרון כאן הוא שהעתקה של זיכרון לוקחת הרבה מאוד זמן.
 בנוסף, המטמון כבר מיותר כי אנחנו מזיזים לו את הכתובות והן כבר לא אחת ליד
 השנייה אחרי ההזזה.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
Pages
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- במקום שסגמנט יהיה רציף, הוא יהיה עשוי מדפים בגודל קבוע, שכל אחד מהם יוקצה
 באופן בלתי תלוי.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{
\backslash
!
\backslash
! Paging}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
\begin_inset Formula $ $
\end_inset


\lang english
Paging
\end_layout

\begin_layout Standard
נחלק את מרחב הכתובות לדפים בגודל קבוע )לרוב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קילו-בייט(.
 נחלק רעיונית גם את הזיכרון הפיזי למסגרות באותו הגודל של דפים ואז נוכל להתאים
 כל דף וירטואלי למסגרת פיזית.
 העתקה זו נעשית בידי ה-
\begin_inset Formula $\os$
\end_inset

 וה-
\lang english
MMU
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
משתמש בה כדי לגשת לזיכרון הפיזי.
\end_layout

\begin_layout Standard
בגלל שכל מסגרת היא בגודל קבוע, אף פעם אין פרגמנטציה.
 את ההעתקה מדפים למסגרות נשמור בטבלה )נפרדת לכל תהליך( שבה למעשה משתמש ה-
\lang english
MMU
\lang hebrew
.
 האינדקס בטבלה הוא מספר הדף, הערך הוא אידנקס המסגרת שהותאמה לו.
 
\end_layout

\begin_layout Standard
כדי לתרגם כתובת לוגית נחלק אותה לשני חלקים - ה-
\numeric on
20
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביטים הראשונים יהיו אידנקס הדף וה-
\numeric on
12
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
התחתונים הם ההיסט בתוך הדף )
\numeric on
12
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביטים זה בדיוק מספיק ל-
\numeric on
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קילובייט(.
\end_layout

\begin_layout Standard
נשמור בטבלה ביט שאומר לנו האם הדף ממופה או לא.
 הפעם לא צריך לבדוק שההיסט נמצא בטווח כי הוא פיזית לא יכול לחרוג מ-
\begin_inset Formula $4$
\end_inset

 קילובייט.
\end_layout

\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

physical(logical_x) {
\end_layout

\begin_layout Plain Layout

	page_i = logical_x.page // top bits of the address
\end_layout

\begin_layout Plain Layout

	page = page_table[page_i]
\end_layout

\begin_layout Plain Layout

	if (page.v == 0) {
\end_layout

\begin_layout Plain Layout

		throw exception;
\end_layout

\begin_layout Plain Layout

	}
\end_layout

\begin_layout Plain Layout

	return page.frame + logical_x.offset;
\end_layout

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Description
הערה הסכימה של המסגרת עם ההיסט בתוכה היא למעשה הדבקה של ביטים נמוכים עם
 גבוהים ואפילו לא סכימה של שני מספרים כי כאמור הביטים לכל דבר נפרדים.
 זה חוסך לנו כמה פעולות והופך את זה לאפילו יותר יעיל.
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{
\backslash
!
\backslash
! Paging}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{IX
\backslash
;
\backslash
; דפדוף}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{IX}$
\end_inset

 | דפדוף
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{גודל הדף האופטימלי}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
החישוב של המסגרת הנדרשת לגישה לזיכרון בכל פעם מוסיף תקורה, כדי להקטין אותה
 יש מטמון ספציפי לטבלה הדפים, שנקרא ה-
\lang english
TLB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\lang english
Translation Lookasaide Buffer
\lang hebrew
(.
 בנוסף, טבלת הדפים עצמה לוקחת הרבה זיכרון.
 כדי להקטינה, נגדיל את גודל הדף )נבחר גודל אפוטימלי שמאזן את הטריידוף(.
\end_layout

\begin_layout Standard
הטריידוף הוא כזה - מצד אחד דפים קטנים גורמים לפרגמנטציה פנימית קטנה יותר
 )חצי מהדף האחרון שמוקצה לסגמנט בתוחלת( אבל דורשים טבלת דפים גדולה.
\end_layout

\begin_layout Standard
נסמן ב-
\begin_inset Formula $p$
\end_inset

 את גודל הדף, 
\begin_inset Formula $s$
\end_inset

 גודל התהליך )בזיכרון(, 
\begin_inset Formula $e$
\end_inset

 גודל של כניסה בטבלת הדפים )מספר המסגרת וביט ה-
\begin_inset Formula $v$
\end_inset

(.
 במקרה הזה התקורה היא 
\begin_inset Formula $\frac{s}{p}e+\frac{p}{2}$
\end_inset

 )החצי השמאלי הוא גודל טבלת הדפיםו הימני זו הפרגמנטציה הפנימית על הדף האחרון(.
 עם קצת חדו
\begin_inset Quotes xrd
\end_inset

א מגיעים לכך שהגודל האופטמלי הוא 
\begin_inset Formula $\sqrt{2s\cdot e}$
\end_inset

.
 עבור ערכים טיפוסיים בעבר 
\begin_inset Formula $s=1{\rm MB},e=64{\rm bit}$
\end_inset

 נקבל 
\begin_inset Formula $p=4{\rm KB}$
\end_inset

.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/mmu.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ארכיטקטורת תרגום כתובות עם ה-
\lang english
TLB
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
באיור ניתן לראות גם את ה-
\lang english
TLB
\lang hebrew
.
 בכל פעם שאנו מתבקשים לתרגם כתובת, נשווה באופן מקבילי בין כל הערכים במטמון,
 אם הדף שם נשתמש בערך שם, אחרת נחשב את הערך בטבלת הדפים הקלאסית ומשם נמשיך
 את החישוב כרגיל.
 ב-
\lang english
TLB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יש בערך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
64
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כניסות, כלומר העתקות של דפים למסגרות.
\end_layout

\begin_layout Standard

\size larger
זיכרון וירטואלי
\end_layout

\begin_layout Standard
מספר התהליכים בלתי מוגבל בעיקרון וכל תהליך חושב שהוא לבד ושיש לו את כל הזיכרון
 )אולי חוץ ממערכת ההפעלה( ולכן יש הרבה יותר זיכרון לוגי מאשר פיסי.
 עם זאת, תכניות לא משתמשות בכל מרחב הכתובות שלהן כל הזמן, ולמעשה אין צורך
 למפות חלקים שלא משתמשים בהם לזיכרון פיסי.
\end_layout

\begin_layout Description
דוגמה אם קוראים לפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
init
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהתחלה, אנחנו לא נשתמש בה בהמשך ולכן כל מבני הנתונים שהשתמשנו בהם בתוכה
 לא ישומשו בהמשך התכנית.
 לחלופין, קוד שמטפל בשגיאות משומש לעתים נדירות יחסית ולכן טעינה שלו לזיכרון
 כל הזמן היא די מיותרת.
\end_layout

\begin_layout Standard
אי-הקצאה של חלקים לא מנוצלים )ושמירה שלהם בדיסק בנתיים( עוזרת להורדת העומס
 על הזיכרון וגם מקלה על אתחול תהליכים )לא צריך לטעון את הכל על ההתחלה(.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{דפדוף לפי דרישה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
דפדוף לפי דרישה
\end_layout

\begin_layout Standard
כדי לספק את הוירטואליזציה האמורה, נשתמש בדפדוף לפי דרישה, כלומר נביא דפים
 לזיכרון כשצריך אותם ונחזיר אותם לדיסק כשכבר לא.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/mmu2.png
	lyxscale 30
	scale 35

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמה לדפדוף לפי דרישה
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
באיור ניתן לראות שחלק מהדפים בטבלה כרגע לא מוקצים, כי אין מספיק מקום, ולכן
 הם נמצאים בדיסק וביט ה-
\begin_inset Formula $v$
\end_inset

 שלהם הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
\end_layout

\begin_layout Standard

\size larger
גישה לזיכרון לא ממופה
\end_layout

\begin_layout Itemize
המעבד לא יכול לגשת למידע הזה ולכן ה-
\lang english
MMU
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יזרוק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
exception
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)שנקרא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PAGE FAULT
\lang hebrew
(.
\end_layout

\begin_layout Itemize
ההאנדלר של ה-
\lang english
exception
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הזה נכנס לפעולה.
\end_layout

\begin_layout Itemize
ההאנדלר מתחיל להביא את הדף מהדיסק.
\end_layout

\begin_layout Itemize
ה-
\begin_inset Formula $\os$
\end_inset

 מרדימה את התהליך.
\end_layout

\begin_layout Itemize
כשהדיסק סיים להביא את הדף, הוא שולח
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
interrupt
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמעיר את התהליך.
\end_layout

\begin_layout Itemize
התהליך מבצע את אותה הפקודה שגרמה לו לשגיאה, שוב.
\end_layout

\begin_layout Description
דוגמה נניח שאנחנו רוצים לבצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
lw 12, R1
\lang hebrew
 כלומר לקחת את הכתובת ה-
\numeric on
12
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לרגיסטר.
 הכתובת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
12
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא בדף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
, שהוא לא ממופה בהתחלה, לכן נזורק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PAGE FAULT
\lang hebrew
, נקרא להנדלר וכו', הדיסק יביא את הדף, יזרוק אינטראפט במסגרת סכמת ה-
\lang english
DMA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שראינו )לפיה הזיכרון יכול לעבוד ברקע ולספק בקשות בזמן שהמעבד עושה דברים
 אחרים( ונמשיך כרגיל.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/mmuex.png
	lyxscale 30
	scale 35

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמה לגישה לדף לא ממופה
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
מה אם אין לנו מסגרת פנויה למפות דף אליה? לדוגמה אם יש לנו המון תהליכים שמשתמשים
 בכמה דפים, יש לנו יותר זיכרון וירטואלי מפיסי.
 נאלץ לזרוק דפים, כלומר להעתיק את תוכנם חזרה לדיסק לפנות את המסגרת שלהם
 לדף אחר.
 מי שנזרק נקרא הדף הקורבן.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{קורבנות ואלגוריתמי גירוש}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
כיצד נבחר את הקורבן?
\end_layout

\begin_layout Standard
אפשר לבחור אקראית, אבל אז זה יכול לזרוק החוצה דפים שמתמשים בהם באופן שכיח
 )שזו למעשה התופעה הכי גרועה שנרצה למנוע(.
\end_layout

\begin_layout Standard
אידאלית, אם יש לנו יכולת לראות את העתיד, נבחר את הדף שהשימוש הבא שלו הוא
 הכי רחוק )אלג' זה נקרא האלג' של בילאדי(.
 אבל כמובן שאין לנו יכולת לדעת את העתיד.
 למעשה השימוש המרכזי של האלג' האופטימלי הוא להשוואה ביחס לאחרים, שכן ניתנים
 למימוש.
\end_layout

\begin_layout Standard
האלג' האקראי והאופטימלי הם הקצוות השונים של הסקאלה )אחד לא משתמש בשום מידע,
 האחר משתמש בכל המידע, אפילו כזה שאין(.
 חשוב לבדוק כל פעם האם אלג' חדש שאנחנו מציעים הוא בכלל טוב יותר מאקראי,
 ואם לא אין מה להתייחס אליו.
\end_layout

\begin_layout Standard
ההחלטה על הגירוש היא של מערכת ההפעלה.
 היא יודעת אילו מיפויים קודמים היא עשתה.
\end_layout

\begin_layout Standard

\size larger
אלגוריתמי גירוש
\end_layout

\begin_layout Description
דוגמה 
\lang english
FIFO
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- נשמור ברשימה מקושרת את הדפים שמיפינו ובכל פעם שנידרש לגרש דף, נגרש את
 הראשון שמופה )הותיק ביותר(.
\end_layout

\begin_deeper
\begin_layout Description
חסרון יכול להיות שהדף הוותיק ביותר ניגשים אליו באופן שכיח.
 בנוסף, האנומליה של בלאדי היא גם חסרון של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FIFO
\lang hebrew
.
 האנומליה אומרת שלכאורה נדמה שככל שיש יותר זיכרון יהיו פחות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PAGE FAULT
\lang hebrew
-ים.
 עם זאת, בלאדי הראה שזה לא המצב ב-
\lang english
FIFO
\lang hebrew
, כלומר שהמצב מחמיר עם יותר זיכרון.
\end_layout

\begin_layout Standard
בווינדוס
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
השתמשו באלג' הזה כי הוא ב
\begin_inset Quotes xrd
\end_inset

ת בחומרה, שכן הוא משתמש רק במידע של מערכת ההפעלה )ה-
\begin_inset Formula $\os$
\end_inset

, אם אף אחד לא יספר לה, לא יודעת שום דבר על הזיכרון מלבד כשיש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PAGE FAULT
\lang hebrew
(.
\end_layout

\end_deeper
\begin_layout Description
הערה כל מה שאנחנו מנסים לעשות בסופו של דבר זה לזהות את ה-
\lang english
Working Set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של כל תהליך, כלומר הדפים שחשוב לשמור כי התהליך משתמש בהם באופן שכיח והשאר
 שאפשר לזרוק.
 ההבנה הזו הושגה יחסית מאוחר במחקר על מערכות הפעלה )שנות ה-
\numeric on
70
\numeric off
(.
 ה-
\lang english
Working Set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עצמו הוא מבוסס על עקרון הלוקאליות - יש לנו אוסף סופי וקטן יחסית של דפים
 שנשתמש בהם שוב ושוב )כי כבר השתמשנו בהם(.
\end_layout

\begin_layout Standard
כיצד מוגדר ה-
\lang english
Working Set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
פורמלית?
\end_layout

\begin_layout Description
הגדרה )הגישה הפרמטרית( אוסף הדפים שניגשנו אליהם ב-
\begin_inset Formula $k$
\end_inset

 הגישות האחרונות לזיכרון.
\end_layout

\begin_layout Description
הערה אם הגישה היא אקראית, גודל ה-
\lang english
Working Set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא בערך 
\begin_inset Formula $k$
\end_inset

.
 עם מקומיות, גודל ה-
\lang english
Working Set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 קטן בהרבה מ-
\begin_inset Formula $k$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
בעיקרון אפשר להתחיל מ-
\begin_inset Formula $k=1$
\end_inset

 ולהגדיל אותו עד שגודל ה-
\lang english
Working Set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתייצב.
 במציאות יותר הגיוני להסתכל על 
\begin_inset Formula $k$
\end_inset

 מאוד גדול ולראות אילו דפים השתמשנו בהם בקריאות הללו.
\end_layout

\end_deeper
\begin_layout Standard
כדי לגלות לאילו דפים ניגשנו, צריך תמיכה מהחומרה.
 גישה לזיכרון מתבצעת במהירות השעון ולכן צריך שהחומרה תעקוב אחריה.
 כדי שהתקורה תהיה קטנה יחסית, נשמור לכל דף שני ביטים.
 ביט הרפרנס )האם ניגשנו לדף(; וביט הלכלוך )האם שינינו ערך בדף(.
 ה-
\lang english
MMU
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אמון על ביצוע התיעוד הזה בכל גישה לזיכרון.
 סכמה זו נתמכת ע
\begin_inset Quotes xrd
\end_inset

י מעבדי אינטל )וגם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
AMD
\lang hebrew
(.
\end_layout

\begin_layout Standard

\size larger
אלג' גירוש נוספים
\end_layout

\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
Not Recently Used
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- כל כמה זמן ננקה את ביטי הרפרנס של הדפים וכשצריך לבחור קורבן, נבחר אקראית
 מבין אלו שיש להם ביט רפרנס 
\begin_inset Formula $0$
\end_inset

.
 ההיגיון הוא שזה אומר שהדף לא שומש בערך בתקופה האחרונה כנראה.
\end_layout

\begin_deeper
\begin_layout Description
חסרון ההערכה שלנו של הזמן האחרון שבו השתמשנו בדף היא מאוד גסה.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
Least Recently Used
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- נסדר את הדפים לפי הזמן האחרון שנגענו בהם ונבחר בכל פעם את הקורבן שהשתמשנו
 בו בפעם האחרונה.
\end_layout

\begin_deeper
\begin_layout Description
חסרון המימוש של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
LRU
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא מאוד יקר.
 אפשר לשמור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Timestamp
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז למצוא מינימום בזמן לינארי.
 לחלופין אפשר להשתמש ב-
\lang english
Sorted List
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שזו סיבוכיות זיכרון גבוה וכו'.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
The Clock Algorithm
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 )מה שמשתמשים בו כיום( - נדמין שהמסגרות מסודרות ברשימה מעגלית עם מחוג שמכוון
 על אחד מהם.
 לכל דף יש ביט רפרנס.
 כשצריך לגרש דף, כל עוד הדף שעליו מצביעים יש ביט רפרנס 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נאפס אותו נמשיך הלאה ונאפס את הראשון שיש לו ביט רפרנס
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
\end_layout

\begin_deeper
\begin_layout Standard
האלג' הזה מקרב את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
LRU
\lang hebrew
, כי אם לדף יש ביט רפרנס
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 זה אומר שעברנו סיבוב שלם )הרבה דפים נכנסו ויצאו( ועדיין לא השתמשנו בו,
 אז אפשר להיפטר ממנו.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
Clock + Time Algorithm
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- נשמור את הדפים של כל תהליך ברשימה מעגלית עם זמן וירטואלי לכל אחד.
 בכל פעם שניגשים לדף נדליק את ביט הרפרנס.
 בכל תיק של השעון, כל דף עם ביט רפרנס דלוק מקבל במשתנה זמן וירטואלי שלו
 את הזמן הוירטואלי הנוכחי ומאפסים לו את ביט הרפרנס.
\end_layout

\begin_deeper
\begin_layout Standard
כשצריך לגרש מישהו, בוחרים את האחד עם הזמן הוירטואלי )זמן הגישה האחרון( הכי
 ישן.
\end_layout

\end_deeper
\begin_layout Standard
אם ביט הלכלוך כבוי, זה אומר שלא צריך להעתיק בחזרה לדיסק את הדף כי הוא לא
 השתנה.
 לכן, נעדיף לגרש דפים נקיים כי הם לא דורשים העתקה לדיסק, אלא רק מהדיסק את
 הדף החדש.
 כלומר באלג' השעון, נדלג הלאה לא רק אם ביט הרפרנס דלוק, אלא גם אם ביט הלכלוך
 דלוק.
\end_layout

\begin_layout Standard
יש מערכות הפעלה שעושות דפדוף מקומי )כלומר מגרשות דף ששייך להתליך הנוכחי(
 ויש כאלה שעושות את זה גלובלי )מגרשות את הדף הטוב ביותר מבין כל הדפים של
 מערכת ההפעלה(.
 היתרון בדפדוף גלובלי הוא שהוא פותר אותנו מלחשוב על כמה דפים להקצות לכל
 תהליך.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard

\color darkgray
התרגול הוא חזרה אינסופית על מה שעשינו בהרצאה וזו שלפניה ולכן לא אעשה את
 כל הדוגמאות וההסברים שוב.
\end_layout

\begin_layout Standard
בית אחד זה 
\begin_inset Formula $8$
\end_inset

 ביט,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
KB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
זה 
\begin_inset Formula $2^{10}$
\end_inset

 בייטים,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
זה 
\begin_inset Formula $2^{20}$
\end_inset

 בייטים ו-
\lang english
GB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
זה 
\begin_inset Formula $2^{30}$
\end_inset

 - זה בניגוד ליחידות בכללי שהן אלף-מיליון וכו', כאן הפערים הם של )פי( 
\begin_inset Formula $2^{10}$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $\frac{4{\rm GB}}{8{\rm KB}}=\frac{2^{2}}{2^{3}}\cdot\frac{2^{30}}{2^{10}}=2^{-1}\cdot2^{20}$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה כמה מספרים ניתן לייצר במספר עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביטים? 
\begin_inset Formula $2^{8}$
\end_inset

 מספרים, כל הערכים בין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\begin_inset Formula $2^{8}-1$
\end_inset

 )בלי ייצוג המשלים ל-
\numeric on
2
\numeric off
(.
\end_layout

\begin_layout Standard
כל מה שהמעבד עושה הוא או על הרגיסטרים או על הזיכרון.
 לכן נצטרך לנהל את הזיכרון בחוכמה כדי שהגישה של המעבד אליו תהיה יעילה )כי
 הוא משמעותית איטי יותר מאשר הרגיסטרים/מטמון(.
\end_layout

\begin_layout Standard
הכתובת הפיזית היא המיקום של תא מידע ספציפי בזיכרון המרכזי )ה-
\lang english
RAM
\lang hebrew
(.
 מרחב הכתובות הפיסיות האפשרי תלוי בגודל הזיכרון.
\end_layout

\begin_layout Description
דוגמה זיכרון עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 בגודל 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
8GB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
דורש כתובות בגודל 
\begin_inset Formula $33=\log_{2}{\rm 8GB}$
\end_inset

.
\end_layout

\begin_layout Standard
חלוקה של הזיכרון לאזורים לכל תהליך וכל אחד ישתמש כמה שהוא רוצה.
 הבעיה עם שיטה זו היא שאנחנו צריכים לדעת אילו תהליכים מגיעים ומתי, שזה בסדר
 במערכות כמו מקררים חכמים כי הכל ידוע מראש, אבל זה לא עובד במחשבים אישיים.
\end_layout

\begin_layout Standard
את הכתובות של כל תהליך נרצה לקבוע בזמן ריצה, לפעמים נצטרך יותר, לפעמים פחות,
 ולכן התהליך לא יודע מה הכתובות הפיזיות שלו בזמן קומפילציה.
 כדי שהרעיון הזה יוכל לעבוד, נספר לכל תהליך שיש לו זיכרון )וירטואלי( רציף
 ככל שירצה ומאחורי הקלעים נסדר את העניינים בעצמנו )כמערכת ההפעלה(.
 עכשיו יצרנו לעצמנו בעיה חדשה - איך נתרגם כתובות וירטואליות לפיזיות?
\end_layout

\begin_layout Standard
מי שעושה את הקוורדינציה הזו בין התוכנה לחומרה הם ה-
\lang english
MMU
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 בעזרת מערכת ההפעלה.
\end_layout

\begin_layout Standard
מרחב הכתובות הוירטואלי מוגבל בארכיטקטורת מערכת ההפעלה )
\begin_inset Formula $32$
\end_inset

-ביט מאפשר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ג'יגה ו-
\begin_inset Formula $64$
\end_inset

-ביט הרבה הרבה יותר(.
\end_layout

\begin_layout Standard

\size larger
סגמנטציה
\end_layout

\begin_layout Standard
הרעיון בסגמנטציה הוא שתוכנה היא בסה
\begin_inset Quotes xrd
\end_inset

כ אוסף סגמנטים )קוד, משתנים, משתנים סטטיים, פונקציות ספריה וכו'( ולכן אפשר
 להקצות לכל תהליך זיכרון לפי סגמנטים.
 במקרה כזה, כתובת לוגית היא טאפל מהצורה 
\begin_inset Formula $\left(\mathrm{seg\_num},\mathrm{offset}\right)$
\end_inset

 ואת התרגום מבצעים עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
טבלת סגמנטים, כאשר בכל כניסה של הטבלה יש לנו את כתובת הבסיס והחסם העליון
 של הסגמנט.
 נשמור בנוסף לכל כניסה ביט ולידציה )האם הסגמנט טעון לזיכרון ולא יושב בדיסק(
 וגם כל מיני מידע על פריווילגיות כתיבה/הרצה וכו'.
\end_layout

\begin_layout Description
הערה ה-
\lang english
MMU
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יודע מה טבלת הסגמנטים של התהליך הנוכחי באמצעות ה-
\lang english
Segment-Table Base Register
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואת מספר הכניסות בטבלה באמצעות ה-
\lang english
STLR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\series bold
\lang english
L
\series default
ength
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
במקום
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series bold
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
B
\series default
ase
\lang hebrew
(.
 בגישה לזיכרון, נדרוש שמספר הסגמנט יהיה קטן מערך ה-
\lang english
STLR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וגם שההיסט יהיה קטן מהחסם העליון של הסגמנט.
\end_layout

\begin_layout Standard
הבעיה המרכזית עם סגמנטציה היא פרגמנטציה חיצונית, כלומר שנוצרים חורים קטנים
 בלתי ניתנים להקצאה בין הקצאות לסגמנטים.
\end_layout

\begin_layout Standard

\size larger
דפדוף
\end_layout

\begin_layout Standard
הפתרון לבעיה הזו הוא דפדוף.
 כל דף )בזיכרון הוירטואלי( הוא בגודל קבוע ומותאם למסגרת )בזיכרון הפיזי(.
 בגלל שהגודל קבוע אין פרגמנטציה חיצונית.
\end_layout

\begin_layout Standard
כתובת לוגית היא טאפל 
\begin_inset Formula $\left(p,d\right)$
\end_inset

 כאשר 
\begin_inset Formula $p$
\end_inset

 הוא מספר הדף ו-
\begin_inset Formula $d$
\end_inset

 הוא ההיסט בתוך הדף.
 מספר הביטים להיסט הוא 
\begin_inset Formula $\log$
\end_inset

 של גודל הדף ובהתאם גם מספר הביטים למספר הדף.
\end_layout

\begin_layout Standard
גם בטבלאות דפים נשמור מידע נוסף - ביט ולידציה, האם לדף יש מסגרת; ביט שינוי
 - האם שונה ערך בתוך הדף; ביט רפרנס - האם ניגשנו לערך בתוך הדף ועוד.
\end_layout

\begin_layout Standard
לכל תהליך יש טבלת דפים משלו ולכן התקורה )בזיכרון( יכולה להיות כל כך גדולה
 שאין מקום לאכסן את כל טבלאות הדפים בזיכרון.
\end_layout

\begin_layout Description
דוגמה אם כל כניסה בטבלת דפים היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בייטים )סביר מאוד(, אז במערכת של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
64
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביט יש מקום ל-
\begin_inset Formula $\frac{2^{64}}{2^{12}}$
\end_inset

 דפים, כלומר 
\begin_inset Formula $2^{52}$
\end_inset

.
 לכן נדרש ל-
\begin_inset Formula $2^{52}$
\end_inset

 כניסות בטבלאות, שזה 
\begin_inset Formula $2^{54}$
\end_inset

 כתובות זיכרון, שזה כמובן הרבה מעבר למה שיש לנו.
\end_layout

\begin_layout Description
הערה המצב הזה ריאליסטי כי יכולים להיות אלפי תהליכים שרצים במחשב בו זמנית.
\end_layout

\begin_layout Standard

\size larger
טבלת דפים היררכית
\end_layout

\begin_layout Standard
במקום שתהיה לנו טבלת דפים אחת גדולה, נשמור עץ של טבלאות דפים כאשר כל טבלה
 מצביעה לטבלה נוספת.
 כלומר טבלת הדפים מדופדפת.
 החסרון כאן הוא שנוספו לנו עוד קריאות לזיכרון )בעומק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
, יש שלוש קריאות כבר(.
 במימושים של טבלת דפים היררכית משתמשים גם כן ב-
\lang english
TLB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
באותו האופן כמו במקרה הסטנדרטי.
\end_layout

\begin_layout Description
דוגמה נסתכל על מערכת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
32
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביט עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
1KB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
זיכרון.
 גודל ההיסט הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביטים וגודל מספר הדף הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
22
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביטים.
 בגלל שכל טבלת דפים היא בעצמה מדופדפת )כלומר כל תת-טבלה יושבת בדף בודד(
 נחלק את מספר הדף ל-
\numeric on
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביטים למספר הדף ברמה השנייה ועוד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
12
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 ביטים להיסט בטבלת הדפים השיניוינת.
\end_layout

\begin_deeper
\begin_layout Standard
לכן בהינתן כתובת וירטואלית 
\begin_inset Formula $\left(p_{1},p_{2},d\right)$
\end_inset

, נמצא את הערך באינדקס 
\begin_inset Formula $p_{1}$
\end_inset

 בטבלה החיצונית.
 הערך הזה הוא האינדקס של הדף )של טבלת הדפים( שאנחנו צריכים.
 בתוך הדף )בעומק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
(, נמצא את הערך באינדקס 
\begin_inset Formula $p_{2}$
\end_inset

.
 זה הדף האמיתי שלנו, ובתוכו ניגש לערך ה-
\begin_inset Formula $d$
\end_inset

 במסגרת המתאימה לדף.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/doublemmu.png
	lyxscale 30
	scale 35

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
גישה בטבלת דפים היררכית בעומק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Description
הערה מערכת ההפעלה אמונה על ייצור העץ/טבלה הזו, אבל ה-
\lang english
MMU
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא זה שמשתמש בה בפועל.
\end_layout

\begin_layout Standard

\size larger
טבלת דפים הפוכה
\end_layout

\begin_layout Standard
נשמור טבלת דפים אחת לכל התהליכים יחד.
 הטבלה שומרת עבור כל מסגרת )בזיכרון הפיסי( את הדף שתואם לה, לרבות לאיזה
 תהליך שייך הדף.
 זה מקטין את תקורת הזיכרון אבל מבחינת תרגום, הסיבוכיות עלתה בהרבה )צריך
 לעבור על כל המסגרות(.
 עתה הכתובת הלוגית תכיל גם מספר דף וגם מספר תהליך, כאשר בהינתן כתובת לוגית
 נבדוק האם הדף נמצא בטבלת הדפים ההופכה, אם לא נזרוק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PAGE FAULT
\lang hebrew
, אבל אם כן אינדקס הכניסה שבה מצאנו את הדף הוא אינדקס המסגרת הנדרשת, ומשם
 מחשבים את הכתובת הפיסית כרגיל.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/inverted.png
	lyxscale 30
	scale 35

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
גישה לטבלת דפים הפוכה
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{X
\backslash
;
\backslash
; דפדוף לעומק}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{X}$
\end_inset

 | דפדוף לעומק
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{ביצועי דפדוף}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
אנחנו מדברים עדיין על דפדוף )על בסיס דרישה( שבו מתרגמים כתובת, אם הדף לא
 ממופה זורקים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PAGE FAULT
\lang hebrew
, מביאים את הדף מהדיסק וקוראים חזרה לתהליך.
\end_layout

\begin_layout Standard
מה התקורה של דפדוף? נסמן ב-
\begin_inset Formula $p$
\end_inset

 את ההסת' ל-
\lang english
PAGE FAULT
\lang hebrew
, לכן זמן התגובה האפקטיבי הוא
\begin_inset Formula 
\[
p\left(\text{PAGE FAULT}\text{הזמן ל-}\right)+\left(1-p\right)\left(\text{זמן גישה לזיכרון}\right)
\]

\end_inset

וההאטה היא זמן הגישה האפקטיבי חלקי זמן הגישה לזיכרון.
\end_layout

\begin_layout Standard
לרוב לוקח
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
25
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מילי-שניות כדי לטפל ב-
\lang english
PAGE FAULT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 וכ-
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
100
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נאנו-שניות כדי לגשת לזיכרון.
 אם 
\begin_inset Formula $p=0.001$
\end_inset

 ההאטה היא פי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
250
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 ולכן כל כך חשוב לנו אלג' גירוש איכותי.
 אם 
\begin_inset Formula $p=0.0000004$
\end_inset

 אז ההאטה היא 
\begin_inset Formula $1.1$
\end_inset

 שזה יחסית טיפוסי.
\end_layout

\begin_layout Description
הערה הביצועים תלויים בראש ובראשונה במהירות דיסק.
\end_layout

\begin_layout Description
דוגמה באיור רואים את הביצועים של תוכנות שמוסכמות שהן מייצגות ביצועים טיפוסיים
 )
\lang english
benchmark
\lang hebrew
-ים(.
 ככל שהצבע יותר חם )למעלה( זה אומר שמשתמשים יותר בכתובת.
 ציר ה-
\begin_inset Formula $x$
\end_inset

 הוא ציר הזמן )אינדקס הגישה( וציר ה-
\begin_inset Formula $y$
\end_inset

 הוא מיקום הכתובת.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/benchmark.png
	lyxscale 30
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ניתוח ה-
\lang english
working set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתוכנות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
benchmark
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
ניתן לראות כי הגישה ברוב המקומות היא מאוד ממוקדת, כאשר האלכסונים הם גישות
 למערכים.
\end_layout

\begin_layout Standard
למטה רואים רואים את גודל ה-
\lang english
working set
\lang hebrew
, וניתן לראות שהוא משתנה אבל עדיין יחסית יציב, תלוי בתוכנה.
\end_layout

\begin_layout Standard
כל זה מוכיח את עיקרון הלוקאליות, מבחינת המקום בחלק של המערכים ומבחינת הזמן
 כשניגשים כל הזמן לזיכרון האדום )הקו האחיד(.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{לוקאליות בזמן}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
לוקאליות בזמן
\end_layout

\begin_layout Standard
לוקאליות בזמן מייצגת שני דברים שונים:
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Clustered accesses
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- כשניגשים למשתנה אחד הרבה, ואז משתנה אחר הרבה וכו' וכו', כאשר אין חזרה
 על משתנים.
 זה מה שנאיבית היינו חושבים שיקרה.
\end_layout

\begin_layout Itemize
פופולריות מוטה - כשניגשים למשתנה אחד )או יותר( הרבה באופן לא פרופורציוני
 לאחרים במהלך הריצה כשבין הגישות אליו ניגשים גם לדברים אחרים.
 זה קורה לדוגמה עם אינדקס בלולאה שמתעדכן כל הזמן ואילו משתנים אחרים רק לפעמים/בכ
לל לא.
\end_layout

\begin_layout Standard
פופולריות היא תופעה שאנחנו רואים הרבה מאוד במדמ
\begin_inset Quotes xrd
\end_inset

ח, כלומר כשהסטטיסטיקה לגישה למשאבים מוטת מאוד.
 כאן מדובר במשתנים פופולריים אבל כך גם בנוגע לקבצים, אתרים שניגשים אליהם
 הרבה לעומת אחרים נישתיים.
 הדבר הזה נגרם מהקצנה של הפערים, העשירים מתעשרים והעניים מתענים.
\end_layout

\begin_layout Description
הערה כדי לתאר את ההטייה הזו הומצאה התפלגות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
zip
\lang hebrew
.
 הפופלריות של המילה ה-
\begin_inset Formula $i$
\end_inset

 פופולרית ביותר בשפה האנגלית היא 
\begin_inset Formula $c\left(i\right)\propto\frac{1}{i}$
\end_inset

.
\end_layout

\begin_layout Standard
כיצד נכמת לוקאליות? נזכור לאן ניגש התהליך לאורך הריצה שלו.
 נשים את כל הכתובות האלה במחסנית.
 בכל פעם שהתהליך יגש לזיכרון, נבדוק האם הכתובת נמצאת במחסנית ונשים אותה
 בראש המחסנית.
 כך יוצא שעומק הכתובת במחסנית מעיד על הרלוונטיות הזמנית של הכתובת, כלומר
 האם היא חלק מהלוקאליות הזמנית )אם יש כזו(.
 אם אנחנו ניגשים באקראיות לכתובות נצפה שנצטרך להיכנס די עמוק למחסנית.
\end_layout

\begin_layout Description
דוגמה באיור הבא ניתן לראות את עומק הכתובת במחסנית בכל גישה לזיכרון של אותן
 תכניות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
benchmark
\lang hebrew
.
 אכן ניתן לראות כי כי רוב הכתובות ניגשות יחסית גבוה במחסנית.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/stack.png
	lyxscale 30
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ניתוח הלוקאליות הזמנית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתוכנות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
benchmark
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
הניסוי המחשבתי של עומק המחסנית הוא בעצם די מעשי -
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
LRU
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ניתן למימוש באמצעות החזקת מחסנית שעובדת כפי שתיארנו )על דפים במקום כתובות
 מדויקות( בגודל 
\begin_inset Formula $k$
\end_inset

 )מספר הדפים( ולגרש כל מה שעמוק יותר מ-
\begin_inset Formula $k$
\end_inset

.
 במקרה כזה, ההסת' ל-
\lang english
PAGE FAULT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא ההסת' שיש יותר מ-
\begin_inset Formula $k$
\end_inset

 איברים במחסנית.
\end_layout

\begin_layout Standard
לא תמיד הגישה היא רק למשתנים יחידים, אלא לעתים למבנ
\begin_inset Quotes xrd
\end_inset

ת שדומים ל-
\lang english
stream
\lang hebrew
-ים, לדוגמה באפרים מאוד ארוכים.
 יש לנו לוקאליות במרחב )ניגשים לכתובות קרובות, צמודות למעשה( אבל אין לוקאליות
 בזמן כי לא קוראים את המערך שוב )בטח לא בכמויות שעליהן אנחנו מדברים(.
 באפרים כאלה דורשים הרבה מאוד דפים ויגרמו לגירוש הרבה מאוד דפים בלי שום
 סיבה טובה.
\end_layout

\begin_layout Standard
לכן היינו רוצים לזהות איזה דף הוא פעיל ואיזה לא, ואם הוא לא פעיל לזרוק אותו
 מיד לאחר השימוש.
 אלג' כזה אכן ממומש במערכת ההפעלה לינוקס )הרחבה לאלג' השעון(, בו דף שמסומן
 בתור לא פעיל מקבל הזדמנות נוספת ואם הוא פעיל לא מגרשים אותו, ואם אכן מתברר
 שהוא לא כן זורקים אותו.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{
\backslash
!
\backslash
!  Swapping ו-Thrashing}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
\begin_inset Formula $ $
\end_inset


\lang english
Thrashing
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
Swapping
\end_layout

\begin_layout Standard
ככל שיש לנו יותר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
multiprogramming
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כך הניצולת של המעבד עולה אבל עד דרגה מסוימת.
 החל מנקודה מסוימת הביצועים יורדים דרסטית כי יש כל כך הרבה תהליכים שכל אחד
 צריך דף אחד אז הוא מגרש דף של אחר ועד שנחזור לתהליך הקודם כבר הדפים שהוא
 צריך גורשו ויהיה לו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PAGE FAULT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וחוזר חלילה.
 תופעה זו נקראת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
thrashing
\lang hebrew
.
\end_layout

\begin_layout Standard
כדי למנוע תופעה כזו, נבחר תהליכים מסוימים ונגרש את כל הדפים שלו לפרק זמן
 כלשהו כדי שאחרים יוכלו להשתמש בו, ואז נחזיר אותם כשתקופת היובש שלו הוחלט
 שתיגמר.
\end_layout

\begin_layout Standard
מבחינת הניתוח של מערכת כזו, נוסיף עוד מצבים לדיאגרמת המצבים שראינו בעבר
 )באיור המעודכנת(.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/swap.png
	lyxscale 30
	scale 35

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
דיאגרמת המצבים המעודכנת
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
כאן אנחנו עושים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
swap
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)גירוש כל הדפים( לתהליך רק אם הוא חסום, וזאת עד שהאירוע שהוא מחכה לו קורה,
 ואז הוא מוכן שיעשו לו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
swap
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
פנימה ולחזור לרוץ.
 המעבר בין השורה התחתונה לאמצעית ולהפך מבוצע באמצעות המתזמן לטווח הבינוני,
 המעבר בין השורה הראשונה לשנייה ולהפך מבוצע באמצעות המתזמן לטווח הקצר.
 בנוסף, נשים לב כי המתזמן לטווח הקצר מנהל את הגישה למעבד בעוד המתזמן לטווח
 הבינוני מנהל את הגישה לזיכרון.
\end_layout

\begin_layout Standard
במערכת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
32
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביט, אם כל דף הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $4{\rm KB}$
\end_inset

 אז לכל תהליך יש 
\begin_inset Formula $2^{20}$
\end_inset

 דפים, שזה אומר שכל כניסה בטבלת הדפים היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים שזה אומר שטבלת הדפים צריכה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1000
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
דפים, שעצמם תופסים מקום בזיכרון כמו כל דף אחר.
\end_layout

\begin_layout Standard
במערכת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
64
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביט הטבלה דורשת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
35
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מגה בייט שזה די חמור.
 גם במעבדים שבהם משתמשים אפקטיבית ב-
\numeric on
48
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביט עם דף בגודל 
\begin_inset Formula $4{\rm KB}$
\end_inset

 הטבלה לוקחת עדיין כמה מגה בייטים.
 אם הזיכרון הפיזי הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
32
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ג'יגה, כלומר 
\begin_inset Formula $2^{35}$
\end_inset

 בתים, יש לנו 
\begin_inset Formula $2^{23}$
\end_inset

 דפים ולכן לפחות 
\begin_inset Formula $2^{43}-2^{23}$
\end_inset

 מה-
\lang english
entry
\lang hebrew
-ים הם תמיד לא חוקיים )מיליונית מכל הטבלה(.
 לכן נצטרך להשתמש בשיטה יותר טובה.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{טבלאות דפים אלטרנטיביות}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
טבלת דפים היררכית
\end_layout

\begin_layout Standard
במקום שתהיה לנו טבלה אחת שטוחה, נשמור טבלה שהיא שורש והיא תכיל מידע על דפים
 שמכילים טבלת דפים נוספת וכך ריקורסיבית, זה מה שאנחנו מממשים בתרגיל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\numeric off
.
 כך לא צריך להקצות כל הזמן את כל הטבלה אלא רק את הטבלאות שמשמשות אותנו לגישה
 לדפים של התהליך.
\end_layout

\begin_layout Description
דוגמה כדי לגשת לכתובת 
\begin_inset Formula $\left(p_{1},p_{2},offset\right)$
\end_inset

 בטבלה היררכית בעומק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
, ראשית ניגש לפריים שמופיע בכניסה ה-
\begin_inset Formula $p_{1}$
\end_inset

-ית בשורש ומשם לפריים שמופיע בכניסה הה-
\begin_inset Formula $p_{2}$
\end_inset

-ית ובפריים הזה ניגש לכתובת 
\begin_inset Formula $offset$
\end_inset

 וכך תרגמנו בהצלחה את הכתובת הוירטואלית לפיזית.
\end_layout

\begin_layout Description
דוגמה נתרגם את הכתובת 
\begin_inset Formula $\left(5200,d\right)$
\end_inset

 כאשר 
\begin_inset Formula $5200$
\end_inset

 הוא בחלק של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
20
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים ו-
\begin_inset Formula $d$
\end_inset

 הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
12
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים.
 נניח שיש לנו טבלה היררכית בעומק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
.
 לכן כל אינדקס הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים, ועם חישוב פשוט מקבלים שזהו 
\begin_inset Formula $\left(5,80,d\right)$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
נבצע את התהליך בדוגמה הקודמת ונקבל את הכתובת הרצויה.
\end_layout

\end_deeper
\begin_layout Standard
הבעיה כאן היא שהוספנו הרבה מאוד גישות לזיכרון, שזו תקורה גבוהה )לעומת קריאה
 אחת קלאסית בטבלה שטוחה(.
 בנוסף, אם הדפים של טבלת הדפים לא בזיכרון הם גם זורקים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PAGE FAULT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ונכנסים לוורטקס אינסופי.
 יתרה מכך, רוב הטבלאות בעומק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ומעלה הן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
invalid
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי לא השתמשנו בהן עד עכשיו.
\end_layout

\begin_layout Standard

\size larger
טבלת דפים
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
hashed
\end_layout

\begin_layout Standard
כדי לפתור את הבעיה הנ
\begin_inset Quotes xrd
\end_inset

ל, במקום להשתמש בטבלה היררכית/קלאסית, נשתמש בטבלת האש כאשר המפתחות הם מספר
 הדף, באמצעות מיעון פתוח )
\lang english
Linked list
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בכל תא(.
 כך צמצמנו את כל האפשרויות לכתובות לטבלה בגודל קטן יותר והגישה הרבה יותר
 מהירה )רק פעם אחת(.
\end_layout

\begin_layout Standard

\size larger
טבלת דפים הפוכה
\end_layout

\begin_layout Standard
אם מרחב הכתובות הוירטואלי גדול בהרבה מהגודל הפיזי, נוכל במקום לשקף את הזיכרון
 הוירטואלי ולזכור איזה דף ממופה לאיזה פריים, נבצע העתקה הפוכה.
\end_layout

\begin_layout Standard
לכל פריים נזכור את הדף שהוא שומר כרגע יחד עם ה-
\lang english
pid
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של התהליך שלו שייך הדף הזה, שכן לשני דפים יכולים להיות אותו אינדקס דף )
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לדוגמה, יש לכולם( אבל עם תכנים שונים לגמרי.
\end_layout

\begin_layout Standard
כשאנחנו מקבלים כתובת 
\begin_inset Formula $\left(pid,p,d\right)$
\end_inset

 לתרגום, ה-
\lang english
MMU
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עובר על כל טבלת הדפים בחיפוש לינארי, אם הוא מוצא את הדף מעולה ואחרת זורק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PAGE FAULT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ומשם כבר אנחנו מכירים.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{הגנה ושיתוף}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
הגנה ושיתוף
\end_layout

\begin_layout Standard
כל דבר שממופה בטבלת הדפים נגיש לתהליך אבל כל מה שלא, לא קיים לדעת המעבד.
 לכן, המעבד לא יכול לגשת לכתובת של תהליך אחד כשהוא מריץ תהליך אחר.
 המגבלה הזו היא פיזית - זה טכנית לא אפשרי.
 כלומר, שינוי של טבלה הזיכרון משנה את איך שאנחנו מסתכלים על הזיכרון )פעולה
 זה היא כזכור חלק מהקונטקסט סוויץ'(.
\end_layout

\begin_layout Standard
אותו הרעיון עובד גם לכיוון השני.
 אם יש לנו טבלת דפים היררכית, נניח ששני תהליכים רוצים שיהיה להם זיכרון משותף,
 אז מספיק שהטבלה בעומק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)השורש( של שני התהליכים תצביע על אותה הטבלה השניונית ותהיה להם גישה משותפת
 לדפים בתוך הטבלה הזו, אבל עדיין הפרדה בכל תוכן אחר של הזיכרון.
\end_layout

\begin_layout Standard
נסכם את כל מה שעשינו בנושא הדפדוף וניהול הזיכרון,
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
פתרון
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
בעיה
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
תרגום כתובות באמצעות סגמנטציה/טבלאות דפים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
התהליך רואה )זיכרון( שונה מאוד מהמציאות
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
איחוד סגמנטים/דפדוף
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
פרגמנטציה חיצונית
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
זיכרון וירטואלי/
\lang english
swapping
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
הזיכרון הלוגי גדול בהרבה מהזיכרון הפיזי
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
סיכום של דפדוף
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{קבצים}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
קבצים
\end_layout

\begin_layout Standard
קובץ, בניגוד לכל מה שראינו עד כה, הוא אבסטרקציה )לא היה קיים בכלל בלי ה-
\begin_inset Formula $\os$
\end_inset

( בניגוד למה שראינו לאחרונה )ניהול זיכרון, ניהול מעבד( שזה היה וירטואליזציה.
 קבצים הם אחת האבסטרקציות המרכזיות של מערכת ההפעלה, והם מספקים ממשק נוח
 למשתמשים ולאפליקציות.
\end_layout

\begin_layout Standard
ראשית ננסה להבין מה המהות של קובץ.
 קובץ, בניגוד לזיכרון ורגיסטרים, נשאר תמיד, גם אם מכבים את המחשב.
 פורמלית, קובץ הוא אחסון מידע 
\series bold
מסודר
\series default
 )יש משמעות לתוכן ולסדרו(, 
\series bold
פרסיסטנטי
\series default
 )נשאר גם אם מכבים את המחשב( ו
\series bold
בעל שם
\series default
 )ניתן לזהות אותו באמצעות שם(.
\end_layout

\begin_layout Standard
שמות משמשים אותנו גם בקונטקסטים אחרים במחשב )בגישה לאתרים( ואפילו בגישה
 לזיכרון משותף של תהליכים )הם צריכים לדעת איך לזהות לסגמנט המשותף(.
\end_layout

\begin_layout Standard
הפרסיסטנס מתבטא בשמירה של הקבצים על התקנים שהם לא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
volatile
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)דיברנו על זה בהקשר של מטמון(, לדוגמה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
HDD
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SSD
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והמידע נשמר גם כשהמחשב כבוי.
 מעבר לכך, חשוב שהמידע ישמר גם אחרי שהתהליך שיצר אותו נגמר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)כי אחרת מה עשינו בזה(.
 
\end_layout

\begin_layout Description
הערה אמנם שימור לאורך זמן נשמע כוללני, אבל זמן החיים של מדיה דיגטלית הוא
 לרוב כמה עשרות שנים.
 מעבר לכך, לעתים אין מכשירים שאפשר להשתמש בהם כדי לקרוא את המדיה וגם אם
 כן, אנחנו לא תמיד יודעים/זוכרים איך לפרש את הביטים )זה פורמט עתיק לסרטון
 של חתול? פורמט עתיק לתמונה של חתול?(.
\end_layout

\begin_layout Standard
ביוניקס קובץ הוא סדרת בתים בלי שום משמעות נוספת, וזו המטלה של האפליקציה
 שמשתמשת בקובץ לפרש/לפענח אותו.
 במחשבים של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
IBM
\lang hebrew
, קובץ הוא רצף של רשומות ואז אפשר לגשת לפי רשומות באמצעות מערכת ההפעלה ולא
 רק לפי בתים.
 בווינדוס, מערכת ה-
\lang english
NTFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתייחס לקובץ כאוסף מפתחות-ערכים )לדוגמה האייקון של הקובץ( וגם סטרים של מידע
 בלי שם )תוכן הקובץ לרוב(.
\end_layout

\begin_layout Standard
נדמה לנו כמשתמשים שיש קשר בין ה-
\lang english
extension
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של הקובץ לתוכנו, אבל זה לא בהכרח המצב.
 ביוניקס אפשר לשים סיומות אבל הוא יתעלם מהן.
 בווינדוס יש לזה משמעות כי מערכת ההפעלה מנסה לשייך בין אפליקציות שתומכות
 בסיומת לקבצים עם הסיומת.
\end_layout

\begin_layout Standard
ככלל, מערכת ההפעלה נותנת תשתית לנתונים עם קצת מטא-דאטא אבל בלי להגביל את
 האפליקציה.
\end_layout

\begin_layout Standard
האפליקציה מפרשת ומעבדת, יוצרת ומשתמשת וקובעת מה לעשות עם הפורמט/התוכן.
\end_layout

\begin_layout Standard
מבחינת מערכת ההפעלה, מערכת הקבצים מתחלקת ל-
\lang english
API
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שנחשף לאפליקציות לביצוע הפעולות האמורות, והמימוש הפנימי של מערכת הקבצים.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
אנחנו עוסקים באלג' גירוש.
 כשכל הדפים תפוסים וצריך להכניס אחד חדש, צריך לגרש דף ולהכניס אחר מהדיסק.
 כל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PAGE FAULT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לוקח הרבה זמן לטיפול ולכן נרצה למזער את תדירות פיספוס הדפים )
\lang english
page miss rate
\lang hebrew
(.
\end_layout

\begin_layout Description
הערה נדון באלג' גירוש שונים, בהתעלם מהמימוש, כי העיסוק עם גירוש דף של הטבלה
 בטבלה היררכית הוא מיותר )זה מה שעושים בתרגיל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\numeric off
(.
\end_layout

\begin_layout Standard

\size larger
שיטות גירוש
\end_layout

\begin_layout Itemize

\bar under
האופטימלי
\bar default
: נבחר את הדף שלא נשתמש בו הכי הרבה זמן.
 אי אפשר יותר טוב מזה אבל הבעיה היא שאי אפשר לממש את זה כי אנחנו לא יודעים
 את העתיד.
 נשתמש בו להשוואה.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה נניח שאנחנו ניגשים לדפים בסדר הבא משמאל לימין 
\begin_inset Formula $0,2,1,6,4,0,1,0,3,1,2,1$
\end_inset

.
 עד הרביעי הכל בסדר.
 בהכנסת 
\begin_inset Formula $4$
\end_inset

, נכניס את 
\begin_inset Formula $6$
\end_inset

 כי אנחנו לא הולכים להשתמש בו יותר.
 
\begin_inset Formula $0$
\end_inset

 ו-
\begin_inset Formula $1$
\end_inset

 כבר בפנים ולכן לא צריך לעשות כלום.
 לאחר מכן 
\begin_inset Formula $3$
\end_inset

 צריך להיכנס במקום 
\begin_inset Formula $4$
\end_inset

 או 
\begin_inset Formula $0$
\end_inset

 )לא משתמשים בשניהם( וכו'.
 תדירות ה-
\lang english
FAULT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלנו היא 
\begin_inset Formula $\frac{6}{12}=0.5$
\end_inset


\end_layout

\end_deeper
\begin_layout Itemize

\bar under
\begin_inset Formula $ $
\end_inset


\lang english
FIFO
\bar default
\lang hebrew
: נוציא את הותיק ביותר בזיכרון.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה על אותו הסדר מלמעלה, נוציא את 
\begin_inset Formula $0$
\end_inset

 בשביל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\numeric off
, ואז את 
\begin_inset Formula $2$
\end_inset

 בשביל 
\begin_inset Formula $0$
\end_inset

 וכו' כך שסה
\begin_inset Quotes xrd
\end_inset

כ תדירות השגיאה היא 
\begin_inset Formula $\frac{9}{12}=0.75$
\end_inset

.
\end_layout

\begin_layout Standard
הבעיה כאן היא שהעובדה שמשהו יושב בזיכרון הרבה זמן לא אומר שאנחנו לא הולכים
 להשתמש בו בהמשך, להפך.
\end_layout

\end_deeper
\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\bar under
\lang english
Second Chance FIFO
\bar default
\lang hebrew
: למדנו אותו כאלג' השעון.
 נשמור לכל דף ביט רפרנס 
\begin_inset Formula $R$
\end_inset

 שנדלי קכל פעם שניגש אל הדף.
 נריץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FIFO
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
רק שאם 
\begin_inset Formula $R=1$
\end_inset

 על דף מועמד לגירוש, נאפס 
\begin_inset Formula $R=0$
\end_inset

 ונחזיר אותו לסוף התור )כאילו הוא חדש(.
\end_layout

\begin_layout Itemize

\bar under
\begin_inset Formula $ $
\end_inset


\lang english
LRU
\bar default
\lang hebrew
: נגרש את האחד שלא השתמשנו בו הכי הרבה זמן.
 זה מושכל יותר מ-
\lang english
FIFO
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי מה שלא השתמשנו הרבה זמן בו לרוב לא נשתמש בו בעתיד.
 בהינתן המידע שיש בכל איטרציה, זו הבחירה הכי מושכלת.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה כדי להכניס את 
\begin_inset Formula $4$
\end_inset

 נוציא את 
\begin_inset Formula $0$
\end_inset

, כדי להכניס את 
\begin_inset Formula $0$
\end_inset

 שוב נוציא את 
\begin_inset Formula $2$
\end_inset

, כדי להכניס את 
\begin_inset Formula $3$
\end_inset

 נוציא את 
\begin_inset Formula $6$
\end_inset

 וכדי להכניס את 
\begin_inset Formula $2$
\end_inset

 נוציא את 
\begin_inset Formula $4$
\end_inset

.
 תדירות השגיאה הפעם היא 
\begin_inset Formula $\frac{8}{12}=0.67$
\end_inset

.
\end_layout

\begin_layout Standard
הבעיה עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
LRU
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא שלזכור מה הדף האחרון שניגשנו אליו זה מאוד קשה.
 אפשר להשתמש בקאונטרים לכל דף, או לשמור הכל במחסנית, אבל זה קשה בחומרה ולכן
 לרוב משתמשים בשיטות שמקרבות את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
LRU
\lang hebrew
.
\end_layout

\end_deeper
\begin_layout Description
שאלה נניח שיש לנו מכונה עם 
\begin_inset Formula $8{\rm GB}$
\end_inset

 )
\begin_inset Formula $2^{33}$
\end_inset

( זיכרון פיזי וגודל דף של 
\begin_inset Formula $8{\rm KB}$
\end_inset

 )
\begin_inset Formula $2^{13}$
\end_inset

(, עם כניסה בגודל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בייטים )
\begin_inset Formula $2^{2}$
\end_inset

( בטבלת הדפים.
\end_layout

\begin_deeper
\begin_layout Itemize
כמה רמות בטבלת דפים היררכית נצטרך כדי להתאים כתובת וירטואלית באורך 
\begin_inset Formula $46$
\end_inset

 ביט אם כל טבלה נכנסת לדף יחיד )וכל מילה היא בייט אחד(?
\end_layout

\begin_deeper
\begin_layout Standard
ההיסט בכל דף הוא בגודל 
\begin_inset Formula $13$
\end_inset

 ביטים.
 בטבלה אחת יש לנו 
\begin_inset Formula $\frac{2^{13}}{2^{2}}=2^{11}$
\end_inset

 כניסות.
 לכן התשובה היא 
\begin_inset Formula $3$
\end_inset

 רמות, כי הכתובת היא 
\begin_inset Formula $\left(p_{1},p_{2},p_{3},offset\right)$
\end_inset

 כאשר הגדלים הם 
\begin_inset Formula $\left(11,11,11,13\right)$
\end_inset

 בהתאמה )נסכם ל-
\numeric on
46
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
סה
\begin_inset Quotes xrd
\end_inset

כ(.
\end_layout

\end_deeper
\begin_layout Itemize
פרטו את השדות של כל כניסה בטבלה.
\end_layout

\begin_deeper
\begin_layout Standard
בכניסה יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
32
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביטים.
 מספר הפריים בו נמצא הדף של הכניסה מיוצג ב-
\begin_inset Formula $\log\left(\frac{2^{33}}{2^{13}}\right)=20$
\end_inset

 ביטים )גודל הזיכרון חלקי גודל פריים יחיד(.
\end_layout

\end_deeper
\begin_layout Itemize
בלי מטמון, כמה פעולות זיכרון נדרשות כדי לקרוא/לכתוב למילה אחת באורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
32
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביטים?
\end_layout

\begin_deeper
\begin_layout Standard

\numeric on
4
\numeric off
, כי צריך לקרוא את הפריים בכל אחת מהטבלאות )
\numeric on
3
\numeric off
( וקריאה בתוך הפריים עצמו להיסט )
\numeric on
1
\numeric off
(.
\end_layout

\end_deeper
\begin_layout Itemize
כמה זיכרון פיזי נדרש לתהליך עם שלושה דפים בזיכרון הוירטואלי?
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Formula $48{\rm KB}$
\end_inset

 לשישה דפים, שלושה לטבלה )שורש, עומק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, עומק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
( והרמה האחרונה תצביע לשלושת דפי ה
\begin_inset Quotes xrd
\end_inset

תוכן
\begin_inset Quotes xrd
\end_inset

.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
שאלה ענו על השאלה הבאה.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/q1.png
	lyxscale 30
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
סעיף א' בשאלה ממבחן
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
בכל פעם שצריך דף חדש,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
LRU
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 יוציא את הדף הכי מוקדם שהשתמשנו בו.
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
המערך כולו מתפרס על 
\begin_inset Formula $\frac{2^{29}}{2^{10}}=2^{19}$
\end_inset

 דפים ולכן כל התהליך נמצא על 
\begin_inset Formula $2^{19}+1$
\end_inset

 דפים.
 הדפים לא בזיכרון בהתחלה ולכן צריך להביא את כולם לזיכרון בהתחלה, כלומר יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PAGE FAULT
\lang hebrew
-ׁׁים כמספר הדפים, לאמור 
\begin_inset Formula $2^{19}+1$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/q2.png
	lyxscale 30
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
סעיף ב' בשאלה ממבחן
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
ראשית כל עוד יש דף פנוי, נצטרך להביא את כל הדפים )כולל הקוד( מהזיכרון כלומר
 
\begin_inset Formula $2^{12}$
\end_inset

 הקצאות עד האיטרציה ה-
\begin_inset Formula $\left(2^{12}-1\right)\cdot2^{10}$
\end_inset

 של הלולאה )
\begin_inset Formula $2^{10}$
\end_inset

 מספרים בכל דף,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $2^{12}-1$
\end_inset

 מסגרות למערך בלי הקוד(.
 בגלל האופן שבו אנחנו ניגשים לזיכרון, כולם תמיד מקבלים הזדמנות שנייה ולכן
 אנחנו פשוט ב-
\lang english
FIFO
\lang hebrew
, כלומר כל 
\begin_inset Formula $2^{12}$
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PAGE FAULT
\lang hebrew
-ים, נגרש את דף הקוד שמיד נצטרך אחרי.
 כלומר יש לנו 
\begin_inset Formula $\frac{2^{19}}{2^{12}-1}\overset{\text{עיגול}}{=}2^{7}$
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PAGE FAULT
\lang hebrew
-יפ נוספים לפעם הקודמת.
 לכן התשובה היא 
\begin_inset Formula $2^{19}+1+2^{7}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
שאלה נתונה סדרת הגישות לדפים לפי הסדר הבא )משמאל לימין, אינדקסים למטה לנוחות(
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="16">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
6
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
6
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
7
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
8
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
9
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
10
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
11
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
12
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
13
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
14
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
15
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
16
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
סדר הגישות לדפים בשאלה
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
מלאו את הטבלה הבאה בהנחה שלזיכרון הפיזי יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מסגרות.
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
קורבן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
קורבן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
קורבן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
LRU
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
6
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
FIFO
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
Second Chance FIFO
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
5
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
קורבנות לפי אלג' גירוש שונים
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
ב-
\lang english
LRU
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נגרש את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי לא משתמשים בו יותר שמכניס את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
באינדקס
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
5
\numeric off
.
 לאחר מכן כשצריך להכניס את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
באינדקס
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
9
\numeric off
, נגרש את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי הוא האחרון שאנחנו משתמשים בו מבין הדפים שכרגע בזיכרון.
 בסוף נוציא את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
6
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי לא משתמשים בו יותר.
\end_layout

\begin_layout Standard
ב-
\lang english
FIFO
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ברור שמגורשים לפי הסדר השלושה הראשונים.
\end_layout

\begin_layout Standard
ב-
\lang english
FIFO
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם הזדמנות שנייה, ראשית נגרש את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
\end_layout

\end_deeper
\begin_layout Standard
כי נאפס לדפים 
\begin_inset Formula $1-4$
\end_inset

 את 
\begin_inset Formula $R$
\end_inset

 ואז נגיע ל-
\begin_inset Formula $1$
\end_inset

 שוב.
 לאחר מכן נרצה להכניס את 
\begin_inset Formula $6$
\end_inset

 אז נאפס את 
\begin_inset Formula $R$
\end_inset

 של כל הדפים חוץ מ-
\numeric on
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי בו לא השתמשנו מאז הגירוש האחרון ולכן הוא זה שיגורש.
 בסוף באינדקס
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
16
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כשנרצה להחזיר את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, נזרוק את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי הוא כמובן האחרון ששומש וה-
\begin_inset Formula $R$
\end_inset

 של כולם היה דלוק.
\end_layout

\begin_layout Description
שאלה התבוננו בקטע הקוד הבא במערכת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
32
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביט.
 הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
fork
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יוצרת תהליך חדש וערך ההחזרה שלה הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם אנחנו כרגע בתהליך החדש ואחרת ה-
\lang english
pid
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של הבן.
 התהליך החדש ממשיך את ריצת הקוד כמו ההורה שלו.
 כלומר הבן הוא זה שיכנס ל-
\lang english
if
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וההורה יכנס ל-
\lang english
else
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/q3.png
	lyxscale 30
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קוד משאלה ממבחן
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
הקוד יוצר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 כמה וכמה תהליכים )כל בן יוצר גם בנים אחריו( ומדפיס רק באיטרציה האחרונה
 את 
\begin_inset Formula $var$
\end_inset

 וכתובתו בכל אחד מהתהליכים )עם 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
race condition
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אפשרי(.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/q4.png
	lyxscale 30
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
סעיף א' משאלה ממבחן
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
נשים לב כי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הכתובת של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
var
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא זהה לכל תהליך כי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
fork
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מעתיק את מרחב הכתובות הוירטואליים של התהליך ההורה, וזה לא משתנה )רק הפיזי
 אבל זה לא מעניין, הכתובת המוצגת היא וירטואלית(.
\end_layout

\begin_layout Standard
נציג אפשרות אחת להדפסה.
 מתחילים מ-
\begin_inset Formula $var=0,i=0$
\end_inset

 בתהליך המקורי, נכנסים ל-
\begin_inset Formula $i=1$
\end_inset

 ועדיין 
\begin_inset Formula $var=0$
\end_inset

 בבן, ואז 
\begin_inset Formula $i=2$
\end_inset

 ו-
\begin_inset Formula $var=0$
\end_inset

 בנכד והוא יוצר נין שגם מקיים 
\begin_inset Formula $i=0$
\end_inset

 ו-
\begin_inset Formula $var=0$
\end_inset

 אבל הפעם נדפיס גם את הספרה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)והכתובת הקבועה(.
\end_layout

\begin_layout Standard
נחזור אחורה לנכד, הוא מעדכן 
\begin_inset Formula $var=1$
\end_inset

 ומדפיס
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
 באיטרציה הבאה שלו הוא יוצר עוד בן שמדפיס
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וכו' כך שסה
\begin_inset Quotes xrd
\end_inset

כ נקבל הדפסה של הספרות מ-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
7
\numeric off
.
\end_layout

\begin_layout Standard
בעץ כולו יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תהליכים.
\end_layout

\begin_layout Itemize
כמה פלטים אפשריים יש לתהליך?
\end_layout

\begin_layout Standard
\begin_inset Formula $8!$
\end_inset

 כי כל סדר של התהליכים יכול להופיע.
\end_layout

\begin_layout Itemize
מה גודל מרחב הכתובות הוירטואליות )במילים( המוקצה לכל תהליך? אם לא ניתן לדעת,
 הסבירו מדוע.
\end_layout

\begin_layout Standard
הכתובת של 
\begin_inset Formula $var$
\end_inset

 ניתנה לנו ב-
\numeric on
32
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביטים, כלומר מרחב הכתובות הוא 
\begin_inset Formula $2^{32}$
\end_inset

.
\end_layout

\begin_layout Itemize
מה הגודל של הזיכרון הפיזי במילים במערכת? אם לא ניתן לדעת, הסבירו מדוע.
\end_layout

\begin_layout Standard
אין דרך לדעת, לא התקבלו נתונים עליו.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{XI
\backslash
;
\backslash
; מערכות קבצים}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{XI}$
\end_inset

 | מערכות קבצים
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
האפליקציה מתממשקת עם ה-
\begin_inset Formula $\os$
\end_inset

 באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
syscall
\lang hebrew
-ים.
 כך גם מערכת הקבצים עובדת, יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
syscall
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לפתיחת קובץ, סגירה, קריאה, שינוי הרשאות ואטריביוטים, יצירת קובץ,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
seek
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)הזזת הפוינטר בקובץ( וכיוצ
\begin_inset Quotes xrd
\end_inset

ב.
\end_layout

\begin_layout Description
הערה אין העתקה חד ערכית ממערכת הפעלה למערכת קבצים וכל מערכת הפעלה יכולה
 )ואכן לרוב זה המצב( לתמוך בכמה מערכות קבצים שונות.
 כדי שנוכל לחבר דיסק-און-קי לכל מחשב שהוא, נצטרך שמערכות ההפעלה של המחשבים
 האלה יכירו וידעו להשתמש במערכת ההפעלה שמותקנת על הסטיק.
\end_layout

\begin_layout Standard
לכל קובץ יש מטא-דאטא שמנוהל על ידי ה-
\lang english
OS
\lang hebrew
.
 ביניהם שם, גודל, הרשאות, פוינטר למיקום בדיסק וכו'.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{שמות במערכת קבצים}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
שמות במערכת קבצים
\end_layout

\begin_layout Standard
לכל קובץ יש שם, והוא נמצא במבנה נתונים היררכי שמכיל תיקיות ותתי-תיקיות )
\lang english
directory
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בלינוקס/יוניקס ו-
\lang english
folder
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לווינדוס(.
 זה לא תמיד היה המצב )מערכות קבצים ישנות לא היו בנויות ככה(.
\end_layout

\begin_layout Standard
לחלוקה ההירככית יש כמה מטרות:
\end_layout

\begin_layout Itemize
יעילות: איתור קובץ במהירות בלי צורך לעבור על רשימה עם כל הקבצים.
\end_layout

\begin_layout Itemize
הפרדה: שני משתמשים יכולים לקרוא לקבצים שונים באותו השם ושמות שונים לאותו
 הקובץ.
\end_layout

\begin_layout Itemize
קיבוץ: חלוקה לוגית של הקבצים לפי מאפיינים או שימוש - כל התוכנות בתיקייה
 אחת, בתוכן כל התוכנות שכתבנו לתרגילים ב-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וכו'.
\end_layout

\begin_layout Standard
מכאן שמערכת ההפעלה היא עץ עם עומק שרירותי, כאשר כל קודקוד הוא קובץ או תיקייה
 )עלים קבצים, קודקודים פנימיים הם תיקיות(.
\end_layout

\begin_layout Standard
כל תיקיה מתאימה שם לאובייקט של קובץ, כאשר ההתאמה הזו שמורה בקובץ גם היא,
 מה שהופך את התיקייה לקובץ בפני עצמה )שומרים ביט שקובע אם הקובץ הוא תיקייה
 או לא(.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{מימוש של תיקיות}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
מימוש של תיקיות
\end_layout

\begin_layout Itemize

\bar under
רשימה בסיסית
\bar default
: מערך עם כניסות בגודל קבוע, קל למימוש אבל לא מאפשר גמישות בנתונים )לרוב
 כניסה יחסית קטנה כלומר מעט אטריביוטים, ואי אפשר להוסיף(.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה במערכת ההפעלה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MS-DOS
\lang hebrew
 השתמשנו בשיטה כזו, ראו איור לסידור של כל כניסה רשימה כזו.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/ms-dos.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
כניסה במערכת הקבצים של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MS-DOS
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize

\bar under
רשימה עם 
\lang english
i-node
\lang hebrew
-ים
\bar default
: רשימה עם שמות ופויטרים למבני נתונים מסוג
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ששומר בתוכו מספר דינמי של אטריביוטים.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה ביוניקס
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
V7
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
השתמשו בשיטה כזו, כאשר כניסה ברשימה היא בסה
\begin_inset Quotes xrd
\end_inset

כ שם הקובץ ופוינטר ל-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כאמור.
\end_layout

\begin_layout Description
דוגמה ב-
\lang english
ext4
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)מה שמשתמשים בלינוקס כיום( משתמשים גם בשיטה זו, רק שעכשיו היא נראת כבאיור.
 שימו לב לבייט טייפ שעכשיו נמצא מחוץ ל-
\lang english
i-node
\lang hebrew
, זה נועד לכך שפקודת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ls
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 שמדפיסה מה יש בתיקייה לא תצטרך להיכנס ל-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 של כל קובץ כדי לגלות אם הוא באמת קובץ או תיקייה וכך חוסכים הרבה מאוד זמן
 של קריאה בדיסק.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/ext4.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
כניסה במערכת הקבצים של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ext4
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Standard
ה-
\lang english
path
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של כל קובץ מתחיל מהשורש )אם הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
absolute
\lang hebrew
( או ב-
\lang english
working directory
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של התהליך )אם הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
relative
\lang hebrew
(.
\end_layout

\begin_layout Description
הערה כדי להגיע לקובץ באמצעות ה-
\lang english
path
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלו, צריך שתי קריאות מהזיכרון לכל חלק של ה-
\lang english
path
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)בין כל שני 
\begin_inset Formula $/$
\end_inset

( כי צריך לקרוא את תוכן ה-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של התייקיה ואז לקרוא את התוכן של התיקייה באמצעות הפוינטר שמצביע לשם שנמצא
 ב-
\lang english
i-node
\lang hebrew
.
\end_layout

\begin_layout Description
הערה כקונבנציה, ה-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ה-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא של ה-
\lang english
root directory
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)כל ה-
\lang english
i-node
\lang hebrew
-ים נמצאים במערך משלהם(.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{הגנה על קבצים והרשאות}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
הגנה על קבצים והרשאות
\end_layout

\begin_layout Standard
נרצה שמי שיצר את/הבעלים של הקובץ יוכל לקבוע מי יכול לעשות איזו פעולה על
 הקובץ.
\end_layout

\begin_layout Description
הערה יצירת/מחיקת קובץ זו פעולה על התיקייה עצמה.
\end_layout

\begin_layout Standard
כל כניסה למחשב קובעת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
user-id
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 )המחשב במקרה הזה יכול להיות גם רשת, לא רק מכונה פיזית(.
 כל משתמש יכול להיות חבר בקבוצות שונות, לדוגמה 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ghnadi
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 אולי יהיה חבר ב-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
indianpms
\lang hebrew
(.
 את ההרשאות מעבר לכך אפשר לתאר בשתי דרכים:
\end_layout

\begin_layout Itemize

\bar under
מינימלית
\bar default
: הפרדה באמצעות רק בעלים אחד, קבוצה אחת וכל מי שלא השניים הקודמים.
 קל מאוד לשמור הרשאות כך אבל אי שוב זו לא מערכת גמישה במיוחד.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה בלינוקס משתמשים ב-
\numeric on
9
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביטים בשביל לייצג הרצאות.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביטים לכל אחת מהקבוצות הנ
\begin_inset Quotes xrd
\end_inset

ל.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הביטים לכל קבוצה מייצגים האם מותר להם לכתוב, האם מותר להם לקרוא והאם מותר
 להם להריץ.
 אפשר לייצג כל הרשאה במספר בבסיס אוקטאלי, לדוגמה 
\begin_inset Formula $110$
\end_inset

 )אפשר לקרוא ולכתוב אבל לא להריץ( מיוצג ע
\begin_inset Quotes xrd
\end_inset

י
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
6
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)המרה מייצוג בינארי קלאסית למעשה(.
 בסוף, מציגים את כל ההרשאות במספר תלת ספרתי )עם ספרות מ-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
7
\numeric off
(.
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
מפורטת
\bar default
: לכל קובץ יש רשימה שקובע איזה משתמש יכול לעשות מה.
 שיטה זו מאוד גמישה אבל קשה לייצוג קומפקטי.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה בווינדוס משתמשים ב-
\lang english
Access Control List
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שבכל כניסה שלה יש מזהה של משתמש/קבוצה, פעולות על הקובץ, האם את הפעולות האלה
 מותר או אסור לעשות.
\end_layout

\begin_deeper
\begin_layout Standard
אם לאובייקט אין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ACL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אפשר לעשות הכל, אם ה-
\lang english
ACL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
null
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אסור לעשות כלום.
 אם יש כניסות )
\lang english
ACE
\lang hebrew
(, נלך לפי הכניסה הראשונה שחלה על המשתמש והפעולה הנוכחית, כאשר כניסות שאוסרות
 על פעולות נמצאות מעל אלו שמאפשרות פעולות.
 אם הגענו לסוף הרשימה הרי שאסור לנו לבצע את הפעולה.
\end_layout

\begin_layout Standard
לכאורה לא צריך את האיסורים כי אפשר פשוט לא-לאפשר אבל איסורים שימושיים כשרוצים
 הרשאות לכולם חוץ מ- )נשים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ACE
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של איסור למשתמש ספציפי, ולאחר מכן אפשור לכולם(.
\end_layout

\end_deeper
\end_deeper
\begin_layout Standard

\size larger
קישורים לקבצים
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
hard link
\lang hebrew
: פוינטר לקובץ עצמו, קשור אליו ואחראי עליו.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
soft link
\lang hebrew
: קובץ שמכיל פוינטר לקובץ אחר )קיצורי דרך בווינדוס(.
\end_layout

\begin_layout Description
הערה אם נזיז קובץ עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
hard link
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הכל יעבוד בסדר כי האובייקט עצמו לא זז.
 אם נזיז קובץ שיש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
soft link
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אליו, ה-
\lang english
soft link
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יחדל מלעבוד כי הפוינטר שנמצא ב-
\lang english
soft link
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כבר לא קיים באותו המקום.
\end_layout

\begin_layout Standard

\size larger
פתיחת קבצים
\end_layout

\begin_layout Standard
לכאורה אין סיבה לפתוח ולסגור קובץ באופן יעודי, אפשר פשוט לקרוא ממנו כל פעם
 וזהו.
 הבעיה היא שזה דורש מאיתנו לפרסר את ה-
\lang english
path
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כל פעם מחדש, ולכן נעדיף לעשות את זה פעם אחת )לוקח הרבה זמן( ומשם לקרוא באופן
 ישיר מהדיסק בכל קריאה.
\end_layout

\begin_layout Standard
כשלמדנו על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PCB
\lang hebrew
-ים של תהליכים, הזכרנו שיש לכל תהליך רשימה של קבצים פתוחים שלו.
 כשהתהליך מסתיים, הקבצים שלו נסגרים אוטומטית ולכן לא חייבים לקרוא ל-
\lang english
close
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתהליך )אבל עדיף מסיבות אחרות(.
\end_layout

\begin_layout Standard
כשפותחים קובץ קורים כמה דברים באופן אוטומטי:
\end_layout

\begin_layout Itemize
מפרסרים את ה-
\lang english
path
\lang hebrew
.
\end_layout

\begin_layout Itemize
מעתיקים את ה-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של הקובץ לטבלת הקבצים הפתוחים בכל המערכת.
\end_layout

\begin_layout Itemize
שמים פוינטר ב-
\lang english
PCB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של התהליך הנוכחי שמצביע ל-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
המועתק.
\end_layout

\begin_layout Itemize
מחזירים פוינטר לכניסה ב-
\lang english
PCB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמתייחסת לקובץ.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{מימוש מערכת הקבצים בדיסק}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
מימוש מערכת הקבצים בדיסק
\end_layout

\begin_layout Standard
איך נשמור את הקבצים על הדיסק? מה מבנה הנתונים הכי טוב לכך? צריך מבנ
\begin_inset Quotes xrd
\end_inset

ת שתומך גם בגישה סדרתית )למערכים( וגם גישה אקראית )במסדי נתונים(.
\end_layout

\begin_layout Itemize

\bar under
שמירה באופן רציף של הקבצים
\bar default
: זה כרגיל יוצר בעיה של פרגמנטציה ולא מאפשר להגדיל את הקובץ.
\end_layout

\begin_deeper
\begin_layout Standard
זה לא רלוונטי ל-
\lang english
DVD
\lang hebrew
-ים ששם לא מוחקים קבצים אלא רק קוראים.
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
קומקפציה
\bar default
: סידור מחדש של הזיכרון הרציף, זו פעולה מאוד יקרה ולא משתלמת.
\end_layout

\begin_layout Itemize

\bar under
בלוקים
\bar default
: נחלק את הדיסק לבלוקים של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
4KB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ונתעסק איתם בדומה לדפים.
\end_layout

\begin_deeper
\begin_layout Standard
כשמשתמשים בשיטה זו האבסטרקציה מתבטאת באופן חד ביותר, מבחינת מה כל חלק במערכת
 רואה:
\end_layout

\begin_layout Itemize
המשתמש: מידע רציף.
\end_layout

\begin_layout Itemize
ה-
\lang english
API
\lang hebrew
: סדרת בייטים בגודל שרירותי.
\end_layout

\begin_layout Itemize
מערכת הקבצים: אוסף בלוקים )
\lang english
4KB
\lang hebrew
(.
\end_layout

\begin_layout Itemize
הדיסק: סקטורים נפרדים )
\lang english
512B
\lang hebrew
(.
\end_layout

\begin_layout Standard
מה שדרוש מחשבה למימוש זה הפער בין ה-
\lang english
API
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
למערכת הקבצים - בדומה להתעסקות האינסופית בין זיכרון וירטואלי לפיזי.
\end_layout

\begin_layout Description
דוגמה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
getc
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
putc
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אפע
\begin_inset Quotes xrd
\end_inset

פ שקוראים רק בית אחד, מערכת הקבצים )בגלל שהיא עובדת רק בבלוקים(, תביא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
4KB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 לזיכרון ותקרא משם בית אחד.
\end_layout

\begin_layout Description
דוגמה קריאת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
N
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים מקובץ )החל מהמקום שאליו אנחנו מצביעים בקובץ( ממומשת ע
\begin_inset Quotes xrd
\end_inset

י זיהוי הבלוקים הרלוונטיים, קריאתם והעתקת החלקים הרלוונטים מתוך הבלוקים
 אל הבאפר של המשתמש )מתקבל כפרמטר(.
\end_layout

\begin_layout Description
דוגמה כתיבת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
N
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים זה כבר יותר מורכב כי כשכותבים לבלוק צריך להיזהר לא לדרוס את מה שהיה
 כתוב לפני.
\end_layout

\begin_deeper
\begin_layout Enumerate
נזהה את הבלוקים הרלוונטים.
\end_layout

\begin_layout Enumerate
אם הבלוקים לא ריקים, נקרא את הבלוקים )כדי לא לדרוס את מה שכבר שם, כי אנחנו
 כותבים ביחידות של בלוקים, אין לנו גישה יותר עדינה(.
\end_layout

\begin_layout Enumerate
נעתיק את הבאפר של המשתמש לבלוקים ב-
\lang english
buffer cache
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז נכתוב את הבלוקים לדיסק.
\end_layout

\begin_layout Enumerate
נעדכן ב-
\lang english
i-node
\lang hebrew
 את מספר הבלוקים, זמן אחרון ששונה הקובץ ואם נוספו בלוקים חדשים, גם את גודל
 הקובץ הנוכחי.
\end_layout

\end_deeper
\end_deeper
\begin_layout Standard
נשמור בזיכרון את ה-
\lang english
buffer cache
\lang hebrew
, אזור בזיכרון שמוקצה )ע
\begin_inset Quotes xrd
\end_inset

י מערכת ההפעלה, למען מערכת הקבצים( ל
\begin_inset Quotes xrd
\end_inset

מטמון
\begin_inset Quotes xrd
\end_inset

 של הדיסק לבלוקים.
 כדי לאתר האם הבלוק שלנו נמצא כרגע ב-
\lang english
buffer cache
\lang hebrew
, ישנו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
hash table
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 שהמפתחות שלו הם מספר הבלוקים.
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
לא נסיר באפר אלא אם נצטרך לגרש אחד בשביל אחד חדש.
 לכן גם כאן צריך אלג' גירוש רק שהפעם נוכל לממש 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
LRU
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי בלאו הכי כל הניהול כל כך יקר ששמירה ועדכון של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
linked list
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של בלוקים היא זניחה ביחס לזמן שלוקחות כל שאר הפעולות.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{גישה לבלוקים השייכים לקובץ}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
גישה לבלוקים השייכים לקובץ
\end_layout

\begin_layout Standard
איך נדע היכן נמצא הבלוק על הדיסק? צריך העתקה ממספר הבלוק למיקום שלו בדיסק,
 וגם לזכור מה הסדר של הבלוקים בכל קובץ.
\end_layout

\begin_layout Itemize

\bar under
רשימה מקושרת נאיבית
\bar default
: כל בלוק מכיל תוכן של הקובץ ומצביע למיקום הבלוק הבא 
\end_layout

\begin_deeper
\begin_layout Standard
לשיטה הזו שני חסרונות מרכזיים: גישה לבלוק שרירותי דורשת מעבר לינארי על כל
 הרשימה; ושבגלל שהמצביע תופס מקום בבלוק, גודל הבלוק האפקטיבי לתוכן הקובץ
 הוא כבר לא חזקה של 
\begin_inset Formula $2$
\end_inset

 וזה הורס לנו את כל החישובים.
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
\begin_inset Formula $ $
\end_inset


\lang english
FAT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)ממומש ב-
\lang english
MS-DOS
\lang hebrew
(: נשמור טבלה )
\lang english
File Allocation Table
\lang hebrew
( בזיכרון שתממש לנו את הרשימה המקושרת ותשאיר את הבלוקים לתוכן בלבד.
\end_layout

\begin_deeper
\begin_layout Standard
נממש זאת באופן הבא: נשמור את הבלוק הראשון ב-
\lang english
i-node
\lang hebrew
, ואז הערך שנמצא באינדקס הבלוק הזה בטבלה, הוא הבלוק הבא וחוזר חלילה עד שנגיע
 לבלוק שאנחנו צריכים.
\end_layout

\begin_layout Standard
כלומר לא התחמקנו ממעבר על רשימה מקושרת, פשוט עכשיו היא מחוץ לבלוקים עצמם.
\end_layout

\begin_layout Standard
יתרונות: כל הבלוק מוקצה לתוכן הקובץ;
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
random access
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הרבה יותר מהיר מרשימה מקושרת בדיסק כי זו 
\begin_inset Quotes xld
\end_inset

רשימה מקושרת
\begin_inset Quotes xrd
\end_inset

 בזיכרון.
\end_layout

\begin_layout Standard
חסרונות: הטבלה מאוד גדולה עבור דיסקים גדולים ולכן צריך להביא אותה מהדיסק
 לזיכרון אם לא כולה בזיכרון.
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
בלוקים מאונדקסים
\bar default
 )ממומש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביוניקס(: ה-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מכיל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
12
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
פוינטרים ל-
\numeric on
12
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הבלוקים הראשונים )
\lang english
direct blocks
\lang hebrew
(, הפוינטר ה-
\numeric on
13
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 מצביע לבלוק שמכיל פוינטרים לבלוקים של )תוכן( הקובץ )
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
single indirect
\lang hebrew
(, הפוינטר ה-
\numeric on
14
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מצביע לבלוק שמצביע לבלוקים שמבציעים על בלוקים של תוכן הקובץ )
\lang english
double indirect
\lang hebrew
( ואחריו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
triple indirect
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Standard
את ה-
\lang english
48KB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הראשונים אפשר לקרוא ישר מה-
\lang english
i-node
\lang hebrew
, את ה-
\lang english
4MB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הבאים באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
single indirect
\lang hebrew
, ואז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
4GB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
4TB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהתאמה לעומקים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\numeric on
3
\numeric off
.
 כך כל בלוק ניתן למציאה באמצעות לכל היותר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קריאות מהדיסק.
\end_layout

\begin_layout Standard
אפשר לשמור במטמון )לדוגמה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
buffer cache
\lang hebrew
( את ה-
\lang english
single indirect
\lang hebrew
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
double indirect
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 וכו' ואז לא צריך כל פעם לקרוא אותם מחדש.
\end_layout

\begin_layout Standard
ההיגיון מאחורי זה הוא שהתפלגות גודלי הקבצים מאוד מוטה )לכיוון קבצים קטנים(.
 באופן טיפוסי ביוניקס, חצי משטח הדיסק נתפס על ידי 
\begin_inset Formula $0.3\%$
\end_inset

 מהקבצים ו-
\begin_inset Formula $11\%$
\end_inset

 מהדיסק נתפס ע
\begin_inset Quotes xrd
\end_inset

י 
\begin_inset Formula $89\%$
\end_inset

 מהקבצים ולהפך )הרבה קבצים מאוד קטנים(.
\end_layout

\begin_layout Standard
באופן מהותי למימוש, 
\begin_inset Formula $95\%$
\end_inset

 מהקבצים הם לכל היותר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
48KB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן משתמשים רק ב-
\lang english
direct blocks
\lang hebrew
.
\end_layout

\end_deeper
\begin_layout Standard
אם הקובץ הוא פחות מ-
\numeric on
60
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים )הגודל שתופסים כל הפוינטרים הנ
\begin_inset Quotes xrd
\end_inset

ל(, אפשר פשוט לשים את תוכנו במקום הפוינטרים ולהדליק ביט שמכריז על הקובץ
 כ-
\lang english
inline
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 )בתוך ה-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
i-node
\lang hebrew
(, זה שימושי ל-
\begin_inset Formula $6\%$
\end_inset

 מהקבצים.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard

\color darkgray
התרגול הוא חזרה אינסופית על מה שעשינו בהרצאה וזו שלפניה ולכן לא אעשה את
 כל הדוגמאות וההסברים שוב.
\end_layout

\begin_layout Standard
קובץ הא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Abstract Data Type
\lang hebrew
, יש לו שם, תוכן ומטא-דאטא ואפשר לעשות עליו פעולות.
 זו היחידה הבסיסית שיש על הדיסק.
\end_layout

\begin_layout Standard
קובץ מיוצג בתור כניסה בתיקייה שמכילה את שם הקובץ ומצביע ל-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלו, מבנה נתונים שמכיל את המטא-דאטא של הקובץ ומצביעים לבלוקים שלו )שמחולקים
 ל-
\lang english
direct blocks
\lang hebrew
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
single-indirect
\lang hebrew
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
double-indirect
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וכו'(.
\end_layout

\begin_layout Description
דוגמה ה-
\lang english
indirect
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מצביע לבלוק בגודל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
4KB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\begin_inset Formula $2^{12}$
\end_inset

( וכל פוינטר הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים )
\begin_inset Formula $2^{2}$
\end_inset

( במערכת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
32
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביט ולכן ה-
\lang english
indirect
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יכול להכיל עוד 
\begin_inset Formula $2^{14}=4{\rm MB}$
\end_inset

 בלוקים.
\end_layout

\begin_layout Standard
תיקייה היא קובץ, לכן יש ל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שכתוב בו בין היתר שזו תיקייה, ומצביע לתוכן התיקייה שהוא קידוד של התאמת שמות
 הקבצים/תיקיות ל-
\lang english
i-node
\lang hebrew
-ים שלהם )נקרא גם מדריך(.
\end_layout

\begin_layout Description
הערה שם הקובץ לא שמור בקובץ עצמו )וגם לא ב-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלו(, אלא בתיקייה בה הוא נמצא.ּ
\end_layout

\begin_layout Standard
כדי לנהל את מערכת הקבצים משתמשים ב-
\lang english
superblock
\lang hebrew
.
 ה-
\lang english
superblock
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 אינו בלוק בדיסק, אלא איזור בזיכרון שמנהל את ההקצאה של בלוקים במערכת ההפעלה.
 הוא מכיל את גודל מערכת הקבצים, רשימה של בלוקים פנויים, 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
i-node
\lang hebrew
-ים שלא השתמשנו בהם ועוד.
 בעזרת המידע הזה אפשר להקצות עוד/להחזיר בלוקים מקבצים שנמחקו וכד'.
\end_layout

\begin_layout Standard
ה-
\lang english
i-node
\lang hebrew
-ים שמורים במערך )סופי( שמוקצה כשמערכת הקבצים מאותחלת, לכן מספר הקבצים שמערכת
 קבצים יכולה להכיל הוא סופי )אבל המכסה מאוד גבוה אז לרוב לא מגיעים אליה(.
 כדי לגשת ל-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כל שנצטרך הוא האינדקס שלו במערך.
\end_layout

\begin_layout Standard
ה-
\lang english
superblock
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שומר רשימה של כמה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
i-node
\lang hebrew
-ים פנויים לקבצים חדשים ומוסיף אליה כשמוחקים קבצים ולוקח ממנה כשיוצרים,
 אם צריך עוד הוא לוקח מהדיסק.
 הכוונה היא להימנע מגישות שניתן למנוע לדיסק )מאוד יקר(.
\end_layout

\begin_layout Standard
בנפרד מהרשימה הנ
\begin_inset Quotes xrd
\end_inset

ל ישנה רשימה של בלוקים פנויים בדיסק להקצאה לכתיבות חדשות/קבצים חדשים.
\end_layout

\begin_layout Standard
ה-
\lang english
syscall
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של פתיחת קובץ מחזיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
fild descriptor
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלנו לא אומר שום דבר אבל נשלח אותו לכל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
syscall
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שנרצה להפעיל על הקובץ הזה.
 ה-
\lang english
FD
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא למעשה אינדקס ב-
\lang english
File Descriptor Table
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שהיא טבלה של קבצים פתוחים ששייכים לתהליך )שמורה ב-
\lang english
PCB
\lang hebrew
(.
\end_layout

\begin_layout Description
הערה לחוטים, מכוח כך שהם שייכים לאותו תהליך, הם בעלי אותה טבלה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FD
\lang hebrew
-ים.
\end_layout

\begin_layout Standard
ביוניקס כל דבר הוא קובץ )ככה המשתמש רואה את זה(.
 בכל יצירת תהליך, נפתחים שלושה קבצים אוטומטית -
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Standard Input, Standard Output, Standard Error
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FD
\lang hebrew
-ים בהתאמה 
\begin_inset Formula $0,1,2$
\end_inset

.
\end_layout

\begin_layout Standard
ברגע שנפתח קובץ, שומרים בטבלה של כל המחשב את ה-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של הקובץ הפתוח, שמים פוינטר לשם ב-
\lang english
PCB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של התהליך ומחזירים את האינדקס בטבלת ה-
\lang english
FD
\lang hebrew
-ים שבו נמצא הפוינטר, הלא זה ה-
\lang english
FD
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של הקובץ.
\end_layout

\begin_layout Description
הערה בטבלת הקבצים הפתוחים אנחנו שומרים גם את ההיסט שלנו בתוך הקובץ וכן האם
 יש לנו בכלל הרשאה לקרוא את הקובץ הזה.
\end_layout

\begin_layout Description
דוגמה נרצה לכתוב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
100
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים החל מהבית 
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
האחרון 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של הקובץ, שהוא בית מספר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
200
\numeric off
, כאשר כל בלוק בדיסק הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1024
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים.
 נצטרך לכתוב את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
48
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הבתים הראשונים של התוכן לבלוק השני ואת השאר בבלוק שלישי החדש שנקצה.
\end_layout

\begin_deeper
\begin_layout Standard
בגלל שאנחנו קוראים וכותבים פר-בלוק ולא ברזולוציה נמוכה יותר, נצטרך להעתיק
 את תוכן הבלוק השני ל-
\lang english
buffer cache
\lang hebrew
, לכתוב את הבתים החדשים בו, לכתוב חזרה לדיסק ואז להקצות בלוק שלישי לקובץ,
 לכתוב אל תוכו את הבתים האחרים של המשתמש ולכתוב את זה לדיסק.
 בנוסף חשוב לעדכן את ה-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בנוגע לבלוק שנוסף )וכמובן תאריך השינוי האחרון, גודל הקובץ וכו'(.
\end_layout

\end_deeper
\begin_layout Standard
לסיכום, ה-
\lang english
buffer cache
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
חשוב מאוד לשיפור ביצועים אבל הוא יכול לגרום גם לבעיות מהימנות כי בזמן שמערכת
 הקבצים כותבת לעצמה את התוכן ב-
\lang english
buffer cache
\lang hebrew
, יכול להיות שניתקו את המחשב ואז לא כתבנו את התוכן לקובץ )לכן חשוב לא לנתק
 דיסק-און-קי לפני שהוא מסיים פעולה(.
\end_layout

\begin_layout Standard

\size larger
טבלאות במערכת הקבצים
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
File Descriptor Table
\lang hebrew
: שונה לכל התהליך, כל כניסה היא פוינטר לכניסה בטבלת הדפים הפתוחים, האינדקס
 הוא ערך ההחזרה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
syscall
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הפתיחה )
\lang english
open
\lang hebrew
(.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Open Files Table
\lang hebrew
: שונה לכל תהליך, כל כניסה מכילה פוינטר לכניסה בטבלת ה-
\lang english
i-node
\lang hebrew
-ים ואת ההיסט הנוכחי בקובץ.
 יכולות להיות כמה כניסות של אותו הקובץ, אחת לכל קריאה ל-
\lang english
open
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Standard
כל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קיים רק פעם אחת אבל המצביעים הרבים אליו מאפשרים שכל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FD
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יהיה בהיסט אחר בקובץ.
\end_layout

\end_deeper
\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
i-node Table
\lang hebrew
: טבלה משותפת לכל התהליכים, כל כניסה מכילה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של קובץ קיים )פעם אחת לכל קובץ(.
\end_layout

\begin_layout Description
שאלה ענו על שאלה הבאה.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/q6.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
שאלה ממבחן
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
אנחנו פותחים קובץ עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אלמנטים ב-
\lang english
path
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא כולל הקובץ )השורש ושלוש תיקיות(.
 נקרא את ה-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של השורש ואז את המדריך שלו, ואז את ה-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
x
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והמדריך שלו וכו', ומחישוב קצר זה לוקח
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קריאות בדיסק.
 לאחר מכן כותבים לבלוק )הוא ריק( ואז בסגירה נכתוב את ה-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
חזרה ל-
\lang english
i-node Table
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שבדיסק, סה
\begin_inset Quotes xrd
\end_inset

כ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
11
\numeric off
.
\end_layout

\begin_layout Standard
העובדה שהקובץ קיים חשובה כי זה אומר שצריך לטעון את ה-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
foo
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מהדיסק, אחרת לא היה צריך, פשוט היינו יוצרים אחד חדש.
\end_layout

\begin_layout Standard
העובדה שכל מדריך בגודל בלוק אחד חשובה כי אז קריאה של ה-
\lang english
path
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 בלוקים לכל אלמנט )בלוק אחד, לשתי קריאות שונות(.
\end_layout

\begin_layout Standard
העובדה ששום דבר לא נמצא בזיכרון מראש אומרת שאי אפשר להניח שחסכנו קריאות
 לדיסקים.
\end_layout

\begin_layout Standard
העובדה שלא צריך לגשת לדיסק כדי להקצות בלוקים חשובה כדי שההקצאה החדשה של
 ה-
\lang english
write
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 תדרוש בלוק יחיד ולא כמה(.
\end_layout

\end_deeper
\begin_layout Description
שאלה קראו את הנתונים הבאים.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/q33.png
	lyxscale 30
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
נתונים לשאלה ממבחן
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
ה-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 מכיל הרבה נתונים, 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
timestamps, owners
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וכו', אך לא את ה-
\lang english
offset
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בקובץ.
 היכן הוא שמור ומדוע הוא שמור במקום מרוחק?
\end_layout

\begin_deeper
\begin_layout Standard
הוא שמור בטבלת הקבצים הפתוחים, כדי שיוכלו להיות היסטים שונים לכל פתיחה של
 הקובץ.
\end_layout

\end_deeper
\begin_layout Enumerate
מהו הגודל המקסימלי של קובץ בבלוקים שניתן להצביע אליו באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כזה וכמה בלוקים סה
\begin_inset Quotes xrd
\end_inset

כ יתפוס קובץ כזה על הדיסק )כולל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
index blocks
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אבל בלי ה-
\lang english
i-node
\lang hebrew
(?
\end_layout

\begin_deeper
\begin_layout Standard
הפוינטרים הישירים נותנים לנו 
\begin_inset Formula $24$
\end_inset

 בלוקים, ה-
\lang english
single indirect
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נותן לו 
\begin_inset Formula $\frac{2^{9}}{2^{2}}=2^{7}$
\end_inset

 וכל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
double-indirect
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נותן לנו 
\begin_inset Formula $\left(2^{7}\right)^{2}$
\end_inset

 ולכן סה
\begin_inset Quotes xrd
\end_inset

כ נקבל 
\begin_inset Formula $2\cdot2^{14}+2^{7}+24=32920$
\end_inset

.
\end_layout

\begin_layout Standard
בנוסף לכך, צריך להתייחס למקום שתופסים הבלוקים של ה-
\lang english
indirect
\lang hebrew
-ים.
 ה-
\lang english
single
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
דורש בלוק יחיד נוסף וכל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
double
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
דורש 
\begin_inset Formula $2^{7}+1$
\end_inset

 בלוקים )אחד לעומק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ועוד 
\begin_inset Formula $2^{7}$
\end_inset

 מוצבעים בעומק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
(, כלומר סה
\begin_inset Quotes xrd
\end_inset

כ 
\begin_inset Formula $32920+2\cdot\left(2^{7}+1\right)+1$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
מהו הגודל המקסימלי של קובץ שניתן להצביע אליו לפי ייצוג ה-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שנראה בהרצאה?
\end_layout

\begin_deeper
\begin_layout Standard
חישוב בדומה רק שהפעם יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
12
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ישירים ו-
\lang english
indirect
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אחד מכל סוג )
\lang english
single, double, triple
\lang hebrew
(.
\end_layout

\end_deeper
\begin_layout Enumerate
בספרייה 
\begin_inset Formula ${\rm /usr/yossi}$
\end_inset

 ישנו קובץ בשם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
myfile
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שגודלו 
\begin_inset Formula $32{\rm KB}$
\end_inset

, כמה בלוקים יתפוס קובץ במערכת ההפעלה של יוסי )כולל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
index blocks
\lang hebrew
, לא כולל את ה-
\lang english
i-node
\lang hebrew
(?
\end_layout

\begin_deeper
\begin_layout Standard
אנחנו צריכים 
\begin_inset Formula $\frac{2^{15}}{2^{9}}=2^{6}$
\end_inset

 בלוקים בשביל הקובץ.
 הישירים נותנים לנו לכל היותר 
\begin_inset Formula $24$
\end_inset

 ישירים.
 ה-
\lang english
single-indirect
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נותן לנו עוד 
\begin_inset Formula $2^{9}$
\end_inset

 בלוקים שזה מספיק.
 לכן נשתמש ב-
\begin_inset Formula $2^{6}+1=65$
\end_inset

 )אחד ל-
\lang english
index block
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
single indirect
\lang hebrew
(.
\end_layout

\end_deeper
\begin_layout Enumerate
כמה בלוקים יתפוס אותו קובץ בייצוג
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שראינו בהרצאה?
\end_layout

\begin_deeper
\begin_layout Standard
אותו הדבר, כי השינוי במספר הישירים לא משפיע כי הקובץ גדול מדי.
\end_layout

\end_deeper
\begin_layout Enumerate
נתונה קריאת המערכת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
open(fd, 
\begin_inset Quotes xld
\end_inset

/usr/yossi/myfile
\begin_inset Quotes xrd
\end_inset

, O_RDONLY);
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Enumerate
הניחו שהקובץ אליו ניגשים קיים והוא קובץ רגיל.
 מה המספר המינימלי של גישות לדיסק שיתבצעו ע
\begin_inset Quotes xrd
\end_inset

י קריאה זו?
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Formula $0$
\end_inset

, אם כל הנתונים כבר ב-
\lang english
buffer cache
\lang hebrew
.
\end_layout

\end_deeper
\begin_layout Enumerate
מה מספר הקריאות המקסימלי של גישות דיסק שיתבצעו ע
\begin_inset Quotes xrd
\end_inset

י קריאה זו?
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Formula $7$
\end_inset

, 
\begin_inset Formula $6$
\end_inset

 קריאות בשביל ה-
\lang english
path
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואחת לפתיחה )קריאת ה-
\lang english
i-node
\lang hebrew
(.
\end_layout

\end_deeper
\end_deeper
\end_deeper
\begin_layout Description
שאלה ענו על השאלה הבאה.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/2020.png
	lyxscale 30
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
שאלה ממבחן
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
האם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
36
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים מספיקים לייצוג
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בשיטה זו?
\end_layout

\begin_deeper
\begin_layout Standard
לא! יש לנו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
6
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מצביעים ישירים ואז עוד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
 
\lang english
indirect
\lang hebrew
, כלומר סה
\begin_inset Quotes xrd
\end_inset

כ 
\begin_inset Formula $9\cdot2^{2}=36$
\end_inset

 בתים בדיוק, אבל אנחנו חייבים שדות אחרים, ולאלו אין מקום ב-
\numeric on
36
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים בלבד.
\end_layout

\end_deeper
\begin_layout Enumerate
חשבו כמה גישות לדיסק נצטרך על מנת לקרוא את הבתים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2000
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 עד 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3700
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מהקובץ 
\begin_inset Formula ${\rm /a/b/c}$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
כדי לפרסר את ה-
\lang english
path
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
צריך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
7
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בלוקים.
 הבלוק השני נגמר ב-
\numeric on
2048
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן נצטרך להביא את הבלוק השני, השלישי והרביעי.
 כלומר סה
\begin_inset Quotes xrd
\end_inset

כ 
\begin_inset Formula $10$
\end_inset

.
\end_layout

\begin_layout Standard
אלו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קריאות 
\lang english
i-nodes
\lang hebrew
, 
\begin_inset Formula $0$
\end_inset

 קריאות ל-
\lang english
index blocks
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)הכל נכנס בישירים( ו-
\numeric on
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לבלוקים המכילים את תוכן הקובץ.
\end_layout

\end_deeper
\begin_layout Enumerate
חשבו כמה גישות לדיסק נצטרך על מנת לקרוא את הבתים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
7200
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 עד 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
8000
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מהקובץ 
\begin_inset Formula ${\rm /a/b/c}$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Formula $\lfloor\frac{7200}{1024}\rfloor=6$
\end_inset

 ולכן אנחנו צריכים את בלוק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
6
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולמעשה רק אותו כי הוא נגמר ב-
\begin_inset Formula $8096$
\end_inset

 ולכן הוא מכיל בתוכו את כל התוכן שאנחנו רוצים.
 הישירים לא מספיקים לנו כי הם מכילים רק 
\begin_inset Formula $6$
\end_inset

 בלוקים ואנחנו צריכים את השביעי )אינדקס
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
6
\numeric off
(.
\end_layout

\begin_layout Standard
לכן יהיו לנו 
\begin_inset Formula $7$
\end_inset

 קריאות לפרסור ה-
\lang english
path
\lang hebrew
, בלוק אחד ל-
\lang english
single indirect
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואחד לתוכן.
\end_layout

\begin_layout Standard
אלו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קריאות 
\lang english
i-nodes
\lang hebrew
, קריאה אחת של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
index block
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וקריאה אחת של תוכן הקובץ.
\end_layout

\end_deeper
\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{XII
\backslash
;
\backslash
; וירטואליזציה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{XII}$
\end_inset

 | וירטואליזציה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{פרטים נוספים על מערכות קבצים}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
פרטים ספציפיים על נישות במערכות קבצים
\end_layout

\begin_layout Standard
ראינו בהרצאה הקודמת שכשאנחנו קוראים קבצים אנחנו שומרים את הבלוקים ב-
\lang english
buffer cache
\lang hebrew
.
 אפשר להשתמש בתערובת של קבצים וניהול זיכרון.
 נגדיר סגמנט חדש ונגיד ל-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמעכשיו זה קובץ, עם טבלת דפים והכל, ואז כשניגשים למידע, תוכן הקובץ יגיע
 באמצעות ה-
\lang english
PAGE FAULT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
-ים שיעלו כשניגשים לחלק חדש של הקובץ.
 הסיבה שזה עוזר לנו היא שלא צריך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
buffer cache
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כל כך גדול וגם חוסך פעולות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
kernel
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי כותבים ישר.
\end_layout

\begin_layout Standard
דיסק הוא רכיב חומרה שמכיל טבעת מסתובבת עם יד כמו פטיפון שקוראת על הדיסק.
 יחידת היסוד של הדיסק היא סקטור.
 כדי לקרוא, צריך לסובב את הדיסק עד שהסקטור נופל מתחת לראש שקורא/כותב.
 אם קוראים/כותבים בסקטורים עוקבים, זה חוסך זמן סיבוב וחיפוש.
 בעבר ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הייתה צריכה לנהל לאיזה סקטור כותבים ומתי, אבל כיום זה נעשה אוטומטית על ידי
 קונטרולר בתוך הדיסק.
 מערכות קבצים עוצבו כדי שמסלולי החיפוש יהיו קצרים ולא ידרשו סיבוב ותזוזה
 רבים.
 בנוסף, תזמון של כמה בקשות לדיסק דרשו אלגוריתמיקה בדומה למה שראינו, אבל
 כאמור הכל נעשה אוטומטית כבר.
\end_layout

\begin_layout Standard
דנו בקבצים פתוחים של כל תהליך ושמירה שלהם ל-
\lang english
PCB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אבל לא דנו במה קורה אם כמה תהליכים פותחים את אותו הקובץ.
 יש שלוש טבלאות לייצוג קבצים פתוחים כפי שהראנו בתרגול:
\end_layout

\begin_layout Itemize
טבלת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
i-nodes
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של קבצים פתוחים - כניסה אחת לכל קובץ פתוח לכל התהליכים.
\end_layout

\begin_layout Itemize
טבלת קבצים פתוחים לכל המערכת - כניסה אחת לכל פתיחה של קובץ, שכוללת מצביע
 ל-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בטבלה הנ
\begin_inset Quotes xrd
\end_inset

ל ואת ההיסט בקובץ של הפתיחה הזו.
\end_layout

\begin_layout Itemize
טבלת קבצים פתוחים של התהליך - כניסה אחת לכל פתיחה של קובץ של התהליך, מתאים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
File Descriptors
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לכניסות בטבלה הנ
\begin_inset Quotes xrd
\end_inset

ל.
\end_layout

\begin_layout Description
הערה הסיבה שהטבלה השלישית קיימת היא שאחרת כל משתמש היה יכול לגשת למקום אקראי
 בטבלה של כולם ולגשת לקבצים שלא אמורים להיות לו גישה אליהם.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
Mounting
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של מערכת קבצים היא הפיכת מערכת קבצים לשמישה בידי ה-
\lang english
OS
\lang hebrew
, ומבצעים זאת עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
syscall
\lang hebrew
.
 שיטה זו מאפשרת לאחד מערכות קבצים, לדוגמה בעת חיבור דיסק-און-קי, עושים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Mount
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לדיסק-און-קי למערכת הקבצים שלנו ומקבלים אותו כ
\begin_inset Quotes xrd
\end_inset

תיקייה
\begin_inset Quotes xrd
\end_inset

 בתוך מערכת הקבצים הראשית.
\end_layout

\begin_layout Standard
שיטה זו היא בשימוש נרחב, לדוגמה ב-
\lang english
mount
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מרחוק, כמו שנעשה באקווריום.
 כדי לעשות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
mount
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מרחוק, משתמשים ב-
\lang english
Network File System
\lang hebrew
.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא מקרה נוסף של וירטואליזציה.
\end_layout

\begin_layout Standard
באיור הבא ניתן לראות כיצד מערכת כזו עובדת.
 כשמתקבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
syscall
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 שנוגע למערכת הקבצים, ה-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 מפנה את הבקשה לגורם הרלוונטי - מערכת הקבצים המקומית אם היא מכילה את מה
 שאנחנו רוצים ואחרת ללקוח 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NFS
\lang hebrew
, שמעביר את הבקשה הלאה לשרת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NFS
\lang hebrew
, שמעביר את הבקשה למערכת הקבצים בשרת שמטפלת בבקשה, ואז כל התגובות חוזרות
 חזרה במעלה השרשרת.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/nfs.png
	lyxscale 30
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
דיארגמה לריצת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NFS
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{וירטואליזציה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
וירטואליזציה
\end_layout

\begin_layout Standard
המטרה שלנו היא להפריד את התוכנה מהחומרה, והתפתחות התחום הזה היא אחת ההתקדמויות
 החשובות במערכות מחשבים ב-
\numeric on
25
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
השנה האחרונות.
\end_layout

\begin_layout Standard
עבור ארגונים, זה מאפשר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Server Consolidation
\lang hebrew
, כלומר במקום שיהיה שרת נפרד לכל שירות שנדרש )מייל, אתר וכו'(, יש שרת אחד
 שמכיל בתוכו כמה שרתים וירטואלים, שכל אחד מהם חושב שהוא רץ בעצמו )בדומה
 לתהליכים, רק יותר מטא(, וכך חוסכים חשמל, תחזוקה וכו' כי כל שרת בנפרד לא
 דורש את כל המשאבים כל הזמן.
\end_layout

\begin_layout Standard
עבור משתמשים, זה מאפשר להשתמש בשתי מערכות הפעלה באותו הזמן ולהשתמש בטובה
 ביותר לכל משימה.
\end_layout

\begin_layout Standard
פורמלית, וירטואליזציה היא פרידה מהמגבלות הפיזיות באמצעות הכוונה )
\lang english
indirection
\lang hebrew
( שנותנת ממשק זהה למקרה שבו אין וירטואליזציה )שם ההבדל לעומת אבסטרקציה(.
\end_layout

\begin_layout Standard
תחת הגדרה זו, התהליך הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Virtual Machine
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 כפי שהאפליקציה רואה אותו.
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אמיתי הוא וירטואליזציה כפי שה-
\begin_inset Formula $\os$
\end_inset

 רואה אותה, כלומר זיכרון פיזי ותרגום כתובות, מעבד עם פקודות והרשאות, התקנים
 - ממש כאילו יש חומרה נוספת.
\end_layout

\begin_layout Standard

\size larger
\begin_inset Formula $ $
\end_inset


\lang english
Hypervisor
\end_layout

\begin_layout Standard
השכבה שמבדילה בין החומרה ה
\begin_inset Quotes xrd
\end_inset

אמיתית
\begin_inset Quotes xrd
\end_inset

 לחומרות הוירטואליות ומערכות ההפעלה והאפלקציות שעליהן נקראת ה-
\lang english
hyeprvisor
\lang hebrew
.
 הוא אחראי על ההכוונה של החומרה הוירטואלית לאמיתית, הפרדה )חזקה( בין ה-
\lang english
VM
\lang hebrew
-ים, 
\lang english
Multiplexing
\lang hebrew
, ניהול משאבים פיזיים - כך שבסופו של דבר הוא עובד בדומה ל-
\lang english
OS
\lang hebrew
, אבל למטרה שונה.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
Popel
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
Goldberg
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קבעו ב-
\begin_inset Formula $1974$
\end_inset

 את התנאים לוירטואליזציה:
\end_layout

\begin_layout Itemize
שקילות: 
\begin_inset Formula $\vm$
\end_inset

 זהה לחלוטין למכונה פיזית, וכל 
\begin_inset Formula $\os$
\end_inset

 ו/או אפליקציות ירוצו אותו הדבר.
\end_layout

\begin_layout Itemize
בטיחות: 
\begin_inset Formula $\vm$
\end_inset

-ים מופרדים לחלוטין אחד מהשני ומהמכונה הפיזית.
\end_layout

\begin_layout Itemize
ביצועים: הירידה במהירות הריצה תהיה מינורית ביחס לריצה על חומרה פיזית.
\end_layout

\begin_layout Standard

\size larger
סוגי וירטואליזציה
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\bar under
\lang english
Multiplexing
\bar default
\lang hebrew
: יצירת מספר התקנים וירטואלים על אותו המכשיר הפיזי.
 לדוגמה באמצעות יצירת חלוקה לדיסק, כך שהוא מתפקד ככמה דיסקים קטנים יותר
 ובלתי תלויים לכל מכונה וירטואלית בנפרד.
 עוד דוגמה לכך היא מרחב כתובות וירטואלי, כאשר אנו מאפשרים כמה מרחבי כתובות
 שונים ומתרגמים אותם למרחב כתובות פיזי קטן יותר.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\bar under
\lang english
Aggregation
\bar default
\lang hebrew
: יצירת התקן וירטואלי אחד על בסיס כמה התקנים פיזיים.
 לדוגמה ב-
\lang english
RAID
\lang hebrew
, מערך דיסקים עם כפליות, כאשר הממשק החיצוני הוא של דיסק יחיד אבל בפנים יש
 הרבה דיסקים שמספקים אמינות גבוהה מאוד גם אם אחד הדיסקים נכשל.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{היסטוריה ויתרונות וירטואליזציה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
היסטוריה של וירטואליזציה
\end_layout

\begin_layout Itemize
בשנות ה-
\numeric on
60-70
\numeric off
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
IBM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
השתמשו ב-
\lang english
VM
\lang hebrew
-ים על המיינפריים שלהם, שכל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הריץ מערכת הפעלה שנקראת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CMS
\lang hebrew
.
\end_layout

\begin_layout Itemize
בשנות ה-
\numeric on
80-90
\numeric off
, עם המעבר למחשבים אישיים, פותחה חומרה שלא ניתן לעשות לה וירטואליזציה, לדוגמה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
גישת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
read-only
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
למידע רגיש.
\end_layout

\begin_layout Itemize
בשנות ה-
\numeric on
2000
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עד היום משתמשים בוירטואליזציה לתשתיות ענן והחומרה מתאימה את עצמה גם ומוסיפה
 תמיכה חדשה
\begin_inset Newline newline
\end_inset

לוירטואליזציה.
\end_layout

\begin_layout Standard

\size larger
יתרונות של וירטואליזציה
\end_layout

\begin_layout Itemize
גיוון מערכות הפעלה - ניתן להריץ כמה מערכות הפעלה, כל אחת טובה למשהו אחר,
 על אותו המחשב.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Server Consolidation
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- יצירת גמישות ויעילות בחלוקת המשאבים וזמן המעבד שנדרש לכל רכיב בחוות מחשבים.
\end_layout

\begin_layout Itemize
אבטחה - הפרדה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VM
\lang hebrew
-ים, ניתור התנהגות של מחשבים, לזיהוי פריצות לדוגמה.
\end_layout

\begin_layout Itemize
נגישות -
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VM
\lang hebrew
-ים יכולים לרוץ בכל מקום ואפשר אפילו להעביר אותם ממקום למקום כמות שהם.
\end_layout

\begin_layout Description
הערה כל הנ
\begin_inset Quotes xrd
\end_inset

ל הם הבסיס של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Cloud Computing
\lang hebrew
.
 ענן מאפשר לנו לשכור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VM
\lang hebrew
-ים מספק ענן, שמופרדים מכל ה-
\lang english
VM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של אנשים אחרים אבל רצים על אותה החווה הפיזית, וכך חוסכים מעצמנו תחזוקה,
 כוח אדם ותשתית מקומית.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{שימושים של וירטואליזציה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
\begin_inset Formula $ $
\end_inset


\lang english
Server Consolidation
\end_layout

\begin_layout Standard
שרתים מריצים, לוגית, תוכנה אחת )שרת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
web
\lang hebrew
, שרת מייל,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וכו'( ולכן אינטואטיבית נחזיק קופסה פיזית שונה לכל אחד מהם.
 עם זאת, שיטה זו לא יעילה כי אף על פי שהיא מבטיחה בידוד טוב של המערכות,
 היא לא גמישה בכל הנוגע לחומרה, אנרגיה ומשאבים.
 חלק מהמערכות לא פועלות לפעמים בעוד אחרות בעומס יתר, וכל זאת באותו הזמן.
 לכן נרצה לחלק ביניהם את המשאבים כך שכל אחד יקבל כמה שהוא צריך בכל רגע נתון.
\end_layout

\begin_layout Standard
וירטואליזציה מאפשרת את זה, הן מבחינת הגמישות, אבל גם מבחינת גיבוי במקרים
 של קריסה )ה-
\lang english
hypervisor
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מנטר הכל(,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נגישות של השרתים, וגם בדיקה ו-
\lang english
deployment
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נוחים )הכל זז ממקום למקום די בקלות(.
\end_layout

\begin_layout Standard

\size larger
שימושים נוספים של וירטואליזציה
\end_layout

\begin_layout Itemize
תמיכה באפליקציות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
legacy
\lang hebrew
: גם אם אין לנו את החומרה של מחשב עתיק משנות ה-
\numeric on
70
\numeric off
, נוכל עדיין להשתמש ב-
\lang english
VM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמדמה חומרה זו כדי להריץ את התוכנות העתיקות שרצו עליו.
\end_layout

\begin_layout Itemize
פיתוח תוכנה: כשהתוכנה קורסת )בשלבי פיתוח וטסטינג(, כל המחשב יכול לקרוס.
 אם רק ה-
\lang english
VM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קורס, המערכת עצמה עדיין חיה ואפשר אפילו להשתמש בקצת מידע שמנוטר כדי לגלות
 מה קרה.
\end_layout

\begin_deeper
\begin_layout Standard
בפרט, כשמפתחים מערכת הפעלה, ברור מאוד למה שיטה זו מאוד נוחה לעומת פיתוח
 קלאסי.
\end_layout

\end_deeper
\begin_layout Standard
בגלל ש-
\lang english
VM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 כולה בתוכנה, אפשר להכניס את כולה בקובץ, כולל כל מערכת הפעלה, תוכנות, דאטא,
 זיכרון, מצב המכשיר וכו'.
 קבצים כאלה מאפשרים לנו לעצור את המכונה, לשמור את המצב שלה ולהמשיך מאותו
 הרגע בפעם אחרת, במחשב אחר )
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
snapshots
\lang hebrew
( וגם פשוט להעתיק את מערכת ההפעלה לשימוש בחומרה פיזית אחרת )
\lang english
clones
\lang hebrew
(.
\end_layout

\begin_layout Standard

\size larger
סוגי הייפרוייזורים
\end_layout

\begin_layout Itemize
הייפרוייזור סוג
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)נייטיב( - כל החומרות הוירטואליות ומערכות ההפעלה באותו ה
\begin_inset Quotes xrd
\end_inset

גובה
\begin_inset Quotes xrd
\end_inset

 - כולם תחת שכבת וירטואליזציה.
\end_layout

\begin_layout Itemize
הייפרוייזור סוג
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 )
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
hosted
\lang hebrew
(
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- יש מערכת הפעלה שהיא ה-
\lang english
host
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמריצה אפליקציות בעצמה, וגם מריצה הייפרוייזור שעליו יש עוד מערכות הפעלה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אורחות.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Container
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- הוירטואליזציה היא בין מערכת ההפעלה לבין האפליקציות, כך שהאפליקציות חושבות
 שהן רצות על מערכת הפעלה אחת אבל בפועל יש אחת אחרת )דומה מאוד לתהליך, רק
 שההכוונה היא יותר משמעותית(.
\end_layout

\begin_layout Standard
היפרוייזורים בסופו של דבר מתנהגים כמו קרנל של מערכת ההפעלה, כאשר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VM
\lang hebrew
-ים הם כמו תהליכים, הוא שולט בהכל )תזמון, הקצאת משאבים(.
 העניין הוא שמערכות ההפעלה של ה-
\lang english
VM
\lang hebrew
-ים חושבות שהן שולטות בהכל ורצות על החומרה, ותפקידו של ההייפרוויזויר הוא
 לדמות זאת.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{אמצעי וירטואליזציה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
אמצעי וירטואליזציה
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Trap and Emulate
\lang hebrew
: שיטה שבה משתמש היפרוייזור מסוג
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, שרץ על החומרה עצמה.
 ה-
\lang english
VM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
רצות ב-
\lang english
User Mode
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- לא רק האפליקציות, גם ה-
\lang english
OS
\lang hebrew
!
\end_layout

\begin_deeper
\begin_layout Standard
בכל פעם שה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מבצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
privileged instructions
\lang hebrew
, ההייפרוייזור תופס:
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
syscalls
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וקורא להאנדלר ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ב-
\lang english
User Mode
\lang hebrew
 )דורס את ה-
\lang english
Interrupt Vector
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ושם שם פ' שמריצות את ההאנדלרים, במצב משתמש(.
\end_layout

\begin_layout Itemize
פעולות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
privileged
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של ה-
\lang english
OS
\lang hebrew
 ומבצע את הפעולות בשמה של מערכת ההפעלה.
 ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תנסה לעשות משהו כאילו היא במצב קרנל, תקבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
exception
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי היא במצב משתמש, ובמקום לקרוס נריץ את מה שהיא רוצה באמצעות ההייפרוייזור.
\end_layout

\begin_layout Standard
שיטה זו טובה אם אין יותר מדי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
trap
\lang hebrew
-ים, אחרת התקורה די גבוהה.
 ההנחה שלנו כאן היא שכל הדברים הרגישים הם מפרובלגים, שזה לא היה נכון בעבר,
 כי ב-
\begin_inset Formula ${\rm x86}$
\end_inset

 היו פעולות מפרובלגות שלא דרשו מצב קרנל.
\end_layout

\begin_layout Standard
ראו איורים שאולי יעזרו להבין מה קרוה ויזואלית,
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/hyper11.png
	lyxscale 30
	scale 30

\end_inset


\begin_inset Graphics
	filename img/hyper1.png
	lyxscale 30
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ויזואליציות של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Hypervisor
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
סוג-
\numeric on
1
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
תרגום בינארי: שימושי אם לא כל הגישות הרגישות דורשות קרנל.
\end_layout

\begin_deeper
\begin_layout Enumerate
נתרגם את כל הקוד של ה-
\lang english
VM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לקוד בטוח באופן הבא:
\end_layout

\begin_deeper
\begin_layout Enumerate
קוד רגיל )נחות(, נשאיר אותו הדבר.
\end_layout

\begin_layout Enumerate
קוד רגיש, נחליף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
syscalls
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ב-
\lang english
hypercalls
\lang hebrew
, שקוראות ל-
\lang english
HV
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שקורא בעצמו ל-
\lang english
syscall
\lang hebrew
.
\end_layout

\end_deeper
\begin_layout Enumerate
נכניס את הקוד הזה ל-
\lang english
code cache
\lang hebrew
.
\end_layout

\begin_layout Enumerate
כל פעם שנריץ קוד, הוא יהיה בטוח.
\end_layout

\end_deeper
\begin_layout Itemize
פארא-וירטואליזציה.
\end_layout

\begin_layout Itemize
עזרה מהחומרה.
\end_layout

\begin_layout Standard
היפרוייזורים סוג-
\numeric on
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)שרצים במקביל לאפליקציות על מערכת הפעלה מארחת( משאירים את רוב העבודה של
 התזמון למערכת ההפעלה.
 הם גורמים ל-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
להתייחס ל-
\lang english
VM
\lang hebrew
-ים כאילו הם תהליכים, משתמשת בקבצים של ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כדי לייצג דיסקים ל-
\lang english
VM
\lang hebrew
-ים, אפשר להרוג
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VM
\lang hebrew
-ים עם סיגנלים וכו'.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{
\backslash
! Containers}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
קונטיינרים
\end_layout

\begin_layout Standard
קונטיינר עושה וירטואליזציה למערכת ההפעלה מעליה, מתחת לאפליקציות.
 זה שימושי כשצריך סביבה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קלה יחסית שמדמה מצבים שונים - לדוגמה כשמותקנת גרסה כזו או אחרת של ספריה,
 או קובץ קונפיגורציה בתצורות שונות.
 כך ניתן לבדוק/לפתח תחת מערכת שונות בלי להשתמש ב-
\lang english
VM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שהוא כבד מדי אלא עם תקורה יחסית נמוכה, ובלי לקנות מחשב חדש.
\end_layout

\begin_layout Standard
קונטיינרים מכילים בעיקר אפליקציות, ספריות וכו' ולא מדמות את מערכת הקבצים
 ותזמון אלא נותנת ל-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לעשות זאת בשבילנו.
 זה שונה מתהליכים בגלל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
namespaces
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
cgroups
\lang hebrew
.
\end_layout

\begin_layout Standard

\size larger
\begin_inset Formula $ $
\end_inset


\lang english
Namespaces
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
Namespace
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
זה מאפיין של מערכת ההפעלה, שלמעשה מעצבת את נקודת המבט של תהליך על המערכת.
 לדוגמה, תחת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Namespace
\lang hebrew
-ים שונים, נוכל לגרום לאפליקציה אחת שקוראת לספריה לקבל גרסה אחת של הספריה,
 ולאפליקציה אחרת שקוראת לאותה הספריה )בקונטיינר אחר נגיד( לקבל גרסה אחרת
 של אותה הספריה.
\end_layout

\begin_layout Standard
עם נחזור לאנלוגיה לתהליכים - תהליכים מוגדרים ע
\begin_inset Quotes xrd
\end_inset

י מרחב הכתובות וגישה מוגבלת לפעולות רגישות, בעוד קונטיינרים מוגדרים ע
\begin_inset Quotes xrd
\end_inset

י ה-
\lang english
namespace
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלהם.
\end_layout

\begin_layout Description
דוגמה לקונטיינר 
\begin_inset Formula $A$
\end_inset

 יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
namespace
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 של 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PID
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לעצמו, כך שתהליך עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PID=1
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 הוא שונה לגמרי מתהליך 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של קונטיינר 
\begin_inset Formula $B$
\end_inset

 שיש לו גם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PID namespace
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
משל עצמו.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
cgroups
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 מנהלים משאבים, וקובעים כמה ממשאב כלשהו ניתן לכל קונטיינר, בתרגיל נלמד להשתמש
 בהם.
\end_layout

\begin_layout Standard
ראו טבלת סיכום של סוגים שונים של וירטואליזציות,
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/sikum.png
	lyxscale 30
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
סיכום וירטואליזציות
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
קונטיינר עושה וירטואליזציה ברמת ה-
\lang english
OS
\lang hebrew
, כלומר משנה מאפיינים שלה.
 נעסוק בעיקר ב-
\lang english
Linux Container
\lang hebrew
-ים, שמאפשרים ריצת כמה לינוקסים על אותו מחשב עם קרנל יחיד.
 שני אלמנטים מרכזיים ב-
\lang english
LXC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Namespaces
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
cgroups
\lang hebrew
.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
Namespace
\lang hebrew
-ים מאפשרים לתהליכים לחשוב שהם בסביבה שונה משאר המחשב מבחינת מאפיינים ספציפיים,
 לדוגמה שיש לו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
pid
\lang hebrew
-ים שונים.
 כלומר, שתהליך יחשוב שהוא תהליך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והבא אחריו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וכו', במקום שהוא יהיה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2354
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואחריו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2355
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי יש הרבה דברים אחרים.
 יש עוד הרבה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NS
\lang hebrew
-ים אחרים, כגון שם ה-
\lang english
host
\lang hebrew
, מזהי המשתמש, מערכת קבצים חדשה.
\end_layout

\begin_layout Standard
כשמגדירים קונטיינר חדש, מגדירים אילו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NS
\lang hebrew
-ים חדשים אנחנו מגדירים.
\end_layout

\begin_layout Description
\begin_inset Formula $ $
\end_inset


\lang english
clone
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
syscall
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמקבלת פ' להרצה בתהליך החדש; כתובת למחסנית; דגלים לתהליך החדש הנוגעים ל-
\lang english
NS
\lang hebrew
-ים; וארגומננטים לפ' שהתהליך יריץ.
\end_layout

\begin_layout Standard
כדי ליצור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
חדש של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
pid
\lang hebrew
-ים, נוסיף את דגל ה-
\lang english
CLONE_NEWPID
\lang hebrew
.
\end_layout

\begin_layout Standard

\color darkgray
בתרגול עצמו היו הרבה דוגמאות טכניות לתרגיל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
5
\numeric off
 שלא אכלול מטעמי בקרת תוכן, למעוניינים, ראו מצגת התרגול בנושא.
\end_layout

\begin_layout Standard
אם נשתמש בדגל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CLONE_NEWUTS
\lang hebrew
, נכריז על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
חדש ל-
\lang english
hostname
\lang hebrew
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CLONE_NEWNS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מכריז על מערכת הפעלה חדשה ועוד רבים.
\end_layout

\begin_layout Description
הערה כברירת מחדל, התהליך הבן יורש הכל מהתהליך ההורה שלו, אבל אם הדלקנו דגל
 ל-
\lang english
NS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כלשהו, כל שינוי )שהתהליך יכול לעשות לעצמו( בהקשר זה ישפיע רק על עצמו )ואולי
 בנים שלו( אבל לא ישפיע על האבא.
\end_layout

\begin_layout Standard
כשיוצרים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
חדש ל-
\lang english
pid
\lang hebrew
, מבחינת האבא, הוא יחשוב שה-
\lang english
pid
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של הבן שלו הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PARENT_PID.1
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 וכיוצ
\begin_inset Quotes xrd
\end_inset

ב בנוגע לבנים של הבן.
\end_layout

\begin_layout Standard
כדי להשתמש במערכת קבצים חדשה צריך לעשות כמה דברים:
\end_layout

\begin_layout Itemize
להעביר את דגל ה-
\lang english
CLONE_NEWNS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\lang english
clone
\lang hebrew
.
\end_layout

\begin_layout Itemize
לשנות את השורש של מערכת הקבצים לשורש של מערכת הקבצים החדשה )באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
chroot
\lang hebrew
(.
\end_layout

\begin_layout Itemize
לעשות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
mount
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לתיקייה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
/proc
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שקיימת במערכת הקבצים המקורית, כדי שתופיע גם במערכת הקבצים החדשה.
\end_layout

\begin_deeper
\begin_layout Standard
החשיבות היא שלינוקס צריך תיקייה לכל תהליך שבה הוא שומר דברים רלוונטיים לתהליך,
 והוא עושה את זה ב-
\lang english
proc
\lang hebrew
.
\end_layout

\begin_layout Standard
כדי לבצע את ה-
\lang english
mount
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הזה צריך לקרוא ל-
\lang english
mount
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
רק שקשה להבין מה הפרמטרים אומרים, בתרגיל נתבקשנו להשתמש בקריאה
\end_layout

\begin_layout Standard

\lang english
mount(
\begin_inset Quotes xld
\end_inset

proc
\begin_inset Quotes xrd
\end_inset

, 
\begin_inset Quotes xld
\end_inset

/proc
\begin_inset Quotes xrd
\end_inset

, 
\begin_inset Quotes xld
\end_inset

proc
\begin_inset Quotes xrd
\end_inset

, 0, 0);
\end_layout

\end_deeper
\begin_layout Itemize
בסיום השימוש במערכת הקבצים צריך לעשות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
unmount
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)אצל האבא! כי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
execvp
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
משתלט על הריצה וכל דבר אחריו לא רץ( באמצעות הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
umount
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)לא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
un
\lang hebrew
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
u
\lang hebrew
(.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
cgroups
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 )
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Control Groups
\lang hebrew
( מגבילים את יכולות הקונטיינר החדש, לדוגמה להגביל את מספר התהליכים שאפשר
 להגדיר ב-
\lang english
NS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 החדש.
\end_layout

\begin_layout Standard
כדי להגביל את מספר התהליכים ב-
\lang english
NS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
החדש נבצע כמה שלבים:
\end_layout

\begin_layout Itemize
נגדיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
cgroup
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
חדש באמצעות יצירת התיקייה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
/sys/fs/cgroup/pids
\lang hebrew
 בתוך מערכת הקבצים החדשה )תחת השורש החדש(, באמצעות הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
mkdir
\lang hebrew
.
\end_layout

\begin_layout Itemize
מערכת ההפעלה תיצור אוטומטית כמה קבצים.
 כדי לחבר את התהליך של הקונטיינר ל-
\lang english
cgroup
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
החדש, נכתוב את ה-
\lang english
pid
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלו בקובץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
cgroup.procs
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתוך התיקייה שזה עתה יצרנו.
\end_layout

\begin_layout Itemize
נכתוב בקובץ 
\lang english
pids.max
\lang hebrew
 את מספר התהליכים המקסימלי המותר.
\end_layout

\begin_layout Itemize
כדי לאפשר שחרור משאבים בסיום, נכתוב לקובץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
notify_on_release
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
את הערך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
\end_layout

\begin_layout Standard
פרוטוקול תקשורת הוא מערכת חוקים בין מחשבים הנוגעים לתקשורת ביניהם.
 צריך אותו כדי שמחשבים יוכלו להודיע ולהבין הודעות ממחשבים שונים, או לדעת
 מתי לשלוח הודעות, באיזה סדר וכו'.
\end_layout

\begin_layout Description
דוגמה כששולחים אימייל, נרצה להעביר כתובת ומידע.
 אם באופן נאיבית נעביר את ההודעה כולה, בגלל מגבלות חומרה, יהיו הרבה שגיאות
 בשליחת ההודעה ואז ההודעה לא שווה כלום.
\end_layout

\begin_deeper
\begin_layout Standard
אפשר פשוט להגביל את אורך ההודעה, אבל זה כמובן לא פרקטי.
\end_layout

\begin_layout Standard
לכן נחלק את ההודעה לפקטות, ונשלח אותן בנפרד.
 הבעיה עם שיטה זו היא שיכול להיות שפקטה תעלם, או שהפקטות לא יגיעו בסדר הנכון
 וכו'.
\end_layout

\begin_layout Standard
לכן צריך תוכנת ביניים שתדאג לסדר ולאכוף דברים כאלה.
\end_layout

\end_deeper
\begin_layout Standard
לרוב אין כבל ישיר בין שולח ההודעה למקבל ההודעה ולכן צריך גם לעשות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
routing
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- להעביר את ההודעה בין כמה תחנות ביניים עד שנגיע ליעד.
\end_layout

\begin_layout Standard
כדי לוודא שאין שגיאות, נוסיף כמה ביטים שבודקים שגיאות,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
EEC
\lang hebrew
.
\end_layout

\begin_layout Standard
כל השכבות האלה יחד יוצרות את סטאק הפרוטוקלים - רמות שונות של חוקים שצריך
 לקיים כדי לשלוח הודעות.
 ראו פירוט של מודל השכבות,
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/protocol-stack.png
	lyxscale 30
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
מודל השכבות
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
אנחנו נתמקד בשכבת ה-
\lang english
transport
\lang hebrew
.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
IP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
דואג להעביר את ההודעות מצד לצד אבל הוא לא אמין מכל בחינה אפשרית, ולכן צריך
 לבקר אותו איכשהו.
\end_layout

\begin_layout Standard
נלמד על שני פרוטוקולים,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
TCP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 ו-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
UDP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ששונים ברמת הבקרה ובדיקת השגיאות שלהם.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
UDP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא שכבה די דקה, כל מה שהוא מוסיף זה את הפורטים של המקור והיעד )מזהה את
 התוכנה ששלחה/מקבלת את ההודעה בתוך המחשב עצמו(, אורך ההודעה ו-
\lang english
EEC
\lang hebrew
.
\end_layout

\begin_layout Standard
כלומר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
UDP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עדיין לא אמין )איבוד פקטות, אובדן סדר( ובנוסף הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
connectionless
\lang hebrew
, כלומר הודעות בסך הכל נזרקות לצד השני, בלי שבודקים שאכן ההודעה הגיע וכו'.
\end_layout

\begin_layout Description
דוגמה שכבה זו מתאימה למקרים שבהם הדיוק הוא לא חשוב כמו המהירות, לדוגמה משחקי
 מחשב אונליין שדורשים עדכונים תדירים ומהירים למשחק ממחשבים אחרים, שאז אם
 פיספסנו משהו פעם אחת זה בסדר אבל אם לוקח הרבה זמן להודעות להגיע זה לא בסדר.
\end_layout

\begin_layout Standard
כדי לספק ערוץ תקושרת אמין, הומצא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
TCP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 שהוא 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
connection oriented
\lang hebrew
, שני הצדדים מתקשרים ומסכימים על תנאי התקשורת ביניהם, שולטים על התקשורת
 במקרה של עומס, והוא דואג לאובדן פקטות ואובדן סדר וכו'.
 ב-
\lang english
TCP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
משתמשים בכל פעם שמהירות אינה כה חשובה, בין היתר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
HTTP(S)
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יושבים על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
TCP
\lang hebrew
, אימייל,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SSH
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וכו' וכו'.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{XIII
\backslash
;
\backslash
; I/O}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{XIII}$
\end_inset

 |
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
I/O
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{השלמות של וירטואליזציה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
השלמות של וירטואליזציה
\end_layout

\begin_layout Standard
ניזכר שיש לנו שלושה סוגים של היפרוויזור - סוג
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שהוא על החומרה )
\lang english
Trap & Emulate
\lang hebrew
(; סוג
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שהוא מעל מערכת הפעלה מארחת; וקוטיינר שהוא מעל מערכת ההפעלה.
\end_layout

\begin_layout Standard
סוג
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
משכפל הרבה ממה שה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עושה.
 סוג
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נמנע משכפול זה ונותן ל-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לעשות את העבודה במקומו )היא מנהלת זיכרון, מתזמן, משתמשת בקבצים כדי לנהל
 דיסקים וכו'( ולכן צריך מודול בקרנל שעוזר לוירטואליזציה )שזה קל כי כל הקרנלים
 המודרנים הם מודולרים(.
\end_layout

\begin_layout Standard
במקום לעשות את העבודה במקום ה-
\lang english
OS
\lang hebrew
, אפשר לעשות פארא-וירטואליזציה, כלומר לשנות את ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
האורח )בסוג
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
( כך שכל קריאה ל-
\lang english
syscall
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 מופנת ישירות ל-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
hypercall
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)פ' של ההיפרוויזור שעושה את אותו הדבר(.
 זה הרבה יותר קל לשנות קוד מקור מאשר תרגום בינארי וכו', אבל זה דורש קימפול
 מחדש של הקרנל האורח.
 בנוסף, אי אפשר סתם להריץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אורח אלא צריך קודם לשנות קוד מקור וכו'.
\end_layout

\begin_layout Standard

\size larger
וירטואליזציה של זיכרון ו-
\lang english
I/O
\end_layout

\begin_layout Standard
איך נתמוך בזיכרון וירטואלי של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אורח, כלומר זיכרון וירטואלי וירטואלי? אי אפשר סתם לתת לכל אורח זיכרון פיזי
 )שהוא וירטואלי( כי אז כל ה-
\lang english
paging
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יביא לפגיעה משמעותית בביצועים, בניגוד לעקרונות הוירטואליזציה.
 הדרך הכי פשוט לפתרון בעיה זו היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
shadow tables
\lang hebrew
.
 המכונה הוירטואלית שומרת טבלת דפים כרגיל, אבל גם ה-
\lang english
HV
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שומר טבלת דפים )
\begin_inset Quotes xrd
\end_inset

בצללים
\begin_inset Quotes xrd
\end_inset

( שמתחקה אחר טבלת הדפים של כל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ומתעדכנת בכל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
page fault
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)בעזרת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
shadow page faults
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כשמתגלה מיפוי של האורח שלא קיים אצל ה-
\lang english
HV
\lang hebrew
(.
 שיטה זו דורשת הרבה התעסקות נוספת כמו מה לעשות עם ה-
\lang english
TLB
\lang hebrew
.
\end_layout

\begin_layout Standard
בפארא-וירטואליזציה, אפשר לעשות אופטימיזציות כי ה-
\lang english
VM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יודע שהוא לא רץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
native
\lang hebrew
.
 מאז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2008
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
במעבדים של אינטל יש תמיכת חומרה שנקראת 
\lang english
nested paging
\lang hebrew
, שמכירה ב-
\lang english
VM
\lang hebrew
-ים ומאפשרת למצוא את הדף בתוך ה-
\lang english
VM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביעילות בעזרת חומרה בלי צורך בתוכנה נוספת.
\end_layout

\begin_layout Standard
גם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
I/O
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
צריך לעשות וירטואליזציה.
 לשם כך יש כמה פתרונות:
\end_layout

\begin_layout Itemize
אמולציה, כלומר שה-
\lang english
HV
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יעשה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Trap & Emulate
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לדרייבר של האורח.
\end_layout

\begin_layout Itemize
פיצול, כלומר שה-
\lang english
HV
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יעשה פארא-וירטואליזציה ויעביר את הדרייבר של האורח דרך דרייבר שלו ורק אז
 להתקן.
\end_layout

\begin_layout Itemize
מעבר חופשי, כלומר לאפשר לאורח לתקשר באופן ישיר עם הדרייבר בהנחה שהוא לא
 דורש שום גישה לפעולות רגישות.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{התקני I/O מבחינת מערכת ההפעלה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
התקני
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
I/O
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מבחינת מערכת ההפעלה
\end_layout

\begin_layout Standard
התקני
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
I/O
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הם מאוד מגוונים, יש רכיבי תקושרת רק עם קלט, רק פלט, גם וגם, התקני אחסון
 עם קלט ופלט או רק קלט )
\lang english
CD-ROM
\lang hebrew
( ועוד ועוד.
 כל רכיב שונה ועובד אחרת וצריך איכשהו לסדר את העניינים.
\end_layout

\begin_layout Standard
כדי לסדר את הכל משתמשים ב-
\lang english
bus
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמחובר מצד אחד למעבד, ומצד שני מחובר לקונטרולרים שרצים על מיקרו-מעבדים בתוך
 ההתקן שיודעים לתקשר באמצעות פרוטוקול כלשהו עם המעבד דרך הבאס.
 כדי לתקשר עם הקונטרולרים, ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
משתמשת בדרייברים, שמכירים את ההתקנים ויודעים איך לדבר עם הקונטרולרים.
\end_layout

\begin_layout Standard

\size larger
מטרות מערכת ההפעלה ל-
\lang english
I/O
\end_layout

\begin_layout Itemize
להציג אבסטרקציה לוגית של ההתקנים )להסתיר פרטים על ממשק החומרה, טיפול בשגיאות(.
\end_layout

\begin_layout Itemize
לתמוך בשימוש יעיל בהתקנים )
\lang english
multiprogramming
\lang hebrew
(.
\end_layout

\begin_layout Itemize
לתמוך בשיתוף של ההתקנים בין תהליכים/משתמשים )לספק את ההגנות הנדרשות, לתזמן
 מניעה הדדית על אותו התקן(.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{דרייברים וקנטרולרים}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
דרייברים וקנטרולרים
\end_layout

\begin_layout Standard
קונטרולרים מבחינת ה-
\begin_inset Formula $\os$
\end_inset

 הם חומרה.
 לרוב להתקני
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
I/O
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יש רכיב מכני ורכיב אלקטרוני והאחרון הוא הקונטרולר/
\lang english
adapter
\lang hebrew
.
 הממשק בין הקונטרולר לרכיב המכני הוא מאוד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
low-level
\lang hebrew
.
\end_layout

\begin_layout Description
דוגמה בדיסק, הדאטא מגיע כסקטור, רצף ביטים ו-
\lang english
ECC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והקונטרולר צריך להמיר את זה לבלוק כדי שמערכת ההפעלה תדע מה לעשות עם זה )כפי
 שלמדנו במערכת הקבצים(.
\end_layout

\begin_layout Standard
לאחר מכן, דרייבר המתאים לכל התקן מדבר עם הקונטרולר כשהוא במצב קרנל, והוא
 מציג
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
API
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אחיד.
\end_layout

\begin_layout Description
דוגמה בדיסק, לא משנה איזה דיסק זה, נקבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
open, close, write
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וכו'.
 
\end_layout

\begin_layout Standard
מי שכותב את הדרייבר זה מי שמייצר את ההתקן במטרה שישתמשו כמה שיותר בהתקן.
\end_layout

\begin_layout Description
הערה בגלל שהדרייבר רץ במצב קרנל, אם הוא לא כתוב היטב או כתוב באופן זדוני,
 הוא עלול להפיל את כל המחשב.
\end_layout

\begin_layout Standard
הדרייבר מקבל פקודה מאפליקציה )כתיבה לדיסק נגיד(, מדבר עם הקונטרולר באמצעות
 רגיסטרים, מקבל תשובה ומחזיר אותה.
 כדי לכתוב לרגיסטרים של הקונטרולר )שהם 
\begin_inset Quotes xld
\end_inset

הארגומנטים
\begin_inset Quotes xrd
\end_inset

 שהוא מקבל בשביל בקשה מהדרייבר(, אפשר או לכתוב ישירות ל-
\lang english
I/O
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או למפות כתובות וירטואליות לרגיסטרים כאלה ואז להשתמש בפקודות כתיבה קלאסיות
 לזיכרון.
 מעבר המידע הזה קורה כמובן דרך הבאס.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{
\backslash
!
\backslash
! Parallel Port ו-USB}
\end_layout

\end_inset


\end_layout

\begin_layout Description
דוגמה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Parallel Port
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא קונקטור עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
25
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
פינים שמחבר התקני
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
I/O
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כמו מדפסות.
 היו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
24
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כבלים ואחד הארקה )למעשה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
להארקה(.
 הכבלים היו
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/lpt.png
	lyxscale 30
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
סידור הכבלים ב-
\lang english
Parallel Port
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
כאשר אנו רואים כאן בשורה העליונה את הרגיסטרים לקריאה/כתיבה שהתחברו לפורט
 מסוים )
\begin_inset Formula $0x378$
\end_inset

(, ביטים לקריאה בלבד )האם ההתקן עסוק, האם קיבל את הבקשה וכו'( בפורט אחר
 ואז ביטים לבקרה כמו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
IRQ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שאחראי על אינטראפטים.
\end_layout

\begin_layout Standard
כדי לשלוח בית אחד של נתונים, הדרייבר השתמש בקוד הבא,
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/sendbyte.png
	lyxscale 30
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קוד דרייבר של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Parallel Port
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
קודם כל אנחנו בודקים שההתקן לא עסוק )
\lang english
busy wait
\lang hebrew
, מכאן בא השם(, שמים את הבית בפינים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
7
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)כל אחד ביט אחד כמובן(, ומתריעים לקונטרולר ע
\begin_inset Quotes xrd
\end_inset

י הדלקת ביט ה-
\lang english
STR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\lang english
strobe
\lang hebrew
( לחצי מיקרו שניה ואז החזרתו לערכו המקורי.
\end_layout

\end_deeper
\begin_layout Standard
כיום רוב ההתקנים מתחברים דרך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
USB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמאפשר ארבעה סוגי תקשורת:
\end_layout

\begin_layout Itemize
אינטראפט - קצת מידע שמגיע מההתקן, בשביל עכבר או מקלדת.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Bulk
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- העברת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
64
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ECC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בכל פעם, בשביל מדפסות וסורקים.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Isocronous
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- סטרים דאטא בלי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ECC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)אודיו, אוזניות(.
\end_layout

\begin_layout Itemize
בקרה - ניהול התקנים וכו'.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
USB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מאפשר להכניס ולהוציא התקנים בזמן שהמערכת רצה, ושומר מקום ברוחב הפס שלו להתקני
 אינטראפט ו-
\lang english
isocrhonous
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)עד 
\begin_inset Formula $90\%$
\end_inset

( והשאר נשאר לבאלק ובקרה.
 הודעות הן בגודל של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1500
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים, ובתוכו החלוקה בין ההתקנים.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{שיטות מעבר מידע}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
שיטות מעבר מידע
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Polling
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- המעבד אחראי על מעבר המידע, זיהוי סיום הפעולה של ההתקן.
 הוא עושה את זה ע
\begin_inset Quotes xrd
\end_inset

י בדיקה רציפה וחוזרת של הרגיסטרים של הקונטרולר )
\lang english
busy wait
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא דוגמה לכך(.
\end_layout

\begin_layout Itemize
אינטראפטים - המעבד אחראי על מעבר המידע אבל הקונטרולר אחראי על התרעה למעבד
 על סיום הפעולה באמצעות אינטראפט.
 שיטה זו מאפשרת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
multiprogramming
\lang hebrew
.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
DMA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- המעבד מתחיל את הפעולה, ה-
\lang english
DMA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מעביר את המידע מהזיכרון לרגיסטרים של הקונטרולר, ומעלה אינטראפט כמעבר המידע
 נגמר.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה נראה איך זה קורה במקרה של דיסק:
\end_layout

\begin_deeper
\begin_layout Enumerate
הדרייבר מתבקש להעביר בתים מהדיסק לבאפר בזיכרון בכתובת 
\begin_inset Formula $X$
\end_inset

.
\end_layout

\begin_layout Enumerate
הדרייבר אומר לקונטרולר להעביר 
\begin_inset Formula $C$
\end_inset

 בתים מהדיסק לבאפר.
\end_layout

\begin_layout Enumerate
הקונטרולר מתחיל לדבר עם ה-
\lang english
DMA
\lang hebrew
.
\end_layout

\begin_layout Enumerate
הקונטרולר שולח כל בית ל-
\lang english
DMA
\lang hebrew
.
\end_layout

\begin_layout Enumerate
ה-
\lang english
DMA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כותב לבאפר שמתחיל ב-
\lang english
X
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כשהוא מוריד את הערך של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
C
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עד שהוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
\end_layout

\begin_layout Enumerate
כש-
\lang english
C=0
\lang hebrew
, ה-
\lang english
DMA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עושה אינטראפט למעבד.
\end_layout

\begin_layout Description
הערה ה-
\lang english
DMA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נלחם עם המעבד על גישה לזיכרון, אבל זו לא כזו בעיה כי המעבד לרוב לא נוגע
 בזיכרון כי יש לו מטמון.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
הערה לאורך השנים, הקרנל של לינוקס גדל מאוד, כאשר יותר מחצי ממנו הוא דרייברים.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{שכבות ביניים ותוספות}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
שכבות ביניים
\end_layout

\begin_layout Standard
יש שכבת ביניים בין קריאות ה-
\lang english
API
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של המשתמש לבין הדרייברים שמחלקת את ההתקנים לשלושה סוגי התקנים:
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Block Oriented
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 - חושף ממשק של 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
open/close
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
read/write
\lang hebrew
.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Stream Oriented
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- חושף ממשק של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
open/close
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
get/put
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שדומה לכתיבה/קריאה.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Network Oriented
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- חושף ממשק של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
open/close
\lang hebrew
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
read/write
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וגם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
send/receive
\lang hebrew
.
\end_layout

\begin_layout Standard
מערכת קבצים משמשת עוד שכבת ביניים בין האפליקציות לממשקים הנ
\begin_inset Quotes xrd
\end_inset

ל כי הפעולות על ההתקנים דומות מאוד לאלו על קבצים.
\end_layout

\begin_layout Standard

\size larger
תוספות לתקשורת עם התקנים
\end_layout

\begin_layout Standard
בכל ההתקנים משתמשים בכמה שיטות לשיפור ביצועים/נוחות:
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Buffering
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- מאפשר פעולה א-סינכרונית של יוצרים-צרכנים, מאפשר גדלים שונים של מידע ומאפשר
 להיפטר מיצרן/צרכן בזיכרון ולשמור אותו בדיסק עד שמישהו ממלא את הבאפר.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה באפר ציקלי ביצרן-צרכן שראינו בזמנו היא דוגמה לבאפרינג.
\end_layout

\end_deeper
\begin_layout Itemize
תיקון שגיאות - מאפשר לוודא תקינות של תוכן, באמצעות זיהוי שגיאות וכן תיקון
 שגיאות.
\end_layout

\begin_layout Standard

\size larger
מבוא לאבטחה
\end_layout

\begin_layout Standard
עד כה בכל הנוגע לאיכות המערכת, התעסקנו באמינות המערכת, כלומר שלא יקרו טעויות
 - הימנעות מדד-לוק, מניעת קריסה של המחשב אם המשתמש עושה משהו מטומטם.
 מערכת מאובטחת היא בטוחה מפני מתקפות זדוניות.
 זה כולל גם למנוע ממשתמש לשלוט ולהשתמש לרעה במחשב, וגם מתקפות מכוונות ומתוחכמות.
\end_layout

\begin_layout Standard
מבחינת מערכת ההפעלה, אבטחה מתחלקת לשני חלקים:
\end_layout

\begin_layout Itemize
לפרוץ לחשבון של המשתמש ומשם לגשת לקבצים רגישים ולהתחזות לאדם.
\end_layout

\begin_layout Itemize
לפרוץ למערכת ולקבל גישה לכל החשבונות, ליצור חשבונות חדשים, להתקין וירוסים
 ולרוץ במצב קרנל ומשם גם לתקוף פעם נוספת.
\end_layout

\begin_layout Description
הערה אנחנו נעסוק בחלק השני, לא הראשון כי הוא לא מעניין.
\end_layout

\begin_layout Description
דוגמה אפליקציית אלקטור ששמרה את מאגר הבוחרים של מדינת ישראל הכילה את הסיסמאות
 של האדמינים ב-
\lang english
html
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וזו לא פריצה למערכת, אלא גישה לחשבונות.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
אנחנו עוסקים בסוקטים, שמאפשרים תקשורת בין אפליקציות.
 בעבר דיברנו על ה-
\lang english
Transport Layer
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמניחה שיש לנו תשתית למעבר מידע ומשם דואגת לאמינות הודעה )
\lang english
TCP
\lang hebrew
( או מהירות מעבר )
\lang english
UDP
\lang hebrew
(.
 עתה נעסוק בתשתית הזו - סוקטים.
\end_layout

\begin_layout Standard
סוקט הוא שער לעולם הגדול, שבאמצעתו מעבירים מידע ומקבלים מידע, והוא נוצר
 במפורש ע
\begin_inset Quotes xrd
\end_inset

י האפליקציות.
 מערכת ההפעלה חושפת לאפליקציות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
API
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שכולל פ' כמו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
send/receive
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וכו'.
\end_layout

\begin_layout Standard

\size larger
תכנות סוקטים לפרוטוקול
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
TCP
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בפרדיגמת
\end_layout

\begin_layout Itemize
שרת תמיד רץ והוא צריך לפתוח סוקט שפתוח לחיבור של משתמש.
\end_layout

\begin_layout Itemize
המשתמש צריך לפתוח סוקט במחשב שלו.
\end_layout

\begin_layout Itemize
המשתמש מציין את כתובת ה-
\lang english
IP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ומספר הפורט )סוקט( של השרת )באנלוגיה לבני אדם, כתובת ומספר דירה(.
\end_layout

\begin_layout Itemize
לאחר יצירת הסוקט, המשתמש צריך להתחיל חיבור עם שרת ה-
\lang english
TCP
\lang hebrew
.
\end_layout

\begin_layout Itemize
כשהשרת מקבל בקשה מהמשתמש, הוא פותח סוקט חדש כדי לתקשר עם הלקוח הספציפי הזה
 )הפורט הוא אותו הדבר אבל הסוקט שונה לכל לקוח(.
\end_layout

\begin_layout Description
הגדרה סטרים הוא רצף מידע שנכנס או יוצא מתהליך, ובהתאם סטרים פלט וקלט הם
 או יוצאים או נכנסים בהתאמה.
\end_layout

\begin_layout Description
דוגמה ב-
\lang english
TCP
\lang hebrew
, למשתמש יש סטרים קלט מהשרת וסטרים פלט לשליחת הודעות לשרת.
\end_layout

\begin_layout Standard

\size larger
אינטרקציית סוקטים ב-
\lang english
TCP
\end_layout

\begin_layout Itemize
השרת פותח סוקט שמקבל בקשות לחיבורים.
\end_layout

\begin_layout Itemize
השרת מחכה להודעות מהסוקט.
 כשהוא מקבל, עושים 
\begin_inset Quotes xld
\end_inset

לחיצת ידיים
\begin_inset Quotes xrd
\end_inset

 של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
TCP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז גם הלקוח יוצר סוקט.
\end_layout

\begin_layout Itemize
הלקוח שולח בקשה מהסוקט שלו, היא מתקבלת בסוקט של השרת )החדש שנפתח ללקוח(,
 הוא מגיב ושולח חזרה תשובה.
\end_layout

\begin_layout Itemize
הסוקטים נסגרים.
\end_layout

\begin_layout Standard
ב-
\lang english
UDP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אין את לחיצת הידיים והשרת פשוט שולח הודעות באופן )כמעט( בלתי מבוקר ללקוח.
\end_layout

\begin_layout Standard

\size larger
אינטרקציית סוקטים ב-
\lang english
UDP
\end_layout

\begin_layout Itemize
השרת פותח סוקט לבקשות.
\end_layout

\begin_layout Itemize
הלקוח פותח סוקט ושולח דרכו בקשה שמכילה את ה-
\lang english
IP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והפורט שלו.
\end_layout

\begin_layout Itemize
השרת מקבל את ההודעה, כותב תשובה כשהוא שולח אותה לפרטים שקיבל מהלקוח.
\end_layout

\begin_layout Itemize
הלקוח מקבל את התשובה, וסוגר את הסוקט.
\end_layout

\begin_layout Standard

\color darkgray
בתרגול עצמו היו הרבה דוגמאות טכניות לתרגיל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
5
\numeric off
 שלא אכלול מטעמי בקרת תוכן, למעוניינים, ראו מצגת התרגול בנושא.
\end_layout

\begin_layout Standard
כשנתכנת תקשורת כזו, נשמור מבנ
\begin_inset Quotes xrd
\end_inset

ת שמכיל סוג כתובת )לצורך עניינו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
IP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ופורט אבל יכול להיות אחרים( ותוכן הכתובת.
\end_layout

\begin_layout Standard
כדי לכתוב בית לזיכרון אפשר לכתוב ב-
\lang english
Big Endian
\lang hebrew
, כלומר שהביט הכי גדול הוא משמאל )שבו משתמשים בתקשורת( או ב-
\lang english
Little Endian
\lang hebrew
, כלומר שהביט הכי קטן הוא משמאל )פופולרי בקרב כל דבר שהוא לא תקשורת( ולכן
 נדרשת המרה ביניהם.
\end_layout

\begin_layout Itemize
יש פ' שמבצעות המרת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
endians
\lang hebrew
, ממשפחת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
hton*
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
ntoh*
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמבירות מ-
\lang english
Network
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\lang english
Host
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)כמו בכל שאר הפ', לא אציג את התיעוד המלא של הפ' מטעמי חוסר עניין לציבור
 כי זה לא מהותי(.
\end_layout

\begin_layout Itemize
כדי להמיר מחרוזת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
IP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לבתים ב-
\lang english
struct
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אפשר להשתמש בפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
inet_aton
\lang hebrew
.
\end_layout

\begin_layout Itemize
כדי לקבל את כתובת ה-
\lang english
IP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של הצד השני של סוקט אצלנו, יש את הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
getpeername
\lang hebrew
.
\end_layout

\begin_layout Standard
ה-
\lang english
DNS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 הוא שירות שממיר כתובות שקריאות לבני אדם )
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
host names
\lang hebrew
( לכתובות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
IP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)כך מומר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
google.com
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\numeric on
8
\numeric off
.
\numeric on
8
\numeric off
.
\numeric on
8
\numeric off
.
\numeric on
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או מה שזה לא יהיה(.
 הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
gethostname
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מחזירה את שם ה-
\lang english
host
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 שמריץ את התכנית.
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
אפשר להשתמש ב-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DNS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
באמצעות הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
gethostbyname
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמחזירה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
struct
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם הרבה שדות שעוזרים.
\end_layout

\begin_layout Description
הערה כקונבנציה, ה-
\lang english
DNS
\lang hebrew
 יתרגם את 
\lang english
localhost
\lang hebrew
 ל-
\lang english
127.0.0.1
\lang hebrew
 שהוא תמיד המחשב שלנו.
\end_layout

\begin_layout Standard

\size larger
תכנות תקשורת שרת-לקוח
\end_layout

\begin_layout Standard
צד השרת יראה כך.
\end_layout

\begin_layout Enumerate
יצירת סוקט באמצעות הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
socket
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לצורכי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
סטרים או לצורכי דאטאגראם )
\lang english
connectionless
\lang hebrew
( באמצעות אחד הפרמטרים לפ'.
\end_layout

\begin_layout Enumerate
חיבור הסוקט לכתובת באמצעות הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
bind
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כך שידעו למי לפנות )נותנים לו שם לצורך העניין(.
\end_layout

\begin_layout Enumerate
האזנה על הסוקט באמצעות הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
listen
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 כדי לקבל הודעות נכנסות.

\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
 כשמתקבלת בקשה לחיבור בסוקט, ניצור חיבור עם הלקוח באמצעות הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
establish
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)שנכתוב בעצמנו, שמגלה מי התחבר אלינו, מי אנחנו, יוצרת סוקט חדש ומאזינה עליו(.
\end_layout

\begin_layout Enumerate
המתנה להודעות באמצעות הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
accept
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בסוקט היעודי, שמקפיא את החוט עד שמתקבלת הודעה.
\end_layout

\begin_layout Standard
צד הלקוח יראה כך.
\end_layout

\begin_layout Enumerate
ניצור סוקט עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
socket
\lang hebrew
.
\end_layout

\begin_layout Enumerate
נחבר אותו לכתובת עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
bind
\lang hebrew
.
\end_layout

\begin_layout Enumerate
נתחבר לכתובת והפורט של השרת עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
connect
\lang hebrew
.
\end_layout

\begin_layout Standard
כדי לקרוא הודעות צריך להשתמש ב-
\lang english
read
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
רק שצריך לעשות לולאה שקוראת עוד ועוד בתים אל תוך באפר כי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
read
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 מביא רק בתים שקיימים, ואם רוצים לחכות ל-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
n
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים צריך לעשות לולאה שקוראת וקוראת עד שקראה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
n
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים.
\end_layout

\begin_layout Standard
שרת לרוב מתקשר עם יותר מסוקט אחד )
\lang english
File Descriptors
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי סוקטים ממומשים כאבסטרקציה כקבצים( ואז צריך להתעסק עם כמה בו זמנית.
 אפשר להשתמש בחוטים אבל זו התעסקות ולחלופין יש את הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
select
\lang hebrew
.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
select
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מקבלת אוסף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FD
\lang hebrew
-ים לקריאה, אוסף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FD
\lang hebrew
-ים לכתיבה ו-
\lang english
FD
\lang hebrew
-ים לניטור אקספשנים.
 היא חוסמת את החוט שקרא לה ובודקת )בטווח זמן כלשהו( האם יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FD
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמוכן לכתיבה/קריאה/ניטור, ומחזירה את מספר ה-
\lang english
FD
\lang hebrew
-ים שמוכנים לפעולה.
 בנוסף, היא עורכת את אוספי ה-
\lang english
FD
\lang hebrew
-ים כך שרק אלו שמוכנים לפעולה יהיו שם ואז אפשר לבדוק אם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FD
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נשאר באוסף, אם כן הוא מוכן ואפשר לעבוד איתו ואם לא אז לא.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{XIV
\backslash
;
\backslash
; אבטחה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{XIV}$
\end_inset

 |
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 אבטחה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
כאמור אנחנו נעסוק בפריצות למערכת, לא השגה חיצונית של פרטים של משתמש.
\end_layout

\begin_layout Standard

\size larger
אימות
\end_layout

\begin_layout Standard
משתמשים מיוצגים ע
\begin_inset Quotes xrd
\end_inset

י חשבונות שמותאמים ל-
\lang english
User ID's
\lang hebrew
.
 לכל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
uid
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יש הרשאות ספציפיות, כאשר לאדמין יש הרשאות על )
\lang english
root
\lang hebrew
(.
\end_layout

\begin_layout Standard
תהליך הכניסה הוא די פשוט:
\end_layout

\begin_layout Itemize
המשתמש מכניס שם משתמש.
\end_layout

\begin_layout Itemize
המשתמש מכניס סיסמה.
\end_layout

\begin_layout Itemize
המערכת בודקת את הסיסמה מול הסיסמה השמורה לשם המשתמש.
\end_layout

\begin_layout Itemize
אם יש התאמה, המשתמש בפנים.
\end_layout

\begin_layout Description
הערה חשוב להצפין את הסיסמאות כדי שבמקרה של דליפה לא יהיה כל כך קל לדעת מה
 הסיסמאות של המשתמשים )עוד על זה בהמשך(.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{פריצת סיסמאות}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
פריצת סיסמאות
\end_layout

\begin_layout Standard
יש כמה גישות למתקפות על סיסמאות:
\end_layout

\begin_layout Itemize

\bar under
ברוט-פורס
\bar default
: ננסה את כל הסיסמאות האפשריות עד שמשהו עובד.
\end_layout

\begin_deeper
\begin_layout Standard
ניתן לבצע מתקפה זו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
offline
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם כבר דלפו הסיסמאות המוצפנות.
 המתקפה עצמה תלויה באורך הרצוי של סיסמה ובאפשרויות לתווים )אותיות, מספרים(.
 זמן החישוב הוא אקספוננציאלי באורך הסיסמה )בהנחה שצריך אותיות ולא רק ספרות(.
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
ניחוש סיסמאות
\bar default
: ננחש באופן מושכל את הסיסמה של האנשים.
\end_layout

\begin_deeper
\begin_layout Standard
יש הרבה מאוד סיסמאות שכיחות כמו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
123456
\lang hebrew
, תאריכים ומילים ספציפיות.
\end_layout

\begin_layout Standard
מעבר לכך, הרשתות החברתיות חושפות הרבה מידע עלינו לכל העולם כך שאם בחרנו
 את שם החתול שלנו כסיסמה, קל לפרוץ לחשבון שלנו.
\end_layout

\begin_layout Standard
בנוסף, יש תבניות מקובלות לסיסמאות, כמו הוספת ספרה בסוף למילה שכיחה וזה גם
 מקל על ניחוש מושכל.
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
גישה משולבת
\bar default
: לעשות ברוט-פורס על מילון מילים שמכיל סיסמאות שהודלפו בעבר.
\end_layout

\begin_layout Description
דוגמה ב-
\numeric on
2012
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
פרצו לאימייל של מיט רומני, מועמד לנשיאות רפובליקאי.
 עשו זאת באמצעות ה-
\lang english
security question
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של שם חיית המחמד האהובה עליו, שהייתה ידועה כי פורסם בתקשורת לפני שהוא התעלל
 בכלב שלו,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
seamus
\lang hebrew
, לכאורה.
\end_layout

\begin_layout Standard
לניחוש סיסמאות יש כמה יתרונות, ביניהם שבני אדם נכנסים לתבניות.
 אפשר לבחור ביטוי של למעלה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
7
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מילים אקראיות, או לחלופין להשתמש בסיסמה אקראית ארוכה ולשמור אותם ב-
\lang english
Password Manager
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)שהוא מוגן עם סיסמה מאוד חזקה(.
\end_layout

\begin_layout Standard
מה מערכת ההפעלה יכולה לעשות? אם נציב מגבלות על הסיסמאות זה משחק אינסופי
 של חתול ועכבר.
\end_layout

\begin_layout Standard
הפתרון שבו לרוב משתמשים הוא לשים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
salt
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על כל סיסמה )עזרתי לכתוב את ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://en.wikipedia.org/wiki/Salt_(cryptography)}{ערך בויקיפדיה בנושא}
\end_layout

\end_inset

(.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
salt
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא תוספת אקראית לכל סיסמה שמצמידים אליה לפני שמצפינים )עושים לה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
hash
\lang hebrew
(.
 שיטה זו מונעת מפריצה רוחבית לכל הסיסמאות כי הסיסמה המוצפנת היא לא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
123456
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אלא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
123456fjdb;vskb
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וזו כמובן לא סיסמה שמופיעה במילון.
\end_layout

\begin_layout Standard
בנוסף, אם ההצפנה חזקה )איטית בכוונה(, אנחנו מאטים את קצב החישוב של הפורץ
 באופן מלאכותי כדי שזה לא יהיה פרקטי.
\end_layout

\begin_layout Standard
מעבר לכך מבחינת חווית המשתמש אפשר להגביל את מספר הלוגינים האפשריים לאותו
 חשבון, או להשתמש ב-
\lang english
biometrics
\lang hebrew
.
\end_layout

\begin_layout Description
הערה גם כשנכנסים למחשב, חשוב להגן עם הראות גבוהות על קובץ הסיסמאות )אין
 סיבה שכולם יוכלו לקרוא אותו, רק ה-
\lang english
root
\lang hebrew
(.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{הרשאות}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
הרשאות
\end_layout

\begin_layout Standard
במערכת הקבצים, לכל משתמש יש הרשאות ביחס לכל קובץ ותיקייה )האם הוא יכול לקרוא,
 להריץ(.
 אפשר להסתכל על זה הפוך - לכל קובץ ותיקייה, מה היכולות שיש לכל משתמש )זה
 לא בשימוש(.
\end_layout

\begin_layout Standard
ביוניקס אפשר להשתמש ב-
\lang english
setuid
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כדי להריץ תכנית עם ההרשאות של הבעלים או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sudo
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמאפשר לרוץ כמשתמש אחר.
\end_layout

\begin_layout Description
דוגמה כדי לעשות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ping
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולשלוח פאקטות, צריך להשתמש בהרשאות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
root
\lang hebrew
.
\end_layout

\begin_layout Standard
כשמגנים על מערכת חשוב להבדיל בין שני סוגים מרכזיים:
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Desktop
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- מחשבים עם כמה משתמשים, מעט התקנים חיצוניים משותפים, עם מידע פרטי ותוכנה
 מבוקרת.
 מתקפות מנסות להגיע לקבצים.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Mobile
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- משתמש אחד, הרבה התקנים חיצוניים )מצלמה,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
GPS
\lang hebrew
( ותוכנות הן אפליקציות מותקנות.
 אנחנו מנסים להגן מפני קבלת גישה זדונית לקבצים אבל גם להתקנים )הסינים רוצים
 לראות דרך המצלמה שלנו בכל רגע נתון(.
\end_layout

\begin_layout Standard
מתקפות מתחלקות לשני חלקים מרכזיים:
\end_layout

\begin_layout Itemize
סוס טרויאני - תוכנה שמבצעת פעולה שעוזרת, אבל מכילה דלת אחורית.
\end_layout

\begin_layout Itemize
וירוס - תכנית שזוהמה עם קוד זדוני.
\end_layout

\begin_layout Standard
כדי להגן מפני הנ
\begin_inset Quotes xrd
\end_inset

ל אפשר לעשות כמה דברים:
\end_layout

\begin_layout Itemize
אנטי-וירוס - תוכנות שמזהות תבניות של קוד זדוני.
\end_layout

\begin_layout Itemize
ניטור - מעקב אחר פעילות בניסיון לזהות התנהגות חשודה.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Firewall
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- חוסמת תקשורת חשודה מבחוץ.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{מפגעי אבטחה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
מפגעי אבטחה
\end_layout

\begin_layout Itemize
אי-בדיקת קלט: מקור מרכזי של מפגעי אבטחה הוא לא לבדוק את קלט המשתמש כראוי
 )שהוא עומד בפורמט הנדרש(.
 קלט כזה יכול להכניס קוד זדוני ואז האפליקציה יכולה בטעות להריץ אותו ומערכת
 ההפעלה לא יכולה למנוע זאת.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה לפני כמה חודשים נחפשה החולשה ב-
\lang english
Log4j
\lang hebrew
, מערכת לוגים ל-
\lang english
Java
\lang hebrew
.
 זו ספריה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Open Source
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בשימוש מאוד נרחב שכפיצ'ר איפשרה לקבל הודעות מותאמות מהאינטרנט, ובמקרה כזה
 הוא בלע בעיוורון את הקלט ואיפשר הרצת קוד במחשב של הקורבן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\lang english
RCE
\lang hebrew
(.
\end_layout

\begin_deeper
\begin_layout Standard
זו מתקפת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
zero-day
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ובעצם גם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
zero-click
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)מישהו בשרת מיינקראפט שלח איזה סטרינג מוזר שגרם למחשב שלנו להתחיל לכרות
 ביטקוין בשביל הממשלה הצפון-קוריאנית(.
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
באפר-אוברפלואו: כתיבה למערך מעבר למותר ודריסת ערכים סמוכים.
\end_layout

\begin_deeper
\begin_layout Standard
משם אפשר או סתם לדרוס ערכים ואז זה סתם באג, או לשים ערכים חדשים באופן זדוני
 כדי לגרום לתכנית לתקוף את המחשב.
 שיטה זו נקראת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Stack Smashing
\lang hebrew
.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
Stack Smashing
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קורה כי תהליך רץ עם הרשאות של משתמש, מקבל קלט חיצוני, מעתיק אותו לבאפר של
 התהליך, ערכים נדרסים וכשחוזרים לפ' שקראה לפ' הנוכחית, קופצים לקוד זדוני.
\end_layout

\begin_layout Standard
כך נראת המחסנית בעת קריאה לפ',
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/stack1.png
	lyxscale 30
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
מחסנית בעת קריאה לפונקציה
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
כאשר הכתובות עולות ככל שעולים למעלה )המחסנית מתחילה מהסוף(.
 אם נכתוב יותר מדי על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
local1
\lang hebrew
, נגיע ל-
\lang english
return address
\lang hebrew
.
 אם סתם נתנו מחרוזת ארוכה מדי הסיכוי שהכתובת הזו תהיה למקום עם קוד חוקי
 זניחה.
 אם אנחנו בוחרים באופן זדוני לאן לחזור )לדוגמה לבאפר שמכיל פקודות אסמבלי
 שלנו(, הצלחנו לתקוף את המערכת!
\backslash

\end_layout

\begin_layout Description
דוגמה אם נצליח לשים פקודות אסמבלי כדי להיכנס לטרמינל )
\lang english
shell
\lang hebrew
( ומשם אפשר לעשות מה שרק רוצים.
\end_layout

\begin_layout Standard
שיטה זו לא תמיד פשוטה, ולכן יש דרכים להעלות את הסיכוי להצלחה.
 לדוגמה, לדרוס כמה ערכים לפני וכמה ערכים אחרי כתובת החזרה עם מצביע לקוד
 הזדוני, ולשים בקוד הזדוני
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NOP slide
\lang hebrew
, כלומר כמה פקודות שלא עושות שום דבר באסמבלי כדי שגם אם הקפיצה קצת פיספסה
 את הקוד הזדוני שלנו, היא תגיע אליו עדיין.
\end_layout

\begin_layout Standard
כדי להגן מפני באפר-אוברפלואו יש כמה שיטות:
\end_layout

\begin_layout Itemize
ערכי קנרית: נציב ערך אקראי ממש לפני ערך ההחזרה ונשמור את הערך הזה בצד.
 אם תוקף ידרוס את ה-
\lang english
return address
\lang hebrew
, הוא יצטרך לדרוס גם את הקנרית ולפני שנקפוץ חזרה לפ' הקוראת, נבדוק אם ערך
 הנקרית לא השתנה, אם הוא השתנה אנחנו יודעים שנתקפנו.
\end_layout

\begin_deeper
\begin_layout Description
הערה ערכי קנרית לא יעזרו אם יש לנו דרך לקרוא את ערך הקנרית לפני )אם יש שני
 באפר-אוברפלואוים לדוגמה(.
\end_layout

\end_deeper
\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
ASLR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
: נסיט את המחסנית קדימה באקראיות כך שיהיה יותר קשה לנחש כתובות במחסנית )זו
 הסיבה שהיינו צריכים את 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
translate_address
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתרגיל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
(.
\end_layout

\begin_layout Itemize
הכנסת אקראיות לערכים של פוינטרים )הזזת סגמנטים וכו'(.
\end_layout

\begin_layout Itemize
למנוע הרצה של כל קוד מחוץ לסגמנט הקוד.
\end_layout

\begin_deeper
\begin_layout Standard
שיטה זו אינה אבסולוטית כי אפשר לקרוא לפ' מ-
\lang english
libc
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 שכתובת כן בסגמנט הקוד )אבל את זה מונעים עם 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ASLR
\lang hebrew
(.
\end_layout

\begin_layout Standard
אחת הפ' ב-
\lang english
libc
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
system
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמאפשר בקלות הגעה ל-
\lang english
shell code
\lang hebrew
.
\end_layout

\end_deeper
\end_deeper
\begin_layout Standard
כשקוד מורד מהאינטרנט )או אפליקציות בטלפון(, נריץ את הקוד עם הרשאות מינימליות
 כי אנחנו לא יודעים אם הקוד הוא זדוני או לא.
 כלומר, נעשה וירטואליזציה ונגביל את היכולות של האפליקציה ל-
\lang english
sandbox
\lang hebrew
, לדוגמה לא נאפשר לה להריץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
syscall
\lang hebrew
-ים מסוימים.
\end_layout

\begin_layout Standard
באנדרויד יוצרים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sandbox
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ע
\begin_inset Quotes xrd
\end_inset

י מתן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
uid
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שונה לכל אפליקציה, שרצה כתהליך נפרד מהאחרות ואז עם הגבלות מוכרות על ההרשאות
 של ה-
\lang english
uid
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
האפליקציה לא יכולה לעשות שום דבר רע )לרבות מגבלות על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
syscall
\lang hebrew
-ים(.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
נסקור בקצרה את רוב הנושאים שלמדנו במהלך הסמסטר
\end_layout

\begin_layout Itemize

\bar under
אינטראפטים
\bar default
: אינטראפטים מתחלקים לפנימיים )אקספשנים, שגיאות של המעבד עצמו( וחציוניים
 )מהחומרה, שמתריעים על אירוע של החומרה(.
 אינטראפט יכול להיות בר-מיסוך )אפשר לחסום אותו( או שאי אפשר למסך אותו )לדוגמה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SIGTERM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- חייבים להתעסק איתו(.
\end_layout

\begin_deeper
\begin_layout Standard
אינטראפטים פנימיים קורים אם יש חלוקה לאפס,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
segmentation fault
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וכו', אבל גם יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PAGE FAULT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
trap
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)כלומר לא רק שגיאות.
 ניתן לחלק אותם ל:
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
aborts
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)שתי הדוגמאות הראשונות( שכתוצאה מהם צריך להפסיק את ריצת התהליך.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
traps
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שאינם שגיאה, אלא פשוט בקשה לפעולה רגישה, לאמור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
syscall
\lang hebrew
.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
traps
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
דורשים הרצת קוד של מערכת ההפעלה וכניסה למצב קרנל )באמצעות שינוי ה-
\lang english
mode bit
\lang hebrew
(.
 בתוך מצב קרנל, הנדלר ל-
\lang english
trap
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נקרא כדי לטפל בבקשה.
 כשהקרנל מסיים, הוא חוזר לפקודה הבאה אחרי ה-
\lang english
trap
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בקוד התהליך.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה התכנית מבקשת כתובת שלא ממופת בזיכרון הפיזי.
 קורה אקספשן שמבקש מה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
להביא את המידע מהדיסק ולטעון אותו לזיכרון.
 התכנית מקבלת את המידע בלי לדעת שהייתה שגיאה בכלל.
\end_layout

\begin_layout Standard
כדי לטפל באינטראפט פנימי מבצעים את השלבים הבאים:
\end_layout

\begin_layout Enumerate
שומרים את המצב הנוכחי.
\end_layout

\begin_layout Enumerate
משתלטים על הריצה ומטפלים בבקשה.
\end_layout

\begin_layout Enumerate
מחזירים את המצב הקודם.
\end_layout

\begin_layout Enumerate
מחזירים את השליטה לתהליך.
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize

\bar under
סיגנלים
\bar default
: סיגנלים נשלחים ע
\begin_inset Quotes xrd
\end_inset

י מערכת ההפעלה, אפע
\begin_inset Quotes xrd
\end_inset

פ שתהליכים יכולים לבקש מה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
באופן רצוני לשלוח סיגנל לתהליכים אחרים או לעצמם )ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתווכת תמיד(.
\end_layout

\begin_deeper
\begin_layout Standard
סיגנלים שונים מאינטראפטים כי הם נוצרים ע
\begin_inset Quotes xrd
\end_inset

י ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בניגוד לאחרונים שנוצרים ע
\begin_inset Quotes xrd
\end_inset

י החומרה.
 בנוסף, הראשונים מנוהלים ע
\begin_inset Quotes xrd
\end_inset

י התהליך והאחרונים מנוהלים ע
\begin_inset Quotes xrd
\end_inset

י מערכת ההפעלה.
\end_layout

\begin_layout Standard
ברגע שמתקבל סיגנל ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מעבירה אותו מיד להנדלר המתאים לה לא משנה מה, וחוזרת למקום שבו הפריעה כשההנדלר
 מסיים.
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
\begin_inset Formula $ $
\end_inset


\lang english
PCB
\bar default
\lang hebrew
: לכל תהליך יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PCB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ששומר מידע עליו כמו ערכי הרגיסטרים שלו ומיקום הזיכרון שלו )הקונטקסט שלו(,
 הקבצים הפתוחים שלו, וגם מידע שחשוב למערכת ההפעלה כמו ה-
\lang english
priority
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתזמון שמבוסס על כמה זמן התהליך רץ וכו'.
\end_layout

\begin_deeper
\begin_layout Standard
בנוסף, נשמרים ההרשאות של התהליך )איזה משתמש מריץ אותו(, ועוד מידע 
\begin_inset Quotes xld
\end_inset

חשבונאות
\begin_inset Quotes xrd
\end_inset

.
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
חוטים
\bar default
: חוטים באו כדי לשפר ביצועים כשיש כמה ליבות, והם מהווים 
\begin_inset Quotes xld
\end_inset

מסלולים עצמאיים
\begin_inset Quotes xrd
\end_inset

 בתכנית ויתרונם הוא שהם קלילים - עם זיכרון משותף לחוטים אחרים בתהליך )מלבד
 המחסנית(.
\end_layout

\begin_deeper
\begin_layout Itemize
חוטים ברמת הקרנל: מערכת ההפעלה יודעת שיש חוטים שונים ויכולה להריץ חוטים
 שונים בו זמנית במעבדים שונים.
\end_layout

\begin_layout Itemize
חוטים ברמת המשתמש: מערכת ההפעלה רואה חוט אחד והמשתמש אחראי על תזמון של החוטים
 בפנים ויכול לדאוג שתתקיים מניעה הדדית )שהוא לא יכול בחוטים ברמת הקרנל בכזו
 קלות(.
 היתרון על פני חוטי קרנל הוא התקורה הנמוכה שכרוכה במעבר בין חוטים )לא צריך
 מצב קרנל וכו'(.
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
בעיית האזור הקריטי
\bar default
: הרבה תהליכים רוצים לגשת לאותו משאב משותף, והם רצים בקצבים שונים ולא דטרמיניסטי
ים ועושים גם דברים בחלק ה-
\lang english
remainder
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Standard
דיקסטרה פירמל מה הופך פתרון לניהול הגישה למשאב לטוב וקבע חמישה תנאים:
\end_layout

\begin_layout Enumerate
מניעה הדדית - רק תהליך אחד מריץ חלק קריטי בכל פעם.
\end_layout

\begin_layout Enumerate
התקדמות - אם תהליכים רוצים להיכנס לחלק הקריטי, מישהו יכנס לחלק הקריטי.
\end_layout

\begin_layout Enumerate
היעדר הרעבה - אף תהליך לא יחכה אינסופית לכניסה לחלק הקריטי.
\end_layout

\begin_layout Enumerate
כלליות - האלג' עובד על 
\begin_inset Formula $N$
\end_inset

 תהליכים עם הרבה מעבדים ולא מניח הנחות נוספות.
\end_layout

\begin_layout Enumerate
אין חסימה ב-
\lang english
remainder
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- אף תהליך שרץ מחוץ לחלק הקריטי לא חוסם תהליכים מלהיכנס לקטע הקריטי.
\end_layout

\begin_layout Standard
פתרנו את הבעיה או בעזרת 
\series bold
חומרה
\series default
 עם פעולות אטומיות כמו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Test&Set
\lang hebrew
, בעזרת 
\series bold
ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
באמצעות סמאפור ומיוטקס ובעזרת 
\series bold
אלגוריתמים
\series default
 כמו אלג' המאפייה והאלג' של פיטסרון.
\end_layout

\begin_layout Description
דוגמה הקוד הבא הוא פתרון לבעית קטע הקוד הקריטי.
 הוא מקיים את כל התנאים של דיקסטרה חוץ מהרעבה כי יכול להיות שתמיד תהליך
 יפספס את הבדיקה ותהליך אחר יבדוק ויידחף לפניו, לכן זהו לא פתרון חוקי.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/testset.png
	lyxscale 30
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קוד למניעה הדדית
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Description
דוגמה באמצעות סמאפור, שהוא מספר שמעלים ומורידים באופן אטומי, אפשר לפתור
 את בעיית קטע הקוד הקריטי.
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
תזמון
\bar default
: צריך לקבוע מי ירוץ על המעבד)ים(.
 יש הרבה אלג' לכך, ביניהם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FCFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)הראשון שבא(,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SJF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)המשימה הכי קצרה(,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SRTF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)כל פעם שבא חדש נבדוק למי נשאר הכי פחות זמן(, תזמון קדימויות ו-
\lang english
RR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)שראינו שבאופן כללי פותר את הבעיה הכי טוב(.
\end_layout

\begin_deeper
\begin_layout Standard
אלג' תזמון נמדד לפי כמה זמן המעבד מריץ תהליכים ולא מחשב תזמון )כמה שיותר(,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
throughput
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)כמה שיותר(, זמן המתנה )כמה שפחות( זמן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
turnaround
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
, כלומר כמה זמן לוקח משהמשימה מגיעה ועד שהיא מסיימת 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)כמה שפחות(.
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
ניהול זיכרון
\bar default
: הזיכרון מורכב מרגיסטרים עם מעבד, מטמון שמקצר את הדרך לזיכרון, הזיכרון
 המרכזי, והתקני
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
I/O
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לרבות דיסק.
\end_layout

\begin_deeper
\begin_layout Standard
הבדלנו בין כתובות וירטואליות )רציף וגדול מאוד, וירטואליזציה לתהליך( וכתובות
 פיזיות )מה שיש בזיכרון, שהוא די קטן(.
 ה-
\lang english
MMU
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ממיר מוירטואלי לפיזי בכל גישה לזיכרון.
\end_layout

\begin_layout Standard
את המיפוי אפשר לעשות בכמה דרכים - בהקצאה רציפה שהיא לא פרקטית, סגמנטציה
 שגרמה לפרגמנטציה חיצונית ודפדוף שבו משתמשים.
\end_layout

\begin_layout Standard
בדפדוף חילקנו את מרחב הכתובות הוירטואליות לדפים ואת הזיכרון למסגרות כאשר
 גודל דף שווה לגודל מסגרת.
 לא כל הדפים ממופים למסגרות.
 כשצריך דף שלא ממופה, משתמשים בכמה אלג' לגירוש מסגרות, שהאופטימלי הוא של
 בילאדי ובמציאות משתמשים ב-
\lang english
Second Chance Clock Algorithm
\lang hebrew
.
\end_layout

\begin_layout Standard
את טבלת הדפים שמחזיקה את המיפוי גם צריך לשנות לפעמים - טבלה שטוחה דורשת
 הרבה מאוד מקום ולכך היו גם כמה פתרונות:
\end_layout

\begin_layout Enumerate
טבלת דפים הפוכה - ממפים מסגרות לדפים ואז כדי לבדוק איפה דף נמצא צריך לעבור
 על כל המסגרות.
\end_layout

\begin_layout Enumerate
טבלת דפים היררכית - טבלת הדפים הראשית מצביעה לעוד כמה עומקים של טבלאות דפים
 שבעומק התחתון יש מיפוי לדפי תוכן.
\end_layout

\begin_layout Enumerate
טבלת האש לדפים - תופסת די מעט זיכרון ומציאת דף היא מהירה.
\end_layout

\begin_layout Standard
ככל שיש יותר עמוקים בטבלה, זה דורש יותר גישות לזיכרון )שזה יקר(.
 כבר בטבלה שטוחה זה דורש קריאה אחת לטבלה ואחת לכתובת עצמה.
\end_layout

\begin_layout Standard
כדי לקצר תהליכים, יש מטמון גם למיפוי, ה-
\lang english
TLB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמאיץ את התרגומים ומונע גישה חוזרת כל הזמן לטבלת הדפים כשלא באמת צריך.
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
תקשורת
\bar default
: מערכת ההפעלה אחראית על תקשורת בין תהליכים בכמה דרכים שונות:
\end_layout

\begin_deeper
\begin_layout Itemize
זיכרון משותף )ואז צריך לנהל מניעה הדדית(.
\end_layout

\begin_layout Itemize
פייפים - ערוץ תקשורת בין שני תהליכים.
 הצינור מורכב משני קבצים )לא באמת קבצים אבל אבסטרקציה של ה-
\lang english
OS
\lang hebrew
( שכל אחד מהם הוא המקום שבו תהליך אחד כותב לאחר.
\end_layout

\begin_layout Itemize
סוקטים )באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
TCP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בשביל תקשורת אמינה ו-
\lang english
UDP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 לתקשורת מהירה(.
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
ניהול תהליכים
\bar default
: הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
fork
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יוצרת תהליך חדש )בן( שיוצרת עותק זהה של תהליך האב )עד כדי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
pid
\lang hebrew
( ושניהם ממשיכים לרוץ מאותה הנקודה.
 נגרום להם לעשות דברים שונים ׂע
\begin_inset Quotes xrd
\end_inset

י בדיקת ה-
\lang english
pid
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלהם.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
dup
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא פ' שמשכפלת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FD
\lang hebrew
, כלומר למעשה עושה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
open
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לאותו הקובץ שוב )ה-
\lang english
offset
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
באותו המקום( ו-
\lang english
dup2
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמשכפלת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FD
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אל תוך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FD
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קיים.
\end_layout

\begin_layout Description
דוגמה נשתמש בפייפים בשביל תקשורת בין תהליך לבן שלו.
 ערך ההחזרה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
fork
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם
\begin_inset Quotes xrd
\end_inset

ם אנחנו בתוך הבן.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/pipe.png
	lyxscale 30
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קוד לתקשורת בין תהליכים עם פייפים
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
הקוד יצור בן שידרוס את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
stdout
\lang hebrew
, סוגר את הקבצים שפתחו בשבילו וקורא ל-
\lang english
ls
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שתוצאתה תיכנס לקובץ הראשון של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 הפייפ.
 הבן השני שנוצר דורס את 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
stdin
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כך שהוא מקבל מידע דרכו.
 הבן הראשון שולח רשימת קבצים באמצעות ה-
\lang english
ls
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והבן השני מקבל את המידע הזה ומריץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
file
\lang hebrew
.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
lseek
\lang hebrew
 מזיזה את ההיסט בתוך הקובץ ביחס לסוף הקובץ, תחילת הקובץ, או המיקום הנוכחי.
 כדי לדעת איפה ההיסט כרגע, נוכל לקרוא לפ' עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביחס להיסט הנוכחי ונקבל את ההיסט החדש )שהוא הישן(.
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
מערכת קבצים
\bar default
: קריאה מהדיסק זה יקרה ולכן מערכת הקבצים מנסה למזער את מספר הגישות, בין
 היתר באמצעות ה-
\lang english
buffer cache
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Standard
בינויקס משתמשים ב-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמכיל מטא-דאטא על הקובץ לרבות גודלו ומתי עודכן לאחרונה, וגם מצביעים לבלוקים
 שבהם הוא נמצא בזיכרון )עם מצביעים ישירים, עקיפים, שניוניים, ושלישיים(.
\end_layout

\begin_layout Standard
טבלת הקבצים מתחלקת לשלוש:
\end_layout

\begin_layout Enumerate
טבלת ה-
\lang english
FD
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של כל תהליך בנפרד - כל קובץ מופיע פעם אחת לכל פעם שנפתח והכניסה מחזיקה מצביע
 לטבלת הקבצים הפתוחים.
\end_layout

\begin_layout Enumerate
טבלת הקבצים הפתוחים - טבלה כללית לכל ה-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמחזיקה כניסה אחת לכל פעם שקובץ נפתח וההיסט שבו התהליך נמצא בקובץ.
\end_layout

\begin_layout Enumerate
טבלת ה-
\lang english
i-node
\lang hebrew
-ים - טבלה שבה כל ה-
\lang english
i-node
\lang hebrew
-ים של קבצים פתוחים, כניסה אחת לכל קובץ.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
hard links
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא קובץ עם מטא-דאטא שלא מכיל את שם הקובץ שאליו הוא מתייחס או ה-
\lang english
path
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אליו, והקובץ מחזיק כמה רפרנסים יש אליו ורק כשיש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא נמחק.
\end_layout

\begin_layout Standard
יש פ' שנקראת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
link
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמקבלת נתיב ישן וחדש ושמה בנתיב החדש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
hardlink
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לנתיב הישן.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
unlink
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מסירה את הלינק לקובץ )מקטינה את מספר הרפרנסים(.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
softlink
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא מצביע ישיר לנתיב של הקובץ ואם הקובץ המקורי נמחק, הקישור לא יעבוד.
\end_layout

\end_deeper
\begin_layout Itemize
וירטואליזציה:
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VM
\lang hebrew
-ים עושים אבסטרקציה לחומרה ומעלה, קונטיינרים עושים אבסטרקציה רק ל-
\lang english
OS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 תחת אותה חומרה )באמצעות כמה סוגים שונים של 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
HV
\lang hebrew
(.
\end_layout

\begin_deeper
\begin_layout Standard
בלינוקס יש קונטיינרים שנקראים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
LXC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ששונים מהנייטיב ב-
\lang english
Namespaces
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שונים )כמו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
pids
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
חדשים, מערכת קבצים חדשה( וכו'.
 אפשר לבקר )מלשון בקרה( את ה-
\lang english
NS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
cgroups
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שממומשים באבסטרקציה כקבצים.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
שאלות ותשובות
\end_layout

\begin_layout Itemize
כיצד ניתן לממש מתמזמן תהליכים ברמת המשתמש?
\end_layout

\begin_deeper
\begin_layout Standard
להשתמש באלג' שעוצר תהליך )כלומר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
preempt
\lang hebrew
( באמצעות שליחת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SIGSTOP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והמשכת ריצת תהליך באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SIGCONT
\lang hebrew
(.
\end_layout

\end_deeper
\begin_layout Itemize
במערכת הקבצים המסורתית המבוססת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
i-node
\lang hebrew
, כמה גישות לדיסק נדרשות לכל הפחות כדי לקרוא את הבית ה-
\numeric on
8097
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בקובץ
\begin_inset Newline newline
\end_inset


\lang english
/home/moishe/mail
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)אם כל בלוק הוא בגודל 
\begin_inset Formula $2^{10}$
\end_inset

, יש 
\begin_inset Formula $6$
\end_inset

 מצביעים ישירים ואחד מכל עקיף, וכל מדריך מאוכסן בבלוק יחיד(?
\end_layout

\begin_deeper
\begin_layout Standard
כדי להגיע לקובץ צריך 
\begin_inset Formula $2\cdot3$
\end_inset

 ל-
\lang english
i-node
\lang hebrew
-ים ומדריכים )מדריך השורש,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ומדריך,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ומדריך,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
i-node
\lang hebrew
(, אחד ל-
\lang english
single-indirect
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 ואחד לתוכן הקובץ.
\end_layout

\end_deeper
\begin_layout Itemize
נתון הקטע הבא לבעיות הקטע הקריטי,
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/critical.png
	lyxscale 30
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
קוד לפתרון בעיית האזור הקריטי
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
האם המימוש עשוי לגרום לדד-לוק? כן, אם קורה קונטקסט סוויץ' בדיוק אחרי השמת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
false
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בדגל של התהליך עצמו, שני הדגלים הם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
false
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז שניהם יכנסו ל-
\lang english
while
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולא יצאו ממנו אף פעם.
\end_layout

\begin_layout Enumerate
האם ייתכן דדלוק אם נוריד את השורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
flag[i]=false
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ונאתחל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
flag[1]={true}
\lang hebrew
? לא, כי אם קורה קונטקסט סוויץ' בדיוק לפני ה-
\lang english
while
\lang hebrew
, ה-
\lang english
turn
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
משתנה ותנאי ה-
\lang english
while
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא מתקיים כי שני התנאים בפנים הם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
true
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז מישהו יכנס.
\end_layout

\begin_layout Enumerate
נניח שמבצעים את השינויים בסעיף הנ
\begin_inset Quotes xrd
\end_inset

ל האם מתקיימת תכונה מניעה הדדית? לא, נניח שתהליך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מגיע, משנה את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
turn
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ונכנס לקטע הקריטי, ואז יש סוויץ' ותהליך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
משנה את הפרמטרים בהתאם וגם נכנס לקטע הקריטי כי תנאי ה-
\lang english
while
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא מתקיים.
\end_layout

\begin_layout Enumerate
מהו הבדל אחד בין תהליך לבין חוט ברמת הקרנל הוא )יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אפשרויות שלא אציג(? תהליכים זקוקים לתיווך של מערכת ההפעלה כדי לתקשר וחוטים
 ברמת הקרנל לא זקוקים )כי הם יכולים לעשות זאת באמצעות זיכרון משותף(.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{XV
\backslash
;
\backslash
; חזרה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{XV}$
\end_inset

 |
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 חזרה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Description
שאלה ענו את השאלה הבאה
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center

\size largest
\begin_inset Graphics
	filename img/2017a.png
	lyxscale 30
	scale 55
	BoundingBox 0bp 0bp 1370bp 709bp
	clip

\end_inset


\end_layout

\begin_layout Standard
הקוד פותח קובץ וקורא ממנו אל תוך באפר.
 אם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
read
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
החזיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
זה אומר שהוא קרא בית אחד )כרצוי(.
\end_layout

\begin_layout Enumerate
ראשית יהיה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
trap
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 כדי לבצע את ה-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
syscall
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
המבוקש.
\end_layout

\begin_layout Enumerate
כשהדיסק יסיים יהיה אינטראפט חומרה במסגרת סכמת ה-
\lang english
DMA
\lang hebrew
.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\lang english
page fault
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי אנחנו רוצים לכתוב לדף שלא ממופה )אינטראפט פנימי(.
\end_layout

\begin_layout Enumerate
כשהדיסק מסיים להביא את הדף, יהיה עוד אינטראפט חומרה.
\end_layout

\end_deeper
\begin_layout Description
שאלה 
\end_layout

\begin_deeper
\begin_layout Itemize
נניח כי כעת רץ במערכת חוט מספר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של תהליך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
a
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וב-
\lang english
MMU
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ממופה דף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
X
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
למסגרת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Y
\lang hebrew
.
 האם המיפוי יישמר אם המערכת תריץ חוט אחר של אותו תהליך?
\end_layout

\begin_deeper
\begin_layout Standard
כן כי הזיכרון משותף בין חוטים.
\end_layout

\end_deeper
\begin_layout Itemize
האם המיפוי יישמר אם המערכת תריץ חוט של תהליך אחר?
\end_layout

\begin_deeper
\begin_layout Standard
לא כי לכל תהליך יש טבלת דפים נפרדת.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
שאלה קראו את הנתונים הבאים
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/2016b.png
	lyxscale 40
	scale 60
	BoundingBox 12bp 0bp 1415bp 700bp
	clip

\end_inset


\end_layout

\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/2016b3.png
	lyxscale 40
	scale 60
	BoundingBox 0bp 0bp 700bp 670bp
	clip

\end_inset


\end_layout

\begin_layout Standard
לא יהיה דד-לוק כי נעילת המשאבים נעשית בסדר זהה )הפוך ביציאה( כך שלא ייתכן
 שנחזיק את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
knives
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אבל לא את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
forks
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וכו'.
\end_layout

\begin_layout Standard
לא תהיה הרעבה בגלל ששני הסמאפורים שקובעים הלכה למעשה מי אוכל הם הוגנים.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $ $
\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/3.png
	lyxscale 30
	scale 65
	BoundingBox 0bp 0bp 550bp 840bp
	clip

\end_inset


\end_layout

\begin_layout Standard
יהיה דד-לוק כי יכול לקרות ש-
\begin_inset Formula $i=0,1,2,3$
\end_inset

 ירימו את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
forks
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וכולם בדיוק יחטפו סוויץ' לפני שיספיקו לקחת את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
knives
\lang hebrew
, ואז 
\begin_inset Formula $i=4,5,6,7$
\end_inset

 ירימו את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
knives
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולא את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
forks
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז אף אחד לא יוכל להרים שום דבר.
\end_layout

\begin_layout Standard
יש הרעבה כי דד-לוק הוא מקרה פרטי של הרעבה.
\end_layout

\end_deeper
\begin_layout Enumerate
אותו הדבר רק עם 
\begin_inset Formula $i<3$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
לא יהיה דד-לוק כי רק שלושה יכולים לנעול את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
forks
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קודם ואז תמיד אחד מהחמישה האחרים יצליח לתפוס גם את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
knives
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וגם את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
forks
\lang hebrew
.
\end_layout

\begin_layout Standard
בגלל שהסמאפורים הוגנים, לא תהיה הרעבה )אין באמת סיבה שתהיה כי גם אם סדר
 ההרמה הפוך הם כיחידה אחת הוגנים(.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
שאלה קראו את הנתונים הבאים
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/2017b.png
	lyxscale 61
	scale 50

\end_inset


\end_layout

\begin_layout Enumerate
מה גודל הקובץ המקסימלי שניתן לייצג במערכת קבצים זו?
\end_layout

\begin_deeper
\begin_layout Standard
כל בלוק נותן לנו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
4KB
\lang hebrew
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
64
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
המצביעים הישירים מתאימים לבלוק אחד כל אחד.
 כל מצביע עקיף יחיד נותן לנו 
\begin_inset Formula $\frac{2^{12}}{2^{3}}=2^{9}=512$
\end_inset

 בלוקים נוספים ועקיף כפול נותן לנו 
\begin_inset Formula $512^{2}=2^{18}$
\end_inset

 כלומר סה
\begin_inset Quotes xrd
\end_inset

כ
\begin_inset Formula 
\begin{align*}
64\cdot2^{12}+4\cdot2^{9}\cdot2^{12}+4\cdot2^{18}2^{12} & =2^{15}+2^{23}+2^{32}
\end{align*}

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
תהליך קורא קובץ בגודל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
8MB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מהדיסק, באופן רציף, בלוק אחר בלוק, מתחילו ועד סופו.
 כמה גישות תבצע המערכת לדיסק לקריאת בלוקים? הניחו שהתהליך יודע היכן ה-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של הקובץ אבל עוד לא ניגש אליו, שה-
\lang english
buffer cache
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ריק, שמתבצעת קריאה ל-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לפני כל קריאה לבלוק נתונים ושהתהליך הזה הוא היחיד שמשפיע על ה-
\lang english
buffer cache
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Standard
נצטרך לחשב כמה בלוקים תופס הקובץ.
 
\begin_inset Formula $\frac{2^{23}}{2^{12}}=2^{11}=2048$
\end_inset

 בלוקים, כלומר נשתמש ב-
\numeric on
64
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ישירים, וארבעת העקיפים יחידים )לא בכולם אבל מה שחשוב זה שאנחנו לא זולגים
 לעקיף כפול(.
\end_layout

\begin_layout Standard
בשימוש בעקיפים יחידים, נכניס את בלוק המצביעים לזיכרון ולא נוציא אותו עד
 תום השימוש כי אנחנו משתמשים ב-
\lang english
LRU
\lang hebrew
.
\end_layout

\begin_layout Standard
הגישה הראשונה היא ל-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והוא גם נשאר בבאפר-קאש כל הזמן, 
\begin_inset Formula $64$
\end_inset

 הבאות לבלוקים הישירים, ואז עוד 
\begin_inset Formula $\left(2048-64\right)+4$
\end_inset

 כי אנחנו צריכים לקרוא את הבלוקים העקיפים אבל רק פעם אחת.
\end_layout

\begin_layout Standard
כלומר סה
\begin_inset Quotes xrd
\end_inset

כ
\begin_inset Formula 
\[
1+64+\left(2048-64\right)+4=2^{11}+4+1
\]

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
איך הייתה משתנה התשובה לסעיף הנ
\begin_inset Quotes xrd
\end_inset

ל אם לא היה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
buffer cache
\lang hebrew
?
\end_layout

\begin_deeper
\begin_layout Standard
היינו צריכים לקרוא כל פעם מחדש את הבלוקים העקיפים.
 כלומר היה לנו את החישוב הנ
\begin_inset Quotes xrd
\end_inset

ל רק עם 
\begin_inset Formula $2\cdot\left(2048-64\right)$
\end_inset

 במקום סתם 
\begin_inset Formula $\left(2048-64\right)$
\end_inset

, כאשר כל השאר ישאר זהה כי ה-
\lang english
i-node
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא בזיכרון.
\end_layout

\end_deeper
\begin_layout Enumerate
איך הייתה משתנה התשובה לסעיף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם היה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
buffer cache
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אבל הניהול שלו היה ב-
\lang english
FIFO
\lang hebrew
?
\end_layout

\begin_deeper
\begin_layout Standard
עד העקיפים הכל ישאר אותו הדבר.
 על כל עקיף נקרא אותו ואז 
\begin_inset Formula $257-1=256$
\end_inset

 בלוקים של הקובץ עד שנצטרך להכניס אותו שוב לזיכרון, כלומר נקבל את החישוב
 מהסעיף הראשון ועוד 
\begin_inset Formula $8$
\end_inset

.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
שאלה נתונה מערכת עם מתזמן תור קדימויות פידבק רב שלבי עם ארבעה שלבים )
\begin_inset Formula $1$
\end_inset

 בעדיפות הכי גבוה ו-
\begin_inset Formula $4$
\end_inset

 בעדיפות הכי נמוכה(.
 קראו את הנתונים הבאים
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/2019b.png
	lyxscale 30
	scale 60

\end_inset


\end_layout

\begin_layout Enumerate
נניח כי שלושה תהליכים עוברים למצב מוכן בו זמנית וזמן העיבוד של כל אחד מהם
 הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
150ms
\lang hebrew
.
 חשבו את ה-
\lang english
turnaround time
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הממוצע )הזמן שלוקח מהכניסה למתזמן ועד סיום הריצה(.
\end_layout

\begin_deeper
\begin_layout Standard
שלושת התהליכים ירוצו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
20ms
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כאשר לפני כל ריצה יהיה קונטקס סוויץ' של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
10ms
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)חוץ מבריצה הראשונה שבה אנחנו מניחים שהתליך כבר טעון לזיכרון(
\end_layout

\begin_layout Standard
שלושתם ירוצו עוד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
30ms
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קונטקסט סוויצ'ים לפני הריצה.
\end_layout

\begin_layout Standard
שלושתם ירוצו עוד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
40ms
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קונטקסט סוויצ'ים.
 עד לשלב זה עברו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
360ms
\lang hebrew
.
\end_layout

\begin_layout Standard
שלושתם ירוצו עד הסוף )נותרו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
60ms
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עד תום הריצה( עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קונטקסט סוויצ'ים, כאשר הראשון יסיים לאחר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
60ms
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נוספות, כלומר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
420ms
\lang hebrew
, השני יסיים אחרי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
60+10ms
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כלומר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
490ms
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והאחרון יסיים לאחר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
560ms
\lang hebrew
.
\end_layout

\begin_layout Standard
כלומר בממוצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
490ms
\lang hebrew
.
\end_layout

\end_deeper
\begin_layout Enumerate
נניח כעת כי שלושה תהליכים מבצעים לולאה אינסופית בה כל תהליך מבצע חישוב של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
10ms
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שנגמר ב-
\lang english
page fault
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלוקח
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
30ms
\lang hebrew
, לאחריו הוא חוזר על החישוב וחוזר חלילה.
 בנוסף, קיים תהליך רביעי המצב חישוב שזמן העיבוד שלו הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
150ms
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)לא בלולאה(.
 חשבו מהו ה-
\lang english
waiting time
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של התהליך הרביעי.
\end_layout

\begin_deeper
\begin_layout Standard
השלושה הראשונים ירוצו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
10ms
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 עם קונטקסט סוויץ' של 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
10ms
\lang hebrew
.
 הרביעי ירוץ ל-
\lang english
20ms
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 וירד לתור השני.
 עד השלב הזה מספיקים כל התהליכים האחרים לחזור )כולם מספיקים לחזור והתהליך
 השלישי בדיוק מסיים את 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
30ms
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של ההמתנה שלו(.
\end_layout

\begin_layout Standard
אותו הדבר קורה שוב רק שהפעם התהליך הרביעי לא ירוץ כי עד כל התהליכים מספיקים
 לחזור כך שתור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תמיד מכיל תהליכים.
 כלומר תהליך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מורעב וירוץ לנצח.
 זמן ההמתנה שלו הוא אינסוף.
\end_layout

\end_deeper
\begin_layout Enumerate
עתה נשנה את המתזמן מעט: נעלה את העדיפות של תהליך ב-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם תוזמנו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
100
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תהליכים )לא בהכרח שונים( מהעדיפות שמעליו בלי שהוא תוזמן.
 האם השינוי הזה יוביל לשינוי בזמן ההמתנה של התהליכים מהסעיף הנ
\begin_inset Quotes xrd
\end_inset

ל )עבור תהליכים אינסופיים נסתכל על זמן ההמתנה בשעה הראשונה(? אין צורך בחישובים
 מדויקים.
\end_layout

\begin_deeper
\begin_layout Standard
כן, יהיה שינוי.
 שלושת התהליכים יקבלו זמן תגובה יותר גבוה )כי התהליך הרביעי בשלב כלשהו ירוץ
 יותר משרץ בלי השינוי, כלומר הוא תפס קצת מזמן הריצה שלהם( ולתהליך הרביעי
 יהיה זמן תגובה סופי במקום אינסופי, כלומר ירידה.
\end_layout

\end_deeper
\begin_layout Enumerate
האם המערכת מהסעיף הנ
\begin_inset Quotes xrd
\end_inset

ל מקיימת היעדר הרעבה?
\end_layout

\begin_deeper
\begin_layout Standard
כן, כי מעלים עדיפות רק עם תוזמנו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
100
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תהליכים בעדיפות מעל, לא בכל העדיפויות מעל.
 לכן יכול להיות שתהליך ירד לעדיפות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז ירוצו אינסופית תהליכים בפרצים קצרים בעדיפות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, כך שאף פעם לא יתקיים התנאי שבו נעלה את הדיפות של התליך המורעב.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
שאלה קראו את הנתונים הבאים
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/2020b.png
	lyxscale 30
	scale 60

\end_inset


\end_layout

\begin_layout Enumerate
מהו גודל טבלת הדפים )בדפים( אם החלטנו לממש את טבלת הדפים כטבלת דפים הפוכה,
 כשכל רשומה בטבלה היא בגודל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים.
\end_layout

\begin_deeper
\begin_layout Standard
יש 
\begin_inset Formula $\frac{2^{24}}{2^{12}}=2^{12}$
\end_inset

 מסגרות, כלומר סה
\begin_inset Quotes xrd
\end_inset

כ 
\begin_inset Formula $2^{12}\cdot4$
\end_inset

 בתים לרשומות, שנכנסות ב-
\begin_inset Formula $\frac{2^{12}\cdot4}{2^{12}}=4$
\end_inset

 דפים )החלק היא בגודל של כל דף(.
\end_layout

\end_deeper
\begin_layout Enumerate
מהו זמן התרגום הממוצע של ה-
\lang english
MMU
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהנחה שקריאה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים רצופים לוקחת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
1ms
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ושההסת' לכתובת שכן ממופה לזיכרון הפיזי היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
0.5
\lang hebrew
.
 ניתן להניח כי הטבלה נמצאת כולה בזיכרון הפיזי.
 אם התרגום הסתיים ב-
\lang english
page fault
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או שהיה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
page fault
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
במהלכו, יש להתחשב רק בזמן עד ה-
\lang english
page fault
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)כלומר מעניין אותנו רק החישוב האם יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
page fault
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או לא(.
\end_layout

\begin_deeper
\begin_layout Standard
נצטרך לעבור שורה שורה, כך שאם הוא ממופה, בממוצע הוא יושב באמצע הטבלה )תוחלת
 קלאסית( ואם הוא לא ממופה נגיע עד לסוף הריצה.
 כלומר נידרש ל-
\begin_inset Formula 
\[
\frac{1}{2}\left(\frac{1}{2}\cdot2^{12}\right)+\frac{1}{2}\left(2^{12}\right)=2^{10}+2^{12}=1024+2048=3072
\]

\end_inset

מילי-שניות בממוצע.
\end_layout

\end_deeper
\begin_layout Enumerate
מהו גודל טבלת הדפים )בדפים( אם החלטנו להשתמש בטבלת דפים רגילה - לא הפוכה
 ולא היררכית - כאשר כל רשומה תופסת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים.
\end_layout

\begin_deeper
\begin_layout Standard
יש לנו 
\begin_inset Formula $\frac{2^{32}}{2^{12}}=2^{20}$
\end_inset

 דפים, כלומר 
\begin_inset Formula $2^{20}\cdot4$
\end_inset

 בתים לרשומות, שהם 
\begin_inset Formula $\frac{2^{20}\cdot4}{2^{12}}=\frac{2^{22}}{2^{12}}=2^{10}$
\end_inset

 דפים.
\end_layout

\end_deeper
\end_deeper
\begin_layout Standard

\size giant
סוף.
\end_layout

\end_body
\end_document
