#LyX 2.3 created this file. For more info see http://www.lyx.org/
\lyxformat 544
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass heb-article
\begin_preamble
\usepackage{culmus}
\LinesNumbered
\end_preamble
\use_default_options true
\begin_modules
algorithm2e
\end_modules
\maintain_unincluded_children false
\language hebrew
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "default" "David"
\font_sans "default" "Arial"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts true
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\use_microtype false
\use_dash_ligatures true
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing double
\use_hyperref true
\pdf_bookmarks false
\pdf_bookmarksnumbered false
\pdf_bookmarksopen false
\pdf_bookmarksopenlevel 1
\pdf_breaklinks true
\pdf_pdfborder false
\pdf_colorlinks true
\pdf_backref false
\pdf_pdfusetitle true
\pdf_quoted_options "linkcolor=blue"
\papersize default
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date true
\justification true
\use_refstyle 1
\use_minted 0
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 2.1cm
\topmargin 2.1cm
\rightmargin 2.1cm
\bottommargin 2.1cm
\secnumdepth -2
\tocdepth 1
\paragraph_separation skip
\defskip medskip
\is_math_indent 0
\math_numbering_side default
\quotes_style english
\dynamic_quotes 0
\papercolumns 1
\papersides 1
\paperpagestyle default
\listings_params "mathescape=true"
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title

\size giant
מבני נתונים
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
| 
\numeric on
67109
\numeric off

\begin_inset VSpace 40bp
\end_inset


\begin_inset Newline newline
\end_inset


\size default
הרצאות | ד
\begin_inset Quotes erd
\end_inset

ר גיא כץ וד
\begin_inset Quotes erd
\end_inset

ר עמית דניאלי
\size giant

\begin_inset VSpace 30bp
\end_inset


\begin_inset Newline newline
\end_inset


\size larger
כתיבה | נמרוד רק
\size giant

\begin_inset VSpace 30bp
\end_inset


\size default

\begin_inset Newline newline
\end_inset


\size large
תשפ
\begin_inset Quotes erd
\end_inset

א סמסטר ב'
\end_layout

\begin_layout Standard
\paragraph_spacing single
\noindent

\size giant
\begin_inset VSpace 30bp
\end_inset


\size default

\begin_inset Newpage pagebreak
\end_inset


\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\begin_inset FormulaMacro
\newcommand{\oh}{\mathcal{O}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\oo}[1]{\oh\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\om}[1]{\Omega\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\ot}[1]{\Theta\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\pr}{\mathbb{P}}
\end_inset


\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Part
כלים מתמטיים
\end_layout

\begin_layout Section
תרגול
\end_layout

\begin_layout Standard
נרצה להשתמש באינדוקציה כדי להוכיח כל מיני טענות על המספרים הטבעיים )
\begin_inset Formula $\mathbb{N}$
\end_inset

(.
 כדי להוכיח טענה, בשיטת האינדוקציה החלשה, מספיק להוכיח את נכונות הטענה עבור
 הבסיס )
\begin_inset Formula $n=1$
\end_inset

 או כל מספר טבעי אחר שהחל ממנו הטענה אמורה להיות נכונה( וכן עבור הצעד.
 הוכחת הצעד פירושה להניח שהטענה נכונה עבור איזה שהוא 
\begin_inset Formula $n$
\end_inset

 ולהוכיח בעזרת הנחה זו שהטענה נכונה גם כן עבור 
\begin_inset Formula $n+1$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה נוכיח כי 
\begin_inset Formula $\forall n\in\mathbb{N}$
\end_inset

, 
\begin_inset Formula $\sum\limits _{i=1}^{n}i=\frac{n\left(n+1\right)}{2}$
\end_inset

.
\end_layout

\begin_layout Proof
בסיס 
\begin_inset Formula $\left(n=1\right)$
\end_inset

: 
\begin_inset Formula $\sum\limits _{i=1}^{1}i=1=\frac{1\cdot2}{2}$
\end_inset

 כרצוי.
\end_layout

\begin_layout Proof
צעד 
\begin_inset Formula $\left(n\rightarrow n+1\right)$
\end_inset

: נניח כי 
\begin_inset Formula $\sum\limits _{i=1}^{n}i=\frac{n\left(n+1\right)}{2}$
\end_inset

.
 לכן
\begin_inset Formula 
\[
\sum\limits _{i=1}^{n+1}i=\sum\limits _{i=1}^{n}i+\left(n+1\right)=\frac{n\left(n+1\right)}{2}+\left(n+1\right)=\frac{n\left(n+1\right)+2\left(n+1\right)}{2}=\frac{\left(n+1\right)\left(n+2\right)}{2}
\]

\end_inset


\end_layout

\begin_layout Standard
אינדוקציה חזקה היא דומה לאינדוקציה חלשה, רק שבהוכחת הצעד נוכל להניח שהטענה
 נכונה לא רק עבור 
\begin_inset Formula $n$
\end_inset

, אלא עבור כל המספרים עד ל-
\begin_inset Formula $n$
\end_inset

 )
\begin_inset Formula $1,2,\dots,n$
\end_inset

 או כל המספרים מהבסיס ועד ל-
\begin_inset Formula $n$
\end_inset

(.
\end_layout

\begin_layout Description
דוגמה נתונה טבלת שוקולד שמכילה 
\begin_inset Formula $n$
\end_inset

 קוביות שוקולד.
 אזי לוקח בדיוק 
\begin_inset Formula $n-1$
\end_inset

 צעדים לחלק את הטבלה ל-
\begin_inset Formula $n$
\end_inset

 קוביות נפרדות, לא משנה איך נחלק אותן.
\end_layout

\begin_layout Proof
בסיס 
\begin_inset Formula $\left(n=1\right)$
\end_inset

: לוקח 
\begin_inset Formula $1-1=0$
\end_inset

 צעדים לחלק לקוביות נפרדות שכן קוביה אחת היא כבר לבד.
\end_layout

\begin_layout Proof
צעד 
\begin_inset Formula $\left(1,\dots,n-1\rightarrow n\right)$
\end_inset

: נשבור את הטבלה איפה שהוא ונקבל שתי טבלאות בגדלים 
\begin_inset Formula $k,n-k$
\end_inset

.
 מה
\begin_inset Quotes erd
\end_inset

א )הנחת האינדוקציה(, בגלל ש-
\begin_inset Formula $k,n-k<n$
\end_inset

, יקח לנו בדיוק 
\begin_inset Formula $k-1$
\end_inset

 שבירות לחלק את הטבלה הראשונה ו-
\begin_inset Formula $n-k-1$
\end_inset

 שבירות עבור הטבלה השנייה.
 יחד עם השבירה הראשונה שלנו נקבל סה
\begin_inset Quotes erd
\end_inset

כ 
\begin_inset Formula $\left(k-1\right)+\left(n-k-1\right)+1=n-1$
\end_inset

 שבירות כדי לחלק את הטבלה לקוביות נפרדות.
\end_layout

\begin_layout Standard
עתה נעסוק בסימונים אסימפטוטיים )שהוגדרו 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{link1}{כאן}
\end_layout

\end_inset

(.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $f\left(n\right)=n+10,g\left(n\right)=n^{2}$
\end_inset

.
 נוכיח כי 
\begin_inset Formula $f\left(n\right)=\oo{g\left(n\right)}$
\end_inset

 וגם כי 
\begin_inset Formula $g\left(n\right)=\Omega\left(f\left(n\right)\right)$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula $\forall n\geq5$
\end_inset

, 
\begin_inset Formula $f\left(n\right)=n+10\leq n+2n=3n\leq n\cdot n=n^{2}=g\left(n\right)$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula $\forall n\geq5$
\end_inset

, 
\begin_inset Formula $g\left(n\right)=n^{2}=n\cdot n\geq3n=n+2n\geq n+10=f\left(n\right)$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/complexity-example.png
	lyxscale 20
	scale 40

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset Formula $f$
\end_inset

 בכחול ו-
\begin_inset Formula $g$
\end_inset

 באדום, החל מ-
\begin_inset Formula $n=5$
\end_inset

, 
\begin_inset Formula $g$
\end_inset

 
\begin_inset Quotes eld
\end_inset

עוקף
\begin_inset Quotes erd
\end_inset

 את 
\begin_inset Formula $f$
\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Description
מסקנה 
\begin_inset Formula $f\left(n\right)=\oo{g\left(n\right)}$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $g\left(n\right)=\Omega\left(f\left(n\right)\right)$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $p\left(n\right)=n^{5},q\left(n\right)=0.5\cdot n^{5}+n$
\end_inset

.
 נוכיח כי 
\begin_inset Formula $p\left(n\right)=\oo{q\left(n\right)}$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula $\forall n\geq0$
\end_inset

, 
\begin_inset Formula $p\left(n\right)=n^{5}\leq2\cdot0.5n^{2}\leq2\left(0.5n^{2}+n\right)\overset{c=2}{=}c\cdot q\left(n\right)$
\end_inset

.
\end_layout

\begin_layout Description
טענה אם 
\begin_inset Formula $\underset{n\rightarrow\infty}{\lim}\frac{f\left(n\right)}{g\left(n\right)}<\infty$
\end_inset

 אזי 
\begin_inset Formula $f\left(n\right)=\oo{g\left(n\right)}$
\end_inset

.
\end_layout

\begin_layout Proof
נסמן 
\begin_inset Formula $\underset{n\rightarrow\infty}{\lim}\frac{f\left(n\right)}{g\left(n\right)}=L\in\mathbb{R}^{+}$
\end_inset

 )הגבול הוא חיובי כי בהגדרה של הסימונים האסימפטוטיים אמרנו שהפ' הן חיוביות(.
 נבחר 
\begin_inset Formula $\epsilon=1$
\end_inset

, ולכן מהגדרת הגבול קיים 
\begin_inset Formula $n_{0}\in\mathbb{N}$
\end_inset

 כך ש- 
\begin_inset Formula $\forall n\geq n_{0}$
\end_inset

 מתקיים 
\begin_inset Formula $L-1<\frac{f\left(n\right)}{g\left(n\right)}<L+1$
\end_inset

, כלומר 
\begin_inset Formula $f\left(n\right)<\left(L+1\right)g\left(n\right)$
\end_inset

, לכן נבחר 
\begin_inset Formula $c=L+1$
\end_inset

 ונקבל את ההגדרה של 
\begin_inset Formula $\oo{g\left(n\right)}$
\end_inset

 כרצוי.
\end_layout

\begin_layout Description
מסקנה אם 
\begin_inset Formula $\underset{n\rightarrow\infty}{\lim}\frac{f\left(n\right)}{g\left(n\right)}=L>0$
\end_inset

 אזי 
\begin_inset Formula $f\left(n\right)=\ot{g\left(n\right)}$
\end_inset

.
\end_layout

\begin_layout Proof
שני הגבולות 
\begin_inset Formula $\underset{n\rightarrow\infty}{\lim}\frac{f\left(n\right)}{g\left(n\right)},\underset{n\rightarrow\infty}{\lim}\frac{g\left(n\right)}{f\left(n\right)}$
\end_inset

 קיימים כי 
\begin_inset Formula $L\neq0$
\end_inset

 ולכן 
\begin_inset Formula $f\left(n\right)=\oh\left(g\left(n\right)\right)$
\end_inset

 וגם 
\begin_inset Formula $g\left(n\right)=\oh\left(f\left(n\right)\right)$
\end_inset

 ולכן
\begin_inset Formula 
\[
f\left(n\right)=\oh\left(g\left(n\right)\right),\om{g\left(n\right)}
\]

\end_inset

כלומר 
\begin_inset Formula $f\left(n\right)=\ot{g\left(n\right)}$
\end_inset

 )השתמשנו בתכונות מ
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{link2}{כאן}
\end_layout

\end_inset

(.
\end_layout

\begin_layout Description
טענה אם 
\begin_inset Formula $\underset{n\rightarrow\infty}{\lim}\frac{f\left(n\right)}{g\left(n\right)}=\infty$
\end_inset

 אזי 
\begin_inset Formula $f\left(n\right)=\om{g\left(n\right)}$
\end_inset

.
\end_layout

\begin_layout Description
הערה נשים לב כי 
\begin_inset Formula $\oh,\Omega,\Theta$
\end_inset

 הם קבוצות, ולכן אם נהיה פדנטים נצטרך לכתוב 
\begin_inset Formula $f\left(n\right)\in\oh\left(g\left(n\right)\right)$
\end_inset

 אבל הסימון המקובל הוא עדיין
\begin_inset Newline linebreak
\end_inset


\begin_inset Formula $f\left(n\right)=\oo{g\left(n\right)}$
\end_inset

.
\end_layout

\begin_layout Description
טענה 
\begin_inset Formula $n=\oo{2^{n}}$
\end_inset

.
\end_layout

\begin_layout Proof
באינדוקציה.
\end_layout

\begin_layout Proof
בסיס )
\begin_inset Formula $n=1$
\end_inset

(: 
\begin_inset Formula $n=1<2=2^{1}=2^{n}$
\end_inset

.
\end_layout

\begin_layout Proof
צעד )
\begin_inset Formula $n\rightarrow n+1$
\end_inset

(: 
\begin_inset Formula $n+1\overset{\text{ה"א}}{<}2^{n}+1<2^{n}+2^{n}=2^{n+1}$
\end_inset

.
\end_layout

\begin_layout Description
טענה יהי 
\begin_inset Formula $p\left(n\right)$
\end_inset

 פולינום מדרגה 
\begin_inset Formula $d$
\end_inset

 ויהי 
\begin_inset Formula $q\left(n\right)$
\end_inset

 פולינום מדרגה 
\begin_inset Formula $k$
\end_inset

.
 אם 
\begin_inset Formula $d\leq k$
\end_inset

 אזי 
\begin_inset Formula $p\left(n\right)=\oo{q\left(n\right)}$
\end_inset

.
\end_layout

\begin_layout Proof
נסמן 
\begin_inset Formula $p\left(n\right)=a_{0}+\dots+a_{d}n^{d}$
\end_inset

, 
\begin_inset Formula $q\left(n\right)=b_{0}+\dots+b_{d}n^{d}+\dots+b_{k}n^{k}$
\end_inset

.
 מספיק שנוכיח כי 
\begin_inset Formula $\underset{n\rightarrow\infty}{\lim}\frac{p\left(n\right)}{q\left(n\right)}<\infty$
\end_inset

.
\begin_inset Newline linebreak
\end_inset


\begin_inset Formula $\frac{p\left(n\right)}{q\left(n\right)}=\frac{n^{k}\left(a_{0}n^{-k}+\dots a_{d}n^{d-k}\right)}{n^{k}\left(b_{0}n^{-k}+\dots+b_{d}n^{d-k}+\dots+b_{k}\right)}$
\end_inset

.
 אם 
\begin_inset Formula $d=k$
\end_inset

 אזי 
\begin_inset Formula $\underset{n\rightarrow\infty}{\lim}\frac{p\left(n\right)}{q\left(n\right)}=\frac{a_{k}}{b_{k}}<\infty$
\end_inset

.
 אחרת, 
\begin_inset Formula $d<k$
\end_inset

 ולכן 
\begin_inset Formula $\underset{n\rightarrow\infty}{\lim}\frac{p\left(n\right)}{q\left(n\right)}=0<\infty$
\end_inset

 )כי כל הגורמים הם בחזקה שלילית ולכן מתאפסים באינסוף(.
\end_layout

\begin_layout Description
טענה נגדיר 
\begin_inset Formula $f\left(n\right)$
\end_inset

 ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $f\left(1\right)=1$
\end_inset

 ו-
\begin_inset Formula $\forall n>1$
\end_inset

, 
\begin_inset Formula $f\left(n\right)=2f\left(\lfloor\frac{n}{2}\rfloor\right)+1$
\end_inset

 אזי 
\begin_inset Formula $f\left(n\right)=\oo n$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
f\left(n\right) & =2f\left(\lfloor\frac{n}{2}\rfloor\right)+1=2\left(2f\left(\lfloor\frac{n}{4}\rfloor\right)+1\right)+1=4f\left(\lfloor\frac{n}{4}\rfloor\right)+3\\
 & =4\left(f\left(\lfloor\frac{n}{8}\rfloor\right)+1\right)+3\\
 & =\dots\text{פעמים }\;n\;\text{ נמשיך}=\\
 & =2^{\log_{2}n}f\left(\frac{n}{2^{\log_{2}n}}\right)+2^{\log_{2}n}-1\\
 & =nf\left(1\right)+\left(n-1\right)=n+n-1=2n-1=\oo n
\end{align*}

\end_inset


\end_layout

\begin_layout Subsection*
חוקי לוגריתמים
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\log_{a}x\cdot y=\log_{a}x+\log_{a}y$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\log_{a}\frac{x}{y}=\log_{a}x-\log_{a}y$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\log_{a}x^{m}=m\log_{a}x$
\end_inset

.
\end_layout

\begin_layout Enumerate
)נוסחת שינוי הבסיס( 
\begin_inset Formula $\frac{\log_{a}x}{\log_{a}y}=\log_{y}x$
\end_inset

.
\end_layout

\begin_layout Proof
)של נוסחת שינוי הבסיס( נסמן 
\begin_inset Formula $\log_{y}x=c$
\end_inset

 לכן 
\begin_inset Formula $y^{c}=x$
\end_inset

.
 
\begin_inset Formula $c\log_{a}y\overset{3\;\text{חוק}}{=}\log_{a}y^{c}=\log_{a}x$
\end_inset

 ולכן 
\begin_inset Formula $c=\frac{\log_{a}x}{\log_{a}y}$
\end_inset

.
\end_layout

\begin_layout Part
שבוע 
\begin_inset Formula $\mathbb{I}$
\end_inset

 |
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Asymptotic Symbols & The Sorting Problem
\end_layout

\begin_layout Section
הרצאה
\end_layout

\begin_layout Standard
אלגוריתם )בהקשר של מדמ
\begin_inset Quotes erd
\end_inset

ח( הוא מתכון כדי להגיע ממצב התחלתי )קלט( למצב סופי כלשהו )פלט(.
 אלגוריתם, הוא תיאור אבסטרקטי של האירועים, בניגוד לתכנית מחשב שהיא הרבה
 יותר מדויקת ולא עוסקת ברעיון של הפעולות - הדבר שאותנו מעניין בקורס הזה.
 לכן אנחנו נעסוק באלגוריתמים.
\end_layout

\begin_layout Standard
טיפוסיי נתונים מפושטים )
\lang english
ADT
\lang hebrew
( הם תיאורים פורמליים )רשמיים, מפושטים( של מאפיינים של מבני נתונים.
 כאשר מבנה נתונים קונקרטי הוא בעצם מימוש של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ADT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כלשהו.
\end_layout

\begin_layout Standard
בהינתן בעיה כלשהי, נרצה לדעת האם קיים פתרון לבעיה )לא תמיד, ע
\begin_inset Quotes erd
\end_inset

ע בעיית העצירה(.
 אם כן, האם קיים אלגוריתם שפותר את הבעיה באופן יעיל )לא תמיד, ע
\begin_inset Quotes erd
\end_inset

ע בעיית האריזה(.
 אם כן, האם האלגוריתם הספציפי שלנו הוא הכי יעיל )לא תמיד, ע
\begin_inset Quotes erd
\end_inset

ע מיון בועות(.
 מהו האלגוריתם הכי יעיל לפתרון הבעיה?
\end_layout

\begin_layout Description
הערה יעילות, במסגרת הקורס הזה, תתבטא בכמה זמן לוקח לאלגוריתם לרוץ )סיבוכיות
 זמן( ובכמה זיכרון הוא צורך לאורכו )סיבוכיות מקום/זיכרון(.
\end_layout

\begin_layout Description
בעיה נתונה מפת מטרו ושתי תחנות, מהי הדרך הכי קצרה לעבור בין התחנות?
\end_layout

\begin_layout Description
פתרון נוכל לייצג את המפה בתור גרף ואז למצוא את הדרך הכי קצרה בין הקודקודים,
 ונמצא בהמשך דרך לפתור זאת ב- 
\begin_inset Formula $\oh\left(n\right)$
\end_inset

 )וגם נבין מה זה הסימון הזה(.
\end_layout

\begin_layout Description
בעיה בהינתן לוח וקבוצת צורות, מלאו את הלוח בצורות )כך שלא יחפפו( כך שיתפסו
 שטח מינימלי.
\end_layout

\begin_layout Description
\noindent
\align block
פתרון נייצר את כל האפשרויות, נחשב את השטח שכל אפשרות תופסת ונשמור את המקרה
 הטוב ביותר עד כה.
 בהינתן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
n
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
צורות, האלגוריתם המפורט בהמשך ירוץ על 
\begin_inset Formula $4^{n}$
\end_inset

 אפשרויות )כל צורה אפשר לסובב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ב-
\numeric on
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
דרכים(.
 נוכיח בהמשך שאין אלגוריתם יעיל יותר במקרה הגרוע ביותר.
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align right
\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
\noindent
\align right
נייצר את כל האפשרויות
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
\noindent
\align right
נחשב את תפוסת המקום של כל אפשרות
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
\noindent
\align right
נשמור את התוצאה הכי טובה
\end_layout

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
פסוידו קוד לפתרון בעיית האריזה
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
בהינתן בעיה, נבדוק מה נוכל להניח על הקלט ונחלק אותו לשני מקרים: המקרה הטוב
 ביותר והמקרה הגרוע ביותר.
 המקרה הטוב ביותר לא מאוד רלוונטי כי המקרה הכללי לרוב לא יהיה 
\begin_inset Quotes eld
\end_inset

נחמד
\begin_inset Quotes erd
\end_inset

 אלינו, יותר מעניין אותנו המקרה הגרוע, שבהינתן אויב מרושע שנותן לנו קלטים
 מרושעים, נוכל לנצח אותו בסיבוכיות הזמן והמקום!
\end_layout

\begin_layout Description
בעיה בהינתן מערך של מספרים בגודל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
n
\lang hebrew
, נרצה למיין את המערך בסדר עולה.
\end_layout

\begin_layout Subsection*
אלגוריתמים למיון מערכים
\end_layout

\begin_layout Enumerate

\series bold
מיון בועות
\series default
.
 נעבור על כל זוג מספרים צמודים, ואם הם מסודרים לא כרצוי )כלומר 
\begin_inset Formula $A\left[i\right]>A\left[i+1\right]$
\end_inset

( נחליף את סדרם.
 נעבור על המערך באופן הזה כמה פעמים שצריך עד שיהיה ממוין )כלומר שלאורך מעבר
 אחד לא נחליף אף זוג איברים(.
\begin_inset Newline newline
\end_inset

ננתח את האלגוריתם הנ
\begin_inset Quotes erd
\end_inset

ל.
 בכל ריצה, נעבור על מערך סה
\begin_inset Quotes erd
\end_inset

כ 
\begin_inset Formula $n$
\end_inset

 פעמים, ובכל מעבר במקרה הגרוע ביותר נבצע 
\begin_inset Formula $n$
\end_inset

 פעולות )קצת פחות כי בהכרח שאחרי המעבר הראשון שני האיברים הראשונים יהיו
 מסודרים(, כלומר קיבלנו שהאלגוריתם עושה 
\begin_inset Formula $n^{2}$
\end_inset

 פעולות.
\end_layout

\begin_layout Enumerate

\series bold
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{link3}{מיון}
\end_layout

\end_inset

 מיזוג
\series default
.
 נפצל את המערך לשני תתי מערכים, ונעשה זאת שוב ושוב עד שנקבל מערכים באורך
 אחד, ואז נמזג כל שני מערכים כך שאיבריהם הממוזגים יהיו ממוינים )ראו 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{link4}{איור}
\end_layout

\end_inset

(.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/merge-sort-merge-phase.png
	lyxscale 20
	scale 50

\end_inset


\begin_inset Graphics
	filename img/merge-sort-split-phase.png
	lyxscale 20
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
שלב הפיצול )משמאל( והמיזוג )מימין( של מיון המיזוג
\end_layout

\end_inset


\end_layout

\end_inset

 ננתח את מיון המיזוג.
 מספר הרמות ב
\begin_inset Quotes erd
\end_inset

עץ
\begin_inset Quotes erd
\end_inset

 שדרכו נרד למיון הוא 
\begin_inset Formula $\log_{2}n$
\end_inset

, ושלב המיזוג )שמתקיים בכל רמה( לוקח
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
n
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
פעולות ולכן סה
\begin_inset Quotes erd
\end_inset

כ נקבל שנבצע 
\begin_inset Formula $n\log n$
\end_inset

 פעולות.
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="5">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
זמן )ממוצע(
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
זמן )הכי גרוע(
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
זמן )הכי טוב(
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
זיכרון
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אלגוריתם
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\frac{n^{2}}{2}$
\end_inset

 )
\begin_inset Formula $\unitfrac{n}{2}$
\end_inset

 מעברים(
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $n^{2}$
\end_inset

 )
\begin_inset Formula $n$
\end_inset

 מעברים(
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $n$
\end_inset

 )מעבר אחד(
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
n
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
מיון בועות
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
\begin_inset Formula $n\log n$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $n\log n$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $n\log n$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $n\log n$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
מיון מיזוג
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ניתוח סיבוכיות של מיון בועות ומיזוג
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
\noindent

\series bold
מיון הכנסה
\series default
.
 נרוץ על כל הרישאות של המערך ע
\begin_inset Quotes erd
\end_inset

י הזזת האיבר האחרון ברישא למקום שבו הוא אמור להיות ברישא )בהנחה שכל האיברים
 ברישא מלבד האחרון כבר מוינו במעבר הקודם(.
\lang english

\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
for j
\begin_inset Formula $\leftarrow$
\end_inset

2 to A.length-1 do
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

key
\begin_inset Formula $\leftarrow$
\end_inset

A
\begin_inset Formula $\left[j\right]$
\end_inset


\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

i
\begin_inset Formula $\leftarrow$
\end_inset

j-1
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

while i>0 and A
\begin_inset Formula $\left[i\right]$
\end_inset

>key do
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

A
\begin_inset Formula $\left[i+1\right]$
\end_inset


\begin_inset Formula $\leftarrow$
\end_inset

A
\begin_inset Formula $\left[i\right]$
\end_inset


\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

i
\begin_inset Formula $\leftarrow$
\end_inset

i-1
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

A
\begin_inset Formula $\left[i+1\right]$
\end_inset


\begin_inset Formula $\leftarrow$
\end_inset

key
\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
מיון הכנסה
\end_layout

\end_inset


\end_layout

\end_inset


\lang hebrew

\begin_inset Float table
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="8">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
שורה )
\begin_inset Formula $i$
\end_inset

(
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
6
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
7
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
מספר הפעמים שהפעולה מתבצעת )
\begin_inset Formula $T_{i}$
\end_inset

(
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $n$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $n-1$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $n-1$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\sum\limits _{j=2}^{n}t_{j}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\sum\limits _{j=2}^{n}\left(t_{j}-1\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\sum\limits _{j=2}^{n}\left(t_{j}-1\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $n-1$
\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
מספר החזרות על כל שורה במיון הכנסה
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset

כאשר 
\begin_inset Formula $t_{j}$
\end_inset

 הוא מספר ההזזות שנצטרך לעשות כדי לשים את האיבר ה-
\begin_inset Formula $j$
\end_inset

 במקום הנכון ברישא שלפניו.
\begin_inset Newline newline
\end_inset

לכן סה
\begin_inset Quotes erd
\end_inset

כ זמן הריצה הוא 
\begin_inset Formula $T\left(n\right)=\sum\limits _{i=1}^{7}T_{i}c_{i}$
\end_inset

 כאשר 
\begin_inset Formula $c_{i},T_{i}$
\end_inset

 הם העלות ומספר הפעמים שמתבצעת השורה ה-
\begin_inset Formula $i$
\end_inset

 בקוד בהתאמה.
 לכן סיבוכיות הזמן היא
\begin_inset Formula 
\[
T\left(n\right)=c_{1}n+c_{2}\left(n-1\right)+c_{3}\left(n-1\right)+c_{4}\sum\limits _{j=2}^{n}t_{j}+c_{5}\sum\limits _{j=2}^{n}\left(t_{j}-1\right)+c_{6}\sum\limits _{j=2}^{n}\left(t_{j}-1\right)+c_{7}\left(n-1\right)
\]

\end_inset

במקרה ה
\bar under
טוב ביותר
\bar default
, 
\begin_inset Formula $t_{j}=1$
\end_inset

 תמיד ולכן 
\begin_inset Formula $\sum\limits _{j=2}^{n}t_{j}=n$
\end_inset

 כלומר
\begin_inset Formula 
\[
T_{1}\left(n\right)=\left(c_{1}+c_{2}+c_{3}+c_{4}+c_{7}\right)n-\left(c_{2}+c_{3}+c_{4}+c_{7}\right)
\]

\end_inset

זו פ' לינארית!
\begin_inset Newline newline
\end_inset

במקרה ה
\bar under
גרוע ביותר
\bar default
, 
\begin_inset Formula $t_{j}=j$
\end_inset

 ולכן 
\begin_inset Formula $\sum\limits _{j=2}^{n}t_{j}=\frac{n\left(n+1\right)}{2}-1$
\end_inset

, 
\begin_inset Formula $\sum\limits _{j=2}^{n}\left(t_{j}-1\right)=\frac{n\left(n+1\right)}{2}$
\end_inset

 ולכן
\begin_inset Formula 
\[
T_{2}\left(n\right)=\frac{\left(c_{4}+c_{5}+c_{6}\right)}{2}n^{2}+\left(c_{1}+c_{2}+c_{3}+c_{7}+\frac{c_{4}-c_{5}-c_{6}}{2}\right)n-\left(c_{2}+c_{3}+c_{4}+c_{7}\right)
\]

\end_inset

זו פ' פולינומיאלית ממעלה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
!
\begin_inset Newline newline
\end_inset

נשים לב כי לא משנה מה הקבועים, אם 
\begin_inset Formula $n$
\end_inset

 מספיק גדול אז 
\begin_inset Formula $T_{1}\left(n\right)<T_{2}\left(n\right)$
\end_inset

.
\end_layout

\begin_layout Standard
\noindent
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/bubble-sort-complexity.png
	lyxscale 20
	scale 20

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
סיבוכיות הזמן במקרה הטוב ביותר והגרוע ביותר
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Description
הערה בעיקר אכפת לנו מניתוח אסימפטוטי של הסביכויות )כלומר 
\begin_inset Formula $n$
\end_inset

 
\begin_inset Quotes eld
\end_inset

מאוד גדול
\begin_inset Quotes erd
\end_inset

( בהינתן קלט כלשהו )אורך המערך 
\begin_inset Formula $n$
\end_inset

 במקרה הנ
\begin_inset Quotes erd
\end_inset

ל(.
\end_layout

\begin_layout Description
הערה כשנרצה לנתח את סיבוכיות האלגוריתם, לעשות ניסוי לא יעזור לנו למצוא את
 הסיבוכיות שכן מאפיין זה הוא תלוי מערכת, כלומר הוא מקומי ולא מאפשר השוואה
 בין אלגוריתמים שונים כמו שצריך.
 במקום זאת, נבצע את ניתוח מפושט )תיאורטי( על פי גודל הקלט בעזרת יחידות קבועות
 עבור זמן ומקום.
 זה יאפשר לנו לנתח באופן מעמיק ובלתי תלוי את האלגוריתמים השונים.
\end_layout

\begin_layout Description
הערה נסמן 
\begin_inset Formula $T\left(n\right)$
\end_inset

 את סיבוכיות הזמן ו-
\begin_inset Formula $S\left(n\right)$
\end_inset

 את סיבוכיות הזכרון.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename C:/uni/Data Structures/img/general-complexity.png
	lyxscale 20
	scale 20

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
כמה פ' סיבוכיות שימושיות
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection*
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{link1}{סימונים}
\end_layout

\end_inset

 אסימפטוטיים
\end_layout

\begin_layout Standard
יהיו 
\begin_inset Formula $f,g:\mathbb{N}\rightarrow\mathbb{R}^{+}$
\end_inset

.
\end_layout

\begin_layout Itemize
חסם 
\series bold
עליון
\series default
 
\begin_inset Formula $\oh\left(g\left(n\right)\right)$
\end_inset

 - לכל היותר 
\begin_inset Formula $g\left(n\right)$
\end_inset

 פעולות אסימפטוטית.
 כלומר,
\begin_inset Formula 
\[
\oh\left(g\left(n\right)\right)=\left\{ f\left(n\right):\exists c>0,n_{0}\geq1:\forall n\geq n_{0},f\left(n\right)\leq c\cdot g\left(n\right)\right\} 
\]

\end_inset


\end_layout

\begin_layout Itemize
חסם 
\series bold
תחתון
\series default
 
\begin_inset Formula $\Omega\left(g\left(n\right)\right)$
\end_inset

 - לכל הפחות 
\begin_inset Formula $g\left(n\right)$
\end_inset

 פעולות אסימפטוטית.
 כלומר,
\begin_inset Formula 
\[
\Omega\left(g\left(n\right)\right)=\left\{ f\left(n\right):\exists c>0,n_{0}\geq1:\forall n\geq n_{0},f\left(n\right)\geq c\cdot g\left(n\right)\right\} 
\]

\end_inset


\end_layout

\begin_layout Itemize
חסם 
\series bold
הדוק
\series default
 
\begin_inset Formula $\Theta\left(g\left(n\right)\right)$
\end_inset

 - בדיוק 
\begin_inset Formula $g\left(n\right)$
\end_inset

 פעולות אסימפטוטית.
 כלומר,
\begin_inset Formula 
\[
\Omega\left(g\left(n\right)\right)=\left\{ f\left(n\right):\exists c_{1},c_{2}>0,n_{0}\geq1:\forall n\geq n_{0},c_{1}\cdot g\left(n\right)\leq f\left(n\right)\leq c_{2}\cdot g\left(n\right)\right\} 
\]

\end_inset


\end_layout

\begin_layout Subsection*
תכונות 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{link2}{של}
\end_layout

\end_inset

 חסמים אסימפטוטים
\end_layout

\begin_layout Enumerate
\begin_inset Formula $f\left(n\right)=\oh\left(g\left(n\right)\right)$
\end_inset

 וגם 
\begin_inset Formula $f\left(n\right)=\Omega\left(g\left(n\right)\right)$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $f\left(n\right)=\Theta\left(g\left(n\right)\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
)רפלקסיביות( 
\begin_inset Formula $f\left(n\right)=\oh\left(f\left(n\right)\right)$
\end_inset

 וכך גם עבור 
\begin_inset Formula $\Omega,\Theta$
\end_inset

.
\end_layout

\begin_layout Enumerate
)סימטריה( 
\begin_inset Formula $f\left(n\right)=\Theta\left(g\left(n\right)\right)$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $g\left(n\right)=\Theta\left(f\left(n\right)\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
)טרנזיטיביות( אם 
\begin_inset Formula $f\left(n\right)=\oh\left(g\left(n\right)\right)$
\end_inset

 וגם 
\begin_inset Formula $g\left(n\right)=\oh\left(h\left(n\right)\right)$
\end_inset

 אזי 
\begin_inset Formula $f\left(n\right)=\oh\left(h\left(n\right)\right)$
\end_inset

 ואופן דומה עבור 
\begin_inset Formula $\Omega,\Theta$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\oh\left(\oh\left(f\left(n\right)\right)\right)=\oh\left(f\left(n\right)\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
)אדיטיביות( 
\begin_inset Formula $\oh\left(f\left(n\right)+g\left(n\right)\right)=\oh\left(f\left(n\right)\right)+\oh\left(g\left(n\right)\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\oh\left(f\left(n\right)\cdot g\left(n\right)\right)=\oh\left(f\left(n\right)\right)\cdot\oh\left(g\left(n\right)\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\oh\left(\log_{a}n\right)=\oh\left(\log_{2}n\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\oo{\sum\limits _{i=0}^{k}a_{i}n^{i}}=\oo{n^{k}}$
\end_inset

.
\end_layout

\begin_layout Section
תרגול
\end_layout

\begin_layout Subsection*
הוכחת תכונות של סימונים אסימפטוטיים
\end_layout

\begin_layout Itemize
\begin_inset Formula $f\left(n\right)=\oo n$
\end_inset

.
 
\begin_inset Formula $f\left(n\right)\leq1\cdot f\left(n\right)$
\end_inset

, 
\begin_inset Formula $\forall n\geq n_{0}=1$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $f\left(n\right)=\oo{g\left(n\right)}\iff g\left(n\right)=\om{f\left(n\right)}$
\end_inset

.
 
\begin_inset Formula 
\begin{align*}
\exists c>0,n_{0}\in\mathbb{N}:\left(\forall n\in\mathbb{N}:n\geq n_{0}\Rightarrow f\left(n\right)\leq c\cdot g\left(n\right)\right)\\
\exists c>0,n_{0}\in\mathbb{N}:\left(\forall n\in\mathbb{N}:n\geq n_{0}\Rightarrow\frac{1}{c}f\left(n\right)\leq g\left(n\right)\right) & \iff\\
g\left(n\right)=\om{f\left(n\right)} & \iff
\end{align*}

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $f\left(n\right)=\ot{g\left(n\right)}\iff g\left(n\right)=\ot{f\left(n\right)}$
\end_inset

.
\begin_inset Formula 
\begin{align*}
f\left(n\right)=\ot{g\left(n\right)}\\
f\left(n\right)=\oo{g\left(n\right)}\wedge f\left(n\right)=\om{g\left(n\right)} & \iff\\
g\left(n\right)=\om{f\left(n\right)}\wedge g\left(n\right)=\oo{f\left(n\right)} & \iff\\
g\left(n\right)=\ot{f\left(n\right)} & \iff
\end{align*}

\end_inset


\end_layout

\begin_layout Subsection*
הוכיחי/הפריכי
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\lim\limits _{n\to\infty}\frac{f\left(n\right)}{g\left(n\right)}=0\Rightarrow g\left(n\right)=\om{f\left(n\right)}$
\end_inset

.
 
\color green
נכון
\color inherit
! נבחר 
\begin_inset Formula $\epsilon=1$
\end_inset

 ולכן 
\begin_inset Formula $\exists n_{0}\in\mathbb{N}$
\end_inset

 כך ש- 
\begin_inset Formula $\forall n\geq n_{0}$
\end_inset

, 
\begin_inset Formula $\frac{f\left(n\right)}{g\left(n\right)}=\left|\frac{f\left(n\right)}{g\left(n\right)}\right|<1$
\end_inset

 כלומר 
\begin_inset Formula $f\left(n\right)<g\left(n\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $f\left(n\right)=\ot{f\left(\frac{n}{2}\right)}$
\end_inset

.
 
\color red
לא נכון
\color inherit
! 
\begin_inset Formula $f\left(n\right)=2^{n}$
\end_inset

, 
\begin_inset Formula $f\left(\frac{n}{2}\right)=2^{\frac{n}{2}}$
\end_inset

.
 
\begin_inset Formula $\oo{2^{\frac{n}{2}}}\neq2^{n}=\om{2^{\frac{n}{2}}}$
\end_inset

.
 יהי 
\begin_inset Formula $c>0$
\end_inset

, 
\begin_inset Formula $N\in\mathbb{N}$
\end_inset

.
 נרצה כי 
\begin_inset Formula $2^{n}<c2^{\frac{n}{2}}$
\end_inset

 ולכן 
\begin_inset Formula $2^{\frac{n}{2}}>c$
\end_inset

, כלומר 
\begin_inset Formula $\frac{n}{2}>\log c$
\end_inset

 לכן נבחר 
\begin_inset Formula $n>\max\left\{ 2\log c,N\right\} $
\end_inset

 ונקבל את הרצוי.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $f\left(n\right)=\oo{g\left(n\right)}\Rightarrow f^{2}\left(n\right)=\oo{g^{2}\left(n\right)}$
\end_inset

.
 
\color green
נכון
\color inherit
! מטענה שראינו בתרגיל אם 
\begin_inset Formula $f\left(n\right)=\oo{g\left(n\right)},f'=\oo{g\left(n\right)}$
\end_inset

 אז 
\begin_inset Formula $\left(f\cdot f'\right)n=\oo{\left(g\cdot g'\right)\left(n\right)}$
\end_inset

.
 אם נבחר 
\begin_inset Formula $f=f',g=g'$
\end_inset

 נקבל את הרצוי.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $f\left(n\right)=\ot{g\left(n\right)}\Rightarrow2^{f\left(n\right)}=\ot{2^{g\left(n\right)}}$
\end_inset

.
 
\color red
לא נכון
\color inherit
! 
\begin_inset Formula $n=\ot{\frac{n}{2}}$
\end_inset

 אבל 
\begin_inset Formula $2^{n}\neq\ot{2^{\frac{n}{2}}}$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $n!=\oo{n^{n}}$
\end_inset

.
 
\begin_inset Formula $n!=\prod\limits _{i=1}^{n}i\leq\prod\limits _{i=1}^{n}n=n^{n}$
\end_inset

.
 נרצה להתאמן על יכולות האינדוקציה שלנו ולכן נוכיח זאת שוב פעם.
\begin_inset Newline newline
\end_inset

בסיס )
\begin_inset Formula $n=1$
\end_inset

(: 
\begin_inset Formula $1!\leq1^{1}$
\end_inset

.
\begin_inset Newline newline
\end_inset

צעד )
\begin_inset Formula $n\rightarrow n+1$
\end_inset

(: 
\begin_inset Formula $\left(n+1\right)!\leq n^{n}\left(n+1\right)\leq\left(n+1\right)^{n}\left(n+1\right)=\left(n+1\right)^{n+1}$
\end_inset

.
\end_layout

\begin_layout Description
הערה נראה בתרגיל כי אם 
\begin_inset Formula $f\left(n\right)=\oo{g\left(n\right)}$
\end_inset

 וגם 
\begin_inset Formula $f\left(n\right)\underset{n\to\infty}{\longrightarrow}\infty$
\end_inset

 אז 
\begin_inset Formula $\log f\left(n\right)=\oo{\log g\left(n\right)}$
\end_inset

 ולכן אם נבחר
\begin_inset Newline newline
\end_inset


\begin_inset Formula $f\left(n\right)=n!,g\left(n\right)=n^{n}$
\end_inset

 אז נקבל 
\begin_inset Formula $\log n!=\oo{\log n^{n}}=\oo{n\log n}$
\end_inset

 וניתן להסיק מכך גם כי 
\begin_inset Formula $\log n!=\ot{n\log n}$
\end_inset

 )שזו תוצאה חשובה כי נשתמש בה כדי להוכיח סיבוכיות של אלגוריתמים שונים(.
\end_layout

\begin_layout Standard
\noindent

\lang english
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
for i
\begin_inset Formula $\leftarrow$
\end_inset

0 to A.length-2 do
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

for j
\begin_inset Formula $\leftarrow$
\end_inset

0 to n-2-i do
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

if A
\begin_inset Formula $\left[j\right]$
\end_inset

>A
\begin_inset Formula $\left[j+1\right]$
\end_inset

 do
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

swap
\begin_inset Formula $\left(A\left[j\right],\;A\left[j+1\right]\right)$
\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
מיון בועות
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
אחרי כל לולאה פנימית האיבר המקסימלי ברישא 
\begin_inset Quotes eld
\end_inset

מבועבע
\begin_inset Quotes erd
\end_inset

 לסוף המערך )קדימה(.
 בסוף כל ריצה חיצונית נקבל מערך ממוין בגודל 
\begin_inset Formula $i+1$
\end_inset

 )ראו הדגמה(.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
מיון בועות בפעולה
\end_layout

\end_inset


\begin_inset Graphics
	filename img/bubble-sort-example.jpeg
	lyxscale 40
	scale 50

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection*
תכונות של המערך אחרי האיטרציה ה-
\lang english
j
\lang hebrew
-ית של הלולאה הפנימית
\end_layout

\begin_layout Enumerate
\begin_inset Formula $A\left[t\right]\leq A\left[j+1\right]$
\end_inset

, 
\begin_inset Formula $\forall t\leq j+1$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $A\left[j+2,\dots,n-1\right]$
\end_inset

 לא השתנה.
\end_layout

\begin_layout Enumerate
קבוצת האיברים בכל 
\begin_inset Formula $A$
\end_inset

 לא השתנתה.
\end_layout

\begin_layout Proof
באינדוקציה על 
\begin_inset Formula $0\leq j\leq n-2-i$
\end_inset

.
\end_layout

\begin_layout Proof
בסיס )
\begin_inset Formula $j=0$
\end_inset

(: אחרי ההחלפה 
\begin_inset Formula $A\left[0\right]\leq A\left[1\right]$
\end_inset

 ולכן 
\begin_inset Formula $A\left[t\right]\leq A\left[1\right]$
\end_inset

, 
\begin_inset Formula $\forall t\leq1$
\end_inset

 ולכן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתקיימת.
 לא נגענו ב-
\begin_inset Formula $A\left[2,\dots,n-1\right]$
\end_inset

.
 ולכן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתקיימת.
 לא שינינו איברים, רק החלפנו את מיקומם ולכן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתקיימת.
\end_layout

\begin_layout Proof
צעד )
\begin_inset Formula $j\rightarrow j+1$
\end_inset

(: נסמן 
\begin_inset Formula $\alpha=A\left[j+1\right]$
\end_inset

.
 נחליף בין 
\begin_inset Formula $A\left[j+1\right]$
\end_inset

 ל- 
\begin_inset Formula $A\left[j+2\right]$
\end_inset

 אבל בכל מקרה 
\begin_inset Formula $A\left[j+2\right]\geq A\left[j+1\right]$
\end_inset

 אחרי ההחלפה ו-
\begin_inset Formula $A\left[j+2\right]\geq\alpha$
\end_inset

 ולכן 
\begin_inset Formula $A\left[t\right]\leq\alpha\leq A\left[j+2\right]$
\end_inset

, 
\begin_inset Formula $\forall t\leq j+2$
\end_inset

 ולכן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תכונה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתקיימת.
 תכונות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\numeric on
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מיידיות )אותה הוכחה כמו הבסיס(.
\end_layout

\begin_layout Subsection*
תכונות של המערך אחרי האיטרציה ה-
\lang english
i
\lang hebrew
-ית של הלולאה החיצונית
\end_layout

\begin_layout Enumerate
\begin_inset Formula $A\left[n-i-1,\dots,n-1\right]$
\end_inset

 ממוין.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $A\left[t\right]\leq A\left[n-i-1\right]$
\end_inset

, 
\begin_inset Formula $\forall t\leq n-i-1$
\end_inset

.
\end_layout

\begin_layout Enumerate
קבוצת האיברים ב-
\begin_inset Formula $A$
\end_inset

 לא השתנתה.
\end_layout

\begin_layout Description
הערה נסמן מעתה והלאה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
',
\numeric on
2
\numeric off
',
\numeric on
3
\numeric off
' עבור תכונות של הלולאה החיצונית ו-
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
,
\numeric on
2
\numeric off
,
\numeric on
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עבור תכונות של הלולאה הפנימית.
\end_layout

\begin_layout Proof
באינדוקציה על 
\begin_inset Formula $0\leq i\leq n-2$
\end_inset

.
\end_layout

\begin_layout Proof
בסיס )
\begin_inset Formula $i=0$
\end_inset

(: 
\begin_inset Formula $A\left[n-1\right]$
\end_inset

 באופן ריק.
 
\begin_inset Formula $A\left[t\right]\leq A\left[n-1\right]$
\end_inset

, 
\begin_inset Formula $\forall t\leq n-1$
\end_inset

 )מהצבת 
\begin_inset Formula $j=n-0-2$
\end_inset

 בתכונה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
( ו-
\numeric on
3
\numeric off
' ברור מ-
\numeric on
3
\numeric off
.
\end_layout

\begin_layout Proof
צעד )
\begin_inset Formula $i\rightarrow i+1$
\end_inset

(: מתכונה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
 עבור 
\begin_inset Formula $j=n-\left(i+1\right)-2=n-i-3$
\end_inset

, 
\begin_inset Formula $A\left[t\right]\leq A\left[n-i-2\right]$
\end_inset

, 
\begin_inset Formula $\forall t\leq n-i-2$
\end_inset

 ולכן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתקיימת.
\end_layout

\begin_layout Proof
מתכונה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
' עבור 
\begin_inset Formula $i$
\end_inset

, 
\begin_inset Formula $A\left[n-i-1,\dots,n-1\right]$
\end_inset

 ממוין, וגם 
\begin_inset Formula $A\left[n-i-2\right]\leq A\left[n-i-1\right]$
\end_inset

 מתכונה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
'
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
 עבור 
\begin_inset Formula $i$
\end_inset

.
\begin_inset Newline linebreak
\end_inset

ולכן 
\begin_inset Formula $A\left[n-\left(i+1\right)-1,\dots n-1\right]$
\end_inset

 ממוין כלומר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
' מתקיימת עבור.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
' מתקיימת כי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתקיים.
\end_layout

\begin_layout Description
טענה מיון בועות )כמפורט באלגוריתם הבא( אכן ממיין מערך בסוף הריצה שלו.
\end_layout

\begin_layout Proof
נשים לב שכשמציבים 
\begin_inset Formula $i=n-2$
\end_inset

 )תנאי הסיום של הלולאה( מקבלים כי 
\begin_inset Formula $A\left[1,\dots,n-1\right]$
\end_inset

 ממוין )מתכונה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של הלולאה היצונית( וגם כי 
\begin_inset Formula $A\left[t\right]\leq A\left[1\right]$
\end_inset

, 
\begin_inset Formula $\forall t\leq1$
\end_inset

 )מתכונה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של הולאה החציונית( וה-
\begin_inset Formula $t$
\end_inset

 היחיד שמקיים את זה )שהוא לא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
( הוא 
\begin_inset Formula $t=0$
\end_inset

 ולכן
\begin_inset Formula 
\[
A\left[0\right]\leq A\left[1\right]\leq A\left[2\right]\leq\dots\leq A\left[n-1\right]
\]

\end_inset

כלומר 
\begin_inset Formula $A$
\end_inset

 ממוין.
\end_layout

\begin_layout Part
שבוע 
\begin_inset Formula $\mathbb{II}$
\end_inset

 |
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Master Theorem
\end_layout

\begin_layout Section
הרצאה
\end_layout

\begin_layout Standard
בהינתן 
\begin_inset Formula $T$
\end_inset

, נרצה למצוא 
\begin_inset Formula $f$
\end_inset

 כך ש- 
\begin_inset Formula $T\left(n\right)=\oo{f\left(n\right)}$
\end_inset

.
\end_layout

\begin_layout Standard
באלגוריתמים שנציג את פעולתן באופן איטרטיבי, נקבל לרוב משהו משהו בסגנון 
\begin_inset Formula $\sum c_{i}t_{i}$
\end_inset

.
 באלגוריתמים ריקורסיביים )הפרד ומשול או אלגוריתמים שאנחנו יכולים לייצג כתלויים
 בערכים קודמים( נקבל משהו בסנגון 
\begin_inset Formula $T\left(n\right)=T\left(n-1\right)+c$
\end_inset

.
\end_layout

\begin_layout Standard
לשם ניתוח, נניח כמה הנחות.
\end_layout

\begin_layout Subsection*
הנחות לניתוח אלגוריתמים
\end_layout

\begin_layout Enumerate
\begin_inset Formula $n$
\end_inset

 מאוד גדול )לא אכפת לנו מה קורה בהתחלה(.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $T\left(1\right)=\theta\left(1\right)$
\end_inset

 )קל לפתור מקרים קלים(.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $n$
\end_inset

 הוא יפה )כלומר אם אנחנו מחלקים בנוסחה ב-
\numeric on
2
\numeric off
, אז 
\begin_inset Formula $n$
\end_inset

 יהיה זוגי או חזקה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
, כי זה לא ממש משנה(.
\end_layout

\begin_layout Description
הערה לא תמיד נוכל להתעלם מקבועים! נוכל רק כשאפשר.
 
\begin_inset Formula $T\left(n\right)$
\end_inset

 הוא לא אותו הדבר כמו 
\begin_inset Formula $T\left(\frac{n}{2}\right)$
\end_inset

.
\end_layout

\begin_layout Subsection*
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{link5}{דוגמאות}
\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
חישוב 
\begin_inset Formula $n!$
\end_inset

.
 
\begin_inset Formula $T\left(n\right)=T\left(n-1\right)+\oo 1$
\end_inset

 כי כדי לחשב את 
\begin_inset Formula $n!$
\end_inset

 מספיק לחשב את 
\begin_inset Formula $\left(n-1\right)!$
\end_inset

 )שזה יקח 
\begin_inset Formula $T\left(n-1\right)$
\end_inset

( ואז לכפול ב-
\begin_inset Formula $n$
\end_inset

 )שזה יקח 
\begin_inset Formula $\oo 1$
\end_inset

 כי אנחנו נמצאים תחת ההנחה שפעולות בסיסיות כמו אריתמטיקה נעשות בזמן קבוע(.
 במקרה הזה נקבל 
\begin_inset Formula $T\left(n\right)=\ot n$
\end_inset

 אבל נראה דרך פורמלי לפתור דברים כאלה.
\begin_inset Newline newline
\end_inset

מבחינה ויזואלית, במקרה הזה נקבל עץ ריקורסיה שלא מתרחב לעומקו )ראו איור(.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/factorial-recursive-tree.png
	lyxscale 30
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
עץ הריקורסיה בחישוב עצרת
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
חישוב סדרת פיבונאצ'י.
 נזכור כי 
\begin_inset Formula $\textrm{fib}\left(n\right)=\textrm{fib}\left(n-1\right)+\textrm{fib}\left(n-2\right)$
\end_inset

 וגם 
\begin_inset Formula $\textrm{fib}\left(1\right)=\textrm{fib}\left(2\right)=1$
\end_inset

.
 נוסחת הנסיגה לחישוב הסדרה היא 
\begin_inset Formula $T\left(n\right)=T\left(n-1\right)+T\left(n-2\right)+\oo 1$
\end_inset

 )ניתן להגיע לכך באותה דרך שהגענו לנוסחה הקודמת(.
 הפתרון למשוואה הזו הוא )באופן היוריסטי( 
\begin_inset Formula $\ot{2^{n}}$
\end_inset

.
\begin_inset Newline newline
\end_inset

במקרה הזה עץ הריקורסיה של האלגוריתם כן יתרחב ומספר הפעולות בכל רמה יגדל
 באופן מעריכי )ראו איור(.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/fibonacci-recursive-tree.png
	lyxscale 40
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
עץ הריקורסיה בחישוב סדרת פיבונאצ'י
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
מיון הכנסה.
 נסתכל עליו בתור אלגוריתם ריקורסיבי: כדי למיין מערך באורך 
\begin_inset Formula $n$
\end_inset

, נמיין את הרישא ה-
\begin_inset Formula $n-1$
\end_inset

-ית ואז נשים את האיבר האחרון במקום הנכון, כלומר, 
\begin_inset Formula $T\left(n\right)=T\left(n-1\right)+\oo n$
\end_inset

.
 נשים לב שזו סדרה חשבונית ולכן 
\begin_inset Formula $T\left(n\right)=\frac{1}{2}\left(n^{2}+n\right)=\ot{n^{2}}$
\end_inset

.
 העץ הריקורסיבי במקרה הזה הוא גם שרוך כמו הדוגמה הראשונה, אבל הפעם העלות
 בכל רמה היא לינאירית ולא קבועה )ראו איור(.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/insertion-sort-recursive-tree.png
	lyxscale 40
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
עץ הריקורסיה במיון הכנסה
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
חיפוש בינארי במערך ממיון.
 הרעיון הוא להתסכל על האיבר האמצעי, אם הוא גדול מהאיבר הרצוי להסתכל בחצי
 השמאלי של המערך ואחרת בחצי הימני.
 בתוך התת-מערך לעשות בדיוק את אותו הדבר עד שמגיעים לאיבר הרצוי.
 במקרה הזה, נקבל 
\begin_inset Formula $T\left(n\right)=T\left(\frac{n}{2}\right)+\oo 1$
\end_inset

.
 הפתרון לנוסחה זו הוא 
\begin_inset Formula $\oo{\log n}$
\end_inset

.
 במקרה הזה עץ הריקורסיה שוב יהיה שרוך, עם עלות קבועה אבל מספר הרמות קטן
 באופן לוגריתמי )ראו איור(.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/binary-search-recursive-tree.png
	lyxscale 40
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
עץ הריקורסיה בחיפוש בינארי
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
מיון מיזוג )הוצג 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{link3}{כאן}
\end_layout

\end_inset

(.
 במקרה הזה הנוסחה היא 
\begin_inset Formula $T\left(n\right)=2T\left(\frac{n}{2}\right)+\oo n=\ot{n\log n}$
\end_inset

.
 עץ הריקורסיה הזה הוא גם מתרחב וגם עם עלות לינארית וגם מספר רמות לוגריתמי
 )אל תראו איור כי אין כזה, הכי קרוב שיש זה 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{link4}{כאן}
\end_layout

\end_inset

(.
\end_layout

\begin_layout Subsection*
דרכי פתרון נוסחאות נסיגה
\end_layout

\begin_layout Standard
נעסוק בפתרון בעיות מהסוג שלנו )דברים בסגנון הדוגמאות הנ
\begin_inset Quotes erd
\end_inset

ל(.
\end_layout

\begin_layout Enumerate

\series bold
שיטת ההצבה
\series default
.
 ננחש פתרון )מאינטואיציה או השראה אלוהית( ונוכיח שהוא מקיים את המשוואה.
\end_layout

\begin_layout Enumerate

\series bold
שיטת האיטרציה
\series default
.
 
\begin_inset Quotes eld
\end_inset

נפרום
\begin_inset Quotes erd
\end_inset

 את נוסחת הנסיגה עד שנזהה תבנית ואז נשתמש בשיטת ההצבה להוכחתה.
\end_layout

\begin_layout Enumerate

\series bold
משפט האב
\series default
.
 משפט שפותר נוסחאות נסיגה כמו קסם.
\end_layout

\begin_layout Description
דוגמה נפתור את סיבוכיות הזמן של מיון מיזוג באמצעות שיטת ההצבה.
 
\begin_inset Formula $T\left(n\right)=2T\left(\frac{n}{2}\right)+n$
\end_inset

.
 ננחש 
\begin_inset Formula $T\left(n\right)=\oo{n\log n}$
\end_inset

.
 נוכיח כי 
\begin_inset Formula $T\left(n\right)\leq c\cdot n\log n$
\end_inset

 עבור 
\begin_inset Formula $n\geq2$
\end_inset

 באינדוקציה שלמה.
\begin_inset Newline newline
\end_inset

בסיס )
\begin_inset Formula $n=2$
\end_inset

(: 
\begin_inset Formula $4=2T\left(1\right)+2=T\left(2\right)\leq2\log2=2\cdot c$
\end_inset

.
 לכן נבחר 
\begin_inset Formula $c\geq2$
\end_inset

.
\begin_inset Newline newline
\end_inset

צעד )
\begin_inset Formula $2,\dots,n-1\rightarrow n$
\end_inset

(:
\begin_inset Formula 
\[
T\left(n\right)=2T\left(\frac{n}{2}\right)+n\overset{\text{ה"א}}{\leq}2\left(c\frac{n}{2}\log\frac{n}{2}\right)+n\leq cn\log n-cn\log2+n=cn\log n-cn+n\leq cn\log n
\]

\end_inset


\end_layout

\begin_layout Description
דוגמה נפתור את סיבוכיות הזמן של מיון הכנסה באמצעות שיטת האיטרציה.
 
\begin_inset Formula 
\begin{align*}
T\left(n\right) & =T\left(n-1\right)+n=T\left(n-2\right)+\left(n-1\right)+n\\
 & =T\left(n-3\right)+\left(n-2\right)+\left(n-1\right)+n\\
 & \vdots\\
 & =T\left(n-k\right)+\sum_{i=1}^{k}\left(n-i+1\right)\\
 & =T\left(n-k\right)+nk-\frac{k\left(k-1\right)}{2}\\
 & \overset{k=n-1}{=}T\left(1\right)+n\left(n-1\right)-\frac{\left(n-1\right)\left(n-2\right)}{2}\\
 & =\frac{n^{2}}{2}+\frac{n}{2}=\oo{n^{2}}
\end{align*}

\end_inset

עתה הסטודנטית המשקיעה תוכיח באינדוקציה כי אכן מתקיים 
\begin_inset Formula $T\left(n\right)=\oo{n^{2}}$
\end_inset

.
\end_layout

\begin_layout Description
משפט )משפט האב,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Theorem Master
\lang hebrew
( יהיו 
\begin_inset Formula $a,b\geq1,c\geq0$
\end_inset

 ו- 
\begin_inset Formula $T\left(n\right)=aT\left(\frac{n}{b}\right)+n^{c}$
\end_inset

 כך שמתקיים 
\begin_inset Formula $T\left(1\right)=\theta\left(1\right)$
\end_inset

.
 אזי:
\begin_inset Newline newline
\end_inset


\begin_inset Formula $T\left(n\right)=\ot{n^{c}}$
\end_inset

 אם 
\begin_inset Formula $\log_{b}a<c$
\end_inset

.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $T\left(n\right)=\ot{n^{c}\log_{b}n}$
\end_inset

 אם 
\begin_inset Formula $\log_{b}a=c$
\end_inset

.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $T\left(n\right)=\ot{n^{\log_{b}a}}$
\end_inset

 אם 
\begin_inset Formula $\log_{b}a>c$
\end_inset

.
\end_layout

\begin_layout Description
הערה אנחנו מחלקים ל-
\begin_inset Formula $a$
\end_inset

 חלקים בגודל 
\begin_inset Formula $\frac{n}{b}$
\end_inset

 ומשלמים 
\begin_inset Formula $n^{c}$
\end_inset

 כדי לאחד את המקרים הללו, כלומר:
\begin_inset Newline newline
\end_inset


\begin_inset Formula $a$
\end_inset

 משמעו מספר תתי הבעיות.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $b$
\end_inset

 משמעו גודל כל תת בעיה.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $c$
\end_inset

 משמעו מה העלות בכל חלוקה אחרי שפתרנו את תתי הבעיות.
\end_layout

\begin_layout Description
הערה הביטו חזרה בדוגמאות 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{link5}{הללו}
\end_layout

\end_inset

 וזהו את 
\begin_inset Formula $a,b,c$
\end_inset

 וראו כיצד המשפט תואם לתוצאה שקיבלנו.
\end_layout

\begin_layout Subsection*
דוגמאות
\end_layout

\begin_layout Enumerate
\begin_inset Formula $T\left(n\right)=60T\left(\frac{n}{2}\right)+n^{1}$
\end_inset

 - כאן 
\begin_inset Formula $a$
\end_inset

 הכי דומיננטי )לא נשלם יותר מדי כל רמה, אבל יהיו לנו הרבה מאוד תתי בעיות(.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $T\left(n\right)=2T\left(\frac{n}{16}\right)+n^{4}$
\end_inset

 - כאן 
\begin_inset Formula $b$
\end_inset

 דומיננטי )מהר מאוד נגיע לסוף עץ הריקורסיה(.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $T\left(n\right)=2T\left(\frac{n}{2}\right)+n^{1}$
\end_inset

 )מיון מיזוג( - כאן כל הרכיבים תורמים 
\begin_inset Quotes eld
\end_inset

בערך
\begin_inset Quotes erd
\end_inset

 אותו הדבר - לא יותר מדי לכיוון אחד.
\end_layout

\begin_layout Proof
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{link6}{נבנה}
\end_layout

\end_inset

 את עץ הריקורסיה.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/master-theorem-recursive-tree.png
	lyxscale 50
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
עץ הריקורסיה במשפט האב
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset

נסביר קצת מה קורה באיור.
 ראשית, יש לנו 
\begin_inset Formula $\log_{b}n$
\end_inset

 שלבים כי כל פעם אנחנו מחלקים ב-
\begin_inset Formula $b$
\end_inset

 והתחלנו מ-
\begin_inset Formula $n$
\end_inset

.
 בכל תת בעיה אנחנו משלמים 
\begin_inset Formula $\left(\frac{n}{b^{k}}\right)^{c}$
\end_inset

 כאשר 
\begin_inset Formula $k$
\end_inset

 הוא העומק שלנו בעץ.
 בכל שלב אנחנו מתפצלים 
\begin_inset Formula $a$
\end_inset

 פעמים ולכן סה
\begin_inset Quotes erd
\end_inset

כ בכל רמה נשלם 
\begin_inset Formula $a^{k}\left(\frac{n}{b^{k}}\right)^{c}$
\end_inset

 על מיזוג תתי הבעיות.
 נטען כי ברמה התחתונה ביותר יש 
\begin_inset Formula $\ot{n^{\log_{b}a}}$
\end_inset

 תתי בעיות בעלות 
\begin_inset Formula $\ot 1$
\end_inset

 כל אחת.
 למה? כי מספר תתי הבעיות ברמה ה-
\begin_inset Formula $\log_{b}n$
\end_inset

 הוא 
\begin_inset Formula $a^{\log_{b}n}=n^{\log_{b}a}$
\end_inset

 השוויון הזה נכון כי אם נבצע 
\begin_inset Formula $\log_{b}$
\end_inset

 על שני האגפים ונשתמש בחוקי הלוגריתם נקבל את אותו הדבר ולכן מהיות 
\begin_inset Formula $\log$
\end_inset

 פ' חח
\begin_inset Quotes erd
\end_inset

ע אזי גם הביטויים המקוריים שווים.
 לכן בגלל שהעלות של כל עלה ברמה התחתונה היא 
\begin_inset Formula $\ot 1$
\end_inset

, אז העלות ברמה הזו היא גם 
\begin_inset Formula $\ot{n^{\log_{b}a}}$
\end_inset

.
\end_layout

\begin_layout Proof
סה
\begin_inset Quotes erd
\end_inset

כ העבודה היא 
\begin_inset Formula 
\begin{align*}
T\left(n\right) & \overset{k\;-\text{ה}\text{המרה}}{=}a^{k}T\left(\frac{n}{b^{k}}\right)+n^{c}\sum\limits _{i=0}^{k-1}\left(\frac{a}{b^{c}}\right)^{i}\\
 & \overset{\text{סה"כ}}{=}\ot{n^{\log_{b}a}}+\sum\limits _{i=0}^{\log_{b}n-1}a^{i}\left(\frac{n}{b^{i}}\right)^{c}=\ot{n^{\log_{b}a}}+n^{c}\sum\limits _{i=0}^{\log_{b}n-1}\left(\frac{a}{b^{c}}\right)^{i}
\end{align*}

\end_inset

 )ניתן להגיע לכך באמצעות שיטת האיטרציה והוכחה באינדוקציה(.
 המחובר הראשון הוא העלות של העלים והשני זה העלות של כל השאר.
 נשים לב כי 
\begin_inset Formula $\frac{a}{b^{c}}$
\end_inset

 הוא ביטוי המפתח.
 אם הוא קטן מ-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)כלומר 
\begin_inset Formula $\log_{b}a<c$
\end_inset

(
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אז הביטוי השני )עלות המיזוג( היא הדומיננטית, אם הוא שווה ל-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\begin_inset Formula $\log_{b}a=c$
\end_inset

( אז שני הביטויים מאוזנים ואם הוא גדול מ-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\begin_inset Formula $\log_{b}a>c$
\end_inset

( אז הביטוי הראשון )עלות העלים( הוא הדומיננטי.
\end_layout

\begin_layout Proof
עבור המקרה ה
\series bold
ראשון
\series default
 )
\begin_inset Formula $\frac{a}{b^{c}}<1$
\end_inset

(: נשים לב האיבר השני הוא בעצם טור גאומטרי ולכן
\begin_inset Formula 
\[
\sum\limits _{i=0}^{\log_{b}n-1}\left(\frac{a}{b^{c}}\right)^{i}=\frac{\left(\frac{a}{b^{c}}\right)^{\log_{b}n}-1}{\left(\frac{a}{b^{c}}\right)-1}=\frac{1-\left(\frac{a}{b^{c}}\right)^{\log_{b}n}}{1-\left(\frac{a}{b^{c}}\right)}<\frac{1}{1-\left(\frac{a}{b^{c}}\right)}<\textrm{constant}
\]

\end_inset

כלומר הגודל של הביטוי הזה לא תלוי בגודל הקלט.
 לכן 
\begin_inset Formula $n^{c}\sum\limits _{i=0}^{\log_{b}n-1}\left(\frac{a}{b^{c}}\right)^{i}=\ot{n^{c}}$
\end_inset

 ובגלל ש-
\begin_inset Formula $\log_{b}a<c$
\end_inset

 אזי 
\begin_inset Formula $T\left(n\right)=\ot{n^{c}}$
\end_inset

 )הביטוי הראשון הוא פולינום ממעלה נמוכה יותר מהשני ולכן 
\begin_inset Quotes eld
\end_inset

נבלע
\begin_inset Quotes erd
\end_inset

 בביטוי השני(.
\end_layout

\begin_layout Proof
עבור המקרה ה
\series bold
שני
\series default
 )
\begin_inset Formula $\frac{a}{b^{c}}=1$
\end_inset

(: נקבל 
\begin_inset Formula $\sum\limits _{i=0}^{\log_{b}n-1}1=\log_{b}n$
\end_inset

 ולכן 
\begin_inset Formula $n^{c}\sum\limits _{i=0}^{\log_{b}n-1}\left(\frac{a}{b^{c}}\right)^{i}=\ot{n^{c}\log_{b}n}$
\end_inset

 ולכן 
\begin_inset Formula $T\left(n\right)=\ot{n^{c}\log n}$
\end_inset

 )הביטוי הראשון הוא פולינום ממעלה שווה לשני ולכן 
\begin_inset Quotes eld
\end_inset

נבלע
\begin_inset Quotes erd
\end_inset

(.
\end_layout

\begin_layout Proof
עבור המקרה ה
\series bold
שלישי
\series default
 )
\begin_inset Formula $\frac{a}{b^{c}}>1$
\end_inset

(: 
\begin_inset Formula $\sum\limits _{i=0}^{\log_{b}n-1}\left(\frac{a}{b^{c}}\right)^{i}=\frac{\left(\frac{a}{b^{c}}\right)^{\log_{b}n}-1}{\left(\frac{a}{b^{c}}\right)-1}=\ot{\left(\frac{a}{b^{c}}\right)^{\log_{b}n}}$
\end_inset

 ולכן
\begin_inset Formula 
\[
n^{c}\sum\limits _{i=0}^{\log_{b}n-1}\left(\frac{a}{b^{c}}\right)^{i}=\ot{\frac{n^{c}}{b^{c\log_{b}n}}a^{\log_{b}n}}=\ot{\frac{n^{c}}{n^{c}}n^{\log_{b}a}}=\ot{n^{\log_{b}a}}
\]

\end_inset

ולכן 
\begin_inset Formula $T\left(n\right)=n^{\log_{b}a}$
\end_inset

.
 )הביטוי הראשון הוא פולינום ממעלה שווה לשני ולכן 
\begin_inset Quotes eld
\end_inset

נבלע
\begin_inset Quotes erd
\end_inset

(.
\end_layout

\begin_layout Section
תרגול
\end_layout

\begin_layout Standard
נוסחאות הנסיגה שבהן אנו נעסוק הן מהצורה 
\begin_inset Formula $T\left(n\right)=\left\{ \begin{smallmatrix}\ot 1 &  & n=1\\
aT\left(\frac{n}{b}\right)+f\left(n\right) &  & n>1
\end{smallmatrix}\right.$
\end_inset

.
 בעיות כאלה אפשר לפתור עם משפט האב )אבל לא כל המשוואות עונות על זה, ראו
 דוגמה פיבונאצ'י(.
\end_layout

\begin_layout Standard

\shape italic
חזרה על ההוכחה של משפט 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{link6}{האב}
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
המקרה הראשון במשפט האב הפשוט מסתכל על המצב שבו העבודה שנעשת בעלים גוברת
 על פעולת האיחוי בכל רמה, ולכן היא הדומיננטית ולכן היא תהיה זמן הריצה.
 המקרה השני הוא המקרה שבו העבודה בעלים ובשורש היא אותו הדבר, ולכן גם )לא
 נוכיח( בכל הרמות באמצע זמן הריצה הוא אותו הדבר )אם יש דברים שווים שמאגפים
 משהו מונוטוני, הכל שווה( ולכן זמן הריצה יהיה מספר הרמות כפול העבודה בכל
 רמה.
 המקרה השלישי הוא המקרה שבו עבודת האיחוי בשורש גדולה מהעבודה בעלים ולכן
 היא זו שתשלוט.
\end_layout

\begin_layout Subsection*
דוגמאות
\end_layout

\begin_layout Enumerate
\begin_inset Formula $T\left(n\right)=2T\left(\frac{n}{2}\right)+n$
\end_inset

.
 
\begin_inset Formula $a=b=2,c=1$
\end_inset

, 
\begin_inset Formula $\log_{2}2=1=c$
\end_inset

 לכן נשתמש במקרה השני ונקבל 
\begin_inset Formula $T\left(n\right)=\ot{n^{\log_{2}2}\log n}=\ot{n\log n}$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $T\left(n\right)=20T\left(\frac{n}{3}\right)+n^{2}$
\end_inset

.
 
\begin_inset Formula $\log_{3}20>2=c$
\end_inset

 לכן נשתמש במקרה הראשון ונקבל 
\begin_inset Formula $T\left(n\right)=\ot{n^{\log_{3}20}}\simeq\ot{n^{2.726}}$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $T\left(n\right)=T\left(\frac{n}{2}\right)+n$
\end_inset

.
 
\begin_inset Formula $\log_{2}1=0<1$
\end_inset

 לכן נשתמש במקרה השלישי ונקבל 
\begin_inset Formula $T\left(n\right)=\ot{n^{1}}=\ot n$
\end_inset

.
\end_layout

\begin_layout Description
משפט )משפט האב המורחב( תהי 
\begin_inset Formula $T:N\rightarrow\mathbb{R}^{+}$
\end_inset

 המוגדרת ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $T\left(n\right)=\left\{ \begin{smallmatrix}\ot 1 &  & n=1\\
aT\left(\frac{n}{b}\right)+f\left(n\right) &  & n>1
\end{smallmatrix}\right.$
\end_inset

 כאשר 
\begin_inset Formula $a\geq1,b>1$
\end_inset

 אזי:
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\left(i\right)$
\end_inset

 אם קיים 
\begin_inset Formula $\epsilon>0$
\end_inset

 כך ש- 
\begin_inset Formula $f\left(n\right)=\oo{n^{\log_{b}a-\epsilon}}$
\end_inset

 )כלומר 
\begin_inset Formula $n^{\log_{b}a}$
\end_inset

 הוא ממש גדול מ-
\begin_inset Formula $f\left(n\right)$
\end_inset

( אז 
\begin_inset Formula $T\left(n\right)=\ot{n^{\log_{b}a}}$
\end_inset

.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\left(ii\right)$
\end_inset

 אם 
\begin_inset Formula $f\left(n\right)=\ot{n^{\log_{b}a}}$
\end_inset

 )בדיוק כמו המקרה השני במשפט האב הפשוט( אז 
\begin_inset Formula $T\left(n\right)=\ot{n^{\log_{b}a}\log n}$
\end_inset

.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\left(iii\right)$
\end_inset

 אם קיים 
\begin_inset Formula $\epsilon>0$
\end_inset

 כך ש- 
\begin_inset Formula $f\left(n\right)=\om{n^{\log_{b}a+\epsilon}}$
\end_inset

, וקיימים 
\begin_inset Formula $0<c<1,N\in\mathbb{N}$
\end_inset

 כך ש- 
\begin_inset Formula $\forall n\geq N$
\end_inset

, 
\begin_inset Formula $af\left(\frac{n}{b}\right)\leq cf\left(n\right)$
\end_inset

 )תנאי הרגולריות, יש דעיכה כשמתקרבים לעלים( אז 
\begin_inset Formula $T\left(n\right)=\ot{f\left(n\right)}$
\end_inset

.
\end_layout

\begin_layout Subsection*
דוגמאות
\end_layout

\begin_layout Enumerate
\begin_inset Formula $T\left(n\right)=27T\left(\frac{n}{3}\right)+n^{2}\log n$
\end_inset

.
 משפט האב הפשוט לא יעבוד, אבל אולי המורחב כן.
 
\begin_inset Formula $\log_{b}a=\log_{3}27=3$
\end_inset

.
 נזכור כי אסימפטוטית, 
\begin_inset Formula $\log n$
\end_inset

 קטן מכל פולינום ולכן ננסה להוכיח את המקרה הראשון של משפט האב המורחב.
 נראה כי 
\begin_inset Formula $n^{2}\log n=\oo{n^{3-\frac{1}{2}}}$
\end_inset

.
\begin_inset Formula 
\[
\lim\limits _{n\to\infty}\frac{n^{2}\log n}{n^{2.5}}=\lim\limits _{n\to\infty}\frac{\log n}{\sqrt{n}}\overset{L'H}{=}\lim\limits _{n\to\infty}\frac{\frac{1}{n\ln2}}{\frac{1}{2\sqrt{n}}}=\lim\limits _{n\to\infty}\frac{2}{\ln2\sqrt{n}}=0
\]

\end_inset

ולכן מטענה שראינו בתרגול
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, נקבל את הרצוי ולכן ממשפט האב המורחב, 
\begin_inset Formula $T\left(n\right)=\ot{n^{\log_{3}27}}=\ot{n^{3}}$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $T\left(n\right)=2T\left(\frac{n}{4}\right)+n\log n$
\end_inset

.
 שוב, משפט האב הפשוט לא יעבוד אבל אולי המורחב כן.
 
\begin_inset Formula $\log_{b}a=\log_{4}2=\frac{1}{2}$
\end_inset

.
 
\begin_inset Formula $n^{\frac{1}{2}}\overset{?}{=}n\log n$
\end_inset

, ננסה להשתמש במקרה השלישי.
 נבחר 
\begin_inset Formula $\frac{1}{2}=\epsilon>0$
\end_inset

 ולכן 
\begin_inset Formula $n\log n=\om{n^{\frac{1}{2}+\frac{1}{2}}}=\om n$
\end_inset

 )אפשר להוכיח את זה(.
 נראה את תנאי הרגולריות.
 נרצה למצוא 
\begin_inset Formula $c\in\left(0,1\right)$
\end_inset

 כך ש-
\begin_inset Formula 
\[
\begin{array}{c}
2\frac{n}{4}\log\frac{n}{4}\leq cn\log n\\
\frac{n}{2}\left(\log n-\log4\right)\leq cn\log n\\
0\leq n\left(\left(c-\frac{1}{2}\right)\log n+1\right)
\end{array}
\]

\end_inset

כמעט תמיד.
 נשים לב כי כל 
\begin_inset Formula $\frac{1}{2}\leq c<1$
\end_inset

 מקיים זאת.
 לכן ממשפט האב המורחב נקבל 
\begin_inset Formula $T\left(n\right)=\ot{n\log n}$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $T\left(n\right)=3T\left(n^{\frac{1}{3}}\right)+\log\log n$
\end_inset

.
 פה לא נוכל להשתמש סתם במשפט האב, אבל כן נוכל להחליף משתנה.
 נבחר 
\begin_inset Formula $m=\log n$
\end_inset

, לכן 
\begin_inset Formula $n=2^{m}$
\end_inset

, כלומר 
\begin_inset Formula $T\left(2^{m}\right)=3T\left(2^{\frac{m}{3}}\right)+\log m$
\end_inset

.
 נסמן 
\begin_inset Formula $S\left(m\right)=T\left(2^{m}\right)$
\end_inset

 ולכן 
\begin_inset Formula $S\left(m\right)=3T\left(\frac{m}{3}\right)+\log m$
\end_inset

.
 חזרה למשפט האב! 
\begin_inset Formula $\log_{3}3=1$
\end_inset

.
 
\begin_inset Formula $m^{1}\overset{?}{=}\log m$
\end_inset

, נשתמש במקרה הראשון וניתן להוכיח כי 
\begin_inset Formula $\log m=\oo{m^{1-\frac{1}{2}}}$
\end_inset

.
 משם נסיק כי 
\begin_inset Formula $S\left(m\right)=\ot{m^{1}}$
\end_inset

 ולכן 
\begin_inset Formula $T\left(n\right)=T\left(2^{m}\right)=S\left(n\right)=\ot m=\ot{\log n}$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $T\left(n\right)=9T\left(\frac{n}{3}\right)+n^{2}\log n$
\end_inset

.
 
\begin_inset Formula $n^{\log_{3}9}=n^{2}\overset{?}{=}n^{2}\log n$
\end_inset

.
 משפט האב המורחב לא יעבוד כאן בכלל!
\begin_inset Newline newline
\end_inset

נניח בשלילה כי 
\begin_inset Formula $n^{2}\log n=\oo{n^{2-\epsilon}}$
\end_inset

 לכן 
\begin_inset Formula $n^{2}=\oo{n^{2-\epsilon}}$
\end_inset

 סתירה! לכן המקרה הראשון לא יעבוד.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $n^{2}\log n\neq\ot{n^{2}}$
\end_inset

 ולכן גם המקרה השני לא יעבוד.
\begin_inset Newline newline
\end_inset

יהי 
\begin_inset Formula $\epsilon>0$
\end_inset

.
 
\begin_inset Formula $\lim\limits _{n\to\infty}\frac{n^{2}\log n}{2^{2+\epsilon}}=\lim\limits _{n\to\infty}\frac{\log}{n^{\epsilon}}\overset{L'H}{=}\lim\limits _{n\to\infty}\frac{1}{\epsilon\ln2}n^{\epsilon-1}=0$
\end_inset

 ולכן מטענת העזר 
\begin_inset Formula $n^{2}\log n\neq\om{2^{n+\epsilon}}$
\end_inset

 ולכן לא ניתן להשתמש במקרה השלישי.
\begin_inset Newline newline
\end_inset

נשתמש בשיטת האיטרציה.
\begin_inset Formula 
\begin{align*}
T\left(n\right) & =9T\left(\frac{n}{3}\right)+n^{2}\log n\\
 & =9\left(9T\left(\frac{n}{3^{2}}\right)+\left(\frac{n}{3}\right)^{2}\log\frac{n}{3}\right)+n^{2}\log n\\
 & =T\left(\frac{n}{3^{2}}\right)+\sum_{i=0}^{1}9^{i}\left(\frac{n}{3^{i}}\right)^{2}\log\frac{n}{3^{i}}
\end{align*}

\end_inset

מכאן ננחש כי לכל 
\begin_inset Formula $1\leq m\leq\log_{3}n$
\end_inset

 מתקיים 
\begin_inset Formula $T\left(n\right)=T\left(\frac{n}{3^{m}}\right)+\sum\limits _{i=0}^{m}9^{i}\left(\frac{n}{3^{i}}\right)^{2}\log\frac{n}{3^{i}}$
\end_inset

 נוכיח זאת באידנוקציה ובסוף נציב 
\begin_inset Formula $m=\log_{3}n$
\end_inset

 )העומק המקסימלי בעץ, המקרה הסופי( ואז נקבל 
\begin_inset Formula $T\left(n\right)=\dots=\ot{n^{2}\log^{2}n}$
\end_inset


\end_layout

\begin_layout Description
טענת
\begin_inset Formula $\;\:$
\end_inset

עזר אם 
\begin_inset Formula $\lim\limits _{n\to\infty}\frac{f\left(n\right)}{g\left(n\right)}=0$
\end_inset

 אז 
\begin_inset Formula $f\left(n\right)\neq\om{g\left(n\right)}$
\end_inset

.
\end_layout

\begin_layout Part
שבוע 
\begin_inset Formula $\mathbb{III}$
\end_inset

 |
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Quick Sort & Comparison Based Sorting
\end_layout

\begin_layout Section
הרצאה
\end_layout

\begin_layout Standard
בבעיית המיון נתונים לנו 
\begin_inset Formula $n$
\end_inset

 מספרים במערך, והמטרה שלנו היא למיין אותם למערך עם ערכים בסדר עולה.
 מיון הוא בעיה מאוד חשובה כי היא 
\bar under
יסודית
\bar default
 )משתמשים בה בהרבה אלגוריתמים אחרים(, 
\bar under
מגוונת
\bar default
 יש הרבה אלגוריתמים, נרצה לדעת מי מהם הכי 
\begin_inset Quotes eld
\end_inset

טוב
\begin_inset Quotes erd
\end_inset

 ובנוסף ידועה הדרך 
\bar under
הכי מהירה
\bar default
 למיין.
\end_layout

\begin_layout Standard
ישנם שני סוגיי מיונים: מיון משווים ומיונים לא משווים.
 עד כה כל מה שראינו היו מיון משווים.
 נראה בהמשך כי בהכרח שמיון הכנסה הוא 
\begin_inset Formula $T\left(n\right)=\om{n\log n}$
\end_inset

 וגם 
\begin_inset Formula $S\left(n\right)=\om n$
\end_inset

.
 מיונים ללא השוואה נקבל כי 
\begin_inset Formula $T\left(n\right)=\om n$
\end_inset

, 
\begin_inset Formula $S\left(n\right)=\om n$
\end_inset

.
\end_layout

\begin_layout Standard
בהרצאה זו נעסוק בעיקר במיון השוואתי אחד -
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
QuickSort
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- שהומצא ב-
\numeric on
1961
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ועדיין משתמשים בו הרבה עד היום.
 מיון זה הוא מיון במקום, כלומר הוא לא דורש עוד זיכרון מעבר למערך עצמו )עד
 כדי מיקומים לקבועים( ולכן הוא נחשב 
\begin_inset Formula $S\left(n\right)=\ot n$
\end_inset

.
 זמן הריצה במקרה הגרוע שלו הוא 
\begin_inset Formula $\ot{n^{2}}$
\end_inset

 ובמקרה הממוצע הוא 
\begin_inset Formula $\ot{n\log n}$
\end_inset

.
\end_layout

\begin_layout Description
הרעיון מיון מהיר הוא מיון בשיטת הפרד ומשול )כמו מיון מיזוג ודמויהם(.
 החלק של ה
\begin_inset Quotes erd
\end_inset

הפרד
\begin_inset Quotes erd
\end_inset

 הוא לחלק את המערך לשני חלקים, שהמה שמפריד ביניהם הוא ה-
\lang english
Pivot
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)הציר(.
 נרצה ציר כך שכל הערכים משמאל לציר יהיו קטנים מכל האיברים מימין לציר.
 החלק של ה
\begin_inset Quotes erd
\end_inset

משול
\begin_inset Quotes erd
\end_inset

 הוא אחרי שמיקמנו את הציר, נמיין באופן ריקורסיבי כל צד בנפרד.
\lang english

\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
QuickSort(A,l,r) is
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

if l<r do
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

m
\begin_inset Formula $\leftarrow$
\end_inset

Partition(A,l,r)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

QuickSort(A,l,m-1)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

QuickSort(A,m+1,r)
\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
מיון מהיר, עבור 
\begin_inset Formula $l=r$
\end_inset

 נעצור את המיון.
 
\begin_inset Formula $A\left[m\right]$
\end_inset

 יישאר במקום כי הוא הציר.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Description
אלגוריתם
\begin_inset Formula $\;\,$
\end_inset

ה-
\lang english
Partition
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 האלגוריתם ירוץ על כל המערך, יבחר ציר שרירותי וימקם אותו במקום הנכון כך
 שהאיברים מימינו יהיו גדולים מהאיברים משמאלו.
 האלגוריתם עצמו )בקצת יותר פירוט( הוא:
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Newline newline
\end_inset

נחלק את המערך לארבעה חלקים,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Left, Right, Pivot, Unseen
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 בהתחלה נבחר את ה-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Pivot
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
להיות האיבר הימני ביותר ו-
\lang english
Left, Right
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הם ריקים ו-
\lang english
Unseen
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יהיה כל המערך.
 בסוף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Unseen
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יהיה ריק וכל האיברים חוץ מהציר יהיו ב-
\lang english
Right
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או ב-
\lang english
Left
\lang hebrew
.
 כל איטרציה עוסקת באיבר אחד שטרם עברנו עליו.
 האינדקסים 
\begin_inset Formula $i,j$
\end_inset

 הם אלו שיקבעו את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Left-
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
Right
\lang hebrew
.
 אם האיבר החדש גדול מהציר, נזיז את 
\begin_inset Formula $j$
\end_inset

 אחד קדימה ובכך נכניס את האיבר ל-ּ
\lang english
Right
\lang hebrew
.
 אם הוא קטן מהציר, נזיז את 
\begin_inset Formula $i$
\end_inset

 ו-
\begin_inset Formula $j$
\end_inset

 אחד קדימה ונחליף בין האיבר הנוכחי לאיבר האחרון ב-
\lang english
Left
\lang hebrew
.

\series bold
 
\series default
בסוף נמקם את הפיבוט במקום הנכון באמצעות החלפה בין האיבר ה-
\begin_inset Formula $i$
\end_inset

-י לאיבר האחרון.
\lang english

\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
Partition(A,l,r) is
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

i
\begin_inset Formula $\leftarrow$
\end_inset

l-1
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

for j
\begin_inset Formula $\leftarrow$
\end_inset

l to r-1 do
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

if 
\begin_inset Formula $A\left[j\right]\leq A\left[r\right]$
\end_inset

 do
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

i
\begin_inset Formula $\leftarrow$
\end_inset

i+1
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

Exchange(A
\begin_inset Formula $\left[i\right]$
\end_inset

,A
\begin_inset Formula $\left[j\right]$
\end_inset

)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

Exchange(A
\begin_inset Formula $\left[i+1\right]$
\end_inset

,A
\begin_inset Formula $\left[r\right]$
\end_inset

)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

return i+1
\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם ה-
\lang english
Partition
\end_layout

\end_inset


\end_layout

\end_inset


\lang hebrew

\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/quicksort-example-2.png
	lyxscale 40
	scale 50

\end_inset


\begin_inset Graphics
	filename img/quicksort-example-1.png
	lyxscale 40
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמת לריצת אלגוריתם ה-
\lang english
Partition
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center

\end_layout

\end_inset


\end_layout

\begin_layout Description
ניתוח
\begin_inset Formula $\;\;$
\end_inset

האלגוריתם אם כל האיברים יוצאים משמאל, נקבל תתי בעיות בגודל 
\begin_inset Formula $n-1$
\end_inset

 ו-
\begin_inset Formula $0$
\end_inset

.
 אם האיברים יוצאים בדיוק חצי חצי בשמאל ובמין אז נקבל תתי בעיות בגודל 
\begin_inset Formula $\frac{n}{2}$
\end_inset

 ובמקרה הכללי נקבל תתי בעיות בגודל 
\begin_inset Formula $q$
\end_inset

 ו-
\begin_inset Formula $n-q-1$
\end_inset

.
\begin_inset Newline newline
\end_inset

אם המערך כבר ממוין או ממוין הפוך נקבל 
\begin_inset Formula $T\left(n\right)=T\left(0\right)+T\left(n-1\right)+\ot n$
\end_inset

 )כי אנחנו מחשבים תת בעיה בגודל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
, בעיה בגודל 
\begin_inset Formula $n-1$
\end_inset

 ומשקיעים ב-
\lang english
Partition
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $\ot n$
\end_inset

 )כי אנחנו חייבים לרוץ על הכל( והפתרון לנוסחה זו היא 
\begin_inset Formula $T\left(n\right)=\ot{n^{2}}$
\end_inset

 וזה המקרה הרע.
\begin_inset Newline newline
\end_inset

במקרה שהציר תמיד נמצא באמצע נקבל 
\begin_inset Formula $T\left(n\right)=2T\left(\frac{n}{2}\right)+\ot n$
\end_inset

 והפתרון לזה ממשפט האב הוא 
\begin_inset Formula $T\left(n\right)=\ot{n\log n}$
\end_inset

.
\begin_inset Newline newline
\end_inset

במקרה הגרוע ביותר 
\begin_inset Formula $T\left(n\right)=\max\limits _{0\leq q\le n-1}\left\{ T\left(q\right)+T\left(n-q-1\right)\right\} +\ot n$
\end_inset

.
 נוכיח בשיטת ההצבה כי 
\begin_inset Formula $T\left(n\right)=\oo{n^{2}}$
\end_inset

.
\end_layout

\begin_layout Description
טענה סיבוכיות הזמן במקרה הגרוע ביותר של מיון מהיר היא 
\begin_inset Formula $T\left(n\right)=\oo{n^{2}}$
\end_inset

.
\end_layout

\begin_layout Proof
בסיס )
\begin_inset Formula $n=1$
\end_inset

(: 
\begin_inset Formula $T\left(1\right)=1\leq c\cdot1^{2}$
\end_inset

, 
\begin_inset Formula $\forall c\geq1$
\end_inset

.
\end_layout

\begin_layout Proof
צעד )
\begin_inset Formula $1,\dots,n-1\rightarrow n$
\end_inset

(:
\begin_inset Formula 
\begin{align*}
T\left(n\right) & =\max\limits _{0\leq q\le n-1}\left\{ T\left(q\right)+T\left(n-q-1\right)\right\} +\ot n\\
 & \leq\max\limits _{0\leq q\le n-1}\left\{ cq^{2}+c\left(n-q-1\right)^{2}\right\} +\ot n\\
 & =c\max\limits _{0\leq q\le n-1}\left\{ q^{2}+\left(n-q-1\right)^{2}\right\} +\ot{n^{2}}\\
 & \overset{\left(*\right)}{\leq}c\left(n-1\right)^{2}+\ot n=cn^{2}-c\left(2n-1\right)+\ot n\\
 & \leq cn^{2}
\end{align*}

\end_inset


\begin_inset Formula $\left(*\right)$
\end_inset

 זו בעצם פרבולה מחייכת בקטע סגור ולכן היא מקסימלית בקצוות.
\end_layout

\begin_layout Standard
באותו האופן ניתן להוכיח כי 
\begin_inset Formula $T\left(n\right)=\om{n^{2}}$
\end_inset

 ומשם נסיק כי 
\begin_inset Formula $\ot{n^{2}}$
\end_inset

 במקרה הגרוע ביותר.
\end_layout

\begin_layout Standard
מסתבר שהמקרה הממוצע )שעליו נדבר בהמשך( הוא המקרה הכי טוב, כלומר 
\begin_inset Formula $\ot{n\log n}$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה נניח כי ה-
\lang english
Partition
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מחלק בכל שלב את המערך למערך בגודל 
\begin_inset Formula $\frac{9}{10}$
\end_inset

 מהמערך ובגודל 
\begin_inset Formula $\frac{1}{10}$
\end_inset

 מהמערך.
 נקבל משהו כזה
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/quicksort-average-tree.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
עץ ריקורסיה של מיון מהיר עבור חלוקה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
9-1
\end_layout

\end_inset


\end_layout

\end_inset

סה
\begin_inset Quotes erd
\end_inset

כ נקבל 
\begin_inset Formula $T\left(n\right)=T\left(\frac{n}{10}\right)+T\left(\frac{9n}{10}\right)+\ot n$
\end_inset

.
 הענף השמאלי הרבה יותר קטן מהענף השני, הריקורסיה נגמרת ב-
\begin_inset Formula $\log_{\frac{10}{9}}n$
\end_inset

 ובכל רמה נעשה 
\begin_inset Formula $\ot n$
\end_inset

 עבודה ולכן נקבל 
\begin_inset Formula $T\left(n\right)=\ot{n\log n}$
\end_inset

.
 וזה נכון לכל חלוקה פרופורציונית )כלומר שמחלקת את המערך לחלקים עם יחס ביניהם
 ולא שאחד הצדדים קבוע או משהו בסגנון כמו במקרה הגרוע ביותר(.
\end_layout

\begin_layout Description
הערה בחירת הציר להיות איבר אקראי כל פעם תוכל לטרפד ניסיון של תוקף להאט את
 המיון באמצעות השמת האיברים הגדולים ביותר בסוף.
\end_layout

\begin_layout Description
משפט כל מיון מבוסס השוואות הוא 
\begin_inset Formula $\om{n\log n}$
\end_inset

.
\end_layout

\begin_layout Proof
נתאים לכל אלגוריתם עץ החלטה שמסתכל על ההשוואת של האלגוריתם.
 נביט בדוגמה
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/sorting-descision-tree.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
עץ החלטה של אלגוריתם מיון כלשהו
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center

\end_layout

\end_inset


\end_layout

\begin_layout Proof
כאן 
\begin_inset Formula $i:j$
\end_inset

 מסמן את האלגוריתם משווה בין האיבר באינדקס ה-
\begin_inset Formula $i$
\end_inset

 לאיבר באינדקס ה-
\begin_inset Formula $j$
\end_inset

.
 בדוגמה הזו, אנחנו משווים בהתחלה את 
\begin_inset Formula $7,9$
\end_inset

 ונכנסים למקרה שבו האיבר הראשון קטן-שווה מהשני.
 ואז למקרה שהאיבר הראשון גדול מהשלישי וכו'.
 זהו עץ בינארי שהקודקודים הפנימיים שלו הם שני אינדקסים והעלים הם פרמוטציות
 של המערך המקורי והענפים הם התוצאה של ההשוואה בקודקוד מעליהם.
 הרצה של האלגוריתם היא בסך הכל מסלול דרך העץ.
\end_layout

\begin_layout Proof
כל עץ החלטה של אלגוריתם תקין חייב לכלול לפחות את כל הפרמוטציות של המערך
 המקורי )כי כל מערך חייב להתמיין נכון(.
 יכול להיות שיש יותר עלים מכלל הפרמוטציות במקרה שהאלגוריתם עובר על משהו
 פעמיים או עושה משהו לא יעיל, אבל יש לפחות את כולם.
 לכן לעץ חייב להיות לפחות 
\begin_inset Formula $n!$
\end_inset

 עלים.
\end_layout

\begin_layout Proof
החסם התחתון על גובה העץ הוא החסם התחתון על מספר הצעדים הדרושים לשם מיון
 המקרה הגרוע ביותר עבור כל אלגוריתם מיון מבוסס השוואות.
\end_layout

\begin_layout Proof
נסמן את עומק העץ ב-
\begin_inset Formula $d$
\end_inset

, לכן יש לו לכל היותר 
\begin_inset Formula $2^{d}$
\end_inset

 עלים.
 חייב להתקיים בנוסף כי 
\begin_inset Formula $2^{d}\geq n!$
\end_inset

 לכן 
\begin_inset Formula $\log n!\leq d$
\end_inset

 נוכיח כי 
\begin_inset Formula $\log n!=\ot{n\log n}$
\end_inset

 ומשם נסיק כי 
\begin_inset Formula $d=\om{\ot{n\log n}}=\om{n\log n}$
\end_inset

 ולכן לכל אלגוריתם מיון מבוסס השוואות יש עומק 
\begin_inset Formula $\om{n\log n}$
\end_inset

 ולכן כל אלגוריתם משווה ידרוש 
\begin_inset Formula $\om{n\log n}$
\end_inset

 כרצוי.
\end_layout

\begin_layout Proof
נזכור כי 
\begin_inset Formula $\left(\frac{n}{2}\right)^{\frac{n}{2}}\overset{\left(*\right)}{\leq}n!\leq n^{n}$
\end_inset

 ואם נפעיל 
\begin_inset Formula $\log$
\end_inset

 נקבל 
\begin_inset Formula $\frac{n}{2}\log\frac{n}{2}\leq\log n!\leq n\log n$
\end_inset

 ולכן 
\begin_inset Formula $\log n!=\ot{n\log n}$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula $\left(*\right)$
\end_inset

 
\begin_inset Formula $\log n!=\log\prod\limits _{i=1}^{n}i=\sum\limits _{i=1}^{n}\log i\overset{\text{באינדוקציה}}{\geq}\sum\limits _{i=\frac{n}{2}}^{n}\log\frac{n}{2}=\frac{n}{2}\log\frac{n}{2}$
\end_inset

.
\begin_inset Float table
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/comparison-sort-summary.png
	lyxscale 50
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
טבלת סיכום של מיונים מבוססי השוואה
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center

\end_layout

\end_inset


\end_layout

\begin_layout Section
תרגול
\end_layout

\begin_layout Subsection*
מושגי יסוד
\end_layout

\begin_layout Enumerate

\bar under
מרחב הסתברות
\bar default
 זו 
\begin_inset Formula $\left\langle \Omega,P\right\rangle $
\end_inset

 כאשר 
\begin_inset Formula $\Omega$
\end_inset

 הוא מרחב מדגם ו-
\begin_inset Formula $P$
\end_inset

 היא פונקציית הסתברות.
\end_layout

\begin_layout Enumerate

\bar under
מרחב מדגם
\bar default
 הוא קבוצה 
\begin_inset Formula $\Omega$
\end_inset

 המתארת את כל המאורעות האפשריים בניסוי מסוים.
\end_layout

\begin_layout Enumerate

\bar under
מאורע
\bar default
 הוא תת קבוצה של מרחב מדגם 
\begin_inset Formula $A\subseteq\Omega$
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
אוסף כל המאורעות האפשריים
\bar default
 יוסמן ב-
\begin_inset Formula $2^{\Omega}$
\end_inset

 )מספר תתי הקבוצות של 
\begin_inset Formula $\Omega$
\end_inset

(.
\end_layout

\begin_layout Enumerate

\bar under
מאורע אטומי
\bar default
 מאורע עם איבר אחד )יחידון(.
\end_layout

\begin_layout Enumerate
מאורעות 
\begin_inset Formula $A,B$
\end_inset

 נקראים 
\bar under
זרים
\bar default
 אם 
\begin_inset Formula $A\cap B=\varnothing$
\end_inset

.
\end_layout

\begin_layout Enumerate
הפ' 
\begin_inset Formula $P:2^{\Omega}\rightarrow\left[0,1\right]$
\end_inset

 היא 
\bar under
פונקציית הסתברות
\bar default
 המקיימת:
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\left(i\right)$
\end_inset

 
\begin_inset Formula $\sum\limits _{w\in\Omega}P\left(\left\{ w\right\} \right)=1$
\end_inset

.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\left(ii\right)$
\end_inset

 
\begin_inset Formula $\forall A\subseteq\Omega$
\end_inset

, 
\begin_inset Formula $P\left(A\right)=\sum\limits _{w\in A}P\left(\left\{ w\right\} \right)$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה בהטלת קוביה, 
\begin_inset Formula $\Omega=\left[6\right]$
\end_inset

, מאורע יכול להיות לדוגמה הטלת של מספר זוגי, כלומר 
\begin_inset Formula $\left\{ 2,4,6\right\} $
\end_inset

.
 מאורע אטומי הוא לדוגמה 
\begin_inset Formula $\left\{ 5\right\} $
\end_inset

.
 המאורעות 
\begin_inset Formula $A=\left\{ 2,4,6\right\} $
\end_inset

 ו-
\begin_inset Formula $B=\left\{ 1,3,5\right\} $
\end_inset

 הם זרים.
 עבור קוביה הוגנת נוכל להגדיר פ' הסתברות 
\begin_inset Formula $\forall i\in\left[6\right]$
\end_inset

, 
\begin_inset Formula $P\left(\left\{ i\right\} \right)=\frac{1}{6}$
\end_inset

 )הסתברות אחידה(.
 ההסתברות שיצא מספר קטן ממש מ-
\numeric on
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא 
\begin_inset Formula $P\left(\left[4\right]\right)=\sum\limits _{i=1}^{4}P\left(\left\{ i\right\} \right)=\frac{2}{3}$
\end_inset

.
\end_layout

\begin_layout Subsection*
תכונות
\end_layout

\begin_layout Standard
יהי 
\begin_inset Formula $\left\langle \Omega,P\right\rangle $
\end_inset

 מרחב הסתברות אזי:
\end_layout

\begin_layout Enumerate
\begin_inset Formula $P\left(\varnothing\right)=0$
\end_inset

.
\end_layout

\begin_layout Enumerate
)אדיטיביות( לכל אוסף סופי של מאורעות זרים 
\begin_inset Formula $A_{1},\dots,A_{n}$
\end_inset

, מתקיים 
\begin_inset Formula $P\left(\bigcup\limits _{i=1}^{n}A_{i}\right)=\sum\limits _{i=1}^{n}P\left(A_{i}\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
)מונוטוניות( מאורעות 
\begin_inset Formula $A,B$
\end_inset

 כך ש- 
\begin_inset Formula $A\subseteq B$
\end_inset

 מקיימים 
\begin_inset Formula $P\left(A\right)\leq P\left(B\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
לכל מאורע 
\begin_inset Formula $A$
\end_inset

 מתקיים 
\begin_inset Formula $P\left(A\right)\leq1$
\end_inset

.
\end_layout

\begin_layout Enumerate
לכל מאורע 
\begin_inset Formula $A$
\end_inset

 מתקיים 
\begin_inset Formula $P\left(A\right)+P\left(A^{c}\right)=1$
\end_inset

 כאשר 
\begin_inset Formula $A^{c}=\Omega\backslash A$
\end_inset

 המאורע המשלים.
\end_layout

\begin_layout Enumerate
)תת-אדיטיביות( לכל מאורעות 
\begin_inset Formula $A,B$
\end_inset

, 
\begin_inset Formula $P\left(A\cup B\right)\le P\left(A\right)+P\left(B\right)$
\end_inset

.
\end_layout

\begin_layout Proof
נוכיח את תכונת המונוטוניות.
 
\begin_inset Formula $P\left(A\right)+\underset{\geq0}{\underline{P\left(B\backslash A\right)}}=P\left(B\right)$
\end_inset

 ולכן 
\begin_inset Formula $P\left(A\right)\leq P\left(B\right)$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה ההסתברות של 
\begin_inset Formula $A$
\end_inset

 
\bar under
בהינתן
\bar default
 
\begin_inset Formula $B$
\end_inset

 )
\begin_inset Formula $B$
\end_inset

 כבר קרה, מה הסיכוי שגם 
\begin_inset Formula $A$
\end_inset

 עכשיו יקרה( תסומן ב-
\begin_inset Formula $P\left(A|B\right)=\frac{P\left(A\cap B\right)}{P\left(B\right)}$
\end_inset

.
\end_layout

\begin_layout Description
הערה האינוטאיציה לנוסחה הזו היא שאחרי ש-
\begin_inset Formula $B$
\end_inset

 התקיים, ניכנס לעולם שכולו 
\begin_inset Formula $B$
\end_inset

, ואז הסיכוי שגם 
\begin_inset Formula $A$
\end_inset

 יקרה הוא החיתוך של 
\begin_inset Formula $B$
\end_inset

 עם 
\begin_inset Formula $A$
\end_inset

 יחד עם נירמול להסתברות של 
\begin_inset Formula $B$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה סכום שני מספרים שהתקבלו בהטלת זוג קוביות הוגנות גדול ממש מ-
\numeric on
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\begin_inset Formula $B$
\end_inset

(.
 מה ההסתברות שבקוביה הראשונה יתקבל מספר גדול ממש מ-
\numeric on
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\begin_inset Formula $A$
\end_inset

(.
 במקרה הזה 
\begin_inset Formula $\Omega=\left[6\right]\times\left[6\right]$
\end_inset

, 
\begin_inset Formula $B=\left\{ \left(6,5\right),\left(5,6\right),\left(6,6\right)\right\} $
\end_inset

, 
\begin_inset Formula $A=\left\{ 6\right\} \times\left[6\right]$
\end_inset

.
\begin_inset Formula 
\[
P\left(A|B\right)=\frac{P\left(\left\{ \left(6,6\right),\left(6,5\right)\right\} \right)}{P\left(\left\{ \left(6,5\right),\left(5,6\right),\left(6,6\right)\right\} \right)}=\frac{\frac{2}{36}}{\frac{3}{36}}=\frac{2}{3}
\]

\end_inset


\end_layout

\begin_layout Description
הגדרה מאורעות 
\begin_inset Formula $A,B$
\end_inset

 יקראו 
\bar under
בלתי תלויים
\bar default
 אם מתקיים 
\begin_inset Formula $P\left(A\right)=P\left(A|B\right)=\frac{P\left(A\cap B\right)}{P\left(B\right)}$
\end_inset

 או באופן שקול 
\begin_inset Formula $P\left(A\cap B\right)=P\left(A\right)\cdot P\left(B\right)$
\end_inset

, אחרת מאורעות אלו יקראו תלויים.
\end_layout

\begin_layout Description
דוגמה בהטלת שתי קוביות, נגדיר את 
\begin_inset Formula $A$
\end_inset

 להיות המאורע בו יצא בהטלה הראשונה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
6
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\begin_inset Formula $B$
\end_inset

 המאורע בו יצא בהטלה השנייה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
6
\numeric off
,
\begin_inset Formula 
\[
P\left(A\right)\cdot P\left(B\right)=\frac{1}{6}\cdot\frac{1}{6}=\frac{1}{36}=P\left(A\cap B\right)
\]

\end_inset

לכן האירועים האלה )מעבר לאינוטואיטיבית( הם בלתי תלויים.
\begin_inset Newline newline
\end_inset

עם זאת, אם 
\begin_inset Formula $A$
\end_inset

 הוא המאורע בו בהטלה הראשונה יצא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
6
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\begin_inset Formula $B$
\end_inset

 הוא המאורע בו סכום ההטלות הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
5
\numeric off
, נקבל שהם כן תלויים.
 נראה זאת.
 
\begin_inset Formula $P\left(A\right)\cdot P\left(B\right)=\frac{1}{6}\cdot\frac{4}{36}=\frac{4}{6\cdot36}\neq0=P\left(A\cap B\right)$
\end_inset

, כאשר החיתוך הוא אפס כי אם הטלנו שש, הסכום הוא בהכרח גדול מ-
\numeric on
5
\numeric off
.
\end_layout

\begin_layout Description
הגדרה 
\bar under
משתנה מקרי
\bar default
 )מ
\begin_inset Quotes erd
\end_inset

מ( הוא פונקציה 
\begin_inset Formula $X:\Omega\rightarrow\mathbb{R}$
\end_inset

.
\end_layout

\begin_layout Description
הערה מ
\begin_inset Quotes erd
\end_inset

מ פשוט מצמידה לכל איבר במרחב המדגם מספר ממשי שישמש לה כנציג.
 
\end_layout

\begin_layout Standard
נסמן 
\begin_inset Formula $P\left(X=x\right)=P\left(\left\{ w\in\Omega:X\left(w\right)=x\right\} \right)$
\end_inset

 ובאופן יותר כללי 
\begin_inset Formula $P\left(X\in A\right)=P\left(\left\{ w\in\Omega:X\left(w\right)\in A\right\} \right)$
\end_inset

, כלומר ההסתברות שהמשתנה המקרי יהיה שווה לאיזשהו נציג 
\begin_inset Formula $x\in A$
\end_inset

, היא ההסתברות של כל האיברים במרחב המדגם כך שהמ
\begin_inset Quotes erd
\end_inset

מ שלהם הוא מספר ב-
\begin_inset Formula $A\subseteq\mathbb{R}$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה בהטלת קוביה, נגדיר 
\begin_inset Formula $X\left(i\right)=i$
\end_inset

, 
\begin_inset Formula $\forall i\in\left[6\right]=\Omega$
\end_inset

.
 לחלופין, נוכל להגדיר מ
\begin_inset Quotes erd
\end_inset

מ מציין )אינדיקטור( 
\begin_inset Formula $Y\left(w\right)=\left\{ \begin{smallmatrix}1 &  & w\in\left\{ 2,4,6\right\} \\
0 &  & \textrm{otherwise}
\end{smallmatrix}\right.$
\end_inset

.
 ההסתברות להטיל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא 
\begin_inset Formula $P\left(X=2\right)=\frac{1}{6}$
\end_inset

 וההסתברות להטיל מספר קטן שווה ל-
\begin_inset Formula $2$
\end_inset

 היא 
\begin_inset Formula $P\left(\left\{ 1,2\right\} \right)=P\left(X\leq2\right)=\frac{2}{6}=\frac{1}{3}$
\end_inset

.
 
\begin_inset Formula $P\left(Y=1\right)=\frac{1}{2}$
\end_inset

 היא ההסתברות להטיל מספר זוגי.
\end_layout

\begin_layout Description
הגדרה יהי מ
\begin_inset Quotes erd
\end_inset

מ 
\begin_inset Formula $X$
\end_inset

 אזי התוחלת של 
\begin_inset Formula $X$
\end_inset

 היא
\begin_inset Formula 
\[
E\left[X\right]=\sum\limits _{w\in\Omega}X\left(w\right)P\left(w\right)=\sum\limits _{x\in\mathbb{R}}x\cdot P\left(X=x\right)=\sum\limits _{x\in\textrm{Im}X}x\cdot P\left(X=x\right)
\]

\end_inset


\end_layout

\begin_layout Description
הערה אינטואיטיבית, התוחלת היא הממוצע של המ
\begin_inset Quotes erd
\end_inset

מ.
\end_layout

\begin_layout Description
דוגמה הטלת קוביה עם 
\begin_inset Formula $X\left(i\right)=i$
\end_inset

, 
\begin_inset Formula $\forall i\in\left[6\right]$
\end_inset

.
 
\begin_inset Formula $E\left[X\right]=\sum\limits _{i=1}^{6}iP\left(X=i\right)=\frac{1}{6}\sum\limits _{i=1}^{6}i=3.5$
\end_inset

.
\begin_inset Formula 
\[
E\left[Y\right]=0\cdot P\left(X=0\right)+1\cdot P\left(X=1\right)=\frac{1}{2}
\]

\end_inset

נסיק כי 
\begin_inset Formula $E\left[X\right]=P\left(X=1\right)$
\end_inset

 עבור 
\begin_inset Formula $X$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

מ אינדיקטור.
\end_layout

\begin_layout Subsection*
תכונות
\end_layout

\begin_layout Enumerate
)מונוטוניות( אם 
\begin_inset Formula $X\leq Y$
\end_inset

 )כלומר 
\begin_inset Formula $\forall w\in\Omega$
\end_inset

, 
\begin_inset Formula $X\left(w\right)\leq Y\left(w\right)$
\end_inset

( 
\begin_inset Formula $E\left[X\right]\leq E\left[Y\right]$
\end_inset

.
\end_layout

\begin_layout Enumerate
)לינאריות( 
\begin_inset Formula $E\left[\alpha X+\beta Y\right]=\alpha E\left[X\right]+\beta E\left[Y\right]$
\end_inset

.
\end_layout

\begin_layout Enumerate
)תוחלת באי תלות( אם 
\begin_inset Formula $X,Y$
\end_inset

 בת
\begin_inset Quotes erd
\end_inset

ל אזי 
\begin_inset Formula $E\left[X\cdot Y\right]=E\left[X\right]\cdot E\left[Y\right]$
\end_inset

.
\end_layout

\begin_layout Enumerate
)נוסחת הזנב( אם 
\begin_inset Formula $\textrm{Im}X\subseteq\mathbb{N}_{0}$
\end_inset

 אזי 
\begin_inset Formula $E\left[X\right]=\sum\limits _{k=1}^{\infty}P\left(X\geq k\right)$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה בפארק שעשועים משחקים משחק.
 מולנו 
\begin_inset Formula $n$
\end_inset

 כדורים ו-
\begin_inset Formula $m$
\end_inset

 תאים.
 ההסתברות שכדור יכנס לתא ה-
\begin_inset Formula $j$
\end_inset

-י היא 
\begin_inset Formula $\frac{1}{m}$
\end_inset

 )הסתברות אחידה(.
 נגדיר מ
\begin_inset Quotes erd
\end_inset

מ 
\begin_inset Formula $X_{j}^{i}$
\end_inset

 המציין את המאורע 
\begin_inset Quotes eld
\end_inset

הכדור ה-
\begin_inset Formula $i$
\end_inset

 נכנס לתא ה-
\begin_inset Formula $j$
\end_inset


\begin_inset Quotes erd
\end_inset

 )כלומר יש לנו הרבה מ
\begin_inset Quotes erd
\end_inset

מ מציינים שונים(.
\begin_inset Newline newline
\end_inset

מה הסיכוי שהכדור הראשון נכנס לתא שמספרו לכל היותר 
\begin_inset Formula $k$
\end_inset

? נסתכל על 
\begin_inset Formula $X_{j}^{1}=1$
\end_inset

, 
\begin_inset Formula $\forall j\leq k$
\end_inset

, לכן
\begin_inset Formula 
\[
P\left(\sum\limits _{j=1}^{k}X_{j}^{1}=1\right)=P\left(\biguplus\limits _{j=1}^{k}\left(X_{j}^{1}=1\right)\right)=\sum\limits _{j=1}^{k}P\left(x_{j}^{1}=1\right)=\sum\limits _{j=1}^{k}\frac{1}{m}=\frac{k}{m}
\]

\end_inset


\end_layout

\begin_layout Part
שבוע 
\begin_inset Formula $\mathbb{IV}$
\end_inset

 |
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Introduction to Hashing, Open Addressing & Non-Comparison Sorting 
\end_layout

\begin_layout Section
הרצאה
\end_layout

\begin_layout Standard
נעסוק במבנה נתונים חדש - טבלאות גיבוב.
 הרבה פעמים נרצה להיות יכולים לגשת לתכנים בממוצע ב-
\begin_inset Formula $\oo 1$
\end_inset

 מתוך מאגר מאוד גדול של מידע.
 בנוסף, לא בהכרח שלמפתחות שבעזרתם ניגש לאיברים הללו יש סדר מסוים.
\end_layout

\begin_layout Description
דוגמה מאגר מידע של לקוחות בבנק לפי ת
\begin_inset Quotes erd
\end_inset

ז - יש הרבה כאלה ונרצה לשלוף מהר משתמש.
 בדוגמה זו בעיקר נעסוק כשננתח ונשווה טבלאות גיבוב למבני נתונים אחרים.
\end_layout

\begin_layout Standard
נרצה להיות יכולים לחפש, להכניס ולהוציא איברים בזמן ממוצע של 
\begin_inset Formula $\oo 1$
\end_inset

.
 בניגוד למיונים שבהם המדד שלנו היה המקרה הגרוע ביותר, פה נתעניין במקרה הממוצע.
\end_layout

\begin_layout Standard
מערכים לא עוזרים ממש במקרים כאלה לא ממש עוזר, אפילו שניגשים לאיברים בהם
 ב-
\begin_inset Formula $\oo 1$
\end_inset

, כי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 יש 
\begin_inset Formula $10^{9}=1\textrm{B}$
\end_inset

 ת
\begin_inset Quotes erd
\end_inset

ז ומערך בגודל הזה הוא לא יעיל מבחינת זיכרון.
\end_layout

\begin_layout Standard
נוכל במקום זאת לקבל מפתח, להעביר אותו בפ' )
\lang english
Hash Function
\lang hebrew
( ואז לשים את הערך באינדקס שנקבל מפ' הגיבוב.
\end_layout

\begin_layout Subsection*
פונקציות גיבוב
\end_layout

\begin_layout Enumerate
כיתוב ישיר - 
\begin_inset Formula $h\left(k\right)=k$
\end_inset

.
 פ' זו לא פותרת לנו את הבעיות בשימוש במערך שכן זו בדיוק הדרך שבה ניגשים
 לאיברים במערך.
\end_layout

\begin_layout Enumerate
החזרת חלק מהערך המושם.
 לדוגמה, בת
\begin_inset Quotes erd
\end_inset

ז, 
\begin_inset Formula $h\left(k_{1}\dots k_{9}\right)=k_{8}k_{9}$
\end_inset

.
 פ' זו עוזרת מבחינת מיקום, שכן תדרוש רק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
100
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תאים ולא מיליארד, אבל יכולים להיווצר ממנה הרבה התנגשויות )כל שתי ת
\begin_inset Quotes erd
\end_inset

ז שנגמרות באותן שתי ספרות(.
\end_layout

\begin_layout Standard
נכליל את המושג.
 טבלה גיבוב היא מבנה נתונים המבוסס על מערך 
\begin_inset Formula $A\left[0\dots m-1\right]$
\end_inset

, כאשר כל מפתח 
\begin_inset Formula $k$
\end_inset

 מופנה למיקום ה-
\begin_inset Formula $A\left[h\left(k\right)\right]$
\end_inset

, כאשר 
\begin_inset Formula $h$
\end_inset

 היא פ' גיבוב.
 במקרה זה, מספר המיקומים בטבלה יהי פרופורציוני למספר האיברים - אבל לא קשור
 לטווח שלהם.
\end_layout

\begin_layout Description
הערה פ' הגיבוב לא צריכה בהכרח להיות חח
\begin_inset Quotes erd
\end_inset

ע, נצטרך בהמשך ליצור מנגנונים שיאפשרו להתמודד עם התנגשויות.
\end_layout

\begin_layout Description
דוגמה אם נרצה לאכסן לוחות רישוי בחניון, נוכל להשתמש ב- 
\begin_inset Formula $h\left(x\right)=x\mod1000$
\end_inset

 וכך להגביל את גודל הפלט, שיתאים לגודל המערך.
\end_layout

\begin_layout Standard
נסמן את קבוצת כלל המפתחות האפשריים ב-
\begin_inset Formula $U$
\end_inset

 )ואיבריה לשם פשטות נסמן ב-
\begin_inset Formula $\left\{ 0,\dots,\left|U\right|-1\right\} $
\end_inset

 ואת קבוצת המפתחות שאליהם נצטרך להתייחס באמת ב-
\begin_inset Formula $K\subseteq U$
\end_inset

.
 בנוסף, נסמן 
\begin_inset Formula $\left|K\right|=n$
\end_inset

 ונקרא לטבלת הגיבוב 
\begin_inset Formula $T$
\end_inset

, כאשר 
\begin_inset Formula $\left|T\right|=m\le\left|U\right|$
\end_inset

.
 פ' הגיבוב היא
\begin_inset Newline linebreak
\end_inset


\begin_inset Formula $h:U\rightarrow\left[0\dots m-1\right]$
\end_inset

, שממפה ערכים מ-
\begin_inset Formula $U$
\end_inset

 ל-
\begin_inset Formula $T$
\end_inset

.
 נניח בנוסף כי ניתן לגשת למערך ב-
\begin_inset Formula $\oo 1$
\end_inset

, וכך גם להריץ את פ' הגיבוב.
 תא ריק יסומן ב-
\begin_inset Formula $\textrm{NIL}$
\end_inset

 או /.
\end_layout

\begin_layout Standard
נרצה שפ' גיבוב שתפזר את ההתנגשויות באופן אחיד.
 בנוסף, פ' גיבוב שמחזירה רק ערכים זוגיים היא לא טובה.
 נעשה שימוש בהנחת התפלגות הגיבוב הפשוטה, שלפיה למפתח רנדומלי יש סיכוי להתגבב
 אל כל ערך מבין האינדקסים האפשריים באופן שווה.
 זו הנחה אידיאליסטית, שעוזרת לנתח פ' גיבוב.
\end_layout

\begin_layout Subsection*
שיטות גיבוב
\end_layout

\begin_layout Enumerate

\series bold
גישה ישירה
\series default
.
 טבלת גיבוב שהיא בעצם בדיוק מערך שנסמנו 
\begin_inset Formula $T\left[0\dots m-1\right]$
\end_inset

.
 שיטה זו יעילה כאשר מספר המפתחות יחסית קטן וגם שהמפתחות עצמם קטנים, כך שישמשו
 אינדקסים.
 במקרה זה לא יהיו התנגשויות כי כל מפתח שונה מהאחרים.
 שיטה זו לא יעילה אם 
\begin_inset Formula $m$
\end_inset

 גדול וזה יכול להיות בזבזני בזיכרון.
\end_layout

\begin_layout Enumerate

\series bold
שרשור
\series default
.
 ניקח פ' גיבוב שתמפה מפתחות לאינדקסים ב-
\begin_inset Formula $T$
\end_inset

, אבל לא חשוב שהיא תהיה חח
\begin_inset Quotes erd
\end_inset

ע.
 כל פעם שיש התנגשות בערכים של פ' הגיבוב, נכניס את האיבר החדש לראשית הרשימה
 מקושרת בתא המיועד לו, כאשר אברי המערך )טבלת הגיבוב( בעצם יהיו רשימות מקושרות.
 שיטה זו עובדת טוב כאשר 
\begin_inset Formula $m<<\left|U\right|$
\end_inset

 הכנסה של מפתח חדש היא במקרה הגרוע ביותר 
\begin_inset Formula $\oo 1$
\end_inset

 כי תמיד נכניס אותו לראשית הרשימה.
 מצד שני, חיפוש יכול להיות הרבה יותר גרוע.
 היתרון המרכזי של שיטה זו היא שהטבלה אף פעם לא מתמלאת, תמיד אפשר להוסיף
 עוד איברים לרשימה המקושרת.
 כדי להתומדד עם הסיבוכיות של חיפוש, נשתמש בהנחת התפלגות הגיבוב הפשוטה.
 נגדיר את מקדם העומס להיות 
\begin_inset Formula $\alpha=\frac{n}{m}$
\end_inset

 כאשר 
\begin_inset Formula $m$
\end_inset

 הוא מספר התאים בטבלה ו-
\begin_inset Formula $n$
\end_inset

 הוא מספר האיברים בטבלה.
 בעזרת ההנחה הנ
\begin_inset Quotes erd
\end_inset

ל, הסיבוכיות הממוצעת של חיפוש בטבלת גיבוב משורשרת היא 
\begin_inset Formula $\ot{1+\alpha}$
\end_inset

, ויש שם אחד כי צריך לחשב את ערך פ' הגיבוב קודם.
 נשים לב כי אם 
\begin_inset Formula $n=\ot m$
\end_inset

 אז 
\begin_inset Formula $\alpha=\ot 1$
\end_inset

 ואז סיבוכיות החיפוש היא 
\begin_inset Formula $\ot 1$
\end_inset

.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/chaining-hash-example.png
	lyxscale 40
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמה של טבלת גיבוב עם שירשור
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center

\end_layout

\end_inset


\end_layout

\begin_layout Enumerate

\series bold
גיבוב פתוח
\series default
.
 נשתמש רק בזיכרון של הטבלה, בלי זיכרון חיצוני, וכך לא נבזבז זיכרון בכלל
 שזה יותר טוב במערכות שבהם אי אפשר סתם ככה עוד ועוד זיכרון לרשימות מקשורות.
 הרעיון הוא שברגע שיש התנגשות, נמצא תא פנוי ונשים בו את הערך.
 ניתן לפרמל זאת בעזרת הוספת אינדקס חיפוש לפ' הגיבוב, כלומר 
\begin_inset Formula $h:U\times\left[0\dots m-1\right]\rightarrow\left[0\dots m-1\right]$
\end_inset

 ואז החיפוש יתבצע ע
\begin_inset Quotes erd
\end_inset

י חישוב 
\begin_inset Formula $h\left(k,0\right),h\left(k,1\right),\dots$
\end_inset

.
 הכנסה תתבצע ע
\begin_inset Quotes erd
\end_inset

י חיפוש עד שיימצא תא פנוי, ואם אחרי 
\begin_inset Formula $m$
\end_inset

 ניסיונות לא נמצא תא פנוי אז הטבלה מלאה.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/open-addressing-algorithms.png
	lyxscale 40
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתמי החיפוש וההכנסה בטבלת גיבוב פתוח
\end_layout

\end_inset


\end_layout

\end_inset

נשים לב שיכול להיות מצב שבו כשנמחק איבר כלשהו ואז ננסה למחוק עוד איבר שערך
 פ' הגיבוב על שניהם זהה, ידמה שנקבל שגיאה כי לכאורה כבר מחקנו את האיבר.
 אבל כדי להתמודד עם זה צריך פשוט לסמן את התא אחרי שמוחקים אותו בסימון מיוחד
 )השונה מ-
\lang english
NIL
\lang hebrew
( שמצביע על כך שהיה שם איבר שנמחק.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/open-addressing-example.png
	lyxscale 40
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמה של טבלת גיבוב עם גיבוב פתוח
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection*
שיטות חיפוש במיעון פתוח
\end_layout

\begin_layout Enumerate

\series bold
חיפוש לינארי
\series default
.
 
\begin_inset Formula $h\left(k,i\right)=\left(h'\left(k\right)+i\right)\mod m$
\end_inset

 כאשר 
\begin_inset Formula $h'$
\end_inset

 היא פ' גיבוב בלתי תלויה באינדקס.
 המשמעות של זה היא פשוט ללכת כל פעם איבר אחד עד שנגיע לתא ריק.
 זה יכול להיות די ארוך אם יש הרבה ערכים צמודים בלי איבר ריק ביניהם )
\lang english
Primary Clustering
\lang hebrew
(.
 במקרה שיש לנו 
\begin_inset Formula $i$
\end_inset

 תאים מלאים ואז תא ריק, ההסתברות שהתא הריק יתמלא היא 
\begin_inset Formula $\frac{i+1}{m}$
\end_inset

, שזה מגדיל את הזמן הממוצע.
\end_layout

\begin_layout Enumerate

\series bold
חיפוש ריבועי
\series default
.
 
\begin_inset Formula $h\left(k,i\right)=\left(h'\left(k\right)+c_{1}i+c_{2}i^{2}\right)\mod m$
\end_inset

 כאשר 
\begin_inset Formula $h'$
\end_inset

 היא פ' גיבוב בלתי תלויה באינדקס.
 במקרה הזה הבעיה היא ששני ערכים עם אותו ערך גיבוב יקבלו בדיוק את אותו מסלול
 חיפוש )
\lang english
Secondary Clustering
\lang hebrew
(.
\end_layout

\begin_layout Enumerate

\series bold
גיבוב כפול
\series default
.
 
\begin_inset Formula $h\left(k,i\right)=\left(h_{1}\left(k\right)+i\cdot h_{2}\left(k\right)\right)\mod m$
\end_inset

 כאשר 
\begin_inset Formula $h_{1},h_{2}$
\end_inset

 הן פ' גיבוב בלתי תלויות באינדקס.
 שיטה זו יותר יעילה מהקודמות כי למפתחות עם ערכי 
\begin_inset Formula $h_{1}$
\end_inset

 זהים עדיין לרוב יקבלו מסלול אחר.
\end_layout

\begin_layout Description
משפט בהנחת הגיבוב הפשוט, בהינתן טבלת גיבוב פתוח עם מקדם עומס של 
\begin_inset Formula $\alpha=\frac{n}{m}<1$
\end_inset

, מספר החיפושים בחיפוש לא שנכשל הוא לכל היותר 
\begin_inset Formula $\frac{1}{1-\alpha}$
\end_inset

 ומספר החיפושים בחיפוש שהצליח הוא לכל היותר 
\begin_inset Formula $\frac{1}{\alpha}\ln\frac{1}{1-\alpha}$
\end_inset

.
\end_layout

\begin_layout Description
הערה ביטויים אלו חוסמים את זמן החיפוש, וכאשר 
\begin_inset Formula $\alpha$
\end_inset

 קבוע נקבל שסיבוכיות הזמן לחיפוש היא 
\begin_inset Formula $\oo 1$
\end_inset

.
\end_layout

\begin_layout Standard
מה נחשבת פ' גיבוב טובה? פ' גיבוב טובה תפזר את המפתחות באופן אחיד על פני
 האינדקסים הנתונים.
 ישנן שתי גישות מרכזיות לפ' גיבוב.
 הראשונה - היוריסטיקה, כלומר להשתמש במשהו שנראה כאילו הוא עובד טוב בלי להוכיח
 בהכרח שהוא אכן כך, אבל בסופו של דבר הביצועים שלו אכן טובים.
 השנייה, היא לבחור פ' גיבוב אקראית מבין מאגר פ' גיבוב וכך ניתן בנוסף להגן
 מפני מתקיפים שינסו להאט ולהגריע את איכות הגיבוב שלנו.
\end_layout

\begin_layout Standard
שיטה אחת פופולרית היא שיטת החילוק, שהיא 
\begin_inset Formula $h\left(k\right)=k\mod m$
\end_inset

 כאשר 
\begin_inset Formula $m$
\end_inset

 הוא לא חזקה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)אם כן, פ' הגיבוב פשוט תיקח רק את הביטים הנמוכים( אלא מספר ראשוני שרחוק
 מחזקה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)לא ניכנס לזה, אבל בעזרת הנחה זו ניתן להגיע לכל אינדקס וההתפלגות היא די
 אחידה.
\end_layout

\begin_layout Description
דוגמה נניח שיש לנו 
\begin_inset Formula $\left|U\right|=n=2000$
\end_inset

 ונרצה 
\begin_inset Formula $c\leq3$
\end_inset

 התנגשויות בכל תא.
 מה יהיה 
\begin_inset Formula $m$
\end_inset

? נחשב 
\begin_inset Formula $\frac{n}{c}=666$
\end_inset

 ונחפש מספר ראשוני הקרוב ל-
\numeric on
666
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אבל לא לחזקה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
, לדוגמה 
\begin_inset Formula $m=701$
\end_inset

.
 לכן 
\begin_inset Formula $h\left(k\right)=k\mod701$
\end_inset

.
 ביקום הזה רק 
\begin_inset Formula $0,701,1402$
\end_inset

 ימופו ל-
\begin_inset Formula $0$
\end_inset

.
\end_layout

\begin_layout Section
תרגול
\end_layout

\begin_layout Standard
בהינתן הנחות מסוימות על הקלט, נוכל להימנע ממיון מבוסס השוואות ולקבל ביצועים
 יותר טובים מ-
\begin_inset Formula $\om{n\log n}$
\end_inset

, כלומר לינאריים, 
\begin_inset Formula $\oo n$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה מיון יציב הוא מיון כך שאם 
\begin_inset Formula $x,y$
\end_inset

 ו- 
\begin_inset Formula $x=y$
\end_inset

 ו-
\begin_inset Formula $x$
\end_inset

 קודם ל-
\begin_inset Formula $y$
\end_inset

 במערך המקורי אזי 
\begin_inset Formula $x$
\end_inset

 קודם ל-
\begin_inset Formula $y$
\end_inset

 גם במערך הממוין.
\end_layout

\begin_layout Description

\series bold
מיון
\begin_inset Formula $\;$
\end_inset

מנייה
\series default
 
\bar under
ההנחה
\bar default
: כל המספרים במערך הם מתוך 
\begin_inset Formula $\left\{ 0,\dots,k\right\} $
\end_inset

 וכן 
\begin_inset Formula $k=\oo n$
\end_inset


\begin_inset Newline newline
\end_inset


\bar under
הרעיון
\bar default
: נשמור מערך בגודל 
\begin_inset Formula $k+1$
\end_inset

 שיכיל את ה
\begin_inset Quotes erd
\end_inset

דירוגים
\begin_inset Quotes erd
\end_inset

 עבור 
\begin_inset Formula $0,\dots,k$
\end_inset

.
\begin_inset Newline newline
\end_inset


\bar under
זמן ריצה
\bar default
: לוולאה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\numeric on
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יקחו 
\begin_inset Formula $\ot k$
\end_inset

 ולולאה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\numeric on
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יקחו 
\begin_inset Formula $\ot n$
\end_inset

 ולכן סה
\begin_inset Quotes erd
\end_inset

כ נקבל 
\begin_inset Formula $\ot{2n+2k}=\ot n$
\end_inset

.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $A$
\end_inset

 הוא המערך הלא ממוין, 
\begin_inset Formula $B$
\end_inset

 הוא מערך הפלט ו-
\begin_inset Formula $k$
\end_inset

 הוא טווח המספרים.
 הרעיון בספירה הוא שברגע שנדע כמה איברים קטנים מ-
\begin_inset Formula $i$
\end_inset

 יש במערך, נדע מיד איפה לשבץ את 
\begin_inset Formula $i$
\end_inset

 )באינדקס ה-
\begin_inset Formula $i$
\end_inset

 וההמשך עד שנגמרים ה-
\begin_inset Formula $i$
\end_inset

-ים במערך המקורי(.
\end_layout

\begin_layout Standard
\noindent
\align left

\lang english
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
CountingSort(A, B, k) is
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

for i=0 to k:
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

do C[i] = 0 // zero all rankings
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

for j=1 to A.length:
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

do C[A[j]] = C[A[j+1]] + 1 // now C containes the number of elements equal
 to i
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

for i = 1 to k:
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

do C[i] = C[i] + C[i-1] // C containes the number of elements 
\begin_inset Formula $\leq$
\end_inset

 i
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

for j = A.length downto 1:
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

do B[C[A[j]]] = A[j] // place elements
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

do C[A[j]] = C[A[j]] - 1 // reduce count by 1
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CountingSort
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\noindent
\align left
\begin_inset Float table
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="8">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(1\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(2\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(3\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(4\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(5\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(6\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(7\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(8\right)$
\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset

 
\begin_inset Formula $A$
\end_inset

 בהתחלה
\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="6">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $0$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $1$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $3$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $4$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
5
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset

 
\begin_inset Formula $C$
\end_inset

 אחרי האיפוס )הלולאה הראשונה(
\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="6">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $0$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $1$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $3$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $4$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $5$
\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset

 
\begin_inset Formula $C$
\end_inset

 אחרי ספירת האיברים )הלולאה השנייה(
\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="6">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
6
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
8
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $0$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $1$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $2$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $3$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $4$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $5$
\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset

 
\begin_inset Formula $C$
\end_inset

 אחרי איסוף ספירת האיברים )הלולאה השלישית(
\end_layout

\begin_layout Plain Layout
את השלב האחרון לא נדגים כי הוא מאוד ארוך, אבל לדוגמה האיטרציה הראשונה תהיה
 לקחת את האיבר האחרון של 
\begin_inset Formula $A$
\end_inset

 )
\numeric on
3
\numeric off
(, ואז לבצע 
\begin_inset Formula $B[5]=B[C[3]]=3$
\end_inset

 ועכשיו אחד ה-
\numeric on
3
\numeric off
–ים במקום הנכון וכך גם עבור שאר האיברים.
\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמת ריצה של מיון מנייה
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Description
מיון
\begin_inset Formula $\;$
\end_inset

בסיס 
\bar under
ההנחה
\bar default
: 
\begin_inset Formula $n$
\end_inset

 מספרים עם לכל היותר 
\begin_inset Formula $d$
\end_inset

 ספרות.
\begin_inset Newline newline
\end_inset


\bar under
הרעיון
\bar default
: נמיין את המספרים כל פעם לפי ספרה אחת.
\begin_inset Newline newline
\end_inset


\bar under
זמן ריצה
\bar default
: 
\begin_inset Formula $T\left(n\right)=d\ot n=\ot n$
\end_inset

.
\begin_inset Newline newline
\end_inset

נניח כי המיון היציב הוא מיון מנייה.
\end_layout

\begin_layout Standard
\noindent
\align left

\lang english
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
RadixSort(A, d) is
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

for i=0 to d:
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

do use a stable sort to sort array 
\begin_inset Formula $A$
\end_inset

 on digit 
\begin_inset Formula $i$
\end_inset


\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RadixSort
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\noindent
\align left
\begin_inset Float table
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="8" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
המקורי
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
329
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
457
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
657
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
839
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
436
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
720
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
355
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset

 
\begin_inset Tabular
<lyxtabular version="3" rows="8" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אחדות
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
720
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
355
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
436
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
457
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
657
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
329
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
839
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset

 
\begin_inset Tabular
<lyxtabular version="3" rows="8" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
עשרות
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
720
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
329
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
436
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
839
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
355
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
457
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
657
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset

 
\begin_inset Tabular
<lyxtabular version="3" rows="8" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
מאות
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
329
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
355
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
436
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
457
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
657
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
720
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
839
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמת ריצה של מיון בסיס
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Description
משפט
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RadixSort
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מיון נכון ויציב.
\end_layout

\begin_layout Proof
נגדיר 
\begin_inset Formula $x_{i}$
\end_inset

 להיות ה-
\begin_inset Formula $i$
\end_inset

 ספרות הראשונות של 
\begin_inset Formula $x$
\end_inset

.
 כלומר אם 
\begin_inset Formula $x=2345$
\end_inset

 אז 
\begin_inset Formula $x_{1}=5$
\end_inset

, 
\begin_inset Formula $x_{2}=45$
\end_inset

 וכו'.
\end_layout

\begin_layout Proof
נוכיח באינדוקציה על 
\begin_inset Formula $i$
\end_inset

 שהמערך ממיין נכון לפי 
\begin_inset Formula $x_{i}$
\end_inset

 וכן שהוא יציב.
\end_layout

\begin_layout Proof
בסיס )
\begin_inset Formula $i=1$
\end_inset

(: עבור 
\begin_inset Formula $x_{1},y_{1}$
\end_inset

, אם 
\begin_inset Formula $x_{1}<y_{1}$
\end_inset

,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RadixSort
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ימקם את 
\begin_inset Formula $y_{1}$
\end_inset

 גבוה יותר מ-
\begin_inset Formula $x_{1}$
\end_inset

, אם 
\begin_inset Formula $x_{1}>y_{1}$
\end_inset

 אז האלגוריתם ימקם את 
\begin_inset Formula $x_{1}$
\end_inset

 גבוה יותר מ-
\begin_inset Formula $y_{1}$
\end_inset

.
 אם 
\begin_inset Formula $x_{1}=y_{1}$
\end_inset

 אז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RadixSort
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא ישנה את הסדר של 
\begin_inset Formula $x_{1},y_{1}$
\end_inset

 שכן המיון בו הוא משתמש הוא יציב.
\end_layout

\begin_layout Proof
צעד )
\begin_inset Formula $1,\dots,d-1\rightarrow d$
\end_inset

(: 
\end_layout

\begin_layout Proof
מקרה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\begin_inset Formula $x_{d}\neq y_{d}$
\end_inset

(: נניח בה
\begin_inset Quotes erd
\end_inset

כ כי 
\begin_inset Formula $x_{d}<y_{d}$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula $\qquad$
\end_inset

תת מקרה א'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)הספרה ה-
\begin_inset Formula $d$
\end_inset

 של 
\begin_inset Formula $y$
\end_inset

 גדולה מהספרה ה-
\begin_inset Formula $d$
\end_inset

 של 
\begin_inset Formula $x$
\end_inset

(.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
האלגוריתם ימיין את 
\begin_inset Formula $y_{d}$
\end_inset

 גבוה יותר מאשר 
\begin_inset Formula $x_{d}$
\end_inset

 שכן הוא משתמש במיון תקין.
\end_layout

\begin_layout Proof
\begin_inset Formula $\qquad$
\end_inset

תת מקרה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ב'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
) הספרה ה-
\begin_inset Formula $d$
\end_inset

 של 
\begin_inset Formula $y$
\end_inset

 שווה לספרה ה-
\begin_inset Formula $d$
\end_inset

 של 
\begin_inset Formula $x$
\end_inset

(.
 האלגוריתם לא ישנה את הסדר של 
\begin_inset Formula $x_{d},y_{d}$
\end_inset

 באיטרציה ה-
\begin_inset Formula $d$
\end_inset

 אבל מה
\begin_inset Quotes erd
\end_inset

א עבור 
\begin_inset Formula $x_{d-1},y_{d-1}$
\end_inset

, 
\begin_inset Formula $y_{d-1}$
\end_inset

 מוקם גבוה יותר מאשר 
\begin_inset Formula $x_{d-1}$
\end_inset

 ולכן 
\begin_inset Formula $y_{d}$
\end_inset

 ישאר במקום גבוה יותר מ-
\begin_inset Formula $x_{d}$
\end_inset

.
\end_layout

\begin_layout Proof
מקרה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\begin_inset Formula $d_{d}=y_{d}$
\end_inset

(: 
\begin_inset Formula $x_{d-1},y_{d-1}$
\end_inset

 מוקמו באותו סדר ובאיטרציה ה-
\begin_inset Formula $d$
\end_inset

, 
\begin_inset Formula $x_{d},y_{d}$
\end_inset

 ימוקמו גם באותו הסדר שכן האלגוריתם משתמש במיון יציב.
\end_layout

\begin_layout Description
מיון
\begin_inset Formula $\;$
\end_inset

דליים 
\bar under
ההנחה
\bar default
: 
\begin_inset Formula $n$
\end_inset

 מספרים בטווח 
\begin_inset Formula $\left[0,\dots,1\right]$
\end_inset

 בהתפלגות אחידה.
\begin_inset Newline newline
\end_inset


\bar under
הרעיון
\bar default
: נפצל את הטווח 
\begin_inset Formula $\left[0,1\right]$
\end_inset

 ל-
\begin_inset Formula $n$
\end_inset

 דליים )
\begin_inset Formula $\left[0,\frac{1}{n}\right],\left[\frac{1}{n},\frac{2}{n}\right],\dots,\left[\frac{n-1}{n},1\right]$
\end_inset

( ונמיין כל דלי בנפרד.
\begin_inset Newline newline
\end_inset


\bar under
זמן ריצה
\bar default
: במקרה הטוב ביותר בכל דלי יש איבר אחד ואז נקבל 
\begin_inset Formula $\oo n$
\end_inset

.
 במקרה הגרוע ביותר כולם הלכו לאותו דלי ואז יחד עם מיון הכנסה יקח סה
\begin_inset Quotes erd
\end_inset

כ 
\begin_inset Formula $\oo{n^{2}}$
\end_inset

.
 במקרה הממוצע יש מספר קבוע של איברים בכל דלי ולכן יקח סה
\begin_inset Quotes erd
\end_inset

כ 
\begin_inset Formula $\oo n$
\end_inset

.
\begin_inset Newline newline
\end_inset

מיון דליים הוא יציב אם המיון הפנימי של הדליים הוא יציב.
 במקרה שלנו מיון הכנסה הוא יציב ולכן גם מיון הדליים יציב.
\end_layout

\begin_layout Standard
\noindent
\align left

\lang english
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
BucketSort(A) is
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

initialize B as a list of 
\begin_inset Formula $n$
\end_inset

 lists
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

for i = 0 to n:
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

do insert A[i] into list B[
\begin_inset Formula $\lfloor nA[i]\rfloor$
\end_inset

)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

for i = 0 to n-1:
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

do InsertionSort(
\begin_inset Formula $B[i]$
\end_inset

)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

Concatenate lists 
\begin_inset Formula $B[0],\dots,B[n-1]$
\end_inset

 in order
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
BucketSort
\end_layout

\end_inset


\end_layout

\end_inset


\lang hebrew

\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/bucket-sort-example.png
	lyxscale 40
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמת ריצה של מיון דליים
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
אינווריאנטה סוג של אינדוקציה המתאים להוכחת קיום תכונות באלגוריתמים מסויימים.
\end_layout

\begin_layout Subsection*
שלבי האינווריאנטה
\end_layout

\begin_layout Enumerate

\series bold
אתחול
\series default
.
 הטענה נכונה לפני האיטרציה הראשונה )
\begin_inset Quotes erd
\end_inset

בסיס
\begin_inset Quotes erd
\end_inset

(.
\end_layout

\begin_layout Enumerate

\series bold
שימור
\series default
.
 אם הטענה נכונה לפני איטרציה כלשהי, אזי היא תישמר נכונה גם לפי האיטרציה
 הבאה )
\begin_inset Quotes erd
\end_inset

צעד
\begin_inset Quotes erd
\end_inset

(.
\end_layout

\begin_layout Enumerate

\series bold
סיום
\series default
.
 כשהלולאה האחרונה מסיימת, האינווריאנטה נותנת לנו תכונה שעוזרת להראות כי
 האלגוריתם נכון.
\end_layout

\begin_layout Description
דוגמה ההוכחה של היציבות והנכונות של מיון בסיס היא הוכחה באינווריאנטה.
\end_layout

\begin_layout Standard
\noindent
\align left

\lang english
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
let j = 9
\end_layout

\begin_layout Plain Layout

\lang english
for (let i = 0; i < 10; i++)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

j = j-1
\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם להוכחת נכונות באינווריאנטה
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
האינוורינאטה תוכל להיות ש- 
\begin_inset Formula $i+j=9$
\end_inset

.
 בסוף נציב 
\begin_inset Formula $i=9$
\end_inset

 ונוכיח בכך את נכונות האלגוריתם )המרתק במיוחד הזה(.
\end_layout

\begin_layout Part
שבוע 
\begin_inset Formula $\mathbb{V}$
\end_inset

 |
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Universal Hashing
\end_layout

\begin_layout Section
הרצאה
\end_layout

\begin_layout Standard
כדי למנוע את המקרה הגרוע בו כל המפתחות מותאמים לאותו תא )שכן 
\begin_inset Formula $\frac{1}{m}\left|U\right|\geq n$
\end_inset

(, נגריל פ' גיבוב רנדומלית, וכך נוכל למנוע את המקרה בו מספר גדול מאוד של
 מפתחות יותאמו לאותו התא )במקרה הממוצע(.
 בכל התקנה של טבלת גיבוב )יצירת אובייקט מסוג זה( נגריל פ' גיבוב אקראית )הדבר
 היחיד שבאמת אקראי זו ההגרלה הזו( בהסתברות אחידה לכל פ'.
 נרצה להגיע למצב של הנחת הגא
\begin_inset Quotes erd
\end_inset

פ )הגיבוב האחיד והפשוט( בלי ההנחה האידיאליסטית, שכן היא לא מתקיימת במציאות.
 כלומר, שההסתברות ש-
\begin_inset Formula $h\left(k_{1}\right)=h\left(k_{2}\right)$
\end_inset

 תהיה 
\begin_inset Formula $\frac{1}{m}$
\end_inset

.
\end_layout

\begin_layout Standard
תהי 
\begin_inset Formula $H$
\end_inset

 קבוצת סופית של פ' גיבוב הממפות מפתחות מ-
\begin_inset Formula $U$
\end_inset

 ל-
\begin_inset Formula $\left\{ 0,\dots,m-1\right\} $
\end_inset

.
\end_layout

\begin_layout Description
הגדרה נאמר כי 
\begin_inset Formula $H$
\end_inset

 
\bar under
אוניברסלית
\bar default
 אם לכל 
\begin_inset Formula $k_{1}\neq k_{2}$
\end_inset

 מספר פ' הגיבוב כך ש- 
\begin_inset Formula $h\left(k_{1}\right)=h\left(k_{2}\right)$
\end_inset

 הוא לכל היותר 
\begin_inset Formula $\frac{\left|H\right|}{m}$
\end_inset

.
\end_layout

\begin_layout Standard
הסיבה שבחרנו את 
\begin_inset Formula $\frac{\left|H\right|}{m}$
\end_inset

 היא כי אז ההסתברות להתנגשות היא 
\begin_inset Formula $\frac{1}{m}$
\end_inset

 )מהסתברות אחידה(, ובגלל ש-
\begin_inset Formula $h$
\end_inset

 נבחרת אקראית, הסיכוי לבחירה רעה הוא קטן שווה ל-
\begin_inset Formula $\frac{1}{\left|H\right|}\cdot\frac{\left|H\right|}{m}$
\end_inset

.
\end_layout

\begin_layout Description
משפט תהי 
\begin_inset Formula $h$
\end_inset

 פ' גיבוב מתוך קבוצת פ' גיבוב אוניברסלית.
 נגדיר 
\begin_inset Formula $\alpha=\frac{n}{m}$
\end_inset

 מקדם העומס.
 אז סבוכיות הזמן בתוחלת בטבלת גיבוב עם שרשור היא:
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\alpha$
\end_inset

 אם 
\begin_inset Formula $k$
\end_inset

 לא ב-
\begin_inset Formula $T$
\end_inset

.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $1+\alpha$
\end_inset

 אם 
\begin_inset Formula $k$
\end_inset

 ב-
\begin_inset Formula $T$
\end_inset

.
\end_layout

\begin_layout Description
הערה התוצאה הזו היא האורך המצופה של הרשימה בה 
\begin_inset Formula $k$
\end_inset

 יגובב.
 בנוסף זה זהה לחלוטין למשפט מההרצאה הקודמת עם הנחת הגא
\begin_inset Quotes erd
\end_inset

פ.
\end_layout

\begin_layout Description
דוגמה אם הטבלה תהיה בסופו של דבר חצי מלאה, אז 
\begin_inset Formula $\alpha=\frac{1}{2}$
\end_inset

 ואז האורך של הרשימה )בשרשור( הוא קטן מ-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם המפתח לא שם וקטן מ-
\numeric on
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם המפתח כן שם.
\end_layout

\begin_layout Proof
הסיבוכיות המצופה היא התוחלת, שכן מחוק המספרים הגדולים הממוצע מתכנס לתוחלת
 עבור מספיק ניסויים.
\end_layout

\begin_layout Proof
נסמן 
\begin_inset Formula $n_{i}$
\end_inset

 אורך הרשימה בתא ה-
\begin_inset Formula $i$
\end_inset

.
 ו-
\begin_inset Formula $E\left[n_{j}\right]$
\end_inset

 האורך הצפוי של הרשימה בכל תא )שתלוי בבחירת פ' גיבוב, לא מפתחות(.
 נגדיר מ
\begin_inset Quotes erd
\end_inset

מ אינדיקטור 
\begin_inset Formula $X_{kl}=\begin{cases}
1 & h\left(k\right)=h\left(l\right)\\
0 & \textrm{otherwise}
\end{cases}$
\end_inset

 המציין האם יש התנגשות בין המפתחות 
\begin_inset Formula $k,l$
\end_inset

.
 
\begin_inset Formula $P\left(h\left(k\right)=h\left(l\right)\right)\leq\frac{1}{m}$
\end_inset

 מהיות 
\begin_inset Formula $h$
\end_inset

 פ' גיבוב מתוך קבוצה אוניבסרלית ועבור מ
\begin_inset Quotes erd
\end_inset

מ אינדיקטורים ההסתברות והתוחלת שווים, ולכן
\begin_inset Formula 
\[
E\left[h\left(k\right)=h\left(l\right)\right]=P\left(h\left(k\right)=h\left(l\right)\right)\leq\frac{1}{m}
\]

\end_inset

נגדיר מ
\begin_inset Quotes erd
\end_inset

מ המציין את מספר ההתנגשויות של 
\begin_inset Formula $k$
\end_inset

 עם מפתחות אחרים שונים 
\begin_inset Formula $Y_{k}=\sum\limits _{l\neq k}X_{kl}$
\end_inset

.
\begin_inset Formula 
\[
E\left[Y_{k}\right]\overset{\text{לינאריות}}{=}\sum\limits _{l\neq k}E\left[X_{kl}\right]\leq\sum\limits _{l\neq k}\frac{1}{m}
\]

\end_inset


\end_layout

\begin_layout Proof

\series bold
מקרה
\family roman
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\begin_inset Formula $k\notin T$
\end_inset

(: 
\begin_inset Formula $Y_{k}$
\end_inset

 הוא מספר האיברים בתא אליו ילך 
\begin_inset Formula $k$
\end_inset

 ולכן 
\begin_inset Formula $E\left[Y_{k}\right]$
\end_inset

 הוא כמה תאים יהיו בתא אליו ילך 
\begin_inset Formula $k$
\end_inset

 בממוצע )בתוחלת(.
 כלומר 
\begin_inset Formula $n_{h\left(k\right)}=Y_{k}$
\end_inset

.
 
\begin_inset Formula $\left|\left\{ l:l\in T\land l\neq k\right\} \right|=n$
\end_inset

 ולכן
\begin_inset Formula 
\[
E\left[n_{h\left(k\right)}\right]=E\left[Y_{k}\right]\leq\sum\limits _{l\neq k}\frac{1}{m}=\frac{n}{m}=\alpha
\]

\end_inset


\end_layout

\begin_layout Proof

\series bold
מקרה
\family roman
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\begin_inset Formula $k\in T$
\end_inset

(: 
\begin_inset Formula $n_{h\left(k\right)}=Y_{k}+1$
\end_inset

 ומכאן באותו האופן כמו המקרה הקודם 
\begin_inset Formula $E\left[n_{h\left(k\right)}\right]\leq\frac{n-1}{m}+1=\alpha-\frac{1}{m}+1\leq\alpha+1$
\end_inset

.
\end_layout

\begin_layout Description
מסקנה בהינתן טבלת גיבוב עם שרשור וגיבוב אוניבסרלי בעלת 
\begin_inset Formula $m$
\end_inset

 תאים, הזמן שיקח לבצע 
\begin_inset Formula $n$
\end_inset

 פעולות הכנסה/חיפוש/מחיקה הוא 
\begin_inset Formula $\ot n$
\end_inset

 )בהנחה שנעשה 
\begin_inset Formula $\oo m$
\end_inset

 הכנסות(.
\end_layout

\begin_layout Proof
לאורך כל הפעולות, 
\begin_inset Formula $\alpha=\frac{n+\oo m}{m}=\alpha+\oo 1=\alpha$
\end_inset

 ולכן מהמשפט הנ
\begin_inset Quotes erd
\end_inset

ל יקח לנו 
\begin_inset Formula $\alpha$
\end_inset

 זמן לעשות כל אחת מה-
\begin_inset Formula $n$
\end_inset

 פעולות, כלומר 
\begin_inset Formula $\ot n$
\end_inset

 פעולות.
\end_layout

\begin_layout Description
משפט תהי 
\begin_inset Formula $h$
\end_inset

 פ' גיבוב מתוך קבוצת פ' גיבוב אוניברסלית.
 נגדיר 
\begin_inset Formula $\alpha=\frac{n}{m}<1$
\end_inset

 מקדם העומס )בגיבוב פתוח אי אפשר להכניס יותר איברים ממספר התאים(.
 אז סבוכיות הזמן בתוחלת היא:
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\frac{1}{1-\alpha}$
\end_inset

 אם 
\begin_inset Formula $k$
\end_inset

 לא ב-
\begin_inset Formula $T$
\end_inset

.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\frac{1}{\alpha}\ln\frac{1}{1-\alpha}$
\end_inset

 אם 
\begin_inset Formula $k$
\end_inset

 ב-
\begin_inset Formula $T$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה בטבלת גיבוב חצי מלאה 
\begin_inset Formula $\alpha=\frac{1}{2}$
\end_inset

 ואז בחיפוש לא מוצלח יידרש 
\begin_inset Formula $\frac{1}{1-\frac{1}{2}}=2$
\end_inset

 ובחיפוש מוצלח יידרש 
\begin_inset Formula $\frac{1}{\frac{1}{2}}\ln\frac{1}{1-\frac{1}{2}}=2\ln2$
\end_inset

.
 צעדים.
 
\end_layout

\begin_layout Proof
נגדיר 
\begin_inset Formula $X$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

מ להיות מספר הצעדים בחיפוש לא מוצלח.
 
\begin_inset Formula $X\geq i$
\end_inset

 אם כל התאים עד התא ה-
\begin_inset Formula $i$
\end_inset

 תפוסים.
 ההסתברות לכך היא 
\begin_inset Formula $P\left(X\geq i\right)=\frac{n}{m}\cdot\frac{n-1}{m-1}\cdot\dots\cdot\frac{n-i+2}{m-i+2}\overset{n\leq m}{\leq}\left(\frac{n}{m}\right)^{i-1}=\alpha^{i-1}$
\end_inset

, שכן כל פעם השאלה היא מה הסיכוי שמפתח יכנס לתא ספציפי, וזהו בדיוק החישוב.
 התוחלת של 
\begin_inset Formula $X$
\end_inset

 הוא בדיוק בממוצע מספר הצעדים שיידרשו לחיפוש לא מוצלח.
 
\begin_inset Formula 
\begin{align*}
E\left[X\right] & =\sum\limits _{i=1}^{\infty}P\left(X\geq i\right)\\
 & =\sum\limits _{i=1}^{m}P\left(X\geq i\right)+\sum\limits _{i=m+1}^{\infty}P\left(X\geq i\right)\\
 & \overset{\left(*\right)}{=}\sum\limits _{i=1}^{m}\alpha^{i-1}+0\\
 & \leq\sum\limits _{i=1}^{\infty}\alpha^{i-1}=\sum\limits _{i=0}^{\infty}\alpha^{i}=\frac{1}{1-\alpha}
\end{align*}

\end_inset


\begin_inset Formula $\left(*\right)$
\end_inset

 כי אחרי 
\begin_inset Formula $m$
\end_inset

 צעדים בהכרח נעצור כי זה אומר שהטבלה מלאה.
\end_layout

\begin_layout Proof
לא נוכיח את המקרה של החיפוש המוצלח.
\end_layout

\begin_layout Description
מסקנה גם במיעון פתוח וגם בשרשור קיבלנו שבעזרת משפחה אוניבסלית של פ' נקבל
 את אותם הביצועים כמו בעזרת הנחת הגא
\begin_inset Quotes erd
\end_inset

פ, כלומר 
\begin_inset Formula $\oo 1$
\end_inset

.
\end_layout

\begin_layout Standard
נבנה קבוצת פ' גיבוב אוניברסלית.
\end_layout

\begin_layout Standard
יהי 
\begin_inset Formula $p>m$
\end_inset

 ראשוני הגדול מכל איבר ב-
\begin_inset Formula $U$
\end_inset

.
 נגדיר פ' גיבוב
\begin_inset Formula 
\[
h_{a,b}\left(k\right)=\left(\left(ak+b\right)\mod p\right)\mod m
\]

\end_inset

וכן
\begin_inset Formula 
\[
H_{p,m}=\left\{ h_{a,b}:a,b\in Z_{p}\land a\neq0\right\} 
\]

\end_inset

נבחר אקראית את 
\begin_inset Formula $a,b$
\end_inset

 מתוך 
\begin_inset Formula $Z_{p}$
\end_inset

 בהסתברות אחידה של 
\begin_inset Formula $p\left(p-1\right)$
\end_inset

.
\end_layout

\begin_layout Description
טענה 
\begin_inset Formula $H_{p,m}$
\end_inset

 היא אוניברסלית.
\end_layout

\begin_layout Proof
יהיו 
\begin_inset Formula $k_{1}\neq k_{2}$
\end_inset

.
 נסמן 
\begin_inset Formula $r=\left(ak_{1}+b\right)\mod p,s=\left(ak_{2}+b\right)\mod p$
\end_inset

, אזי 
\begin_inset Formula $r\neq s$
\end_inset

 )מתורת המספרים 
\begin_inset Formula $\mod p$
\end_inset

 לא יוצר התנגשויות(.
 מעבר לכך, כל בחירת 
\begin_inset Formula $\left\langle a,b\right\rangle $
\end_inset

 מחזירה זוג אחר של 
\begin_inset Formula $\left\langle r,s\right\rangle $
\end_inset

.
 כלומר בחירה אקראית של 
\begin_inset Formula $\left\langle a,b\right\rangle $
\end_inset

 תספק לנו בחירה אקראית של 
\begin_inset Formula $\left\langle r,s\right\rangle $
\end_inset

.
 לא נסיים את ההוכחה.
\end_layout

\begin_layout Standard
גיבוב מושלם מגיע לביצוע של 
\begin_inset Formula $\oo 1$
\end_inset

 במקרה הגרוע ביותר, אבל הוא עושה זאת בעזרת ההנחה )המחלישה( ש-
\begin_inset Formula $U$
\end_inset

 סטטי, כלומר הוא ידוע מלכתחילה.
 הרעיון הוא שנבחר פ' גיבוב מתוך קבוצה אוניבסרלית כך שלא נקבל התנגשות, בידיעה
 מה הם המפתחות האפשריים.
\end_layout

\begin_layout Description
משפט תהי טבלת גיבוב שנרצה לשמור בה 
\begin_inset Formula $n$
\end_inset

 איברים בגודל 
\begin_inset Formula $m=n^{2}$
\end_inset

 בעזרת פ' גיבוב הנבחרת באקראי מתוך קבוצה אוניברסלית.
 אזי ההסתברות של התנגשות כלשהי היא קטנה מ-
\begin_inset Formula $\frac{1}{2}$
\end_inset

.
\end_layout

\begin_layout Description
מסקנה כדי למצוא פ' בלי התנגשויות, פשוט נגריל אקראית פ' עד שנקבל אחת בלי
 התנגשויות ולפי המשפט הנ
\begin_inset Quotes erd
\end_inset

ל יש הסתברות גבוהה לכך.
 אבל הבעיה היא שזה דורש הרבה זיכרון.
\end_layout

\begin_layout Standard
נוכל לעשות זאת גם עם 
\begin_inset Formula $\oo n$
\end_inset

 באמצעות גיבוב דו שכבתי.
 כלומר, כל תא בטבלת הגיבוב הראשית יהיה בעצמו טבלת גיבוב עם פ' גיבוב משל
 עצמו.
 הגודל של טבלאות הגיבוב המשניות יהיה מספר האיברים בהן בריבוע.
 עדיין, בטבלה המשנית אין התנגשויות ולכן המקרה הגרוע ביותר הוא גישה בזמן
 קבוע.
\end_layout

\begin_layout Standard
ננתח את הגיבוב המושלם עם גיבוב דו שכבתי.
 בשלב הראשון, גודלה של טבלת הגיבוב הוא 
\begin_inset Formula $m=n$
\end_inset

 וגודלה של כל טבלת משנית 
\begin_inset Formula $T_{j}$
\end_inset

 הוא 
\begin_inset Formula $m_{j}=n_{j}^{2}$
\end_inset

 ולכן סה
\begin_inset Quotes erd
\end_inset

כ נדרש 
\begin_inset Formula $n+\sum n_{j}^{2}$
\end_inset

.
 מה התוחלת של הגודל של סה
\begin_inset Quotes erd
\end_inset

כ טבלאות הגיבוב?
\end_layout

\begin_layout Description
משפט תהי טבלת גיבוב מושלם דו שכבתי שנרצה לשמור בה 
\begin_inset Formula $n$
\end_inset

 איברים בגודל 
\begin_inset Formula $m=n$
\end_inset

 בעזרת פ' גיבוב אקראית מתוך קבוצה אוניברסלית.
 אזי 
\begin_inset Formula $E\left[\sum\limits _{j=0}^{m-1}n_{j}^{2}\right]<2n$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
E\left[\sum\limits _{j=0}^{m-1}n_{j}^{2}\right] & =E\left[\sum\limits _{j=0}^{m-1}\left(n_{j}+2{n_{j} \choose 2}\right)\right]\\
 & =E\left[\sum\limits _{j=0}^{m-1}n_{j}\right]+2E\left[\sum\limits _{j=0}^{m-1}{n_{j} \choose 2}\right]\\
 & =E\left[n\right]+2E\left[\sum\limits _{j=0}^{m-1}{n_{j} \choose 2}\right]\\
 & \overset{\left(*\right)}{=}n+\frac{n-1}{2}<2n
\end{align*}

\end_inset


\begin_inset Formula $\left(*\right)$
\end_inset

 נשים לב כי 
\begin_inset Formula ${n_{j} \choose 2}$
\end_inset

 הוא מספר הזוגות של מפתחות המתנגשים בתא ה-
\begin_inset Formula $j$
\end_inset

 ומתכונות הגיבוב האוניברסלית, הסיכוי להתנגשות בין שני מפתחות הוא 
\begin_inset Formula $\frac{1}{m}$
\end_inset

 ולכן 
\begin_inset Formula $E\left[\sum\limits _{j=0}^{m-1}{n_{j} \choose 2}\right]={n \choose 2}\frac{1}{m}=\frac{n\left(n-1\right)}{2m}=\frac{n-1}{2}$
\end_inset

.
\end_layout

\begin_layout Proof
לסיכום, בעזרת גיבוב נוכל בהינתן מפתחות דינמיים להגיע לזמן גישה של 
\begin_inset Formula $\oo 1$
\end_inset

 בממוצע וזיכרון של 
\begin_inset Formula $\oo n$
\end_inset

 בממוצע ובהינתן קבוצת מפתחות סטטית נוכל לעשות זאת בזמן גישה 
\begin_inset Formula $\oo 1$
\end_inset

 במקרה הגרוע ביותר וזיכרון של 
\begin_inset Formula $\oo n$
\end_inset

 במקרה הגרוע ביותר.
\end_layout

\begin_layout Description
מסקנה בעזרת גיבוב מושלם דו שכבתי, בתוחלת נקבל צריכת זיכרון של 
\begin_inset Formula $\oo n$
\end_inset

 עם גישה בזמן קבוע, אידאלי!
\end_layout

\begin_layout Section
תרגול
\end_layout

\begin_layout Description
דוגמה יהי 
\begin_inset Formula $p$
\end_inset

 ראשוני, 
\begin_inset Formula $k\in\mathbb{N}$
\end_inset

.
 
\begin_inset Formula $U=\left\{ 0,\dots,p-1\right\} ^{k}$
\end_inset

.
 יהיו 
\begin_inset Formula $a\in\left\{ 0,\dots,p-1\right\} ^{k}$
\end_inset

 ו-
\begin_inset Formula $x\in U$
\end_inset

, נגדיר 
\begin_inset Formula $h_{a}:U\rightarrow\left\{ 0,\dots,p-1\right\} $
\end_inset

 ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $h_{a}\left(x_{1},\dots,x_{k}\right)=\sum\limits _{i=1}^{k}a_{i}x_{i}\left(\mod p\right)$
\end_inset

.
 נגדיר בנוסף את הקבוצה 
\begin_inset Formula $H=\left\{ h_{a}:a\in\left\{ 0,\dots,p-1\right\} ^{k}\right\} $
\end_inset

.
\end_layout

\begin_layout Description
טענה 
\begin_inset Formula $H$
\end_inset

 היא אוניברסלית.
\end_layout

\begin_layout Proof
יהיו 
\begin_inset Formula $x\neq y\in U$
\end_inset

 ו-
\begin_inset Formula $h_{a}\in H$
\end_inset

.
 נבחר 
\begin_inset Formula $p\geq m$
\end_inset

 ראשוני ונוכיח כי 
\begin_inset Formula $P\left(h_{a}\left(x\right)=h_{a}\left(y\right)\right)\leq\frac{1}{p}\leq\frac{1}{m}$
\end_inset

.
 קיים 
\begin_inset Formula $j\in\left\{ 1,\dots,k\right\} $
\end_inset

 כך ש- 
\begin_inset Formula $x_{j}\neq y_{j}$
\end_inset

.
 נגריל 
\begin_inset Formula $a\in\left\{ 0,\dots,p-1\right\} ^{k}$
\end_inset

.
\begin_inset Formula 
\[
\begin{array}{c}
h_{a}\left(x\right)=h_{a}\left(y\right)\\
\Updownarrow\\
\sum\limits _{i=1}^{k}a_{i}x_{i}=\sum\limits _{i=1}^{k}a_{i}y_{i}\left(\mod p\right)\\
\Updownarrow\\
\sum\limits _{i=1}^{k}a_{i}\left(x_{i}-y_{i}\right)=0\left(\mod p\right)\\
\Updownarrow\\
\sum\limits _{i\neq j}a_{i}\left(x_{i}-y_{i}\right)+a_{j}\left(x_{j}-y_{j}\right)=0\left(\mod p\right)\\
\Updownarrow\\
\sum\limits _{i\neq j}a_{i}\left(x_{i}-y_{i}\right)=a_{j}\left(y_{j}-x_{j}\right)\left(\mod p\right)\\
\Updownarrow\\
\frac{\sum\limits _{i\neq j}a_{i}\left(x_{i}-y_{i}\right)}{y_{j}-x_{j}}=a_{j}\left(\mod p\right)
\end{array}
\]

\end_inset

לכן
\begin_inset Formula 
\[
P\left(h_{a}\left(x\right)=h_{a}\left(y\right)\right)=P\left(\frac{\sum\limits _{i\neq j}a_{i}\left(x_{i}-y_{i}\right)}{y_{j}-x_{j}}=a_{j}\left(\mod p\right)\right)
\]

\end_inset

עתה נניח שכבר חישבנו את הסכום משמאל )ְשכן הוא לא תלוי במשתנה ההסתברותי 
\begin_inset Formula $a_{j}$
\end_inset

( ונחשב אותו 
\begin_inset Formula $\mod p$
\end_inset

.
 ההסתברות שיהיה שוויון בין הסכום ל-
\begin_inset Formula $a_{j}$
\end_inset

 הוא בדיוק 
\begin_inset Formula $\frac{1}{p}$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה הציעו אלגוריתם המקבל מערך 
\begin_inset Formula $A$
\end_inset

 ובודק אם קיימת בו שלשה אריתמטית בזמן 
\begin_inset Formula $\oo{n^{2}}$
\end_inset

 )שלשה אריתמטית היא שלישיה סדורה שהמרחק בין כל שני איברים עוקבים הוא איזה
 שהוא 
\begin_inset Formula $d$
\end_inset

(.
\end_layout

\begin_layout Description
פתרון נבנה טבלת גיבוב עם כל האיברים במערך.
 נעבור על כל זוג איברים ב-
\begin_inset Formula $A$
\end_inset

 ונבדוק האם 
\begin_inset Formula $b+\left(b-a\right)$
\end_inset

 נמצא בטבלה.
 אם כן, הרי לנו שלשה פיתגורית.
 אם עברנו על הכל ולא מצאנו אף שלשה, אז אין במערך שלשה פיתגורית.
\begin_inset Newline newline
\end_inset


\bar under
זמן ריצה
\bar default
: ראשית נייצר את הטבלה, שיקח לנו 
\begin_inset Formula $\oo n$
\end_inset

.
 נעבור על כל זוג )
\begin_inset Formula $n^{2}$
\end_inset

( ונבצע חיפוש )
\begin_inset Formula $\oo 1$
\end_inset

( כלומר סה
\begin_inset Quotes erd
\end_inset

כ נקבל 
\begin_inset Formula $\oo{n^{2}}$
\end_inset

.
\end_layout

\begin_layout Standard
בשיעור ראינו כי אנו מחפשים ומוחקים איברים בטבלת גיבוב עם שירשור ב-
\begin_inset Formula $\oo{\frac{n}{m}+1}$
\end_inset

 בתוחלת.
 מה נעשה במקרה ש-
\begin_inset Formula $n>>m$
\end_inset

?
\end_layout

\begin_layout Subsection*
טבלאות גיבוב בגדלים דינמיים
\end_layout

\begin_layout Enumerate
נגדיר רף 
\begin_inset Formula $n=\frac{3}{4}m$
\end_inset

 וכשנחצה אותו, נבנה טבלה בוגדל 
\begin_inset Formula $2m$
\end_inset

 ונעביר את האיברים מהטבלה המקורית לחדשה.
 הבעיה היא שההעתקה תיקח 
\begin_inset Formula $\oo n$
\end_inset

.
\end_layout

\begin_layout Enumerate
נחזיק שני מערכים 
\begin_inset Formula $A,B$
\end_inset

 כך ש-
\begin_inset Formula $B$
\end_inset

 גדול פי שניים מ-
\begin_inset Formula $A$
\end_inset

.
 נחזיק 
\begin_inset Formula $i$
\end_inset

 שיהיה המקום התפוס ב-
\begin_inset Formula $A$
\end_inset

 ו-
\begin_inset Formula $j$
\end_inset

 שיהיה המקום התפוס ב-
\begin_inset Formula $B$
\end_inset

.
 כל פעם שנכניס איבר, נכניס אותו גם ב-
\begin_inset Formula $A$
\end_inset

 וגם ב-
\begin_inset Formula $B$
\end_inset

 ונגדיל את 
\begin_inset Formula $i,j$
\end_inset

 בהתאמה.
 ברגע שנגיע לרף, נקרא ל-
\begin_inset Formula $B$
\end_inset

 
\begin_inset Formula $A$
\end_inset

 ונבנה מערך גדול פי שניים מ-
\begin_inset Formula $B$
\end_inset

 הישן, נקרא לו 
\begin_inset Formula $B$
\end_inset

 ונשנה האינדקסים בהתאמה.
 עכשיו, כל פעם שנכניס איבר חדש, נכניס את האיבר הרצוי גם ל-
\begin_inset Formula $A$
\end_inset

 וגם ל-
\begin_inset Formula $B$
\end_inset

 ובנוסף נעתיק עוד איבר מ-
\begin_inset Formula $A$
\end_inset

 ל-
\begin_inset Formula $B$
\end_inset

.
 כך, כשנגיע שוב לרף של 
\begin_inset Formula $A$
\end_inset

, בדיוק נסיים להעתיק את כל האיברים מ-
\begin_inset Formula $A$
\end_inset

 ל-
\begin_inset Formula $B$
\end_inset

 ואז נעשה את אותו שינוי שמות ואינדקסים שעשינו במעבר הראשון.
\begin_inset Newline newline
\end_inset

כדי למחוק איבר פשוט נמחק אותו מהמערכים ולא נעדכן את 
\begin_inset Formula $i,j$
\end_inset

 וכך נשמר את הנכונות של האלגוריתם.
\begin_inset Newline newline
\end_inset

במקרה שנרצה לשמור על סדר בטבלת הגיבוב, נבנה טבלת גיבוב של פוינטרים שתצביע
 לטבלה ממויינת.
\end_layout

\begin_layout Description
הגדרה יהיו 
\begin_inset Formula $k\in\mathbb{N}$
\end_inset

 ו-
\begin_inset Formula $H$
\end_inset

 משפחת פוקנציות 
\begin_inset Formula $U\rightarrow\left[m\right]$
\end_inset

.
 נאמר כי 
\begin_inset Formula $H$
\end_inset

 היא 
\bar under

\begin_inset Formula $k$
\end_inset

-אוניברסלית
\bar default
 אם לכל 
\begin_inset Formula $x_{1},\dots,x_{k}\in U$
\end_inset

 כך ש-
\begin_inset Formula $i\ne j\Rightarrow x_{i}\neq x_{j}$
\end_inset

 מתקיים כי לכל 
\begin_inset Formula $\left(i_{1},\dots,i_{k}\right)\in\left[m\right]^{k}$
\end_inset

, 
\begin_inset Formula $P\left(h\left(x_{1}\right)=i_{1}\land\dots\land h\left(x_{k}\right)=i_{k}\right)\leq\frac{1}{m^{k}}$
\end_inset

.
\end_layout

\begin_layout Description
טענה אם 
\begin_inset Formula $H$
\end_inset

 היא 
\begin_inset Formula $2$
\end_inset

-אוניברסלית אזי היא אוניברסלית.
\end_layout

\begin_layout Proof
יהיו 
\begin_inset Formula $x\neq y\in U$
\end_inset

, 
\begin_inset Formula $x\neq y$
\end_inset

 ונבחר 
\begin_inset Formula $h\in H$
\end_inset

 אקראית.
\begin_inset Formula 
\[
P\left(h\left(x\right)=h\left(y\right)\right)=P\left(h\left(x\right)=h\left(y\right)=1\lor\dots\lor h\left(x\right)=h\left(y\right)=m\right)\leq\sum\limits _{i=1}^{m}P\left(h\left(x\right)=h\left(y\right)=i\right)\leq\sum\limits _{i=1}^{m}\frac{1}{m^{2}}=\frac{1}{m}
\]

\end_inset


\end_layout

\begin_layout Description
משפט )אי שוויון מרקוב( יהי 
\begin_inset Formula $X$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

מ אי שלילי אזי 
\begin_inset Formula $\forall t>0$
\end_inset

 מתקיים 
\begin_inset Formula $P\left(X\geq t\right)\leq\frac{E\left[x\right]}{t}$
\end_inset

.
\end_layout

\begin_layout Description
תרגיל תהי 
\begin_inset Formula $T$
\end_inset

 טבלת גיבוב בשירשור המשתמשת במשפחה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $2$
\end_inset

-אוניברסלית עבור פ' 
\begin_inset Formula $U\to\left[m\right]$
\end_inset

.
 נניח כי אנו מכניסים 
\begin_inset Formula $m$
\end_inset

 איברים ל-
\begin_inset Formula $T$
\end_inset

.
 הראו כי ההסתברות שקיים תא עם 
\begin_inset Formula $2\sqrt{m}\leq$
\end_inset

 איברים קטנה-שווה ל-
\begin_inset Formula $\frac{1}{2}$
\end_inset

.
\end_layout

\begin_layout Description
פתרון נגדיר 
\begin_inset Formula $C_{xy}^{i}$
\end_inset

 מציין ש- 
\begin_inset Formula $x,y$
\end_inset

 נמצאים בתא ה-
\begin_inset Formula $i$
\end_inset

.
 נגדיר 
\begin_inset Formula $n_{i}$
\end_inset

 להיות מספר האיברים בתא ה-
\begin_inset Formula $i$
\end_inset

.
 מספר הזוגות בתא ה-
\begin_inset Formula $i$
\end_inset

 הוא 
\begin_inset Formula $n_{i}^{2}=\sum\limits _{\left(x,y\right)}C_{xy}^{i}$
\end_inset

.
 ההסתברות המתבקשת היא
\begin_inset Formula 
\begin{align*}
P\left(n_{i}\geq2\sqrt{m}\right) & =P\left(n_{i}^{2}\geq4m\right)\\
 & =P\left(\sum\limits _{\left(x,y\right)}C_{xy}^{i}\geq4m\right)
\end{align*}

\end_inset

ואם נחשב את 
\begin_inset Formula $E\left[\sum\limits _{\left(x,y\right)}C_{xy}^{i}\right]$
\end_inset

 ומכך נוכל להגיע גם להסתברות הרצויה.
\begin_inset Formula 
\begin{align*}
E\left[\sum\limits _{\left(x,y\right)}C_{xy}^{i}\right] & =\sum\limits _{\left(x,y\right)}E\left[C_{xy}^{i}\right]\\
 & =\sum\limits _{\left(x,x\right)}E\left[C_{xy}^{i}\right]+\sum\limits _{\left(x,y\right):x\neq y}E\left[C_{xy}^{i}\right]\\
 & \overset{\text{אינדיקטור}}{=}\sum\limits _{\left(x,x\right)}P\left(h\left(x\right)=h\left(y\right)=i\right)+\sum\limits _{\left(x,y\right):x\neq y}P\left(h\left(x\right)=h\left(y\right)=i\right)\\
 & =\dots
\end{align*}

\end_inset


\end_layout

\begin_layout Part
שבוע 
\begin_inset Formula $\mathbb{VI}$
\end_inset

 |
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Priority Queue & Heap
\end_layout

\begin_layout Section
הרצאה
\end_layout

\begin_layout Standard
נרצה לעשות מכירה פומבית, שבזמנה ניתן להוסיף, להוריד ולעדכן הצעות ושלכל אורכה
 נרצה את ההצעה המקסימלית.
\end_layout

\begin_layout Description
תור
\begin_inset Formula $\;$
\end_inset

קדימות לתור קדימות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)ַ
\lang english
Priority Queue
\lang hebrew
(
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
S
\lang hebrew
 יש ארבע פעולות:
\begin_inset Newline newline
\end_inset


\lang english
Max(S)
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 שתחזיר את הערך המקסימלי.
\begin_inset Newline newline
\end_inset


\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Insert(S, x)
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 שתכניס את הערך 
\begin_inset Formula $x$
\end_inset

.
\begin_inset Newline newline
\end_inset


\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Extract-Max(S)
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תחזיר ותוציא את הערך המקסימלי.
\begin_inset Newline newline
\end_inset


\lang english
Increase-Key(S, x, k)
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
להעלות את הערך של 
\begin_inset Formula $x$
\end_inset

 ל-
\begin_inset Formula $k$
\end_inset

.
\end_layout

\begin_layout Standard
נממש זאת עם ערימה )
\lang english
Heap
\lang hebrew
(.
\end_layout

\begin_layout Description
ערימה מבנה נתונים הממומש ע
\begin_inset Quotes erd
\end_inset

י עץ בינארי שלם, כלומר שכל הרמות של העץ מלאות, מלבד אולי האחרונה )שמתמלאת
 משמאל לימין(.
 העץ הבינארי הוא בעצם מערך )ראו דוגמה(.
 נשים לב כי בהתעלם מהתוכן, יש בדיוק עץ בינארי שלם אחד מגודל 
\begin_inset Formula $n$
\end_inset

.
 בנוסף, נדרוש כי האב יהיה גדול מכל הילדים שלו, כלומר 
\begin_inset Formula $A\left[parent\left(i\right)\right]\geq A\left[i\right]$
\end_inset

, 
\begin_inset Formula $\forall i>1$
\end_inset

 )עבור 
\begin_inset Formula $i=1$
\end_inset

 נקבל את השורש שלו אין אב(.
 לכן מההגדרה, השורש הוא האיבר הגדול ביותר )וכך גם בכל שאר תתי העצים(.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/heap-array-example.png
	lyxscale 50
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
הדגמה של מימוש של ערימה במערך
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center

\end_layout

\end_inset

הגובה של העץ הוא 
\begin_inset Formula $h=\log_{2}n$
\end_inset

 )עבור 
\begin_inset Formula $n$
\end_inset

 גודל המערך(.
 ברמה ה-
\begin_inset Formula $i$
\end_inset

 )ְבמרחק 
\begin_inset Formula $i$
\end_inset

 מהשורש( יש 
\begin_inset Formula $2^{i}$
\end_inset

 צמתים וסה
\begin_inset Quotes erd
\end_inset

כ יש 
\begin_inset Formula $2^{h}-1$
\end_inset

 צמתים פנימיים ולכל היותר 
\begin_inset Formula $2^{h}$
\end_inset

 עלים ברמה התחתונה.
 לכן מתקיים 
\begin_inset Formula $2^{h}\leq n\leq2^{h+1}-1$
\end_inset

.
 הפעולות של הערימה הן מציאת המקסימום והכנסה/הוצאה/עדכון.
 כדי לשמר על תנאי המונטוניות נשתמש בפ' עזר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Max-Heapify
\lang hebrew
.
 הפ' הזו תזיז איבר חדש שנרצה להכניס למטה כל עוד האיבר קטן מהילד שלו, ונעשה
 זאת ריקורסיבית.
 בגלל ש-
\begin_inset Formula $h=\left\lfloor \log n\right\rfloor $
\end_inset

 אזי סיבוכיות הזמן היא 
\begin_inset Formula $\oo{\log n}$
\end_inset

.
\lang english

\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
Max-Heapify(A, i)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

l = left(i)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

r = right(i)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

if l 
\begin_inset Formula $\leq$
\end_inset

 heapsize(A) and A
\begin_inset Formula $\left[l\right]$
\end_inset

 > A
\begin_inset Formula $\left[i\right]$
\end_inset


\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

largest = l
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

else
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

largest = i
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

if r 
\begin_inset Formula $\leq$
\end_inset

 heapsize(A) and A
\begin_inset Formula $\left[r\right]$
\end_inset

 > A
\begin_inset Formula $\left[largest\right]$
\end_inset


\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

largest = r
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

if largest 
\begin_inset Formula $\neq$
\end_inset

 i
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

Exchange(A[i], A[largest])
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

Max-Heapify(A, largest)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Max-Heapify
\end_layout

\end_inset


\end_layout

\end_inset


\lang hebrew
הזמן שמושקע על עץ בגודל 
\begin_inset Formula $n$
\end_inset

 הוא 
\begin_inset Formula $\ot 1$
\end_inset

 ואז קריאה ריקורסיבית על הילד של 
\begin_inset Formula $A\left[i\right]$
\end_inset

.
 מה הגודל של תת העץ )הילד של 
\begin_inset Formula $A\left[i\right]$
\end_inset

(? במקרה המאוזן זה יהיה 
\begin_inset Formula $\frac{n}{2}$
\end_inset

.
 במקרה הכי פחות מאוזן נקבל שיש 
\begin_inset Formula $\frac{2n}{3}$
\end_inset

 בחצי השמאלי ו-
\begin_inset Formula $\frac{n}{3}$
\end_inset

 בחצי הימני )ראו איור(.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/unbalanced-complete-binary-tree.png
	lyxscale 50
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
עץ שלם לא מאוזן
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center

\end_layout

\end_inset

לכן במקרה הגרוע 
\begin_inset Formula $T\left(\frac{n}{2}\right)+\ot 1\leq T\left(n\right)\leq T\left(\frac{2n}{3}\right)+\ot 1$
\end_inset

.
 ממשפט האב, החסם התחתון הוא 
\begin_inset Formula $\log n$
\end_inset

 וגם העליון הוא 
\begin_inset Formula $\log n$
\end_inset

 ולכן 
\begin_inset Formula $T\left(n\right)=\ot{\log n}$
\end_inset

.
\begin_inset Newline newline
\end_inset

עתה נרצה לבנות את הערימה.
 נשתמש בפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Build-Max-Heap
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אשר מקבלת מערך ויוצרת ממנה מערך תקין.
 הרעיון הוא שאנו מניחים שהרמה התחתונה כבר במקום, ואז נקרא ריקורסיבית ל-
\lang english
MaxHeapify
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מלמטה למעלה על כל שאר האיברים שעוד לא עברנו עליהם.
\series bold
\lang english

\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
BuildMaxHeap(A)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

for i = 
\begin_inset Formula $\lfloor\frac{A.length}{2}\rfloor$
\end_inset

 downto 1
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

MaxHeapify(A, i)
\end_layout

\begin_layout Plain Layout

\series bold
\lang english
\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
BuildMaxHeap
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Description
טענה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
BuildMaxHeap
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 יוצר ערימה תקינה.
\end_layout

\begin_layout Proof
נוכיח באינווריאנטה.
 האינווריאנטה שלנו במקרה הזה תהיה שבאיטרציה ה-
\begin_inset Formula $i$
\end_inset

, כל האיברים מימין ל-
\begin_inset Formula $i$
\end_inset

 )
\begin_inset Formula $i+1,\dots,n$
\end_inset

( הם שורשים של ערימות תקינות.
\end_layout

\begin_layout Proof
אתחול: 
\begin_inset Formula $i=\lfloor\frac{n}{2}\rfloor$
\end_inset

 כל 
\begin_inset Formula $i'>i$
\end_inset

 הוא עלה ולכן ראש של ערימה בגודל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
באופן ריק.
\end_layout

\begin_layout Proof
שימור: כל הילדים של 
\begin_inset Formula $A\left[i\right]$
\end_inset

 הם ראשים של ערימות ואחרי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Max-Heapify
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נקבל כי 
\begin_inset Formula $A\left[i\right]$
\end_inset

 גדול משני הילדים שלו והילדים שלו ישארו ראשי ערימות תקינות.
\end_layout

\begin_layout Proof
סיום: הריצה נגמרת ב-
\begin_inset Formula $i=1$
\end_inset

, כלומר ש-
\begin_inset Formula $A\left[1\right]$
\end_inset

 הוא ראש של ערימה תקינה.
\end_layout

\begin_layout Standard
מבחינה נאיבית, אנחנו מריצים פעולה של 
\begin_inset Formula $\log n$
\end_inset

, 
\begin_inset Formula $\frac{n}{2}$
\end_inset

 פעמים ולכן זה 
\begin_inset Formula $\oo{n\log n}$
\end_inset

.
 זה נכון אבל לא אדוק.
 כי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Max-Heapify
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
רץ יותר זול ככל שהוא יורד יותר למטה.
\end_layout

\begin_layout Standard
נשתמש בטענה שימושית, שאומרת שלכל גובה בין 
\begin_inset Formula $0\leq h\leq\lfloor\log_{2}n\rfloor$
\end_inset

, מספר הקודקודים בגובה 
\begin_inset Formula $h$
\end_inset

 הוא לכל היותר 
\begin_inset Formula $\lceil\frac{n}{2^{h+1}}\rceil$
\end_inset

.
\end_layout

\begin_layout Standard
לכל קודקוד העבודה פרופורצנית לגובה.
 עבור גובה 
\begin_inset Formula $h$
\end_inset

, העבודה היא 
\begin_inset Formula $\lceil\frac{n}{2^{h+1}}\rceil\oo h$
\end_inset

 ולכן
\begin_inset Formula 
\[
T\left(n\right)\leq\sum\limits _{h=0}^{\lfloor\log n\rfloor}\lceil\frac{n}{2^{h+1}}\rceil\oo h=\oo{n\sum\limits _{h=0}^{\lfloor\log n\rfloor}\frac{h}{2^{h}}}=\oo{n\sum\limits _{h=0}^{\infty}\frac{h}{2^{h}}}\overset{\left(*\right)}{=}\oo n
\]

\end_inset


\begin_inset Formula $\left(*\right)$
\end_inset

 נשתמש בעובדה ש-
\begin_inset Formula $\sum\limits _{k=0}^{\infty}kx^{k}=\frac{x}{\left(1-x\right)^{2}}$
\end_inset

.
\end_layout

\begin_layout Standard
כלומר קיבלנו שלוקח לבנות את הערימה ב-
\begin_inset Formula $\oo n$
\end_inset

.
\end_layout

\begin_layout Standard
נראה כיצד ניתן למיין במקום בסיבוכיות 
\begin_inset Formula $\oo{n\log n}$
\end_inset

 בעזרת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MaxHeapify
\lang hebrew
.
 נבנה את הערימה בהתחלה ואז נמצא את האיבר המקסימלי, נשים אותו בסוף המערך
 )המקום הנכון שלו בסופו של דבר(, נתקן את שאר המערך )כל זה באמצעות 
\lang english
MaxHeapify
\lang hebrew
( ונפעיל ריקורסיבית.
\lang english

\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
ׁHeapSort(A)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

BuildMaxHeap(A)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

heapsize(A) = length(A)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

for i = length(A) downto 2
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

Exchange(A[i], A[1])
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

heapsize(1)–
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

MaxHeapify(A, i)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
HeapSort
\end_layout

\end_inset

ׁ
\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\lang hebrew
לוקח 
\begin_inset Formula $\oo n$
\end_inset

 ליצור את הערימה בהתחלה ואז אנחנו קוראים 
\begin_inset Formula $n$
\end_inset

 פעמים ל-
\lang english
MaxHeapify
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלוקח 
\begin_inset Formula $\oo{\log n}$
\end_inset

, כלומר סה
\begin_inset Quotes erd
\end_inset

כ 
\begin_inset Formula $\oo{n\log n}$
\end_inset

 ובגלל שזה מבוסס השוואות אז זה 
\begin_inset Formula $\ot{n\log n}$
\end_inset

.
\end_layout

\begin_layout Standard
נרצה לממש את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
HeapExtractMax
\lang hebrew
.
 נעשה זאת ע
\begin_inset Quotes erd
\end_inset

י מציאת האיבר המינימלי בעץ, נציב אותו בשורש ונקרא ל-
\lang english
MaxHeapify
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והוא כבר יסדר את השאר.
\end_layout

\begin_layout Section
תרגול
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/heap-ta-example.png
	lyxscale 30
	scale 50

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמה ליישום של ערימה במערך
\end_layout

\end_inset


\end_layout

\end_inset

בערימה האב גדול מכל הצאצאים שלו.
 העלים בערימה נמצאים ב-
\begin_inset Formula $\lceil\frac{n}{2}\rceil$
\end_inset

 עד 
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_layout Standard
כדי לתקן את הערימה נפעפע את האיבר למטה עד שלא תהיה בעיה עם השורש שעליו אנו
 מסתכלים.
\end_layout

\begin_layout Standard
כדי למחוק את האיבר המקסימלי נמחק את האיבר האחרון בערימה ונשים את ערכו בשורש
 ונריץ את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MaxHeapify
\lang hebrew
.
\lang english

\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
HeapExtractMax(A)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

if heapsize(A) < 1
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

error 
\begin_inset Quotes eld
\end_inset

heap underflow
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

max = A[1] // 1 is the first index
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

A[1] = A[heapsize(A)]
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

heapsize(A)–
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

MaxHeapify(A, 1)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

return max
\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם 
\lang english
HeapExtractMax
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
כדי להעלות את ערכו של קודקוד מסוים, נשנה את ערכו ונפעפע אותו למעלה עד שנקבל
 ערימה תקינה.
\lang english

\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
IncreaseKey(A, i, key)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

if key < A[i]
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

error 
\begin_inset Quotes eld
\end_inset

new key is smaller
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

A[i] = key
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

while i > 1 and A[parent(i)] < A[i]
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

Exchange(A[i], A[parent(i)])
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

i = parent(i)
\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
IncreaseKey
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
כדי להכניס איבר נכניס את 
\begin_inset Formula $-\infty$
\end_inset

 כאיבר האחרון ואז נבצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
IncreaseKey
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לו בערך הרצוי.
\lang english

\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
HeapInsert(A, i, key)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

heapsize(A)++
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

A[heapsize] = -
\begin_inset Formula $\infty$
\end_inset


\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

IncreaseKey(A, heapsize(A), key)
\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
HeapInsert
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
כדי למחוק איבר נחליף את 
\begin_inset Formula $A\left[i\right]$
\end_inset

 עם האיבר האחרון.
 נמחק את האיבר האחרון ונבצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MaxHeapify(A, i)
\lang hebrew
.
\end_layout

\begin_layout Description
ערימת
\begin_inset Formula $\;$
\end_inset

מינימום ערימה סימטרית לערמת מקסימום המשמרת את התכונה )ההפוכה( 
\begin_inset Formula $A\left[i\right]\geq A\left[parent(i)\right]$
\end_inset

, 
\begin_inset Formula $\forall i\in\left[n\right]$
\end_inset

.
 לערימה זו נבנה פעולות מקבילות ואנלוגיות לערימת מסקימום.
\end_layout

\begin_layout Description
הגדרה 
\bar under
חציון
\bar default
 הוא מספר השייך לקבוצה של מספרים כך שמס' האיברים שגדולים ממנו וקטנים ממנו
 שווים.
 לצרכנינו, אם בקבוצה מס' זוגי של איברים, נבחר את הגדול מבין השניים.
\end_layout

\begin_layout Description
ערימת
\begin_inset Formula $\;$
\end_inset

חציון נגדיר שתי ערימות, 
\begin_inset Formula $A$
\end_inset

-ערימת מקסימום, 
\begin_inset Formula $B$
\end_inset

-ערימת מינימום ונדרוש כי כל האיברים ב-
\begin_inset Formula $A$
\end_inset

 קטנים מכל האיברים ב-
\begin_inset Formula $B$
\end_inset

 וגם כי 
\begin_inset Formula $n_{A}=n_{B}$
\end_inset

 )אם יש מס' כולל זוגי של איברים( או 
\begin_inset Formula $n_{A}=n_{B}-1$
\end_inset

 )אם יש מספר אי זוגי של איברים(.
 ואז כדי להחזיר את החציון פשוט נחזיר את השורש של 
\begin_inset Formula $B$
\end_inset

.
 עבור הכנסת איבר יש ארבעה מקרים:
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\left(i\right)$
\end_inset

 
\begin_inset Formula $n_{A}=n_{B}$
\end_inset

 וגם 
\begin_inset Formula $v\geq rootA$
\end_inset

.
 במקרה זה נבצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
B.insert(v)
\lang hebrew
.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\left(ii\right)$
\end_inset

 
\begin_inset Formula $n_{A}=n_{B}$
\end_inset

 וגם 
\begin_inset Formula $v<rootA$
\end_inset

.
 במקרה זה נבצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
B.insert(A.extractMax())
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
A.insert(v)
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כדי לשמור על המאזן במספרים.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\left(iii\right)$
\end_inset

 
\begin_inset Formula $n_{A}=n_{B}-1$
\end_inset

 וגם 
\begin_inset Formula $v\geq rootA$
\end_inset

.
 במקרה זה נבצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
A.insert(B.extractMin())
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
B.insert(v)
\lang hebrew
.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\left(iv\right)$
\end_inset

 
\begin_inset Formula $n_{A}=n_{B}-1$
\end_inset

 וגם 
\begin_inset Formula $v<rootA$
\end_inset

.
 במקרה זה נבצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
A.insert(v)
\lang hebrew
.
\end_layout

\begin_layout Description
טבלת
\begin_inset Formula $\;$
\end_inset

יאנג טבלת יאנג היא מטריצה בגודל 
\begin_inset Formula $m\times n$
\end_inset

 כך שכל שורה ממויינת )משמאל לימין( על וכל עמודה ממויינת מלמעלה למטה(.
 חלק מהאיברים הם 
\begin_inset Formula $\infty$
\end_inset

 ונחשבים כאיברים לא קיימים.
\begin_inset Float table
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\infty$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
12
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
14
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\infty$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
8
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
16
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\infty$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\infty$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
9
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\infty$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\infty$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\infty$
\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמה לטבלת יאנג
\end_layout

\end_inset


\end_layout

\end_inset

ככל שהולכים ימינה או למטה גדלים בערך.
\begin_inset Newline newline
\end_inset

כדי להוציא את האיבר המינימלי, נשים במקומו 
\begin_inset Formula $\infty$
\end_inset

 ואז נפעפע אותו למטה )וימינה( עד למיקום הנכון.
 זה יקח 
\begin_inset Formula $\oo{n+m}$
\end_inset

.
 את הפיעפוע נעשה פשוט באמצעות בדיקה של האם האיבר נמצא במקום הנכון מבחינת
 סדר ביחס לאיברים מימינו מתחתיו.
 אם כן, אז הוא במקום הנכון.
 אחרת, נחליף אותו עם האיבר המקסימלי ונחזור להתחלה.
\begin_inset Newline newline
\end_inset

כדי לשנות את ערכו של איבר נשנה את ערכו ואז נפעפע אותו למעלה באמצעות האלגוריתם
 הסימטרי לפעפוע למטה.
\begin_inset Newline newline
\end_inset

כדי להכניס איבר נשנה את ערכו של האיבר האחרון )
\begin_inset Formula $Y\left[m,n\right]$
\end_inset

( )רק אם האיבר האחרון הוא 
\begin_inset Formula $\infty$
\end_inset

, אם הוא לא זה אומר שהטבלה מלאה( לערך הרצוי ונפעפע אותו למעלה כמו בשינוי
 ערכו של איבר.
\begin_inset Newline newline
\end_inset

כדי למיין מערך בגודל 
\begin_inset Formula $n^{2}$
\end_inset

, נכניס את כל האיברים אל תוך טבלת היאנג ואז נבצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ExtractMin
\lang hebrew
 
\begin_inset Formula $n^{2}$
\end_inset

 פעמים ונקבל מערך ממויין.
 הסיבוכיות היא 
\begin_inset Formula $n^{2}\oo{2n}=\oo{n^{3}}$
\end_inset

, אבל אנחנו יודעים כי מיונים על מערך בגודל 
\begin_inset Formula $n^{2}$
\end_inset

 הם
\begin_inset Formula 
\[
\om{n^{2}\log n^{2}}=\om{n^{2}2\log n}=\om{n^{2}\log n}
\]

\end_inset

ולכן האלגוריתם הזה לא נותן לנו ביצועים טובים כפי שהיינו רוצים.
\end_layout

\begin_layout Part
שבוע 
\begin_inset Formula $\mathbb{VII}$
\end_inset

 |
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Binary Search Tree & AVL
\end_layout

\begin_layout Section
הרצאה
\end_layout

\begin_layout Standard
נרצה מבנה נתונים שנוכל להכניס ולהוציא ממנו איברים )לכן מערך סטטי לא יעבוד(
 וגם לשמור על סדר ביניהם )לכן טבלאות גיבוב לא יעבדו(.
 נרצה לממש חיפוש, הוצאה והכנסה, מינימום/מקסימום ועוקב/קודם.
 נשתמש בשביל זה בעצים בינאריים.
\end_layout

\begin_layout Standard
בעץ בינארי יש שורש, קודקודים פנימיים, עם לכל היותר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ילדים ועלים.
 לכל קודקוד יש ארבע שדות,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Key, Left, Right, Parent
\lang hebrew
, ואם הקודקוד הוא עלה אז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Left, Right
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שניהם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
null
\lang hebrew
.
 התכונה המרכזית של עצי חיפוש בינארי היא שלכל קודקוד 
\begin_inset Formula $l$
\end_inset

 בתת העץ השמאלי של 
\begin_inset Formula $x$
\end_inset

 מתקיים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
l.key
\begin_inset Formula $\leq$
\end_inset

x.key
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכל קודקוד 
\begin_inset Formula $r$
\end_inset

 בתת העץ הימני של 
\begin_inset Formula $x$
\end_inset

 מתקיים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
r.key
\begin_inset Formula $\geq$
\end_inset

x.key
\lang hebrew
.
 אם כן, תת עץ של עץ חיפוש בינארי גם הוא עץ חיפוש בינארי.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $S=\left(2,3,5,5,7,8\right)$
\end_inset

.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/bst-example.png
	lyxscale 39
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
עצים בינאריים שונים על אותו אוסף
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/tree-search.png
	lyxscale 30
	scale 50

\end_inset


\begin_inset Graphics
	filename img/iterative-tree-search.png
	lyxscale 30
	scale 50

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתמי חיפוש בעץ חיפוש בינארי )ריקורסיבי ואיטרטיבי(
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center

\end_layout

\end_inset


\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/min-max-tree.png
	lyxscale 30
	scale 50

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתמי מציאת מינימום ומקסימום בעץ חיפוש בינארי
\end_layout

\end_inset


\end_layout

\end_inset

סיבוכיות אלגוריתם החיפוש ואלגוריתם מציאת המינימום והמקסימום הם 
\begin_inset Formula $\oo h$
\end_inset

 כאשר 
\begin_inset Formula $h$
\end_inset

 הוא הגובה של העץ.
 הסיבה לכך שהמינימום נמצא הכי נמוך משמאל היא שכל קודקוד אחר או שהגענו אליו
 בעזרת פניה ימינה או שיש עוד איבר מתחתיו הקטן-שווה לו.
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/inorder-traverse.png
	lyxscale 30
	scale 50

\end_inset


\begin_inset Graphics
	filename img/pre-post-order-traverse.png
	lyxscale 40
	scale 50

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתמי הדפסה בעץ חיפוש בינארי
\end_layout

\end_inset


\end_layout

\end_inset

סיבוכיות אלגוריתמי ההדפסה היא 
\begin_inset Formula $\oo n$
\end_inset

 )אנו עוברים בדיוק פעם אחת על כל איבר(.
 בגלל ש-
\lang english
InorderTreeWalk
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא 
\begin_inset Formula $\oo n$
\end_inset

 והוא מדפיס את האיברים לפי הסדר, אזי בהכרח שלבנות את העץ יקח 
\begin_inset Formula $\om{n\log n}$
\end_inset

 )כי זוהי בעצם שיטה למיון מערכים(.
\end_layout

\begin_layout Description
הגדרה 
\bar under
העוקב
\bar default
 של 
\begin_inset Formula $x$
\end_inset

 הוא 
\begin_inset Formula $y$
\end_inset

 עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
y.key
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 המינימלי הגדול מ-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
x.key
\lang hebrew
.
\end_layout

\begin_layout Standard
אם 
\begin_inset Formula $x$
\end_inset

 הוא המקסימום אז העוקב שלו הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
null
\lang hebrew
.
 אם יש ל-
\begin_inset Formula $x$
\end_inset

 תת עץ ימני אז זה האיבר המינימלי שם.
 אחרת, זהו האב הקדמון הנמוך ביותר כך שבנו השמאלי הוא 
\begin_inset Formula $x$
\end_inset

 או אב קדמון של 
\begin_inset Formula $x$
\end_inset

, כלומר בעיקרון פשוט נעלה למעלה עד שנמצא מקום בו נוכל לפנות שמאלה ונחזיר
 את הערך הזה.
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/tree-successor.png
	lyxscale 30
	scale 50

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם מציאת העוקב
\end_layout

\end_inset


\end_layout

\end_inset

רעיון האלגוריתם הוא כל פעם לעלות זוג עד שמוצאים זוג שהוא לא אב-בן ימני אלא
 אב-בן שמאלי.
\end_layout

\begin_layout Description
טענה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
TreeSuccessor
\lang hebrew
 הוא אלגוריתם שמוצא את העוקב של 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Proof
אם ל-
\begin_inset Formula $x$
\end_inset

 אין ילד ימני אז העוקב של 
\begin_inset Formula $x$
\end_inset

 הוא האב הקדמון הראשון של 
\begin_inset Formula $x$
\end_inset

 שהילד השמאלי שלו הוא גם אב קדמון של 
\begin_inset Formula $x$
\end_inset

 ואם אין אב קדמון, אז 
\begin_inset Formula $x$
\end_inset

 מקסימלי ולכן העוקב הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
null
\lang hebrew
.
 כדי להראות ש-
\begin_inset Formula $y$
\end_inset

 הוא אכן העוקב של 
\begin_inset Formula $x$
\end_inset

, נצטרך להוכיח כי 
\begin_inset Formula $y.key>x.key$
\end_inset

 וכן ש-
\begin_inset Formula $x$
\end_inset

 הוא המקסימום מבין כל האיברים הקטנים מ-
\begin_inset Formula $y$
\end_inset

.
 נעלה למעלה על הילדים הימניים החל מ-
\begin_inset Formula $x$
\end_inset

 עד שנעצור.
 נסמן ב-
\begin_inset Formula $z$
\end_inset

 את הקודקוד בו עצרנו ו-
\begin_inset Formula $y=z.parent$
\end_inset

.
 נשים לב כי 
\begin_inset Formula $x$
\end_inset

 הוא המקסימום של תת העץ ששורשו ב-
\begin_inset Formula $x$
\end_inset

 )שכן הוא הכי ימני בתת העץ(.
 מתקיים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
y.key
\begin_inset Formula $\geq$
\end_inset

x.key
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שכן 
\begin_inset Formula $x$
\end_inset

 נמצא בתת-העץ הימני של 
\begin_inset Formula $y$
\end_inset

.
 
\begin_inset Formula $x$
\end_inset

 הוא המקסימום של כל האיברים הקטנים מ-
\begin_inset Formula $y$
\end_inset

 כי כל האיברים הקטנים מ-
\begin_inset Formula $y$
\end_inset

 נמצאים בתת העץ הזה ו-
\begin_inset Formula $x$
\end_inset

 הוא המקסימום שלו.
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/tree-insert.png
	lyxscale 30
	scale 50

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם הכנסת איבר לעץ
\end_layout

\end_inset


\end_layout

\end_inset

נרד כל הדרך למטה לפי היחס של 
\begin_inset Formula $x$
\end_inset

 לשאר הערכים בעץ ואז נכניס אותו בצד הנכון ביחס לאיבר האחרון שאליו הגענו
 וזה יהיה מקומו.
\end_layout

\begin_layout Proof
עבור המחיקה יש שלושה מקרים:
\end_layout

\begin_layout Proof
אם ל-
\begin_inset Formula $z$
\end_inset

 אין ילדים, פשוט נמחק אותו.
\end_layout

\begin_layout Proof
אם ל-
\begin_inset Formula $z$
\end_inset

 יש ילד אחד, נמחק את 
\begin_inset Formula $z$
\end_inset

 ונחבר את הילד לאב של 
\begin_inset Formula $z$
\end_inset

.
\end_layout

\begin_layout Proof
אם ל-
\begin_inset Formula $z$
\end_inset

 יש שני ילדים, נרצה להשתמש בעוקב כדי למחוק באופן תקין.
 נחליף את 
\begin_inset Formula $z$
\end_inset

 בעוקב שלו ונתקן את מה שקרה כשמשכנו את העוקב )שזה קל כי יש לו לכל היותר
 ילד אחד, כי אם היו לו שניים אז היינו יכולים לרדת עוד ימינה בתת העץ של 
\begin_inset Formula $z$
\end_inset

 ואז זה לא היה העוקב(.
\end_layout

\begin_layout Proof
בעזרת אלגוריתם זה, נשמור על התכונה של עצי חיפוש בינאריים.
\end_layout

\begin_layout Proof
כדי לממש את האלגוריתם הזה נגדיר פ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Transplant
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אשר תחליף תת-עץ אחד באחר.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/delete-example.png
	lyxscale 30
	scale 50

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
המקרה שבו יש לקודקוד הנמחק שני ילדים
\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/transplant.png
	lyxscale 30
	scale 50

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם החלפת תתי-עצים
\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/tree-delete.png
	lyxscale 30
	scale 50

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם מחיקת איבר מעץ חיפוש בינארי
\end_layout

\end_inset


\end_layout

\end_inset

הסיבוכיות של מחיקה במקרים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\numeric on
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא 
\begin_inset Formula $\ot 1$
\end_inset

 ובמקרה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא 
\begin_inset Formula $\ot h$
\end_inset

.
\end_layout

\begin_layout Proof
כדי שהסיבוכיות תהיה מינימלית, נרצה ש-
\begin_inset Formula $h$
\end_inset

 יהיה מינימלי, כלומר 
\begin_inset Formula $\log n$
\end_inset

.
\end_layout

\begin_layout Proof
נרצה שהעץ יהיה מאוזן אבל לא מאוזן לחלוטין כי זה מאוד יקר.
 נשתמש בעצי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
AVL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שדורשים שהפרש הגבהים בין תתי-עצים יהיה לכל היותר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
 זה מבטיח כי 
\begin_inset Formula $h=\lfloor\log_{2}n\rfloor$
\end_inset

 ולכן פעולות יעלו 
\begin_inset Formula $\ot{\log n}$
\end_inset

.
 כדי לשמור על תכונה זו, נאזן מחדש את העץ כל פעם שצריך.
\end_layout

\begin_layout Description
הגדרה עץ חיפוש בינארי הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
AVL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם 
\begin_inset Formula $T$
\end_inset

 אינו ריק, אם תתי העץ הימני והשמאלי של 
\begin_inset Formula $T$
\end_inset

 גם הם עצי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
AVL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואם הפרש הגבהים בין העץ השמאלי לימני הוא 
\begin_inset Formula $-1,0,1$
\end_inset

.
\end_layout

\begin_layout Standard
נגדיר לכל קודקוד את הפרש הגובה בין תתי העץ שלו 
\begin_inset Formula $hd\left(x\right)$
\end_inset

 להיות אפס אם אין לו ילדים ו-
\begin_inset Formula $hd\left(x\right)=left\;height-right\;height$
\end_inset

 )עם הסימן( אחרת.
 לכן הגובה של עץ ריק הוא 
\numeric on
-1
\numeric off
.
 בעץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
AVL
\lang hebrew
 
\begin_inset Formula $hd\left(x\right)$
\end_inset

 הוא תמיד 
\begin_inset Formula $-1,0,1$
\end_inset

.
\end_layout

\begin_layout Description
משפט הגובה של עץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
AVL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא 
\begin_inset Formula $\ot{\log n}$
\end_inset

 )ובפרט הוא לכל היותר 
\begin_inset Formula $1.44\cdot\log_{2}\left(n+2\right)-0.328$
\end_inset

(.
\end_layout

\begin_layout Standard
נכניס ונוציא איברים כמו בעץ חיפוש בינארי ואז נתקן את הפרשי הגובה לאחר מכן.
 מספר תתי-העצים המושפעים הם 
\begin_inset Formula $\oo h$
\end_inset

 בהכנסה )מהעלה ועד לשורש( וגם במחיקה )מהקודקוד שנמחק ועד לעץ במקרים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\numeric on
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וגם תתי העצים של האיבר שנמחק במקרה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
(.
\end_layout

\begin_layout Standard
הכנסה משנה את הגבהים בלכל היותר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
 נחשב מחדש את הפרשי הגבהים )
\begin_inset Formula $\oo h$
\end_inset

(.
 אם הגבהים תקינים נפסיק.
 אחרת, נאזן מחדש את העץ באמצעות רוטציה.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/rotation-example.png
	lyxscale 30
	scale 50

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמה לסיבוב העץ לשם איזונו
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center

\end_layout

\end_inset

ישנם ארבעה מקרים כשצריך לאזן את 
\begin_inset Formula $x$
\end_inset

 אחרי הכנסת איבר חדש:
\end_layout

\begin_layout Enumerate
הכנסה בתת העץ השמאלי של הילד השמאלי של 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Enumerate
הכנסה בתת העץ הימני של הילד השמאלי של 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Enumerate
הכנסה בתת העץ השמאלי של הילד הימני של 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Enumerate
הכנסה בתת העץ הימני של הילד הימני של 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Standard
מקרים 
\begin_inset Formula $1,4$
\end_inset

 הם סימטריים וידרשו סיבוב אחד ומקרים 
\begin_inset Formula $2,3$
\end_inset

 גם הם סימטרים אך ידרשו שני סיבובים.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/left-left-rot.png
	lyxscale 30
	scale 50

\end_inset


\begin_inset Graphics
	filename img/abstract-left-left-rot.png
	lyxscale 30
	scale 50

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
סיבוב במקרה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\end_layout

\end_inset


\end_layout

\end_inset

אחרי הכנסה וסיבוב אחד, תת העץ הוא באותו הגובה כמו המקורי ולכן שאר העץ עדיין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
AVL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וחזרנו לאיזון.
\end_layout

\begin_layout Description
מסקנה מספיק לעשות רוטציה רק על האיבר הראשון )מהעלה לשורש( שבו האיזון מופר.
\end_layout

\begin_layout Standard
רוטציה לוקחת 
\begin_inset Formula $\ot 1$
\end_inset

 ומציאת הקודקוד לוקחת 
\begin_inset Formula $\ot{\log n}$
\end_inset

.
\end_layout

\begin_layout Standard
אחרי מחיקה ייתכן שנצטרך לבצע 
\begin_inset Formula $\ot{\log n}$
\end_inset

 רוטציות לאורך הדרך שבין השורש לעלה אבל עדיין אותן רוטציות פשוטות.
\end_layout

\begin_layout Section
תרגול
\end_layout

\begin_layout Standard
גורם האיזון של קודקוד 
\begin_inset Formula $v$
\end_inset

 הוא 
\begin_inset Formula $\textrm{hd}\left(v\right)=\textrm{left.height-right.height}$
\end_inset

.
\end_layout

\begin_layout Standard
כדי לאזן עץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
AVL
\lang hebrew
, נבצע פעולות רוטציה על הקודקודים.
 להלן שתי הפעולות הבסיסיות.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/left-right-rotate.png
	lyxscale 30
	scale 50

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
רוטציות בעץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
AVL
\end_layout

\end_inset


\end_layout

\end_inset

נשתכנע כי: )כל האיברים ב-
\begin_inset Formula $\gamma$
\end_inset

(
\begin_inset Formula $y\leq$
\end_inset


\begin_inset Formula $<$
\end_inset

)כל האיברים ב-
\begin_inset Formula $\beta$
\end_inset

(
\begin_inset Formula $<x\le$
\end_inset

)כל האיברים ב-
\begin_inset Formula $\alpha$
\end_inset

(.
\end_layout

\begin_layout Subsection*
סוגי הפרות איזון בעץ
\family roman
\series bold
\shape up
\size large
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
AVL
\end_layout

\begin_layout Enumerate
\begin_inset Formula $LL$
\end_inset

: העץ נוטה כולו שמאלה, 
\begin_inset Formula $hd\left(v\right)=2$
\end_inset

, 
\begin_inset Formula $hd\left(v.left\right)=1,0$
\end_inset

.
 כדי לאזן מחדש נסובב את העץ ימינה.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/ll-vio.png
	lyxscale 60

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
הפרה מסוג
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
LL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ותיקונה באמצעות רוטציה ימינה
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
\begin_inset Formula $LR$
\end_inset

: העץ נוטה שמאלה אבל תת העץ של הבן השמאלי נוטה ימינה, 
\begin_inset Formula $hd\left(v\right)=2$
\end_inset

, 
\begin_inset Formula $hd\left(v.left\right)=-1$
\end_inset

.
 אם נסובב את כל העץ ימינה, נקבל פשוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שזה לא יעזור לנו.
 לכן קודם נעשה רוטציה שמאלה לילד השמאלי של השורש ואז רוטציה ימינה לכל העץ.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/lr-vio.png
	lyxscale 60

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
הפרה מסוג
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
LR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ותיקונה באמצעות רוטציה ימינה
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
\begin_inset Formula $RR$
\end_inset

: העץ נוטה כולו ימינה, 
\begin_inset Formula $hd\left(v\right)=-2$
\end_inset

, 
\begin_inset Formula $hd\left(v.right\right)=-1,0$
\end_inset

.
 כדי לאזן מחדש את העץ נסובב אותו שמאלה )בדיוק באופן סימטרי ל-
\begin_inset Formula $LL$
\end_inset

(.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $RL$
\end_inset

: העץ נוטה ימינה אבל תת העץ הימני נוטה שמאלה, 
\begin_inset Formula $hd\left(v\right)=-2$
\end_inset

, 
\begin_inset Formula $hd\left(v.right\right)=1$
\end_inset

.
 כדי לאזן מחדש את העץ נסובב אותו ימינה ואז שמאלה )בדיוק באופן סימטרי ל-
\begin_inset Formula $LR$
\end_inset

(.
\end_layout

\begin_layout Subsection*
הפרת איזון בפעולות על העץ
\end_layout

\begin_layout Itemize

\series bold
הכנסה
\series default
.
 נעלה ממקום ההכנסה במעלה העץ עד שנמצא הפרה של האיזון ואז נסובב בהתאם לסוג
 ההפרה רק את תת העץ הזה ואז נקבל עץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
AVL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תקין שוב.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/insertion-vio.png
	scale 60

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
הפרה מסוג
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
LR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהכנסת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
53
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לעץ
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\series bold
מחיקה
\series default
.
 נעלה בגוה העץ ובכל נקודה בה יש הפרת איזון נתקן עד שנגיע לשורש.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/deletion-vio.png
	scale 60

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
הפרה מסוג
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
במחיקת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
40
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מהעץ
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Description
הערה אפילו שבמחיקה אנחנו עושים יותר פעולות מאשר הכנסה באיזון מחדש, שניהם
 
\begin_inset Formula $\oo{\log n}$
\end_inset

 יחד עם האיזון מחדש.
\end_layout

\begin_layout Description
דוגמה נבצע על עץ ריק את הפעולות הבאות.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/avl-example.png
	lyxscale 60
	scale 60

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמת ריצה של פעולות על עץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
AVL
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Part
שבוע 
\begin_inset Formula $\mathbb{VIII}$
\end_inset

 |
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Breadth First Search
\end_layout

\begin_layout Section
הרצאה
\end_layout

\begin_layout Subsection*
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{link10}{הגדרות}
\end_layout

\end_inset


\end_layout

\begin_layout Enumerate

\bar under
גרף מכוון
\bar default
 הוא 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 כך ש- 
\begin_inset Formula $V=\left\{ v_{1},\dots,v_{n}\right\} $
\end_inset

 היא קבוצת הקודקודים ו-
\begin_inset Formula $E=\left\{ e_{1},\dots,e_{n}\right\} $
\end_inset

 כאשר 
\begin_inset Formula $e_{k}=e_{ij}=\left(v_{i},v_{j}\right)$
\end_inset

 הוא זוג סדור.
\end_layout

\begin_layout Enumerate

\bar under
גרף לא מכוון
\bar default
 הוא 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 כך ש- 
\begin_inset Formula $V=\left\{ v_{1},\dots,v_{n}\right\} $
\end_inset

 היא קבוצת הקודקודים ו-
\begin_inset Formula $E=\left\{ e_{1},\dots,e_{n}\right\} $
\end_inset

 כאשר 
\begin_inset Formula $e_{k}=e_{ij}=\left\{ v_{i},v_{j}\right\} $
\end_inset

 הוא קבוצה בגודל 
\begin_inset Formula $2$
\end_inset

.
\end_layout

\begin_layout Enumerate
בגרף לא מכוון, ה
\bar under
דרגה
\bar default
 של קודקוד, 
\begin_inset Formula $d\left(v\right)$
\end_inset

 היא סך הצלעות שיוצאות מ-
\begin_inset Formula $v$
\end_inset

.
\end_layout

\begin_layout Enumerate
ה
\bar under
גודל
\bar default
 של גרף הוא 
\begin_inset Formula $\left|G\right|=\left|V\right|+\left|E\right|$
\end_inset

.
\end_layout

\begin_layout Enumerate
בגרף מכוון, 
\bar under
דרגת הכניסה
\bar default
 
\begin_inset Formula $d_{in}\left(v\right)$
\end_inset

 היא סך הצלעות שנכנסות ל-
\begin_inset Formula $v$
\end_inset

 ובאותו האופן 
\bar under
דרגת היציאה
\bar default
 
\begin_inset Formula $d_{out}\left(v\right)$
\end_inset

 היא סך הצלעות שיוצאות מ-
\begin_inset Formula $v$
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
מסילה
\bar default
 מקודקוד 
\begin_inset Formula $u$
\end_inset

 לקודקוד 
\begin_inset Formula $v$
\end_inset

 היא 
\begin_inset Formula $n$
\end_inset

-יה 
\begin_inset Formula $\left(v_{0},\dots,v_{k}\right)$
\end_inset

 כך ש- 
\begin_inset Formula $v_{0}=u,v_{k}=v$
\end_inset

 ולכל 
\begin_inset Formula $i$
\end_inset

, 
\begin_inset Formula $\left(v_{i-1},v_{i}\right)\in E$
\end_inset

.
 
\bar under
אורך
\bar default
 המסילה הוא 
\begin_inset Formula $k$
\end_inset

.
 
\bar under
המרחק
\bar default
 בין 
\begin_inset Formula $u$
\end_inset

 ל-
\begin_inset Formula $v$
\end_inset

, 
\begin_inset Formula $\delta\left(u,v\right)$
\end_inset

, הוא האורך המינימלי של מסילה בין 
\begin_inset Formula $u$
\end_inset

 ל-
\begin_inset Formula $v$
\end_inset

.
 
\bar under
מעגל
\bar default
 הוא מסילה שמתחילה ומסתיימת באותו קודקוד.
\end_layout

\begin_layout Enumerate
גרף 
\bar under
קשיר
\bar default
 הוא גרף לא מכוון שיש בו מסילה בין כל שני קודקודים.
 גרף 
\bar under
קשיר חזק
\bar default
 אם לכל זוג קודקודים יש מסילה מכוונת מ-
\begin_inset Formula $u$
\end_inset

 ל-
\begin_inset Formula $v$
\end_inset

 וגם מ-
\begin_inset Formula $v$
\end_inset

 ל-
\begin_inset Formula $u$
\end_inset

.
\end_layout

\begin_layout Enumerate
גרף 
\begin_inset Formula $G'=\left(V',E'\right)$
\end_inset

 הוא 
\bar under
תת גרף
\bar default
 של 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 אם 
\begin_inset Formula $V'\subseteq V$
\end_inset

 וגם 
\begin_inset Formula $E'\subseteq E$
\end_inset

.
 רכיבי הקישרות של 
\begin_inset Formula $G$
\end_inset

 הם תתי הגרפים הגדולים ביותר שהם קשירים )כלומר שכל קודקוד שנוסיף להם יתן
 לנו תת גרף לא קשיר(.
\end_layout

\begin_layout Enumerate

\bar under
עץ
\bar default
 הוא גרף קשיר חסר מעגלים, והוא מקיים 
\begin_inset Formula $\left|E\right|=\left|V\right|-1$
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
גרף ממושקל
\bar default
 הוא גרף שלכל צלע שלו יש משקל 
\begin_inset Formula $w\left(v_{i},v_{j}\right)>0$
\end_inset

.
 שני קודקודים ללא צלע המחברת בניהם הם בעלי משקל צלע במשקל 
\begin_inset Formula $\infty$
\end_inset

.
 המשקל של מסילה 
\begin_inset Formula $\left(v_{0},\dots,v_{k}\right)$
\end_inset

 הוא סכום המשקלים, 
\begin_inset Formula $\sum\limits _{i=1}^{k}w\left(v_{i-1},v_{i}\right)$
\end_inset

.
\end_layout

\begin_layout Description
משפט )לחיצות הידיים( 
\begin_inset Formula $\sum d\left(v_{i}\right)=2\left|E\right|$
\end_inset

.
\end_layout

\begin_layout Description
מסקנה 
\begin_inset Formula $\left|E\right|\leq\left|V\right|\left(\left|V\right|-1\right)=\oo{\left|V\right|^{2}}$
\end_inset

.
\end_layout

\begin_layout Description
משפט )לחיצות הידיים עבור גרף מכוון(
\begin_inset Formula $\sum d_{in}\left(v_{i}\right)=\sum d_{out}\left(v_{i}\right)=\left|E\right|$
\end_inset

.
\end_layout

\begin_layout Subsection*
דרכים לייצוג גרפים
\end_layout

\begin_layout Enumerate
רשימת סמיכויות: לכל קודקוד 
\begin_inset Formula $v$
\end_inset

 יש רשימה מקושרת 
\begin_inset Formula $L_{v}$
\end_inset

 של השכנים שלו.
 גודל ההצגה בזיכרון הוא 
\begin_inset Formula $\ot{\left|V\right|+\left|E\right|}$
\end_inset

.
 הצגה זו עדיפה במקרה של גרף עם מעט צלעות.
\end_layout

\begin_layout Enumerate
מטריצת סמיכויות: מטריצה מסדר 
\begin_inset Formula $\left|V\right|\times\left|V\right|$
\end_inset

 בה צלע 
\begin_inset Formula $e=\left(u,v\right)$
\end_inset

 מיוצגת ע
\begin_inset Quotes erd
\end_inset

י ערך השונה מאפס )המשקל במקרה של גרף ממושקל( במיקום ה-
\begin_inset Formula $\left(u,v\right)$
\end_inset

 במטריצה.
 גודל ההצגה בזיכרון הוא 
\begin_inset Formula $\ot{\left|V\right|^{2}}$
\end_inset

.
 הצגה זו עדיפה במקרה של גרף דחוס בצלעות.
 במקרה של גרף לא מכוון, 
\begin_inset Formula $A=A^{T}$
\end_inset

.
\end_layout

\begin_layout Description
בעיה )בעיית המסלול הקצר ביותר( בהינתן גרף ושני קודקודים, נרצה לדעת מה המסילה
 הקצרה ביותר בין שני הקודקודים הללו.
\end_layout

\begin_layout Subsection*
תתי הבעיות של בעיית המסלול הקצר ביותר
\end_layout

\begin_layout Enumerate
מסלול יחיד: בהינתן שני קודקודים, נרצה לדעת מה המסלול הקצר ביותר בין שני
 הקדוקדים.
\end_layout

\begin_layout Enumerate
מקור יחיד: בהינתן קודקוד, נרצה לדעת המסלול הקצר ביותר לכל קודקוד אחר בגרף.
\end_layout

\begin_layout Enumerate
כל הזוגות: בהינתן גרף, נרצה למצוא את המסלול הקצר ביותר בין כל שני קודקודים.
\end_layout

\begin_layout Standard
אנחנו נעסוק בבעיית המקור היחיד.
 נשתמש באלגוריתם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
BFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)חיפוש רוחב תחילה(.
 אלגוריתם זה יסתכל על הקודקוד, ויסמנו ברמה 
\begin_inset Formula $0$
\end_inset

.
 לאחר מכן, יעבור על כל השכנים של הקודקוד ויסמנם ברמה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
 בצעד ה-
\begin_inset Formula $i+1$
\end_inset

, הוא יסמן את כל הקודקודים השכנים לקודקודים ברמה ה-
\begin_inset Formula $i$
\end_inset

 שטרם עברנו עליהם ברמה ה-
\begin_inset Formula $i+1$
\end_inset

.
 הרמה של קודקוד היא המרחק שלו מהקודקוד המקורי.
\end_layout

\begin_layout Standard
נחלק את הקודקודים לשלושה סוגים:
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
visited
\lang hebrew
 )הקודקוד וכל הקודקודים שיש להם מסילה אליו שכבר נבדקו(,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
current
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)הקודקודים בחזית שעכשיו נבדוק( ו-
\lang english
not_visited
\lang hebrew
 )הקודקודים שעוד לא גילינו(.
 את ה-
\lang english
current
\lang hebrew
-ים נשמור בתור.
\end_layout

\begin_layout Standard
לכל קודוקד נשמור עוד שלושה שדות מעבר לשכניו:
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
label
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)הסוג של הקודקוד, אחד מהשלושה הנ
\begin_inset Quotes erd
\end_inset

ל(,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
dist
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)הרמה של הקודקוד, המרחק מהמקור( ו-
\begin_inset Formula $\pi$
\end_inset

 )הקודם של הקודקוד בחיפוש(.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/bfs-alg.png
	lyxscale 40
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם ה-
\lang english
Breadth First Search
\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/bfs-example.png
	lyxscale 40
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמת ריצה של אלגוריתם ה-
\lang english
Breadth First Search
\end_layout

\end_inset


\end_layout

\end_inset

ננתח את זמן הריצה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
BFS
\lang hebrew
.
 נשים לב כי אנו מורידים קודקוד מהתור בדיוק פעם אחת, ולכל קודקוד האלגוריתם
 עובר על כל הקודקודים השכנים לו ומבצע מספר קבוע של פעולות בסיסיות.
 העבודה על כל קודקוד 
\begin_inset Formula $v$
\end_inset

 בריצה על השכנים היא 
\begin_inset Formula $d\left(v\right)$
\end_inset

 ולכן סך הפעולות של האלגוריתם שרצות ב-
\begin_inset Formula $\oo 1$
\end_inset

 )שאלה כל הפעולות( הוא 
\begin_inset Formula $\sum d\left(v_{i}\right)=2\left|E\right|$
\end_inset

.
 בנוסף, בתחילת הריצה אנחנו עוברים על כל הקודקודים בגרף ומאפסים אותם.
\end_layout

\begin_layout Standard
לכן סה
\begin_inset Quotes erd
\end_inset

כ, זמן הריצה הוא 
\begin_inset Formula $\oo{\left|V\right|}+\oo{\left|E\right|}=\oo{\left|V\right|^{2}}$
\end_inset

.
\end_layout

\begin_layout Description
טענה
\begin_inset Formula $\;$
\end_inset


\series bold
\numeric on
1
\numeric off
 
\series default

\begin_inset Formula $\forall\left(u,v\right)\in E$
\end_inset

, 
\begin_inset Formula $\delta\left(s,v\right)\leq\delta\left(s,u\right)+1$
\end_inset

.
\end_layout

\begin_layout Proof
נסמן 
\begin_inset Formula $k=\delta\left(s,u\right)$
\end_inset

.
 קיימת מסילה 
\begin_inset Formula $\left(s=v_{0},\dots,v_{k}=u\right)$
\end_inset

 מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $u$
\end_inset

 ולכן 
\begin_inset Formula $\left(v_{0},\dots,v_{k},v\right)$
\end_inset

 היא מסילה באורך 
\begin_inset Formula $k+1$
\end_inset

 מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $v$
\end_inset

 ולכן 
\begin_inset Formula $\delta\left(s,v\right)\leq k+1$
\end_inset

.
\end_layout

\begin_layout Description
טענה
\begin_inset Formula $\;$
\end_inset


\series bold
\numeric on
2
\family roman
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בסיום ריצת האלגוריתם, מתקיים 
\begin_inset Formula $\forall v\in V$
\end_inset

, 
\begin_inset Formula $v.d\geq\delta\left(s,v\right)$
\end_inset

.
\end_layout

\begin_layout Proof
באינווריאנטה )אינדוקציה( עם השמורה שאחרי 
\begin_inset Formula $d$
\end_inset

 עדכוני השדה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
dist
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 עדיין מתקיימת הטענה.
\end_layout

\begin_layout Proof
בסיס: לאחר האתחול מתקיים עבור 
\begin_inset Formula $v=s$
\end_inset

, 
\begin_inset Formula $v.d=0=\delta\left(s,s\right)$
\end_inset

 ועבור 
\begin_inset Formula $v\neq s$
\end_inset

 מתקיים 
\begin_inset Formula $v.d=\infty\geq\delta\left(s,v\right)$
\end_inset

.
\end_layout

\begin_layout Proof
צעד: נניח שמעדכנים את 
\begin_inset Formula $v\in V$
\end_inset

 אזי לאחר העדכון,
\begin_inset Formula 
\[
v.d=u.d+1\overset{\text{ה"א}}{\geq}\delta\left(s,u\right)+1\overset{1\;\text{טענה}}{\geq}\delta\left(s,v\right)
\]

\end_inset


\end_layout

\begin_layout Proof
לכן בסוף ריצת האלגוריתם נשמר התנאי הרצוי.
\end_layout

\begin_layout Description
טענה
\begin_inset Formula $\;$
\end_inset


\series bold
\numeric on
3
\family roman
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם במהלך ריצת האלגוריתם מתקיים 
\begin_inset Formula $Q=\left(v_{1},\dots,v_{r}\right)$
\end_inset

 אזי מתקיים:
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\left(i\right)$
\end_inset

 
\begin_inset Formula $\forall i\in\left[r-1\right]$
\end_inset

 מתקיים 
\begin_inset Formula $v_{i}.d\leq v_{i+1}.d$
\end_inset

.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\left(ii\right)$
\end_inset

 
\begin_inset Formula $v_{1}.d\leq v_{r}.d+1$
\end_inset

.
\end_layout

\begin_layout Section
תרגול
\end_layout

\begin_layout Subsection*
שאלות
\end_layout

\begin_layout Enumerate
נתונים 
\begin_inset Formula $k$
\end_inset

 מערכים ממוינים במערך 
\begin_inset Formula $n$
\end_inset

 כל אחד.
 הציגו אלג' יעיל ככל שתוכלו ליצירת מערך ממוין המכיל את כל איברי המערכים.
\begin_inset Newline newline
\end_inset

אם נצמיד את כל המערכים ונמיינם כרגיל, נוכל למיין ב-
\begin_inset Formula $\ot{nk\log nk}$
\end_inset

 במיון מבוסס השוואות.
\begin_inset Newline newline
\end_inset

אם נמיין בעזרת לקיחת המינימום מכל המערכים כל פעם, זה יקח 
\begin_inset Formula $\oo k\cdot nk=\oo{nk^{2}}$
\end_inset

.
\begin_inset Newline newline
\end_inset

אם נעשה הפרד ומשול )כלומר נאחד כל זוג, ואז כל זוג של זוגות מאוחדים וכן הלאה(
 כמו ב-
\lang english
MergeSort
\lang hebrew
, אז נעשה 
\begin_inset Formula $\oo{\log k}$
\end_inset

 איחודים רוחביים שיעלו 
\begin_inset Formula $\oo{nk}$
\end_inset

 סה
\begin_inset Quotes erd
\end_inset

כ )כל פעם מאחדים כל מערך עם מערך אחר( ולכן זה יקח 
\begin_inset Formula $\oo{nk\log k}$
\end_inset

, שזה אופטימלי.
\end_layout

\begin_layout Enumerate
נתונים 
\begin_inset Formula $n$
\end_inset

 איברים בתחום 
\begin_inset Formula $\left[0,\dots,m\right]$
\end_inset

.
 הציעו מבנה נתונים שיאפשר לענות בזמן 
\begin_inset Formula $\oo 1$
\end_inset

 על השאילתות 
\begin_inset Quotes eld
\end_inset

האם 
\begin_inset Formula $x$
\end_inset

 הוא בין 
\begin_inset Formula $n$
\end_inset

 האיברים
\begin_inset Quotes erd
\end_inset

 ו
\begin_inset Quotes erd
\end_inset

מהו האיבר ה-
\begin_inset Formula $k$
\end_inset

 בגודלו
\begin_inset Quotes erd
\end_inset

 שזמן הבנייה שלו יהיה יעיל ככל שאפשר.
\begin_inset Newline newline
\end_inset

נשים את האיברים בטבלת גיבוב בגיבוב מושלם )
\begin_inset Formula $U$
\end_inset

 ידוע לנו, הוא 
\begin_inset Formula $\left[0,\dots,m\right]$
\end_inset

(, ובשאילתה הראשונה נבצע פשוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Find
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שזה 
\begin_inset Formula $O\left(1\right)$
\end_inset

 במקרה הגרוע.
 הבנייה שלו תיקח 
\begin_inset Formula $\oo n$
\end_inset

 )
\begin_inset Formula $n$
\end_inset

 פעולות הכנסה(.
\begin_inset Newline newline
\end_inset

נמיין את 
\begin_inset Formula $n$
\end_inset

 האיברים עם מיון מניה אם 
\begin_inset Formula $m=\oo{n\log n}$
\end_inset

 ואחרת בעזרת מיון מבוסס השוואות הפועל ב-
\begin_inset Formula $\oo{n\log n}$
\end_inset

, ונענה על השאילתה השנייה באמצעות גישה לאיבר ה-
\begin_inset Formula $k$
\end_inset

 במערך הממוין.
\end_layout

\begin_layout Enumerate
האם נוכל לבנות מבנה נתונים עם הפ' הבאות?
\begin_inset Newline newline
\end_inset


\lang english
init(S)
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ב-
\begin_inset Formula $\oo{n\log n}$
\end_inset

.
\begin_inset Newline newline
\end_inset


\lang english
exists(x)
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ב-
\begin_inset Formula $\oo 1$
\end_inset

.
\begin_inset Newline newline
\end_inset


\lang english
the-kth(k)
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ב-
\begin_inset Formula $\oo 1$
\end_inset

.
\begin_inset Newline newline
\end_inset


\lang english
insert(x)
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ב-
\begin_inset Formula $\oo 1$
\end_inset

.
\begin_inset Newline newline
\end_inset

את שלושת הפעולות הראשונות כבר עשינו בתרגיל הקודם, השאלה היא האם נוכל לממש
 הכנסה ב-
\begin_inset Formula $\oo 1$
\end_inset

 יחד עם המבנ
\begin_inset Quotes erd
\end_inset

ת הזה.
 התשובה היא לא! נניח בשלילה שאפשר לבנות 
\begin_inset Formula $D$
\end_inset

 כזה.
 יהי מערך 
\begin_inset Formula $A$
\end_inset

 של מספרים.
 נביט באלגוריתם הבא
\lang english

\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
D.init
\begin_inset Formula $\left(\varnothing\right)$
\end_inset


\end_layout

\begin_layout Plain Layout

\lang english
for a
\begin_inset Formula $\in$
\end_inset

A
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

D.insert(a)
\end_layout

\begin_layout Plain Layout

\lang english
for i=1 to n
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $A\left[i\right]$
\end_inset

 = D.the-kth(i)
\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם מיון מבוסס השוואה בזמן לינארי
\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\lang hebrew
זהו אלג' הרץ ב-
\begin_inset Formula $\oo n$
\end_inset

 הממיין מערך בלי הנחות נוספות עליו )כלומר מבוסס השוואות( בסתירה לחסם 
\begin_inset Formula $\om{n\log n}$
\end_inset

 שראינו בהרצאה.
\end_layout

\begin_layout Description
הערה כל הפעולות האריתמטיות במודולו 
\begin_inset Formula $p$
\end_inset

 מעתה.
\end_layout

\begin_layout Description
טענה יהי 
\begin_inset Formula $p$
\end_inset

 ראשוני ו-
\begin_inset Formula $F_{p}=\left\{ 0,\dots,p-1\right\} $
\end_inset

.
 לכל 
\begin_inset Formula $a,b\in F_{p}$
\end_inset

 נגדיר 
\begin_inset Formula $h_{a,b}\left(x\right)=ax+b$
\end_inset

, 
\begin_inset Formula $H_{p}=\left\{ h_{a,b}:a,b\in F_{p}\right\} $
\end_inset

.
 אזי 
\begin_inset Formula $H_{p}$
\end_inset

 היא משפחה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\begin_inset Formula $2$
\end_inset

-אוניברסלית מ-
\begin_inset Formula $F_{p}$
\end_inset

 ל-
\begin_inset Formula $F_{p}$
\end_inset

.
\end_layout

\begin_layout Proof
עבור 
\begin_inset Formula $x\neq y\in F_{p}$
\end_inset

 ועבור 
\begin_inset Formula $\beta,\gamma\in F_{p}$
\end_inset

, בבחירה אקראית של 
\begin_inset Formula $h_{a,b}\in H_{p}$
\end_inset

, 
\begin_inset Formula 
\begin{align*}
P\left(h_{a,b}\left(x\right)=\gamma\land h_{a,b}\left(y\right)=\beta\right) & =P\left(ax+b=\gamma\land ay+b=\beta\right)\\
 & \overset{x\neq y}{=}P\left(a=\frac{\gamma-\beta}{x-y}\land b=\frac{\beta x-\gamma y}{x-y}\right)\\
 & \overset{\text{מאורעות בת"ל}}{=}P\left(a=\frac{\gamma-\beta}{x-y}\right)\cdot P\left(b=\frac{\beta x-\gamma y}{x-y}\right)\\
 & =\frac{1}{p}\cdot\frac{1}{p}=\frac{1}{p^{2}}
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
בגיבוב מושלם, נוכל להניח הנחה מקלה שהיא שיש לנו 
\begin_inset Formula $k$
\end_inset

 מפתחות סטטיים שהם ידועים מראש שאותם נכניס לטבלה.
 כדי לשמור על 
\begin_inset Formula $\oo 1$
\end_inset

 במקרה הגרוע, נבחר 
\begin_inset Formula $h$
\end_inset

 ראשי לטבלת הגיבוב אקראית ואז נחשב לכל תא, כמה מפתחות סה
\begin_inset Quotes erd
\end_inset

כ ממופים אליו ואז נבנה לכל אינדקס 
\begin_inset Formula $i$
\end_inset

 טבלת גיבוב בגודל 
\begin_inset Formula $\left|h^{-1}\left(i\right)\right|^{2}$
\end_inset

 ובעזרת הסתברות נוכל להבטיח שזה יהיה 
\begin_inset Formula $\oo 1$
\end_inset

.
 כדי להשתמש בשטח לינארי, נרצה שהאיברים יפרסו באופן די אחיד כך שסך טבלאות
 הגיבוב החדשות יהיו בגודל לינארי.
\end_layout

\begin_layout Description
תרגיל הדגימו הרצה של מציאת פ' גיבוב עם גיבוב מושלם כאשר
\begin_inset Formula 
\[
h\left(x\right)=\left(\left(ak+b\right)\mod p\right)\mod m
\]

\end_inset

היא הפ' הראשית וגם
\begin_inset Formula 
\[
h_{j}\left(k\right)=\left(\left(a_{j}k+b_{j}\right)\mod p\right)\mod m
\]

\end_inset

הפ' המשנית.
\end_layout

\begin_layout Description
פתרון שלב ראשון - מציאת 
\begin_inset Formula $h$
\end_inset

 ראשית.
 נגריל 
\begin_inset Formula $a,b$
\end_inset

 ונסמן ב-
\begin_inset Formula $n_{i}$
\end_inset

 את מספר האיברים כך ש- 
\begin_inset Formula $h\left(x\right)=i$
\end_inset

 )
\begin_inset Formula $0\leq i\leq m-1$
\end_inset

(.
 נבדוק האם 
\begin_inset Formula $\sum\limits _{j=0}^{m-1}n_{j}^{2}<4n$
\end_inset

, אם כן נסיים, אחרת נגריל מחדש 
\begin_inset Formula $a,b$
\end_inset

 וחוזר חלילה.
\begin_inset Newline newline
\end_inset

שלב שני - מציאת 
\begin_inset Formula $h$
\end_inset

-ים משניים.
 לכל 
\begin_inset Formula $i$
\end_inset

, נגריל 
\begin_inset Formula $h_{i}$
\end_inset

 הממפה לטבלת גיבוב מגודל 
\begin_inset Formula $n_{i}^{2}$
\end_inset

, ואם ל-
\begin_inset Formula $h_{i}$
\end_inset

 אין התנגשויות בתת טבלת הגיבוב נסיים, אחרת נגריל שוב 
\begin_inset Formula $h_{i}$
\end_inset

 וחוזר חלילה.
\begin_inset Newline newline
\end_inset

הוכחנו בהרצאה כי בתוחלת יקח פחות מפעמיים למציאת פ' גיבוב מתאימה לכל טבלה.
\end_layout

\begin_layout Part
שבוע 
\begin_inset Formula $\mathbb{IX}$
\end_inset

 |
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Semi-Course Recap
\end_layout

\begin_layout Section
תרגול
\end_layout

\begin_layout Standard

\shape italic
בתרגול הוגדרו עוד כמה הגדרות שנוספו ל
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{link10}{הגדרות בהרצאה}
\end_layout

\end_inset

 ובנוסף נעשתה דוגמת ריצה של אלג' ה-
\lang english
BFS
\family roman
\series medium
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 וה-
\family default
\series default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS
\lang hebrew
.
\end_layout

\begin_layout Standard
ב-
\lang english
BFS
\lang hebrew
, תת גרף הקודמים, 
\begin_inset Formula $G_{\pi}$
\end_inset

, הוא הגרף הכולל את כל הקודקודים ש-
\lang english
BFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עבר אליהם יחד עם הצלע )המכוונת( שדרכה הגענו מכל 
\begin_inset Formula $v.\pi$
\end_inset

 ל-
\begin_inset Formula $v$
\end_inset

.
 
\begin_inset Formula $G_{\pi}$
\end_inset

 הוא גם עץ רוחב, כלומר שהוא מכיל את כל המסילות הקצרות ביותר בין 
\begin_inset Formula $s$
\end_inset

 לכל קודקוד אחר בגרף )שאליו יש לו מסילה בכלל(.
\end_layout

\begin_layout Part
שבוע 
\begin_inset Formula $\mathbb{X}$
\end_inset

 |
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Depth First Search & Toplogical Sort
\end_layout

\begin_layout Section
הרצאה
\end_layout

\begin_layout Description
משפט )נכונות של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
BFS
\lang hebrew
( בסיום ריצת האלגוריתם, מתקיים כי 
\begin_inset Formula $\forall v\in V$
\end_inset

:
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\left(i\right)$
\end_inset

 
\begin_inset Formula $v.d=\delta\left(s,v\right)$
\end_inset

.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\left(ii\right)$
\end_inset

 אם 
\begin_inset Formula $\delta\left(s,v\right)<\infty$
\end_inset

 אז קיים מסלול קצר ביותר מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $v$
\end_inset

 שהקודקוד הלפני אחרון שלו הוא 
\begin_inset Formula $v.\pi$
\end_inset

.
\end_layout

\begin_layout Proof
באינדוקציה על 
\begin_inset Formula $\delta\left(s,v\right)$
\end_inset

:
\end_layout

\begin_layout Proof
בסיס: ברור, 
\begin_inset Formula $v=s$
\end_inset

 ומתקיים 
\begin_inset Formula $v.d=\delta\left(s,v\right)$
\end_inset

.
\end_layout

\begin_layout Proof
צעד: יהי 
\begin_inset Formula $u$
\end_inset

 הקודקוד הקודם ל-
\begin_inset Formula $v$
\end_inset

 במסלול הקצר ביותר מ-
\begin_inset Formula $s$
\end_inset

.
 
\begin_inset Formula $u.d\overset{\text{ה"א}}{=}\delta\left(s,u\right)$
\end_inset

.
 נביט בריצת האלגוריתם כאשר 
\begin_inset Formula $u$
\end_inset

 מוצא מהתור.
\end_layout

\begin_layout Proof
אם ביקרנו את 
\begin_inset Formula $v$
\end_inset

, אז 
\begin_inset Formula $\delta\left(s,v\right)\overset{2\;\text{טענה}}{\leq}v.d\leq u.d+1=\delta\left(s,v\right)$
\end_inset

.
\end_layout

\begin_layout Proof
אם לא, נעדכן 
\begin_inset Formula $v.d=u.d+1=\delta\left(s,v\right)$
\end_inset

.
\end_layout

\begin_layout Proof
החלק השני נובע די ישירות ונשאיר לסטודנטית המשקיעה להוכיח אותו.
\end_layout

\begin_layout Standard
חיפוש לעומק תחילה,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא אלגוריתם שקודם כל נכנס עמוק לגרף, והוא משמש שלב מקדים לפתירת בעיות אחרות.
 בעזרת האלגוריתם ניתן ליצור סידור לינארי של גרפים )ואלגוריתם מיון( וגם לפתור
 את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MST
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ומציאת רכיבי קשירות קשורים חזק.
\end_layout

\begin_layout Standard
האלג' מתחיל מ-
\begin_inset Formula $s$
\end_inset

 ובוחר שכן אחד שלו.
 וחופר כמה שיותר עמוק.
 כשהוא מסיים, הוא חוזר קודקוד אחד אחורה, סורק את הקודקוד הבא שלו שטרם נסרק
 ואז כשהוא מסיים הוא שוב הולך אחורה וכו'.
\end_layout

\begin_layout Standard
הפלט של האלגוריתם הוא 
\begin_inset Formula $G_{\pi}=\left(V,E_{\pi}\right)$
\end_inset

, כאשר 
\begin_inset Formula $E_{\pi}=\left\{ \left(v.\pi,v\right):v\in V\land v.\pi\right\} $
\end_inset

 שזוהי קבוצת החצים )שיוצרים סידור( שבסופו של דבר נוצרת מהאלג'.
\end_layout

\begin_layout Standard
עבור כל קודקוד, נשמור לכל קודקוד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שדות:
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
label
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\lang english
visited, current, not_visited
\lang hebrew
(, 
\begin_inset Formula $\pi$
\end_inset

 )הקודקוד הקודם השכן לו שדרכו הגענו לקודקוד(, 
\begin_inset Formula $d$
\end_inset

 )זמן הגילוי( ו-
\begin_inset Formula $f$
\end_inset

 )הזמן בו סיימנו לחקור את כל השכנים של הקודקוד(.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/dfs-alg.png
	lyxscale 60
	scale 60

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
פסוידו-קוד של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS
\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/dfs-example.png
	lyxscale 60
	scale 60

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמת ריצה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection*
הערות
\end_layout

\begin_layout Enumerate
הפלט של האלג' תלוי באופן שבו אנחנו בוחרים שכנים.
\end_layout

\begin_layout Enumerate
במקום ריקורסיה, אפשר להשתמש במחסנית )כמו התור ב-
\lang english
BFS
\lang hebrew
( כדי לעשות את זה איטרטיבית.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\textrm{DFS-Visit}\left(v\right)$
\end_inset

 נקרא מ-
\lang english
DFS-Visit
\begin_inset Formula $\left(u\right)$
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $\left\{ u,v\right\} \in G_{\pi}$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\textrm{DFS-Visit}\left(v\right)$
\end_inset

 בזמן ריצת 
\lang english
DFS-Visit
\begin_inset Formula $\left(u\right)$
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $v$
\end_inset

 הוא צאצא של 
\begin_inset Formula $u$
\end_inset

 ב-
\begin_inset Formula $G_{\pi}$
\end_inset

.
\end_layout

\begin_layout Standard
ננתח את זמן הריצה של האלג'.
 האלג' מבקר כל קודקוד, ולכן הוא 
\begin_inset Formula $\oo{\left|V\right|}$
\end_inset

.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS-Visit
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נקר בדיוק פעם אחת על כל קודקוד, כי אחרי הריצה 
\begin_inset Formula $v$
\end_inset

 הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
current
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן לא יעברו עליו עוד פעם.
 מספר הפעולות של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS-Visit
\begin_inset Formula $\left(v\right)$
\end_inset


\lang hebrew
, לא כולל את הקריאות הריקורסיביות הוא פרופורציוני למספר השכנים של 
\begin_inset Formula $v$
\end_inset

.
 אבל ממשפט לחיצותת הידיים נקבל שזה אומר שהאלג' הוא 
\begin_inset Formula $\oo{\left|E\right|}$
\end_inset

.
 לכן סה
\begin_inset Quotes erd
\end_inset

כ האלג' הוא 
\begin_inset Formula $\oo{\left|E\right|+\left|V\right|}$
\end_inset

.
\end_layout

\begin_layout Standard
כל ריצת אגלוריתם יוצרת מחרוזת סוגריים.
 נוכיח כי היא תקינה.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/dfs-paren.png
	lyxscale 60
	scale 60

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמה למחרוזת סוגריים של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Description
משפט )משפט הסוגריים,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Parenthesis Theorem
\lang hebrew
( לכל שני קודקודים 
\begin_inset Formula $u,v$
\end_inset

 מתקיימת בדיוק אחת מהאפשרויות הבאות:
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\left(i\right)$
\end_inset

 
\begin_inset Formula $\left[u.d,u.f\right]\cap\left[v.d,v.f\right]=\varnothing$
\end_inset

 )כמו 
\begin_inset Formula $f,d$
\end_inset

 בדוגמה(.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\left(ii\right)$
\end_inset

 
\begin_inset Formula $\left[u.d,u.f\right]\subseteq\left[v.d,v.f\right]$
\end_inset

 )כמו 
\begin_inset Formula $a,s$
\end_inset

 בדוגמה(.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\left(iii\right)$
\end_inset

 
\begin_inset Formula $\left[v.d,v.f\right]\subseteq\left[u.d,u.f\right]$
\end_inset

.
\end_layout

\begin_layout Description
משפט )משפט המסלול שנסרק,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Visited Path Theorem
\lang hebrew
( יהי גרף 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 ו-
\begin_inset Formula $u,v\in V$
\end_inset

.
 אזי 
\begin_inset Formula $u$
\end_inset

 צאצא של 
\begin_inset Formula $v$
\end_inset

 ב-
\begin_inset Formula $G_{\pi}$
\end_inset

 )יער ה-
\lang english
DFS
\lang hebrew
( אם
\begin_inset Quotes erd
\end_inset

ם בזמן 
\begin_inset Formula $u.d$
\end_inset

, ניתן להגיע ל-
\begin_inset Formula $v$
\end_inset

 באמצעות מסלול המורכב מקודקודים שטרם בוקרו.
\end_layout

\begin_layout Proof
\begin_inset Formula $:\Leftarrow$
\end_inset

 נראה שהמסילה מ-
\begin_inset Formula $u$
\end_inset

 ל-
\begin_inset Formula $v$
\end_inset

 ב-
\begin_inset Formula $G_{\pi}$
\end_inset

 מכילה קודקודים 
\begin_inset Formula $w$
\end_inset

 עם 
\begin_inset Formula $u.d<w.d$
\end_inset

.
 
\begin_inset Formula $u.d<w.d$
\end_inset

 ממשפט הסוגריים ולכן 
\begin_inset Formula $w$
\end_inset

 טרם נבדק.
\end_layout

\begin_layout Proof
\begin_inset Formula $:\Rightarrow$
\end_inset

 נניח בשלילה ש-
\begin_inset Formula $v$
\end_inset

 לא צאצא של 
\begin_inset Formula $u$
\end_inset

 ב-
\begin_inset Formula $G_{\pi}$
\end_inset

.
 בה
\begin_inset Quotes erd
\end_inset

כ 
\begin_inset Formula $v$
\end_inset

 הוא הראשון במסילה שאינו צאצא של 
\begin_inset Formula $u$
\end_inset

.
 יהי 
\begin_inset Formula $w$
\end_inset

 העוקב של 
\begin_inset Formula $v$
\end_inset

 במסלול לכן הוא צאצא של 
\begin_inset Formula $u$
\end_inset

, ולכן 
\begin_inset Formula $w.f<u.f$
\end_inset

.
 בנוסף, 
\begin_inset Formula $v.d>u.f$
\end_inset

 שכן 
\begin_inset Formula $v.d>u.d$
\end_inset

 אבל הוא לא צאצא שלו.
 לכן 
\begin_inset Formula $w.f<v.d$
\end_inset

 ולכן כש-
\begin_inset Formula $v$
\end_inset

 נסקר בתוך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS-Visit
\begin_inset Formula $\left(w\right)$
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
not_visited
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן 
\begin_inset Formula $\left(w,v\right)$
\end_inset

 חייבת להיות צלע ב-
\begin_inset Formula $G_{\pi}$
\end_inset

 ולכן 
\begin_inset Formula $v$
\end_inset

 ניתן להגעה מ-
\begin_inset Formula $u$
\end_inset

 סתירה.
\end_layout

\begin_layout Standard
מיון טופולוגי הוא מיון שמקבל 
\begin_inset Quotes eld
\end_inset

גרף קדימויות
\begin_inset Quotes erd
\end_inset

, שבו כל קודקוד הוא משימה, ושצלע מ-
\begin_inset Formula $u$
\end_inset

 ל-
\begin_inset Formula $v$
\end_inset

 משמעה שיש לבצע את 
\begin_inset Formula $u$
\end_inset

 לפני 
\begin_inset Formula $v$
\end_inset

.
 אם יש מעגלים בגרף לא נוכל למצוא סידור של המשימות )כי נקבל מעגל אינסופי
 של דרישות קדם(.
 בגרף מכוון
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קשיר חסר מעגלים )
\lang english
DAG
\lang hebrew
( תמיד ניתן למצוא סידור טופולוגי-לינארי כזה.
\lang english

\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
TopologicalSort(G):
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

Call DFS(G)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

Return the list of vertices 
\begin_inset Formula $v_{1},\dots,v_{n}$
\end_inset

 such that 
\begin_inset Formula $v_{1}.f>\ldots>v_{n}.f$
\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם מיון טופולוגי
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Description
משפט 
\lang english
TopologicalSort
\lang hebrew
 מפיק סידור טופולוגי )כלומר שנוכל לבצע את המשימות בסדר הנתון ולקבל סדרת
 פעולות תקינה( של 
\begin_inset Formula $G$
\end_inset

 בזמן לינארי 
\begin_inset Formula $\ot{\left|V\right|+\left|E\right|}$
\end_inset

.
\end_layout

\begin_layout Proof
תהי צלע 
\begin_inset Formula $\left(u,v\right)$
\end_inset

.
 נוכיח כי 
\begin_inset Formula $u.f>v.f$
\end_inset

 ונסיים את הוכחת הנכונות.
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $u.d<v.d$
\end_inset

, אזי ממשפט המסלול שנסרק 
\begin_inset Formula $v$
\end_inset

 הוא צאצא של 
\begin_inset Formula $u$
\end_inset

 ב-
\begin_inset Formula $G_{\pi}$
\end_inset

 ולכן ממשפט הסוגריים 
\begin_inset Formula $u.d<v.d<v.f<u.f$
\end_inset

.
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $u.d>v.d$
\end_inset

 אזי אם אין מסלול מ-
\begin_inset Formula $v$
\end_inset

 ל-
\begin_inset Formula $u$
\end_inset

, שכן זה היה יוצר מעגל.
 לכן, ממשפט המסלול שנסרק 
\begin_inset Formula $u$
\end_inset

 הוא לא צאצא של 
\begin_inset Formula $v$
\end_inset

 ב-
\begin_inset Formula $G_{\pi}$
\end_inset

 ולכן ממשפט הסוגריים 
\begin_inset Formula $v.d<v.f<u.d<u.f$
\end_inset

.
\end_layout

\begin_layout Section
תרגול
\end_layout

\begin_layout Description
הגדרה 
\bar under
מיון טופולוגי
\bar default
 )
\lang english
TS
\lang hebrew
( של גרף מכוון חסר מעגלים )
\lang english
DAG
\lang hebrew
( 
\begin_inset Formula $G$
\end_inset

 הוא סידור קודקודי 
\begin_inset Formula $G$
\end_inset

 כך שאם 
\begin_inset Formula $v$
\end_inset

 נמצא לפני 
\begin_inset Formula $u$
\end_inset

 אזי לא קיימת ב-
\begin_inset Formula $G$
\end_inset

 צלע מ-
\begin_inset Formula $u$
\end_inset

 ל-
\begin_inset Formula $v$
\end_inset

.
\end_layout

\begin_layout Description
תרגיל כתבו אלג' המוצא בזמן 
\begin_inset Formula $O\left(\left|V\right|\right)$
\end_inset

 האם קיים מעגל בגרף לא מכוון.
\end_layout

\begin_layout Description
פתרון נבנה וריאציה לאלג'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כך שבכל שלב נבדוק האם הקודקוד הבא הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
visited
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולא עברנו בצלע אליו, אם כן, נחזיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
true
\lang hebrew
, אחרת, בסיום, נחזיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
false
\lang hebrew
.
\begin_inset Newline newline
\end_inset

אבל נזכור כי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא 
\begin_inset Formula $\oo{\left|V\right|+\left|E\right|}$
\end_inset

, אם כן, למה האלג' שהצגנו הוא 
\begin_inset Formula $\oo{\left|V\right|}$
\end_inset

? אם אין מעגלים בגרף, אז יש לכל היותר 
\begin_inset Formula $\left|V\right|-1$
\end_inset

 צלעות בגרף ולכן הזמן הוא 
\begin_inset Formula $\oo{\left|V\right|+\left|V\right|}=\oo{\left|V\right|}$
\end_inset

.
 אם יש במעגל גרף אז אחרי 
\begin_inset Formula $\left|V\right|$
\end_inset

 צלעות נקבל שסרקנו גרף עם יותר צלעות מאשר קודקודים, כלומר שיש בו מעגל ולכן
 כבר נסיים את הריצה עד אז ולכן זה עדיין 
\begin_inset Formula $\oo{\left|V\right|}$
\end_inset

.
\end_layout

\begin_layout Standard
נסביר את האינטואיציה לאלג'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SCC
\lang hebrew
.
 לשם כך, נגדיר לכל גרף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
G
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
את הגרף 
\begin_inset Formula $G_{SCC}$
\end_inset

 שיהיה גרף שקודקודיו הם רכיבי הקשירות החזקה של 
\begin_inset Formula $G$
\end_inset

 וצלעותיו יהיו הצלעות שמחברות בין רכיבי הקשירות הללו.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/gscc-example.png
	lyxscale 60
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמה ל-
\lang english

\begin_inset Formula $G_{SCC}$
\end_inset


\end_layout

\end_inset


\end_layout

\end_inset

גם ב-
\begin_inset Formula $G$
\end_inset

 וגם ב-
\begin_inset Formula $G^{T}$
\end_inset

, רכיבי הקשירות החזקה נשארים אותו הדבר, כלומר מתקיים 
\begin_inset Formula $\left(\left(G^{T}\right)_{SCC}\right)^{T}=G_{SCC}$
\end_inset

 ולכן ב-
\begin_inset Formula $G$
\end_inset

 יחד ב-
\begin_inset Formula $G^{T}$
\end_inset

,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יסתובב בדיוק ברכיבי הקשירות החזקה.
 זאת משום שב-
\begin_inset Formula $G$
\end_inset

 הוא יבדוק שיש דרך מכל קודקוד לאחר בכיוון אחד ובריצה על 
\begin_inset Formula $G^{T}$
\end_inset

 הוא יבדוק שיש גם בכיוון ההפוך.
 הריצה עם הסידור הספציפי היא כדי לוודא את שהבדיקה נעשת על אותם המסלולים
 של הקודקודים.
\end_layout

\begin_layout Description
הגדרה יהי 
\begin_inset Formula $G$
\end_inset

 גרף לא מכוון וקשיר.
 
\bar under
מפרק
\bar default
 )
\lang english
Articulation Point
\lang hebrew
( הוא קודקוד שאם נסיר אותו מהגרף )ואת הצלעות המחוברות אליו( נקבל גרף לא
 קשיר.
 
\bar under
גשר
\bar default
 הוא צלע שהסרה שלה מהגרף תהפוך אותו ללא קשיר.
\end_layout

\begin_layout Standard
נרצה לכתוב אלג' שיפאשרו לנו למצוא מפרקים וגשרים.
 הרעיון: נבנה וריאציה על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ונשמור לכל קודקוד את 
\begin_inset Formula $v.d$
\end_inset

 )זמן הכניסה( וגם 
\begin_inset Formula $v.earliest$
\end_inset

 )זמן הכניסה הנמוך ביותר של קודקוד שניתן להגיע אליו מ-
\begin_inset Formula $v$
\end_inset

(.
\end_layout

\begin_layout Standard
כדי לעשות זאת, בכל הגעה לקודקוד חדש נבדוק את הצלעות השכנות לו ונקבע את שדה
 ה-
\lang english
earliest
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלו להיות הקודקוד עם זמן הכניסה המינימלי שיש לו צלע אליו שלא נוספה כבר ליער
 ה-
\lang english
DFS
\lang hebrew
.
 בדרך חזור )ב-
\lang english
Backtracking
\lang hebrew
( שוב נבדוק לכל קודקוד האם יש לו קודקוד שכן עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
earliest
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נמוך יותר, ואם כן נשנה אותו להיות כן.
\end_layout

\begin_layout Description
טענה 
\begin_inset Formula $u$
\end_inset

 הוא מפרק אם אחד מהבאים מתקיימים:
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\left(i\right)$
\end_inset

 
\begin_inset Formula $u$
\end_inset

 הוא שורש העץ ביער ה-
\lang english
DFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ויש לו לפחות שני ילדים.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\left(ii\right)$
\end_inset

 
\begin_inset Formula $u$
\end_inset

 אינו שורש עץ ביער ה-
\lang english
DFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ויש לו בן 
\begin_inset Formula $v$
\end_inset

 כך שלא ניתן להגיע ממנו לאב קדמון של 
\begin_inset Formula $u$
\end_inset

.
\end_layout

\begin_layout Standard
לאחר ריצת ה-
\lang english
DFS
\lang hebrew
, נעבור על כל קודקוד 
\begin_inset Formula $u$
\end_inset

.
 אם 
\begin_inset Formula $u$
\end_inset

 הוא שורש עם שני בנים או יותר - נוסיפו לרשימת נק' המפרק.
 אם עבור 
\begin_inset Formula $\left(u,v\right)\in E$
\end_inset

 מתקיים 
\begin_inset Formula $u.d<v.earliest$
\end_inset

 - נוסיף את 
\begin_inset Formula $u$
\end_inset

 לרשימת נק' המפרק.
\end_layout

\begin_layout Part
שבוע 
\begin_inset Formula $\mathbb{XI}$
\end_inset

 |
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Minimum Spanning Tree
\end_layout

\begin_layout Section
הרצאה
\end_layout

\begin_layout Description
הגדרה יהי 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 גרף מכוון.
 
\bar under
הרכיבים הקשירים חזק
\bar default
 של 
\begin_inset Formula $G$
\end_inset

 הם תתי הגרפים המקסימליים כך שיש מסילה בין כל קודקוד לאחר )בשני הכיוונים(.
\end_layout

\begin_layout Description
הערה הרכיבים הקשירים חזק של 
\begin_inset Formula $G$
\end_inset

 מייצרים חלוקה של 
\begin_inset Formula $G$
\end_inset

 עם היחס שקיים מסלול דו צדדי בין כל שני קודקודים.
\end_layout

\begin_layout Description
הגדרה יהי 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 גרף מכוון.
 
\bar under
הגרף המושחלף
\bar default
 של 
\begin_inset Formula $G$
\end_inset

 הוא 
\begin_inset Formula $G^{T}=\left(V,E^{T}\right)$
\end_inset

 כאשר 
\begin_inset Formula $E^{T}=\left\{ \left(u,v\right):\left(v,u\right)\in E\right\} $
\end_inset

.
\end_layout

\begin_layout Standard

\lang english
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
SCC(G):
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

DFS(G) to compute v.f, 
\begin_inset Formula $\forall v\in V$
\end_inset


\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

Compute 
\begin_inset Formula $G^{T}$
\end_inset

a
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

DFS
\begin_inset Formula $\left(G^{T}\right)$
\end_inset

 in the order of decreasing v.f
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

Return sets of vertices grouped by the DFS trees created in DFS
\begin_inset Formula $\left(G^{T}\right)$
\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם למציאת הרכיבים הקשירים חזק של 
\begin_inset Formula $G$
\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/scc-example.png
	lyxscale 60
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמת הרצה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SCC
\lang hebrew
, כאשר הסימונים הצהובים ב-
\begin_inset Formula $G^{T}$
\end_inset

 הם 
\begin_inset Formula $v.f$
\end_inset

 עבור הקודקודים שאנחנו מתחילים מהם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Description
משפט יהיו 
\begin_inset Formula $C,C'$
\end_inset

 שני רכיבי קשירות שונים של 
\begin_inset Formula $G$
\end_inset

.
 תהי 
\begin_inset Formula $\left(u,v\right)\in E$
\end_inset

 כאשר 
\begin_inset Formula $u\in C,u'\in C'$
\end_inset

.
 אזי 
\begin_inset Formula $f\left(C\right)>f\left(C'\right)$
\end_inset

 כאשר 
\begin_inset Formula $f\left(C\right)=\max\limits _{u\in C}u.f$
\end_inset

 לכל רכיב קישרות חזק.
 המשמעות של זה היא שנסיים לעסוק ב-
\begin_inset Formula $C$
\end_inset

 רק אחרי שנסיים לעסוק בכל 
\begin_inset Formula $C'$
\end_inset

.
\end_layout

\begin_layout Description
מסקנה לכל צלע 
\begin_inset Formula $\left(u,v\right)\in E^{T}$
\end_inset

, כאשר 
\begin_inset Formula $u\in C,v\in C'$
\end_inset

 מתקיים 
\begin_inset Formula $f\left(C\right)<f\left(C'\right)$
\end_inset

.
\end_layout

\begin_layout Description
משפט אלגוריתם ה-
\lang english
SCC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מחשב את הרכיבים הקשירים חזק של גרף מכוון 
\begin_inset Formula $G$
\end_inset

.
\end_layout

\begin_layout Proof
באינדוקציה על כך ש-
\begin_inset Formula $k$
\end_inset

 העצים הראשונים מהאלגוריתם הם אכן רכיבים קשירים חזק.
\end_layout

\begin_layout Proof
בסיס )
\begin_inset Formula $k=0$
\end_inset

(: ברור.
\end_layout

\begin_layout Proof
צעד )
\begin_inset Formula $k\to k+1$
\end_inset

(: נניח כי העץ מושרש בקודקוד 
\begin_inset Formula $u$
\end_inset

 )שממנו אנחנו מתחילים את ריצת ה-
\lang english
DFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אחרי מציאת 
\begin_inset Formula $k$
\end_inset

 הרכיבים הקשירים חזק הקודמים(.
\end_layout

\begin_layout Proof
כאשר 
\begin_inset Formula $u$
\end_inset

 נבדק ב-
\lang english
DFS
\begin_inset Formula $\left(G^{T}\right)$
\end_inset


\lang hebrew
, אף אחד מהקודקודים האחרים עוד לא נבדק, ולכן כל הקודקודים הם בעץ הם צאצאים
 של 
\begin_inset Formula $u$
\end_inset

 בעץ ה-
\lang english
DFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)ממשפט המסלול שנסרק(.
\end_layout

\begin_layout Proof
מה
\begin_inset Quotes erd
\end_inset

א, כל רכיב קשירות חזק 
\begin_inset Formula $C'$
\end_inset

 שעוד לא התגלה מקיים 
\begin_inset Formula $f\left(C'\right)<f\left(C\right)$
\end_inset

 )כי אנחנו סורקים את 
\begin_inset Formula $G^{T}$
\end_inset

 בסדר 
\begin_inset Formula $u.f$
\end_inset

 יורד( ולכן לא קיימת צלע ב-
\begin_inset Formula $G^{T}$
\end_inset

 מ-
\begin_inset Formula $C$
\end_inset

 ל-
\begin_inset Formula $C'$
\end_inset

 ולכן כל צלע שיוצאת מ-
\begin_inset Formula $C$
\end_inset

 ב-
\begin_inset Formula $G^{T}$
\end_inset

 הולכת לרכיב קשירות חזק שכבר סרקנו אבל מה
\begin_inset Quotes erd
\end_inset

א אין כאלה ולכן אין אף קודקוד שלא נמצא ב-
\begin_inset Formula $C$
\end_inset

 שהוא צאצא של 
\begin_inset Formula $u$
\end_inset

, ולכן 
\begin_inset Formula $C$
\end_inset

 הוא בדיוק רכיב קשירות אחד.
\end_layout

\begin_layout Description
בעיה עץ פורש מינימלי )
\lang english
MST
\lang hebrew
( הוא תת הקבוצה של צלעות של גרף לא מכוון ממושקל כך המשקל של סך הצלעות הוא
 מינימלי אבל עדיין יש מסלול בין כל שני קודקודים בגרף.
 לדוגמה, ברישות אתרים נרצה להציב תשתית במחיר המינימלי )פר מרחק( כך שנגיע
 לכל האתרים הרצויים.
\end_layout

\begin_layout Description
הערה עבור 
\begin_inset Formula $T\subseteq E$
\end_inset

, בגרף ממושקל, נגדיר 
\begin_inset Formula $w\left(T\right)=\sum\limits _{e\in T}w\left(e\right)$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה יהי 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 גרף ממושקל, לא מכוון וקשיר.
 
\bar under
עץ פורש
\bar default
 של 
\begin_inset Formula $G$
\end_inset

 הוא תת קבוצה 
\begin_inset Formula $T\subseteq E$
\end_inset

 של צלעות מכוונות כך שהגרף 
\begin_inset Formula $G'=\left(V,T\right)$
\end_inset

 הוא קשיר וחסר מעגלים )ולכן הוא עץ(.
\end_layout

\begin_layout Description
הגדרה 
\bar under
עץ פורש מינימלי
\bar default
 הוא עץ פורש עם משקל מינימלי.
\end_layout

\begin_layout Description
הערה לגרף מסוים ייתכנו יותר מעץ פורש מינימלי אחד.
\end_layout

\begin_layout Standard
אסטרטגיה חמדנית: נתחיל עם 
\begin_inset Formula $T=\varnothing$
\end_inset

.
 נוסיף כל פעם צלע 
\begin_inset Formula $e$
\end_inset

 כך ש- 
\begin_inset Formula $T\cup\left\{ e\right\} $
\end_inset

 הוא עדיין תת קבוצה של עץ פורש מינימלי )זו תהיה האינווריאנטה שלנו(.
 צלע המקיימת תנאי זה נקראת 
\bar under
צלע בטוחה
\bar default
.
 נוסיף צלעות עד שנקבל גרף קשיר.
\end_layout

\begin_layout Description
הגדרה 
\bar under
חתך
\bar default
 של גרף לא מכוון 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 הוא חלוקה של 
\begin_inset Formula $V$
\end_inset

 לשתי קבוצות זרות, כלומר 
\begin_inset Formula $C=\left(U,V\backslash U\right)$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה צלע 
\begin_inset Formula $e=\left(u,v\right)$
\end_inset

 
\bar under
חותכת
\bar default
 חתך 
\begin_inset Formula $C=\left(U,V\backslash U\right)$
\end_inset

 אם 
\begin_inset Formula $u\in U$
\end_inset

 וגם 
\begin_inset Formula $v\in V\backslash U$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה חתך 
\begin_inset Formula $C=\left(U,V\backslash U\right)$
\end_inset

 
\bar under
מכבד
\bar default
 את קבוצת הצלעות 
\begin_inset Formula $A\subseteq E$
\end_inset

 אם אין צלע של 
\begin_inset Formula $A$
\end_inset

 שחותכת את 
\begin_inset Formula $C$
\end_inset

, כלומר כל צלע מכילה קודקודים ששניהם ב-
\begin_inset Formula $U$
\end_inset

 או ב-
\begin_inset Formula $V\backslash U$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה צלע 
\begin_inset Formula $e$
\end_inset

 נקראת 
\bar under
צלע קלה
\bar default
 אם היא הצלע עם המשקל המינימלי של הצלעות שחותכות את החתך.
\end_layout

\begin_layout Description
משפט יהיו 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 גרף לא מכוון, ממושקל וקשיר, 
\begin_inset Formula $A\subseteq E$
\end_inset

 המוכלת בעץ פורש מינימלי 
\begin_inset Formula $T$
\end_inset

 של 
\begin_inset Formula $G$
\end_inset

, 
\begin_inset Formula $C=\left(U,V\backslash U\right)$
\end_inset

 חתך שמכבד את 
\begin_inset Formula $A$
\end_inset

 ו-
\begin_inset Formula $e=\left(u,v\right)$
\end_inset

 צלע קלה, אזי 
\begin_inset Formula $e$
\end_inset

 היא צלע בטוחה.
\end_layout

\begin_layout Proof
יהי 
\begin_inset Formula $T$
\end_inset

 עץ פורש מינימלי שמכיל את 
\begin_inset Formula $A$
\end_inset

.
 אם 
\begin_inset Formula $T$
\end_inset

 לא מכיל את 
\begin_inset Formula $e$
\end_inset

 אז סיימנו.
 אחרת, 
\begin_inset Formula $e\notin T$
\end_inset

.
 בגלל ש-
\begin_inset Formula $u,v$
\end_inset

 נמצאים בצדדים שונים של החתך, יש לפחות צלע אחת 
\begin_inset Formula $e'=\left(u',v'\right)$
\end_inset

 ב-
\begin_inset Formula $T$
\end_inset

 שנמצאת על מסילה שחותכת את החתך )ומחברת בין 
\begin_inset Formula $u$
\end_inset

 ו-
\begin_inset Formula $v$
\end_inset

(.
 
\begin_inset Formula $e'\notin A$
\end_inset

 כי 
\begin_inset Formula $A$
\end_inset

 החתך מכבד את הקבוצה.
 לכן, 
\begin_inset Formula $A$
\end_inset

 מוכלת ב-
\begin_inset Formula $T'=T\backslash\left\{ e'\right\} \cup\left\{ e\right\} $
\end_inset

, לכן מספיק להראות ש-
\begin_inset Formula $T'$
\end_inset

 הוא עץ פורש מינימלי )כי ברור ש-
\begin_inset Formula $e\in T'$
\end_inset

(.
\end_layout

\begin_layout Proof
בגלל ש-
\begin_inset Formula $e'$
\end_inset

 הוא על המסלול היחיד בין 
\begin_inset Formula $u$
\end_inset

 ל-
\begin_inset Formula $v$
\end_inset

 ב-
\begin_inset Formula $T$
\end_inset

, מחיקתה מפרקת את 
\begin_inset Formula $T$
\end_inset

 לשני רכיבי קשירות.
 הוספת 
\begin_inset Formula $e=\left(u,v\right)$
\end_inset

 מחברת מחדש את רכיבי הקשירות ויוצרת עץ פורש 
\begin_inset Formula $T'$
\end_inset

.
\end_layout

\begin_layout Proof
מהיות 
\begin_inset Formula $e=\left(u,v\right)$
\end_inset

 הינה צלע קלה החותכת את 
\begin_inset Formula $\left(U,V\backslash U\right)$
\end_inset

, אזי 
\begin_inset Formula $e'=\left(u'v'\right)$
\end_inset

 גם חותכת את החתך ולכן 
\begin_inset Formula $w\left(u,v\right)\leq w\left(u',v'\right)$
\end_inset

 ולכן
\begin_inset Formula 
\[
w\left(T'\right)=w\left(T\right)-w\left(u,v\right)+w\left(u'v'\right)\leq w\left(T'\right)
\]

\end_inset

אבל 
\begin_inset Formula $T$
\end_inset

 עץ פורש מינימלי ולכן 
\begin_inset Formula $w\left(T\right)\leq w\left(T'\right)$
\end_inset

 ולכן 
\begin_inset Formula $w\left(T\right)=w\left(T'\right)$
\end_inset

 ולכן גם 
\begin_inset Formula $T'$
\end_inset

 הוא עץ פורש מינימלי.
\end_layout

\begin_layout Subsection*
אלגוריתמים המחשבים עצים פורשים מינימלים
\end_layout

\begin_layout Enumerate
פרים )
\lang english
Prim
\lang hebrew
(: נשמור קבוצה 
\begin_inset Formula $A$
\end_inset

 שהיא עץ והצלע הבטוחה שנוסיף היא הצלע בעלת המשקל המינימלי שמחברת קודקוד
 שאינו ב-
\begin_inset Formula $A$
\end_inset

 ל-
\begin_inset Formula $A$
\end_inset

 )כלומר החתך הוא קודקודים בעץ מול כל שאר הקודקודים(.
\end_layout

\begin_layout Enumerate
קורסקל )
\lang english
Kurskal
\lang hebrew
(: נשמור קבוצה 
\begin_inset Formula $A$
\end_inset

 שהיא עץ והצלע הבטוחה שנוסיף היא הצלע בעלת המשקל המינימלי שמחברת בין שני
 רכיבי קשירות שונים של 
\begin_inset Formula $A$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/kurskal-alg.png
	lyxscale 60
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
מימוש של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Kurskal
\end_layout

\end_inset


\end_layout

\end_inset

במימוש זה, מתחילים מהקבוצה הריקה ויוצרים קבוצת סינגלטון לכל קודקוד, שזה
 יהיה הקבוצה שלו ביער.
 נעבור על הצלעות בסדר עולה לפי משקלן ובכל פעם נבדוק האם הצלע מחברת בין שני
 רכיבים שונים.
 אם כן, נוסיף את הצלע לקבוצה ונאחד את הרכיבים של הקודקודים שהיא מחברת ביניהם.
\end_layout

\begin_layout Standard
זמן הריצה של מימוש זה ינותח בהמשך.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/prim-alg.png
	lyxscale 60
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
מימוש של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Prim
\end_layout

\end_inset


\end_layout

\end_inset

במימוש זה, 
\begin_inset Formula $Q$
\end_inset

 הוא ערימת מינימום.
 ראשית נעבור ונקבע לכל קודקוד את המפתח שלו, שיהיה המשקל של הצלע שמחברת אותו
 לשורש )ובהמשך המשקל של הצלע הקלה ביותר שתחבר אותו לעץ 
\begin_inset Formula $A$
\end_inset

( ואת הקודם שלו להיות השורש.
 נעבור על ערימת המינימום עד שכל הקודקודים יהיו בעץ ובכל פעם נוסיף את הקודקוד
 עם המשקל המינימלי לעץ ונעבור על כל השכנים שלו ונעדכן להם את המפתח שלהם
 להיות המשקל הנמוך ביותר החדש )אם השתנה( לחיבור לעץ.
\end_layout

\begin_layout Standard
זמן ריצה: בניית הערימה היא 
\begin_inset Formula $\oo{\left|V\right|}$
\end_inset

 וכך גם איפוס הערכיה בלולאה הראשונה.
 הלולאה השנייה )החיצונית( רצה 
\begin_inset Formula $\left|V\right|$
\end_inset

 פעמים והוצאת איבר מערימת המינימום דורשת 
\begin_inset Formula $\oo{\log\left|V\right|}$
\end_inset

.
 הלולאה הפנימית 
\begin_inset Formula $\oo{\left|E\right|}$
\end_inset

 פעמים והבדיקות שנעשות בה צורכות 
\begin_inset Formula $\oo 1$
\end_inset

 למעט שינוי הערך של המפתח של השכן שדורש 
\begin_inset Formula $\oo{\log\left|V\right|}$
\end_inset

.
 לכן סה
\begin_inset Quotes erd
\end_inset

כ זמן הריצה הוא
\begin_inset Formula 
\[
\oo{\left|V\right|+\left|V\right|+\left|V\right|\left(\log\left|V\right|+\left|E\right|\log\left|V\right|\right)}=\oo{\left|E\right|\log\left|V\right|}
\]

\end_inset


\end_layout

\begin_layout Section
תרגול
\end_layout

\begin_layout Description
משפט )למת החתך( יהיו 
\begin_inset Formula $G=\left(V,E,w\right)$
\end_inset

 גרף ממושקל, 
\begin_inset Formula $C$
\end_inset

 חתך של הגרף, 
\begin_inset Formula $F$
\end_inset

 תת גרף ללא מעגלים וללא צלעות בחתך )צלעות בין קודקודים מקבוצות החתך( כך
 ש-
\begin_inset Formula $F\subseteq T$
\end_inset

 עפ
\begin_inset Quotes erd
\end_inset

מ אזי קיים עפ
\begin_inset Quotes erd
\end_inset

מ 
\begin_inset Formula $T'$
\end_inset

 כך ש-
\begin_inset Formula $F\cup\left\{ e\right\} \subseteq T'$
\end_inset

, כאשר 
\begin_inset Formula $e$
\end_inset

 היא צלע מינימלית בחתך.
\end_layout

\begin_layout Standard
באלג' של שקורסקל, נמיין את הצלעות לפי משקלן בסדר עולה.
 נעבור על כל הצלעות לפי הסדר, אם הצלעה הנוכחית לא סוגרת מעגל, נוסיף אותה
 לצלעות העפ
\begin_inset Quotes erd
\end_inset

מ.
 נשתמש במבנ
\begin_inset Quotes erd
\end_inset

ת 
\begin_inset Formula $Union-Find$
\end_inset

 שעושה פעולות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FindSet
\lang hebrew
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Union
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ב-
\begin_inset Formula $\oo 1$
\end_inset

 )
\lang english
amortized
\lang hebrew
(.
\end_layout

\begin_layout Standard
זמן הריצה: מיון יקח 
\begin_inset Formula $\oo{\left|E\right|\log\left|E\right|}$
\end_inset

 ואז המעבר על כל הצלעות יקח 
\begin_inset Formula $\oo{\left|E\right|}$
\end_inset

 )
\lang english
amortized
\lang hebrew
(, כלומר סה
\begin_inset Quotes erd
\end_inset

כ 
\begin_inset Formula 
\[
\oo{\left|E\right|\log\left|E\right|}=\oo{\left|E\right|\log\left|V\right|^{2}}=\oo{\left|E\right|\log\left|V\right|}
\]

\end_inset


\end_layout

\begin_layout Standard
אלג' פרים דומה ל-
\lang english
BFS
\lang hebrew
.
 במקום תור 
\begin_inset Formula $Q$
\end_inset

 נחזיק ערימת מינימום, ובכל שלב נתקדם לאיבר עם הערך המינימלי ונעשה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Extract-Min
\lang hebrew
.
\end_layout

\begin_layout Standard
נשים לב כי הערימה מגדירה לנו חתך והאלג' כל פעם מוציא את הצלע הקטנה ביותר
 בחתך.
 בגלל נקודות המבט הזו נוכל להשתמש בלמת החתך להוכחת הנוכונות ולקבל הוכחה
 טריוויאלית )בעזרת אינדוקציה(.
\end_layout

\begin_layout Description
משפט יהי גרף ממושקל וקשיר 
\begin_inset Formula $G=\left(V,E,w\right)$
\end_inset

 כך שכל משקלי הצלעות שונים זה מזה.
 אזי לגרף יש עפ
\begin_inset Quotes erd
\end_inset

מ יחיד.
\end_layout

\begin_layout Proof
נניח בשלילה שקיימים שני עפ
\begin_inset Quotes erd
\end_inset

מים שונים 
\begin_inset Formula $T_{1},T_{2}$
\end_inset

.
 נגדיר את 
\begin_inset Formula $E'$
\end_inset

 להיות קבוצת הצלעות שנמצאת רק ב-
\begin_inset Formula $T_{1}$
\end_inset

 או רק ב-
\begin_inset Formula $T_{2}$
\end_inset

.
 מההנחה 
\begin_inset Formula $E'\neq\varnothing$
\end_inset

 ולכן נבחר את 
\begin_inset Formula $e'$
\end_inset

 הצלע עם המשקל המינימלי ב-
\begin_inset Formula $E'$
\end_inset

.
 בה
\begin_inset Quotes erd
\end_inset

כ 
\begin_inset Formula $e'\in T_{1}\backslash T_{2}$
\end_inset

.
\end_layout

\begin_layout Proof
נוסיף את 
\begin_inset Formula $e'$
\end_inset

 ל-
\begin_inset Formula $T_{2}$
\end_inset

.
 בהכרח נסגור מעגל, 
\begin_inset Formula $\left(e',e_{1},\dots,e_{k},e'\right)$
\end_inset

.
 במעגל בהכרח קיימת צלע 
\begin_inset Formula $e_{j}\in T_{2}\backslash T_{1}$
\end_inset

 )כי כל המעגל ב-
\begin_inset Formula $T_{1}$
\end_inset

, שהוא עץ(, כלומר 
\begin_inset Formula $e_{j}\in E'$
\end_inset

.
 ממינימליות 
\begin_inset Formula $e'$
\end_inset

, 
\begin_inset Formula $e'<e_{j}$
\end_inset

.
\end_layout

\begin_layout Proof
נביט ב-
\begin_inset Formula $T'=\left(T_{2}\backslash\left\{ e_{j}\right\} \right)\cup\left\{ e'\right\} $
\end_inset

, שהוא 
\begin_inset Formula $T_{2}$
\end_inset

 בלי 
\begin_inset Formula $e_{j}$
\end_inset

 ועם 
\begin_inset Formula $e'$
\end_inset

, מתקיים 
\begin_inset Formula 
\[
w\left(T'\right)=w\left(T_{2}\right)-w\left(e_{j}\right)+w\left(e'\right)<w\left(T_{2}\right)
\]

\end_inset

ובנוסף ב-
\begin_inset Formula $T'$
\end_inset

 יש 
\begin_inset Formula $\left|V\right|-1$
\end_inset

 צלעות ואין בו מעגלים ולכן הוא עץ פורש, ולכן מצאנו עץ פורש עם משקל קטן ממש
 מעפ
\begin_inset Quotes erd
\end_inset

מ, כלומר 
\begin_inset Formula $T_{2}$
\end_inset

 כלל אינו עפ
\begin_inset Quotes erd
\end_inset

מ, סתירה.
\end_layout

\begin_layout Standard
נביט במימוש נוסף לאלג' קורסקל.
 נעבור על צלעות 
\begin_inset Formula $G$
\end_inset

 לפי משקלן בסדר יורד )מהגדול לקטן(, אם צלע שייכת למעגל ב-
\begin_inset Formula $G$
\end_inset

, נמחק אותה מ-
\begin_inset Formula $G$
\end_inset

.
\end_layout

\begin_layout Standard
זה בדיוק הפוך מקורסקל, במקום להוסיף צלעות מתאימות, אנו מוחקים צלעות לא מתאימות.
\end_layout

\begin_layout Description
משפט )שראינו בדיסקרטית( הסרה של צלע מגרף קשיר לא מכוון הופעת אותו ללא קשיר
 או פותחת מעגל כלשהו.
\end_layout

\begin_layout Standard
לכן, כדי לממש את האלג' המוזכר לעיל, מה שבעצם נעשה זה לעבור על הצלעות לפי
 סדר יורד של משקלן, להסיר את הצלע, להריץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS/BFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על הגרף עם הצלע המוסרת, ואם נגלה מהרצה זו שהגרף כבר לא קשיר, נחזיר את הצלע,
 ואם הוא נשאר קשיר, נסיר אותה ונעבור לצלע הבאה.
\end_layout

\begin_layout Standard
מהמשפט הקודם האלג' יחזיר בסופו של דבר עפ
\begin_inset Quotes erd
\end_inset

מ.
\end_layout

\begin_layout Standard
סיבוכיות האלג': המיון דורש 
\begin_inset Formula $\oo{\left|E\right|\log\left|E\right|}=\oo{\left|E\right|\log\left|V\right|}$
\end_inset

, ואז הרצת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
BFS/DFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
למציאת הקשירות דורשת 
\begin_inset Formula $\oo{\left|V\right|+\left|E\right|}$
\end_inset

 ואנו עושים זאת 
\begin_inset Formula $\left|E\right|$
\end_inset

 פעמים, כלומר סה
\begin_inset Quotes erd
\end_inset

כ
\begin_inset Formula 
\[
\oo{\left|E\right|\log\left|V\right|+\left|E\right|\left(\left|E\right|+\left|V\right|\right)}=\oo{\left|E\right|^{2}}
\]

\end_inset

שזה פחות טוב מקרוסקל המקורי.
\end_layout

\begin_layout Part
שבוע 
\begin_inset Formula $\mathbb{XII}$
\end_inset

 |
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Weighted Single Source Shortest Path
\end_layout

\begin_layout Section
הרצאה
\end_layout

\begin_layout Standard
עד כה, פתרנו את בעיית המקור האחד והמסלול האחד עם גרפים לא ממשוקלים.
 עתה נפתור את הבעיה עם משקולות.
\end_layout

\begin_layout Description
הגדרה 
\bar under
משקל המסלול הקצר ביותר
\bar default
 מוגדר ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $\delta\left(u,v\right)=\min\left\{ w\left(p\right):u\overset{p}{\Rightarrow}v\right\} $
\end_inset

.
\end_layout

\begin_layout Description
הערה במסילות קצרות ביותר אין מעגלים, כי נוכל פשוט להיפטר מהמעגל ולקבל מסלול
 קל יותר.
\end_layout

\begin_layout Description
הערה כל תת מסילה של מסילה קצרה ביותר גם היא זמן קצר ביותר.
\end_layout

\begin_layout Description
הגדרה 
\bar under
עץ מסלול קצר ביותר
\bar default
 המושרש ב-
\begin_inset Formula $s$
\end_inset

 הוא עץ פורש המושרש ב-
\begin_inset Formula $s$
\end_inset

 כך שהמסילה בין 
\begin_inset Formula $s$
\end_inset

 לכל קודקוד אחר היא המסילה הקצרה ביותר בגרף המקורי.
\end_layout

\begin_layout Standard
האלג' שנדון בהם יחזירו את עץ המסלול הקצר ביותר בעזרת השדה 
\begin_inset Formula $v.\pi$
\end_inset

, כלומר 
\begin_inset Formula $G_{\pi}$
\end_inset

 יהיה עץ מסלול קצר ביותר המושרש ב-
\begin_inset Formula $s$
\end_inset

.
\end_layout

\begin_layout Standard
באתחול, נקבע 
\begin_inset Formula $v.\pi=null$
\end_inset

 לכל הקודקודים, 
\begin_inset Formula $s.dist=0$
\end_inset

 ו-
\begin_inset Formula $v.dist=\infty$
\end_inset

 לכל 
\begin_inset Formula $v\neq s$
\end_inset

.
 אחרי האתחול, נשנה את 
\begin_inset Formula $v.\pi,v.dist$
\end_inset

 רק באמצעות פ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Relaxation
\lang hebrew
.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הרעיון באלג' הוא שמצאנו קודקוד שהמעבר דרכו הוא יותר קל מהמסלול הנוכחי.
\lang english

\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
Relax(u,v):
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

if v.dist > u.dist + w(u,v):
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

v.dist = u.dist + w(u,v):
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

v.
\begin_inset Formula $\pi$
\end_inset

 = u
\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם ה-
\lang english
Relax
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/relax-example.png

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
אינטואיציה מאחורי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Relax
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center

\end_layout

\end_inset


\end_layout

\begin_layout Standard
תחת האלגוריתם, נוכל להסיק כמה דברים.
\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $v.\pi\neq null$
\end_inset

 אז 
\begin_inset Formula $\left(v.\pi,v\right)$
\end_inset

 היא צלע ב-
\begin_inset Formula $G$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $v.dist\geq\delta\left(s,v\right)$
\end_inset

 כי אחרי עדכון 
\begin_inset Formula $v.dist$
\end_inset

,
\begin_inset Formula 
\[
v.dist=u.dist+w\left(u,v\right)\geq\delta\left(s,v\right)+w\left(u,v\right)\geq\delta\left(s,v\right)
\]

\end_inset

ואם אין מסלול מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $v$
\end_inset

 אז 
\begin_inset Formula $v.dist=\delta\left(s,v\right)=\infty$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $v.dist$
\end_inset

 רק יורד לאורך האלג'.
\end_layout

\begin_layout Description
טענה )תכונת ההתכנסות( יהי 
\begin_inset Formula $s\overset{p}{\Rightarrow}u\to v$
\end_inset

 המסלול הקצר ביותר ב-
\begin_inset Formula $G$
\end_inset

 עבור 
\begin_inset Formula $u,v$
\end_inset

.
 אם 
\begin_inset Formula $u.dist=\delta\left(s,,u\right)$
\end_inset

 בכל זמן לפני הפעלת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Relax
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על הצלע 
\begin_inset Formula $\left(u,v\right)$
\end_inset

, אזי 
\begin_inset Formula $v.dist=\delta\left(s,v\right)$
\end_inset

 כל הזמן לאחר מכן.
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
v.dist & =u.dist+w\left(u,v\right)\\
 & =\delta\left(s,u\right)+w\left(u,v\right)\\
 & =\delta\left(s,v\right)
\end{align*}

\end_inset

ולא ייתכן כי נקטין את הערך מתחת לכך בהמשך.
\end_layout

\begin_layout Description
טענה )תכונת תת-עץ הקודמים( אם 
\begin_inset Formula $\forall v\in V$
\end_inset

, 
\begin_inset Formula $v.dist=\delta\left(s,v\right)$
\end_inset

, אז לכל 
\begin_inset Formula $v\in V$
\end_inset

, 
\begin_inset Formula $v.\pi$
\end_inset

 הוא אחד לפני 
\begin_inset Formula $v$
\end_inset

 במסלול הקצר ביותר מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $v$
\end_inset

 ב-
\begin_inset Formula $G$
\end_inset

 )או במילים אחרות, 
\begin_inset Formula $G_{\pi}$
\end_inset

 הוא עץ מסלול קצר ביותר(.
\end_layout

\begin_layout Standard
האלג' הראשון שנראה הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Djikstra
\lang hebrew
.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/djikstra.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
האלגוריתם של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Djikstra
\end_layout

\end_inset


\end_layout

\end_inset

באלג' הזה, 
\begin_inset Formula $Q$
\end_inset

 הוא ערימת מינימום עם המפתח 
\begin_inset Formula $dist$
\end_inset

.
 הרעיון של האלג' הוא ראשית אתחול, ואז לבחור כל פעם את הקודקוד בעל ה-
\lang english
dist
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)המרחק המוצהר כרגע( המינימלי ולעשות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Relax
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לכל הצלעות שיוצאות ממנו וכך שוב ושוב עד שעברנו על כל הקודקודים.
\end_layout

\begin_layout Standard
נשים לב כי זוהי בסך הכל וריאציה על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
BFS
\lang hebrew
, כאשר כאן אנחנו מתייחסים גם למשקל.
\end_layout

\begin_layout Standard
ל-
\begin_inset Formula $S$
\end_inset

 אין משמעות )מלבד להיות 
\begin_inset Formula $V\backslash Q$
\end_inset

 לאורך כל הריצה, ולעזור באנליזה(.
\end_layout

\begin_layout Description
משפט בסוף הריצה של האלגוריתם של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Djikstra
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתקיים 
\begin_inset Formula $u.dist=\delta\left(s,u\right)$
\end_inset

, 
\begin_inset Formula $\forall u\in V$
\end_inset

.
\end_layout

\begin_layout Proof
נוכיח כי כאשר 
\begin_inset Formula $u$
\end_inset

 מוצא מ-
\begin_inset Formula $Q$
\end_inset

, 
\begin_inset Formula $u.dist=\delta\left(s,u\right)$
\end_inset

, 
\begin_inset Formula $\forall u$
\end_inset

.
 באינדוקציה על 
\begin_inset Formula $dist$
\end_inset

.
\end_layout

\begin_layout Proof
בסיס: כש-
\begin_inset Formula $s$
\end_inset

 מוצא, 
\begin_inset Formula $s.dist=0$
\end_inset

.
\end_layout

\begin_layout Proof
צעד: נניח כי 
\begin_inset Formula $u$
\end_inset

 הוצא מ-
\begin_inset Formula $Q$
\end_inset

.
 יש מסלול מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $u$
\end_inset

 )אחרת 
\begin_inset Formula $u.dist=\delta\left(s,u\right)=\infty$
\end_inset

(.
 יהי 
\begin_inset Formula $p$
\end_inset

 המסלול הקצר ביותר מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $u$
\end_inset

.
 יהי 
\begin_inset Formula $y$
\end_inset

 הקודקוד המוקדם ביותר ב-
\begin_inset Formula $p$
\end_inset

 כך ש- 
\begin_inset Formula $y$
\end_inset

 אינו ב-
\begin_inset Formula $S$
\end_inset

 כאשר )לפני( 
\begin_inset Formula $u$
\end_inset

 הוצא ו-
\begin_inset Formula $x$
\end_inset

 הקודקוד שלפני 
\begin_inset Formula $y$
\end_inset

.
 לכן מתקיים 
\begin_inset Formula $s\overset{p_{1}}{\Rightarrow}x\to y\overset{p_{2}}{\Rightarrow}u$
\end_inset

.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/djikstra-proof.png

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
אינטואציה לצעד האינדוקציה
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Proof
נוכיח כי 
\begin_inset Formula $y.dist=\delta\left(s,y\right)$
\end_inset

 כאשר 
\begin_inset Formula $u$
\end_inset

 הוצא מ-
\begin_inset Formula $Q$
\end_inset

.
 
\begin_inset Formula $x$
\end_inset

 הוצא לפני 
\begin_inset Formula $u$
\end_inset

.
 מה
\begin_inset Quotes erd
\end_inset

א, מתקיים 
\begin_inset Formula $x.dist=\delta\left(s,x\right)$
\end_inset

 כאשר 
\begin_inset Formula $x$
\end_inset

 הוצא.
 הרצנו את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Relax
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על 
\begin_inset Formula $\left(x,y\right)$
\end_inset

 אחרי ש-
\begin_inset Formula $x$
\end_inset

 הוצא ולפני ש-
\begin_inset Formula $u$
\end_inset

 הוצא.
 לכן מתכונת ההתכנסות, 
\begin_inset Formula $y.dist=\delta\left(s,y\right)$
\end_inset

 כאשר 
\begin_inset Formula $u$
\end_inset

 הוצא )ייתכן כי 
\begin_inset Formula $y=s$
\end_inset

(.
\end_layout

\begin_layout Proof
נוכיח כי 
\begin_inset Formula $u.dist=\delta\left(s,u\right)$
\end_inset

.
 בגלל ש-
\begin_inset Formula $y$
\end_inset

 הוא לפני 
\begin_inset Formula $u$
\end_inset

 במסלול קצר ביותר בין 
\begin_inset Formula $u$
\end_inset

 ל-
\begin_inset Formula $s$
\end_inset

, אזי 
\begin_inset Formula $\delta\left(s,y\right)\leq\delta\left(s,u\right)$
\end_inset

 ולכן
\begin_inset Formula 
\[
y.dist=\delta\left(s,y\right)\leq\delta\left(s,y\right)\leq u.dist
\]

\end_inset

אבל בגלל ש-
\begin_inset Formula $y$
\end_inset

 ו-
\begin_inset Formula $u$
\end_inset

 שניהם היו ב-
\begin_inset Formula $Q$
\end_inset

 כש-
\begin_inset Formula $u$
\end_inset

 הוצא ולכן 
\begin_inset Formula $u$
\end_inset

 בא לפני 
\begin_inset Formula $y$
\end_inset

 בתור הקדימויות ולכן 
\begin_inset Formula $u.dist\leq y.dist$
\end_inset

 ולכן 
\begin_inset Formula $\delta\left(s,u\right)=u.dist$
\end_inset

 וגם על הדרך הוכחנו כי 
\begin_inset Formula $y=u$
\end_inset

.
\end_layout

\begin_layout Description
מסקנה מטענה שראינו למעלה )שנוכיח בתרגול(, זה גורר שגם 
\begin_inset Formula $G_{\pi}$
\end_inset

 הוא אכן עץ מסלול קצר ביותר המושרש ב-
\begin_inset Formula $s$
\end_inset

.
\end_layout

\begin_layout Standard
ננתח את זמן הריצה של האלגוריתם של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Djikstra
\lang hebrew
.
 האתחול של הערימה דורש 
\begin_inset Formula $\oo{\left|V\right|}$
\end_inset

.
 בתוך הלולאה השליפה דורשת 
\begin_inset Formula $\oo{\log\left|V\right|}$
\end_inset

, ופעולה זו תתבצע 
\begin_inset Formula $\oo{\left|V\right|}$
\end_inset

 פעמים סה
\begin_inset Quotes erd
\end_inset

כ.
 את פ' ה-
\lang english
Relax
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אנחנו מריצים פעם אחת על כל צלע, ובהניתן שאנחנו אכן מעדכנים את שדה ה-
\begin_inset Formula $dist$
\end_inset

, העדכון בערימה ידרוש 
\begin_inset Formula $\log\left|V\right|$
\end_inset

.
 לכן סה
\begin_inset Quotes erd
\end_inset

כ נקבל
\begin_inset Formula 
\[
\oo{\left|V\right|}+\oo{\left|V\right|\log\left|V\right|}+\oo{\left|E\right|\log\left|V\right|}=\oo{\left(\left|V\right|+\left|E\right|\right)\log\left|V\right|}
\]

\end_inset

נוכל לממש את הערימה אחרת.
 אם נעשה זאת באמצעות מערך נטו, אז עדכון ערכים יקח 
\begin_inset Formula $\oo 1$
\end_inset

 ומציאת המינימום לוקחת 
\begin_inset Formula $\oo{\left|V\right|}$
\end_inset

 ולכן הסיבוכיות תרד ל-
\begin_inset Formula $\oo{\left|V\right|^{2}}+\oo{\left|E\right|}=\oo{\left|V\right|^{2}}$
\end_inset

 ובמקרה ש-
\begin_inset Formula $\left|E\right|=\om{\left|V\right|^{2}\log V}$
\end_inset

 זה עדיף.
\end_layout

\begin_layout Standard
עתה נרצה גם לאפשר שימוש במשקולות שליליים )או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
(.
 הגדרת משקל המסילה נשארת זהה.
 אם יש מעגל שלילי בגרף אז אם יש קודקודים שיש ביניהם מסלול שעובר דרכו אז
 המרחק ביניהם יהיה 
\begin_inset Formula $-\infty$
\end_inset

.
 כדי לפתור זאת, נגדיר
\begin_inset Formula 
\[
\delta\left(u,v\right)=\min\left\{ w\left(p\right):u\overset{p}{\Rightarrow}v\;\text{ללא מעגלים}\right\} >-\infty
\]

\end_inset


\end_layout

\begin_layout Standard
תתי מסילות של מסילות קצרות ביותר הן עדיין מסילות קצרות ביותר, וכן קיים מסלול
 קצר ביותר ללא מעגלים )בעצם, במקרה שאין משקולות שליליים, ההגדרות שקולות(.
\end_layout

\begin_layout Standard
עם זאת, אם 
\begin_inset Formula $u$
\end_inset

 בא לפני 
\begin_inset Formula $v$
\end_inset

 במסלול קצר ביותר מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $v$
\end_inset

 אז לא בהכרח מתקיים 
\begin_inset Formula $\delta\left(s,u\right)\leq\delta\left(s,v\right)$
\end_inset

 ולכן גם האלגוריתם של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Djikstra
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא יעבוד.
\end_layout

\begin_layout Standard
בגלל שאנחנו עדיין משתמשים ב-
\lang english
Relax
\lang hebrew
, נשמור על כך ש-
\begin_inset Formula $v.dist\geq\delta\left(s,v\right)$
\end_inset

 ו-
\begin_inset Formula $v.dist$
\end_inset

 רק יורד לאורך הריצה.
 בנוסף תכונת ההתכנסות ותכונת הקודמים גם הן ימשיכו להתקיים.
\end_layout

\begin_layout Standard
נציג עתה את האלגוריתם של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Bellman-Ford
\lang hebrew
.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/bellman-ford.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
האלגוריתם של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Bellman-Ford
\end_layout

\end_inset


\end_layout

\end_inset

נכונות האלג' לא תלויה בסדר המעברים על הקודקודים/צלעות.
\end_layout

\begin_layout Description
משפט בסוף ריצת האלגוריתם של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Bellman-Ford
\lang hebrew
, 
\begin_inset Formula $v.dist=\delta\left(s,v\right)$
\end_inset

, 
\begin_inset Formula $\forall v$
\end_inset

 ואם אין בגרף מעגלים שליליים, אז נקבל 
\begin_inset Formula $G_{\pi}$
\end_inset

 עץ מסלול קצר ביותר המושרש ב-
\begin_inset Formula $s$
\end_inset

 ואם יש בגרף מעגלים שליליים אז האלג' יחזיר שיש מעגלים שליליים.
\end_layout

\begin_layout Proof
ראשית נניח כי אין מעגלים שליליים.
 יהי 
\begin_inset Formula $v$
\end_inset

 קודקוד ויהי 
\begin_inset Formula $v_{0},\dots,v_{k}$
\end_inset

 מסלול קצר ביותר בין 
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $v$
\end_inset

 שאין בו מעגל ולכן בפרט מתקיים 
\begin_inset Formula $k\leq\left|V\right|-1$
\end_inset

.
\end_layout

\begin_layout Proof
נוכיח באוינדוקציה כי לאחר שהאלגוריתם עבר 
\begin_inset Formula $i$
\end_inset

 פעמים על כל הצלעות, המרחק של 
\begin_inset Formula $v_{i}$
\end_inset

 נכון, כלומר, 
\begin_inset Formula $v_{i}.dist=\delta\left(s,v_{i}\right)$
\end_inset

.
\end_layout

\begin_layout Proof
בסיס: ברור.
\end_layout

\begin_layout Proof
צעד: מה
\begin_inset Quotes erd
\end_inset

א, 
\begin_inset Formula $v_{i-1}.dist=\delta\left(s,v_{i-1}\right)$
\end_inset

.
 מתכונת ההתכנסות, ומהעובדה שהרצנו את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Relax
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על 
\begin_inset Formula $\left(v_{i-1},v_{i}\right)$
\end_inset

, אזי 
\begin_inset Formula $v_{i}.dist=\delta\left(s,v_{i}\right)$
\end_inset

 אחרי האיטרציה ה-
\begin_inset Formula $i$
\end_inset

.
\end_layout

\begin_layout Proof
בפרט, לאחר האיטרציה ה-
\begin_inset Formula $k$
\end_inset

, 
\begin_inset Formula $v.dist=\delta\left(s,v\right)$
\end_inset

.
 מתכונת הקודמים, 
\begin_inset Formula $G_{\pi}$
\end_inset

 הוא עץ מסלול קצר ביותר ב-
\begin_inset Formula $s$
\end_inset

.
\end_layout

\begin_layout Proof
בתרגול נוכיח כי האלג' יחזיר 
\begin_inset Quotes eld
\end_inset

מעגל שלילי
\begin_inset Quotes erd
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם יש מעגל שלילי.
\end_layout

\begin_layout Standard
ננתח את זמן הריצה של האלג'.
 אנחנו מבצעים 
\begin_inset Formula $\left|E\right|$
\end_inset

 עדכונים, 
\begin_inset Formula $\left|V\right|$
\end_inset

 פעמים, לכן סה
\begin_inset Quotes erd
\end_inset

כ הסיבוכיות היא 
\begin_inset Formula $\oo{\left|V\right|\cdot\left|E\right|}$
\end_inset

.
\end_layout

\begin_layout Section
תרגול
\end_layout

\begin_layout Standard
ניזכר באלג' של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Djikstra
\lang hebrew
: האלג' יעבוד בצרוה דומה לאלג' פרים, רק שבמקום לעשות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ExtractMin
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
למשקל הצלע הנמוך בערימה, נעשה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ExtractMin
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
למשקל המסלול ביותר מ-
\begin_inset Formula $s$
\end_inset

 שנמצא בערימה.
 נשמור לכל 
\begin_inset Formula $v$
\end_inset

 מתשנה 
\begin_inset Formula $dist\left(v\right)$
\end_inset

 שיהיה המרחק המינימלי מ-
\begin_inset Formula $s$
\end_inset

 ו-
\begin_inset Formula $\pi\left(v\right)$
\end_inset

 שיהיה הקודם של 
\begin_inset Formula $v$
\end_inset

 במסלול הקצר ביותר מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $v$
\end_inset

 )בסופו של דבר(.
 במעבר על צלע 
\begin_inset Formula $\left(u,v\right)$
\end_inset

 נשתמש בפ' העזר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Relax
\lang hebrew
, שתעדכן את שדות 
\begin_inset Formula $v$
\end_inset

 אם הם יותר אידאלים מאלו הנוכחיים שלו.
\end_layout

\begin_layout Subsection*
שאלות
\end_layout

\begin_layout Enumerate
האם אלג'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Djikstra
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עובד כאשר יש צלעות שליליות בגרף?
\begin_inset Newline newline
\end_inset

לא! בדוגמה המאוירת, נעבור קודם על 
\begin_inset Formula $\left(s,v\right)$
\end_inset

, נעדכן את 
\begin_inset Formula $dist\left(v\right)$
\end_inset

 להיות 
\begin_inset Formula $1$
\end_inset

 ונבצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Relax
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על 
\begin_inset Formula $w$
\end_inset

, כך שבסופו של דבר 
\begin_inset Formula $dist\left(w\right)=2$
\end_inset

.
 לאחר מכן, נעבור על 
\begin_inset Formula $\left(s,u\right)$
\end_inset

 ו-
\begin_inset Formula $\left(u,v\right)$
\end_inset

 ונעדכן את 
\begin_inset Formula $dist,\pi$
\end_inset

 כראוי עבור 
\begin_inset Formula $s,v,u$
\end_inset

 אבל 
\begin_inset Formula $w$
\end_inset

 לא יעדוכן שכן לא ניגש שוב לשכניו של 
\begin_inset Formula $v$
\end_inset

 כי כבר עברנו עליו, ולכן נקבל שהמסלול הקצר ביותר מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $w$
\end_inset

 הוא במשקל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
, אפילו שהוא במשקל 
\begin_inset Formula $-6$
\end_inset

.
\begin_inset Newline newline
\end_inset


\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/djikstra-neg.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמה נגדית ל-
\lang english
Djikstra
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם צלעות בעלות משקל שלילי
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
עתה, נוסיף לכל קודקוד את 
\begin_inset Formula $\left|w\left(e'\right)\right|$
\end_inset

 כאשר 
\begin_inset Formula $e'$
\end_inset

 היא בעלת המשקל המינימלי בגרף ואז נריץ על זה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Djikstra
\lang hebrew
.
 האם אז נוכל להתמודד עם צלעות שליליות?
\begin_inset Newline newline
\end_inset

לא! עבור הגרף המאויר, לאחר הוספת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לכל הצלעות, נקבל שהמסלול הקצר ביותר מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $v$
\end_inset

 הוא 
\begin_inset Formula $\left(\left(s,v\right)\right)$
\end_inset

, במשקל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)בגרף החדש(, אך בעצם המשקל המינימלי הוא 
\begin_inset Formula $\left(\left(s,u\right),\left(u,v\right)\right)$
\end_inset

.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/djikstra-var-neg.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמה נגדית ל-
\lang english
Djikstra
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם צלעות בעלות משקל שלילי והוספת המשקל המינימלי בגרף
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
האם כל מסלול קצר ביותר בין שני קודקודים מוכל בעפ
\begin_inset Quotes erd
\end_inset

מ של גרף?
\begin_inset Newline newline
\end_inset

לא! בגרף המאויר, עפ
\begin_inset Quotes erd
\end_inset

מ הוא 
\begin_inset Formula $\left\{ \left(s,u\right),\left(u,w\right),\left(w,v\right)\right\} $
\end_inset

 אבל המסלול הקצר ביותר מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $v$
\end_inset

 הוא 
\begin_inset Formula $\left(s,v\right)$
\end_inset

 ולא נכלל בעפ
\begin_inset Quotes erd
\end_inset

מ הנ
\begin_inset Quotes erd
\end_inset

ל.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/djikstra-mst.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
דוגמה נגדית ל-
\lang english
Djikstra
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם צלעות בעלות משקל שלילי והוספת המשקל המינימלי בגרף
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Description
משפט )תכונת שיפור מסלול( יהי 
\begin_inset Formula $p=\left(s=v_{0},\dots,v_{k}=v\right)$
\end_inset

 מסלול קצר ביותר בין 
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $V_{k}$
\end_inset

 ב-
\begin_inset Formula $G$
\end_inset

.
 אם מתבצעות פעולות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Relax
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על הצלעות 
\begin_inset Formula $\left(v_{0},v_{1}\right),\dots,\left(v_{k-1},v_{k}\right)$
\end_inset

 לפי הסדר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)משמאל לימין( אז בסיומן מתקיים 
\begin_inset Formula $dist\left(v\right)=\delta\left(s,v\right)$
\end_inset

.
\end_layout

\begin_layout Standard
עתה נביט באלג' בלמן-פורד: האלג' יכול לקבל צלעות עם משקלים שליליים.
 לכל קודקוד נשמור ערך 
\begin_inset Formula $dist\left(v\right)$
\end_inset

 שיהיה המרחק מ-
\begin_inset Formula $s$
\end_inset

 )כמו ב-
\lang english
Djikstra
\lang hebrew
(.
 נריץ את פעולת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Relax
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 לכל הצלעות במשך 
\begin_inset Formula $\left|V\right|-1$
\end_inset

 איטרציות.
 ננסה לעדכן את הצלעות עוד פעם אחת.
 אם נצליח לעדכן צלע, משמע שיש מעגל שלילי בגרף.
\end_layout

\begin_layout Description
טענה יהי 
\begin_inset Formula $G$
\end_inset

 גרף מכוון ממושקל עם קודקוד מקור 
\begin_inset Formula $s$
\end_inset

 כך ש-
\begin_inset Formula $G$
\end_inset

 לא מכיל מעגלים שליליים.
 אזי לאחר 
\begin_inset Formula $\left|V\right|-1$
\end_inset

 איטרציות של הלולאה המרכזית בבלמן פורד, 
\begin_inset Formula $dist\left(v\right)=\delta\left(s,v\right)$
\end_inset

, 
\begin_inset Formula $\forall v\in V$
\end_inset

 שניתן להגיע אליו מ-
\begin_inset Formula $s$
\end_inset

.
\end_layout

\begin_layout Proof
יהי קודקוד 
\begin_inset Formula $s$
\end_inset

 ויהי 
\begin_inset Formula $p=\left(s=v_{0},\dots,v_{k}=v\right)$
\end_inset

 מסלול קצר ביותר מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $v$
\end_inset

.
 אין מעגלים שליליים ולכן מסלול קצר ביותר הוא בהכרח מסלול פשוט.
 לכן 
\begin_inset Formula $p$
\end_inset

 מכיל לכל היותר 
\begin_inset Formula $\left|V\right|-1$
\end_inset

 צלעות.
 לכל 
\begin_inset Formula $\left|V\right|-1$
\end_inset

 האיטרציות מתבצעת פעולות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Relax
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על כל הצלעות ב-
\begin_inset Formula $E$
\end_inset

.
 
\begin_inset Formula $\forall i\in\left[k\right]$
\end_inset

 באיטרציה ה-
\begin_inset Formula $i$
\end_inset

 של הלולאה מתבצעת פעולת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Relax
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על 
\begin_inset Formula $\left(v_{i-1},v_{i}\right)$
\end_inset

, כלומר מתבצעות פעולות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Relax
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על הצלעות של 
\begin_inset Formula $p$
\end_inset

 לפי הסדר )אולי עם פעולות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Relax
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נוספות(.
 לכן מתכונת שיפור המסלול, לאחר האיטרציה ה-
\begin_inset Formula $k$
\end_inset

, מתקיים 
\begin_inset Formula $dist\left(v\right)=\delta\left(s,v\right)$
\end_inset

 וראינו בהרצאה כי 
\begin_inset Formula $dist\left(v\right)$
\end_inset

 הוא סדרה לא מונוטונית על האיטרציות של הלולאה שלא יורדת מתחת ל-
\begin_inset Formula $\delta\left(s,v\right)$
\end_inset

.
\end_layout

\begin_layout Description
הערה אינואטיבית, אם הצלחנו לאחר האיטרציה ה-
\begin_inset Formula $\left|V\right|-1$
\end_inset

 לשפר שוב את המסלולים בגרף זה אומר שיש מעגל שלילי, כי אפשר לרדת מתחת ל-
\begin_inset Formula $\delta\left(s,v\right)$
\end_inset

 )כפי שתואר בהוכחה הנ
\begin_inset Quotes erd
\end_inset

ל, רק ששם לא ירדנו מתחת לו(.
\end_layout

\begin_layout Description
תרגיל הציעו אלג' הרץ בזמן לינארי ב-
\begin_inset Formula $\left|V\right|$
\end_inset

 ומחשב לקודקוד 
\begin_inset Formula $s$
\end_inset

 את מרחקו מכל קודקוד 
\begin_inset Formula $v$
\end_inset

 בגרף שנתון כי הוא עץ.
\end_layout

\begin_layout Description
פתרון נבנה וריאציה על אלג'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
BFS/DFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ונעדכן את משקל המסלול המצטבר מ-
\begin_inset Formula $s$
\end_inset

 במעבר על כל צלע, בדומה לאלג'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Djikstra
\lang hebrew
.
 בעץ אין מעגלים ולכן יש מסלול יחיד מכל קודקוד לכל קודקוד, והוא בפרט המינימלי.
 זמן הריצה הוא 
\begin_inset Formula $\oo{\left|V\right|+\left|E\right|}=\oo{\left|V\right|}$
\end_inset

 כי זהו עץ ולכן 
\begin_inset Formula $\left|E\right|=\left|V\right|-1=\oo{\left|V\right|}$
\end_inset

.
\end_layout

\begin_layout Part
שבוע 
\begin_inset Formula $\mathbb{XIII}$
\end_inset

 |
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
All Pairs Shortest Path
\end_layout

\begin_layout Section
הרצאה
\end_layout

\begin_layout Standard
נפתור את בעיית המסלול הקצר ביותר בגרף מכוון ממושקל, הפעם בגרסת כל הזוגות.
\end_layout

\begin_layout Standard
הפתרון הכי פשוט הוא להריץ את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בעיית המקור היחיד לכל קודקוד, שזה דורש
\begin_inset Formula 
\[
\oo{\left(\left|E\right|\cdot\left|V\right|\right)\cdot\left|V\right|}=\oo{\left|V\right|^{4}}
\]

\end_inset

)עבור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Bellman-Ford
\lang hebrew
( או
\begin_inset Formula 
\[
\oo{\left(\left|E\right|\log\left|V\right|\right)\left|V\right|}=\oo{\left|V\right|^{3}\log\left|V\right|}
\]

\end_inset

)עבור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Djikstra
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
במקרה שאין משקולות שליליים(.
\end_layout

\begin_layout Standard
עם זאת, נוכל להגיע לפתרון כללי ב-
\begin_inset Formula $\oo{\left|V\right|^{3}\log\left|V\right|}$
\end_inset

 בעזרת 
\begin_inset Quotes eld
\end_inset

כפל מטריצות
\begin_inset Quotes erd
\end_inset

 ו-
\begin_inset Formula $\oo{\left|V\right|^{3}}$
\end_inset

 בעזרת אלג'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Floyd-Warshall
\lang hebrew
.
\end_layout

\begin_layout Standard
נתעלם מהמקרה שיש בו מעגלים שליליים הפעם.
\end_layout

\begin_layout Standard
נניח מעתה בה
\begin_inset Quotes erd
\end_inset

כ כי 
\begin_inset Formula $V=\left[n\right]$
\end_inset

, ולכן גם 
\begin_inset Formula $\left|V\right|=n$
\end_inset

.
 נגדיר את מטריצת המשקולות של 
\begin_inset Formula $\left(V,E,w\right)$
\end_inset

,
\begin_inset Formula 
\[
\left[W\right]_{ij}=\begin{cases}
0 & i=j\\
w\left(i,j\right) & i\neq j\land\left(i,j\right)\in E\\
\infty & i\neq j\land\left(i,j\right)\notin E
\end{cases}
\]

\end_inset


\end_layout

\begin_layout Standard
הפלט של האלג' שלנו יהיה מטריצות מסלולים קצרים, 
\begin_inset Formula $L$
\end_inset

, שעבורה 
\begin_inset Formula $\left[L\right]_{ij}$
\end_inset

 מכיל את המשקל המינימלי של מסלול בין 
\begin_inset Formula $i$
\end_inset

 ל-
\begin_inset Formula $j$
\end_inset

.
 בנוסף, נחזיר מטריצת קודמים 
\begin_inset Formula $\Pi$
\end_inset

, שעבורה 
\begin_inset Formula $\left[\Pi\right]_{ij}$
\end_inset

 מכיל את הקודם של הקודקוד 
\begin_inset Formula $j$
\end_inset

 במסלול הקצר ביותר מ-
\begin_inset Formula $i$
\end_inset

 ל-
\begin_inset Formula $j$
\end_inset

, או 
\begin_inset Formula $null$
\end_inset

 אם 
\begin_inset Formula $i=j$
\end_inset

.
\end_layout

\begin_layout Standard
כדי למצוא את המסלול הקצר ביותר בין 
\begin_inset Formula $i$
\end_inset

 ל-
\begin_inset Formula $j$
\end_inset

, נסתכל על 
\begin_inset Formula $\left[W\right]_{ij}$
\end_inset

, ואז הקודם שלו וכן הלאה וכן הלאה עד שנגיע ל-
\begin_inset Formula $i$
\end_inset

.
\end_layout

\begin_layout Standard
נסתכל ראשית על אלג' 
\begin_inset Quotes eld
\end_inset

הכפלת המטריצות
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Standard
נגדיר 
\begin_inset Formula $L^{\left(m\right)}$
\end_inset

, מטריצת המסלולים הקצרים ביותר המוגבלת, ע
\begin_inset Quotes erd
\end_inset

י מטריצת מרחקים עבור מסלולים עם לכל היותר 
\begin_inset Formula $m$
\end_inset

 קודקודים )המשקל המינימלי של כל מסלול באורך לכל היותר 
\begin_inset Formula $m$
\end_inset

 בכל תא(.
\end_layout

\begin_layout Standard
נשים לב כי 
\begin_inset Formula $L^{\left(1\right)}=W$
\end_inset

.
 אם אין מעגלים שליליים, אז 
\begin_inset Formula $\forall m\geq\left|V\right|$
\end_inset

, 
\begin_inset Formula $L^{\left(m\right)}=L$
\end_inset

.
\end_layout

\begin_layout Standard
נראה כי נוכל להגיע ל-
\begin_inset Formula $L^{\left(q+r\right)}$
\end_inset

 מ-
\begin_inset Formula $L^{\left(q\right)},L^{\left(r\right)}$
\end_inset

 ב-
\begin_inset Formula $\oo{\left|V\right|^{3}}$
\end_inset

 ומשם נסיק כי ניתן לחשב את 
\begin_inset Formula $L^{\left(2^{k}\right)}$
\end_inset

 ב-
\begin_inset Formula $\oo{k\left|V\right|^{3}}$
\end_inset

, ועבור 
\begin_inset Formula $k\geq\log_{2}\left|V\right|$
\end_inset

, נקבל כי נוכל לחשב את 
\begin_inset Formula $L$
\end_inset

 ב-
\begin_inset Formula $\oo{\left|V\right|^{3}\log\left|V\right|}$
\end_inset

.
\end_layout

\begin_layout Description
למה לכל 
\begin_inset Formula $i,j\in V$
\end_inset

, 
\begin_inset Formula $\left[L^{\left(q+r\right)}\right]_{ij}=\min\limits _{1\leq k\leq n}\left[L^{\left(q\right)}\right]_{ik}+\left[L^{\left(r\right)}\right]_{kj}$
\end_inset

.
\end_layout

\begin_layout Description
הערה אינטאוטיבית, נוכל לפרק כל מסלול בין 
\begin_inset Formula $i$
\end_inset

 ל-
\begin_inset Formula $j$
\end_inset

 באורך לכל היותר 
\begin_inset Formula $q+r$
\end_inset

 למסלול באורך לכל היותר 
\begin_inset Formula $q$
\end_inset

 ומסלול באורך לכל היותר 
\begin_inset Formula $r$
\end_inset

.
 לכן נוכל לבחור את המינימליים מהפירוק ונקבל שזה המינימלי בכללי.
\end_layout

\begin_layout Proof
נוכיח כי 
\begin_inset Formula $\left[L^{\left(q+r\right)}\right]_{ij}\leq\min\limits _{1\leq k\leq n}\left[L^{\left(q\right)}\right]_{ik}+\left[L^{\left(r\right)}\right]_{kj}$
\end_inset

.
\end_layout

\begin_layout Proof
מספיק שנוכיח כי 
\begin_inset Formula $\forall k\in\left[n\right]$
\end_inset

, 
\begin_inset Formula $\left[L^{\left(q+r\right)}\right]_{ij}\leq\left[L^{\left(q\right)}\right]_{ik}+\left[L^{\left(r\right)}\right]_{kj}$
\end_inset

.
 קיימות מסילות 
\begin_inset Formula $p_{1}$
\end_inset

 בין 
\begin_inset Formula $i$
\end_inset

 ל-
\begin_inset Formula $k$
\end_inset

 באורך לכל היותר 
\begin_inset Formula $q$
\end_inset

 ו-
\begin_inset Formula $p_{2}$
\end_inset

 בין 
\begin_inset Formula $k$
\end_inset

 ל-
\begin_inset Formula $j$
\end_inset

 באורך לכל היותר 
\begin_inset Formula $r$
\end_inset

 עם 
\begin_inset Formula $w\left(p_{1}\right)=\left[L^{\left(q\right)}\right]_{ik}$
\end_inset

 ו-
\begin_inset Formula $w\left(p_{2}\right)=\left[L^{\left(r\right)}\right]_{kj}$
\end_inset

.
 חיבור 
\begin_inset Formula $p_{1},p_{2}$
\end_inset

 ייתן לנו מסלול באורך לכל היותר 
\begin_inset Formula $q+r$
\end_inset

 בין 
\begin_inset Formula $i$
\end_inset

 ל-
\begin_inset Formula $j$
\end_inset

 עם 
\begin_inset Formula 
\[
w\left(p\right)=w\left(p_{1}\right)+w\left(p_{2}\right)=\left[L^{\left(q\right)}\right]_{ik}+\left[L^{\left(r\right)}\right]_{kj}
\]

\end_inset

ולכן 
\begin_inset Formula $\left[L^{\left(q+r\right)}\right]_{ij}\leq\left[L^{\left(q\right)}\right]_{ik}+\left[L^{\left(r\right)}\right]_{kj}$
\end_inset

.
\end_layout

\begin_layout Proof
נוכיח כי 
\begin_inset Formula $\left[L^{\left(q+r\right)}\right]_{ij}\geq\left[L^{\left(q\right)}\right]_{ik}+\left[L^{\left(r\right)}\right]_{kj}$
\end_inset

.
 עבור 
\begin_inset Formula $p=\left(v_{0},\dots,v_{s}\right)$
\end_inset

 מסילה בין 
\begin_inset Formula $i$
\end_inset

 ל-
\begin_inset Formula $j$
\end_inset

 עם משקל 
\begin_inset Formula $w\left(p\right)=\left[L^{\left(q+r\right)}\right]_{ij}$
\end_inset

 ו-
\begin_inset Formula $s\leq q+r$
\end_inset

.
 נפרק את 
\begin_inset Formula $p$
\end_inset

 למסילה 
\begin_inset Formula $p_{1}=\left(v_{0},\dots,v_{t}\right)$
\end_inset

 עם 
\begin_inset Formula $t\leq q$
\end_inset

 ו-
\begin_inset Formula $p_{2}\left(v_{t},\dots,v_{s}\right)$
\end_inset

 עם 
\begin_inset Formula $s-t\leq q+r-t\leq r$
\end_inset

 ולכן קיבלנו
\begin_inset Formula 
\[
\left[L^{\left(q+r\right)}\right]_{ij}=w\left(p\right)=w\left(p_{1}\right)+w\left(p_{2}\right)\geq\left[L^{\left(q\right)}\right]_{ik}+\left[L^{\left(r\right)}\right]_{kj}\geq\min\limits _{1\leq k\leq n}\left[L^{\left(q\right)}\right]_{ik}+\left[L^{\left(r\right)}\right]_{kj}
\]

\end_inset


\end_layout

\begin_layout Description
מסקנה כדי לחשב את 
\begin_inset Formula $L^{\left(q+r\right)}$
\end_inset

 מ-
\begin_inset Formula $L^{\left(q\right)},L^{\left(r\right)}$
\end_inset

, נעבור על כל זוג 
\begin_inset Formula $ij$
\end_inset

, ונחשב ב-
\begin_inset Formula $\oo n$
\end_inset

 את המינימום של 
\begin_inset Formula $\left[L^{\left(q\right)}\right]_{ik}+\left[L^{\left(r\right)}\right]_{kj}$
\end_inset

, וזה יקח 
\begin_inset Formula $\oo{n^{3}}$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/extend-shortest.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
אלגוריתם הרחבת המסלולים הקצרים ביותר
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Description
הערה הסיבה שהאלג' דומה לכפל מטריצות היא שהוא זהה לחלוטין למעט השורה בה אנו
 משימים ב-
\begin_inset Formula $c_{ij}$
\end_inset

 ערך, ששם בכפל מטריצות נשים את 
\begin_inset Formula $\left[A\right]_{ik}\left[B\right]_{kj}$
\end_inset

 ולא את המינימום על הסכום שלהם.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/faster-shortest.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
אלג' מציאת מסלולים קצרים ביותר בין כל זוג קודקודים ב-
\begin_inset Formula $\oo{\left|V\right|^{3}\log\left|V\right|}$
\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
נוכל לחשב את 
\begin_inset Formula $\Pi$
\end_inset

 מתוך 
\begin_inset Formula $L$
\end_inset

 באמצעות החישוב הבא: 
\begin_inset Formula $\left[\Pi\right]_{ij}$
\end_inset

 הוא הקודקוד 
\begin_inset Formula $k$
\end_inset

 שעבורו 
\begin_inset Formula $\left[L\right]_{ik}+\left[W\right]_{kj}$
\end_inset

 הוא בעל ערך מינימלי )מסלול + משקל צלע(.
\end_layout

\begin_layout Standard
חישוב זה דורש 
\begin_inset Formula $\oo n$
\end_inset

 לכל זוג קודקודים, כלומר סה
\begin_inset Quotes erd
\end_inset

כ 
\begin_inset Formula $\oo{\left|V\right|^{3}}$
\end_inset

.
\end_layout

\begin_layout Standard
נוכל בנוסף לחשב את 
\begin_inset Formula $\Pi$
\end_inset

 בזמן העדכונים של 
\begin_inset Formula $L^{\left(k\right)}$
\end_inset

, אבל בזה לא נדון בהרצאה )אלא בתרגול(.
\end_layout

\begin_layout Standard
עתה נעסוק ב-
\lang english
Floyd-Warshall
\lang hebrew
.
\end_layout

\begin_layout Description
הגדרה קודקוד פנימי של מסילה 
\begin_inset Formula $p=\left(v_{0},\dots,v_{l}\right)$
\end_inset

 הוא כל קודוקד ב-
\begin_inset Formula $p$
\end_inset

 שאינו 
\begin_inset Formula $v_{0}$
\end_inset

 או 
\begin_inset Formula $v_{l}$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Formula $D^{\left(k\right)}$
\end_inset

, מטריצת המסלולים הקצרים המוגבלת, תוגדר ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $\left[D^{\left(k\right)}\right]_{ij}$
\end_inset

 הוא המשקל המינימלי של מסילה מ-
\begin_inset Formula $i$
\end_inset

 ל-
\begin_inset Formula $j$
\end_inset

 שקודקודיה הפנימיים מוכלים ב-
\begin_inset Formula $\left\{ 1,\dots,k\right\} $
\end_inset

.
\end_layout

\begin_layout Standard
אם כן, 
\begin_inset Formula $D^{\left(0\right)}=W$
\end_inset

 ו-
\begin_inset Formula $D^{\left(n\right)}=L$
\end_inset

.
\end_layout

\begin_layout Standard
נראה כיצד נחשב את 
\begin_inset Formula $D^{\left(k\right)}$
\end_inset

 מ-
\begin_inset Formula $D^{\left(k-1\right)}$
\end_inset

 ב-
\begin_inset Formula $\oo{\left|V\right|^{2}}$
\end_inset

 ואז אם נריץ את העדכון 
\begin_inset Formula $n$
\end_inset

 פעמים, נקבל את 
\begin_inset Formula $D^{\left(n\right)}=L$
\end_inset

 ב-
\begin_inset Formula $\oo{\left|V\right|^{3}}$
\end_inset

.
\end_layout

\begin_layout Description
הערה נסמן 
\begin_inset Formula $P_{ij}^{\left(k\right)}$
\end_inset

 את אוסף כל המסלולים מ-
\begin_inset Formula $i$
\end_inset

 ל-
\begin_inset Formula $j$
\end_inset

 עם קודקודים פנימיים ב-
\begin_inset Formula $\left\{ 1,\dots,k\right\} $
\end_inset


\end_layout

\begin_layout Description
למה 
\begin_inset Formula $\;$
\end_inset


\begin_inset Formula 
\[
\left[D^{\left(k\right)}\right]_{ij}=\min\left\{ d_{ij}^{\left(k-1\right)},d_{ik}^{\left(k-1\right)}+d_{kj}^{\left(k-1\right)}\right\} 
\]

\end_inset


\end_layout

\begin_layout Description
הערה בכל מסלול ב-
\begin_inset Formula $P_{ij}^{\left(k\right)}$
\end_inset

 יש את 
\begin_inset Formula $k$
\end_inset

 כקודקוד פנימי, או שייכות ל-
\begin_inset Formula $P_{ij}^{\left(k-1\right)}$
\end_inset

.
 המשקל המינימלי של מסילה מהסוג הראשון הוא
\begin_inset Newline linebreak
\end_inset


\begin_inset Formula $d_{ij}^{\left(k-1\right)}+d_{ij}^{\left(k-1\right)}$
\end_inset

 )כי זה האיחוי של המסלול עד 
\begin_inset Formula $k$
\end_inset

 ומ-
\begin_inset Formula $k$
\end_inset

( ואילו עבור הסוג הראשון זה פשוט 
\begin_inset Formula $d_{ij}^{\left(k-1\right)}$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
d_{ij}^{\left(k\right)} & =\min_{p\in P_{ij}^{\left(k\right)}}w\left(p\right)\\
 & =\min\left\{ \min_{p\in P_{ij}^{\left(k-1\right)}}w\left(p\right),\min_{p\in P_{ij}^{\left(k\right)}\backslash P_{ij}^{\left(k-1\right)}}w\left(p\right)\right\} \\
 & =\min\left\{ d_{ij}^{\left(k-1\right)},\min_{p\in P_{ij}^{\left(k\right)}\backslash P_{ij}^{\left(k-1\right)}}w\left(p\right)\right\} 
\end{align*}

\end_inset

עתה נוכיח כי
\begin_inset Formula 
\[
d_{ik}^{\left(k-1\right)}+d_{kj}^{\left(k-1\right)}=\min\limits _{p\in P_{ij}^{\left(k\right)}\backslash P_{ij}^{\left(k-1\right)}}w\left(p\right)
\]

\end_inset

יהי 
\begin_inset Formula $p_{ij}$
\end_inset

 מסלול קצר ביותר ב-
\begin_inset Formula $P_{ij}^{\left(k\right)}\backslash P_{ij}^{\left(k-1\right)}$
\end_inset

, כלומר 
\begin_inset Formula $p_{ij}$
\end_inset

 הוא בעל משקל מינימלי מבין כל המסלולים מ-
\begin_inset Formula $i$
\end_inset

 ל-
\begin_inset Formula $j$
\end_inset

 עם קודקודים פנימיים ב-
\begin_inset Formula $\left\{ 1,\dots,k\right\} $
\end_inset

 ו-
\begin_inset Formula $k$
\end_inset

 קודקוד פנימי.
\end_layout

\begin_layout Proof
מספיק להוכיח כי 
\begin_inset Formula $w\left(p_{ij}\right)=d_{ik}^{\left(k-1\right)}+d_{kj}^{\left(k-1\right)}$
\end_inset

.
\end_layout

\begin_layout Proof
נפרק את 
\begin_inset Formula $p_{ij}$
\end_inset

 ל-
\begin_inset Formula $p_{ik}$
\end_inset

 מ-
\begin_inset Formula $i$
\end_inset

 ל-
\begin_inset Formula $k$
\end_inset

 ו-
\begin_inset Formula $p_{kj}$
\end_inset

 מ-
\begin_inset Formula $k$
\end_inset

 ל-
\begin_inset Formula $j$
\end_inset

.
 
\begin_inset Formula $p_{ik}$
\end_inset

 הוא בעל משקל מינימלי מבין המסלולים מ-
\begin_inset Formula $i$
\end_inset

 ל-
\begin_inset Formula $k$
\end_inset

 עם קודקודים פנימיים ב-
\begin_inset Formula $\left\{ 1,\dots,k-1\right\} $
\end_inset

 ו-
\begin_inset Formula $p_{kj}$
\end_inset

 בעל משקל מינימלי מבין המסלולים מ-
\begin_inset Formula $i$
\end_inset

 ל-
\begin_inset Formula $k$
\end_inset

 עם קודקודים פנימיים ב-
\begin_inset Formula $\left\{ 1,\dots,k-1\right\} $
\end_inset

.
 לכן,
\begin_inset Formula 
\[
w\left(p_{ij}\right)=w\left(p_{ik}\right)+w\left(p_{kj}\right)=d_{ik}^{\left(k-1\right)}+d_{kj}^{\left(k-1\right)}
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/floyd-warshall.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
אלג'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Floyd-Warshall
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Description
הערה מכאן נוכל לחשב את 
\begin_inset Formula $\Pi$
\end_inset

 ב-
\begin_inset Formula $\oo{\left|V\right|^{3}}$
\end_inset

 מ-
\begin_inset Formula $L=D^{\left(n\right)}$
\end_inset

 בלי לפגוע בסיבוכיות הזמן.
\end_layout

\begin_layout Section
תרגול
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\;$
\end_inset


\lang english
APSP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\lang english
All Pairs Shortest Paths
\lang hebrew
(.
 נביט ב-
\begin_inset Formula $L^{\left(m\right)}$
\end_inset

 שתהיה מטריצת המרחקים הקצרים ביותר שבהם לכל היותר 
\begin_inset Formula $m$
\end_inset

 צלעות.
 הוכחנו בהרצאה כי 
\begin_inset Formula $L^{\left(m\right)}=L^{\left(m-1\right)}\bullet W$
\end_inset

 כאשר לא מדובר בכפל מטריצות, אלא בפעולה
\begin_inset Formula 
\[
\left[L^{\left(m-1\right)}\bullet W\right]_{ij}=\min_{1\le k\le n}\left\{ \left[L^{\left(m-1\right)}\right]_{ik}+\left[W\right]_{kj}\right\} 
\]

\end_inset

הרעיון הוא להסתכל על כל המסלולים מ-
\begin_inset Formula $i$
\end_inset

 לכל הנציגים האפשריים, שיהיו הקודם ל-
\begin_inset Formula $j$
\end_inset

 במסלול הקצר ביותר, ולבדוק איזה מהם יתן מסלול אידאלי.
 האלג' יתחיל מ-
\begin_inset Formula $L^{\left(1\right)}=W$
\end_inset

 ונעלה עד ל-
\begin_inset Formula $L^{\left(\left|V\right|-1\right)}=L$
\end_inset

 שזוהי המטריצה הרצויה.
 כל פעולת כפל דורשת 
\begin_inset Formula $\oo{\left|V\right|^{3}}$
\end_inset

 ונחשב 
\begin_inset Formula $\left|V\right|-1$
\end_inset

 פעולות כפל ולכן סה
\begin_inset Quotes erd
\end_inset

כ הסיבוכיות שנקבל היא 
\begin_inset Formula $\oo{\left|V\right|^{4}}$
\end_inset

, שזה כמו הפתרון הנאיבי עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Bellman-Ford
\lang hebrew
.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\;$
\end_inset


\lang english
FAPSP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\lang english
Faster APSP
\lang hebrew
(.
 נוכל לחשב בכל שלב 
\begin_inset Formula $L^{\left(i+j\right)}=L^{\left(i\right)}\bullet L^{\left(j\right)}$
\end_inset

 )הוכחנו נכונות בהרצאה(.
 הרעיון בחישוב הזה הוא להכליל את הנציג שהיה הקודם במסלול קצר ביותר בחישוב
 
\begin_inset Formula $L^{\left(m-1\right)}\bullet W$
\end_inset

 לסדרה נציגים שיהיו בעצם המסלול שיופיע לפני 
\begin_inset Formula $j$
\end_inset

 במסלול קצר ביותר בין 
\begin_inset Formula $i$
\end_inset

 ל-
\begin_inset Formula $j$
\end_inset

.
 כך נוכל לשפר את הסיבוכיות מ-
\begin_inset Formula $\oo{\left|V\right|^{4}}$
\end_inset

 ל-
\begin_inset Formula $\oo{\left|V\right|^{3}\log\left|V\right|}$
\end_inset

 באמצעות חישוב 
\begin_inset Formula $L^{\left(n\right)}$
\end_inset

 מ-
\begin_inset Formula $L^{\left(\frac{n}{2}\right)}$
\end_inset

 ...
 מ-
\begin_inset Formula $L^{\left(1\right)}$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\;$
\end_inset


\lang english
Floyd-Warshall
\lang hebrew
.
 הפעם נביט ב-
\begin_inset Formula $D^{\left(k\right)}$
\end_inset

 שתהיה מטריצת המרחקים הקצרים ביותר עבור מסלולים שקודקודיהם הפנימיים הם ב-
\begin_inset Formula $\left\{ 1,\dots,k\right\} $
\end_inset

.
 הוכחנו בהרצאה כי
\begin_inset Formula 
\[
\left[D^{\left(k\right)}\right]_{ij}=\min\left\{ \left[D^{\left(k-1\right)}\right]_{ij},\left[D^{\left(k-1\right)}\right]_{ik}+\left[D^{\left(k-1\right)}\right]_{kj}\right\} 
\]

\end_inset

כלומר שהמסלול הקצר ביותר מ-
\begin_inset Formula $i$
\end_inset

 ל-
\begin_inset Formula $j$
\end_inset

 שקודקודיו ב-
\begin_inset Formula $\left\{ 1,\dots,k\right\} $
\end_inset

 הוא המסלול הקצר יותר מבין המסלולים שכבר מצאנו )שקודקודיהם ב-
\begin_inset Formula $\left\{ 1,\dots,k-1\right\} $
\end_inset

( או אלו שעוברים דרך 
\begin_inset Formula $k$
\end_inset

 באמצע.
\begin_inset Newline newline
\end_inset

נוכל באופן דינמי לחשב את גרף הקודמים בכל עדכון של 
\begin_inset Formula $D^{\left(k\right)}$
\end_inset

, ע
\begin_inset Quotes erd
\end_inset

י
\begin_inset Formula 
\[
\left[\Pi^{\left(k\right)}\right]_{ij}=\begin{cases}
\left[\Pi^{\left(k-1\right)}\right]_{kj} & \left[D^{\left(k-1\right)}\right]_{ij}\leq\left[D^{\left(k-1\right)}\right]_{ik}+\left[D^{\left(k-1\right)}\right]_{kj}\\
\left[\Pi^{\left(k-1\right)}\right]_{ij} & \textrm{otherwise}
\end{cases}
\]

\end_inset

נוסחה זו נובעת מהנוסחה ל-
\begin_inset Formula $D^{\left(k\right)}$
\end_inset

, כאשר העדכון פשוט מתייחס למסלול ההיפותטי הנוכחי שאנחנו עוקבים אחריו כרגע
 ב-
\begin_inset Formula $D^{\left(k\right)}$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה יהי 
\begin_inset Formula $G=\left(V=\left\{ v_{1},\dots,v_{n}\right\} ,E\right)$
\end_inset

 גרף מכוון.
 ה
\bar under
סגור הטרנזיטיבי
\bar default
 של 
\begin_inset Formula $G$
\end_inset

 הוא הגרף 
\begin_inset Formula $G=\left(V,E^{*}\right)$
\end_inset

 כך ש-
\begin_inset Formula 
\[
E^{*}=\left\{ \left(v_{i},v_{j}\right):G\text{ב-}\;v_{j}\text{ל-}\;v_{i}\text{קיים מסלול מ-}\right\} 
\]

\end_inset


\end_layout

\begin_layout Standard
הסגור הטרנזטיבי עוזר לנו להבין אילו קודקודים ישיגים מאילו קודקודים.
\end_layout

\begin_layout Standard
כדי לחשב את הסגור הטרנזיטיבי, נבנה וריאציה על פלויד-ורשאל.
\end_layout

\begin_layout Standard
במקום 
\begin_inset Formula $D^{\left(k\right)}$
\end_inset

, נחזיק מטריצת 
\begin_inset Formula $T^{\left(k\right)}$
\end_inset

 המוגדרת ע
\begin_inset Quotes erd
\end_inset

י
\begin_inset Formula 
\[
\left[T^{\left(k\right)}\right]_{ij}=\begin{cases}
1 & \left\{ v_{1},\dots,v_{k}\right\} \;\text{עם קודקודים המוכלים ב-}\;v_{j}\text{ל-}\;v_{i}\text{קיים מסלול מ-}\\
0 & \textrm{otherwise}
\end{cases}
\]

\end_inset

נוכל לחשב את 
\begin_inset Formula $T^{\left(k\right)}$
\end_inset

 באופן דומה לפלויד-ורשאל מ-
\begin_inset Formula $T^{\left(k-1\right)}$
\end_inset

.
\end_layout

\begin_layout Standard
נוכל למצוא באופן יותר יעיל.
 נריץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
BFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על כל הקודקודים וכל ה
\end_layout

\begin_layout Part
שבוע 
\begin_inset Formula $\mathbb{XIV}$
\end_inset

 |
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Disjoint Set
\end_layout

\begin_layout Section
הרצאה
\end_layout

\begin_layout Standard
ניזכר כי באלג' של קרוסקל השתמשנו במבנ
\begin_inset Quotes erd
\end_inset

ת שאפשר לנו לייצג של קבוצות זרות עם פעולות 
\begin_inset Formula $\oo 1$
\end_inset

 )
\lang english
amortized
\lang hebrew
(.
\end_layout

\begin_layout Standard
הבעיה שאותה פותר המבנ
\begin_inset Quotes erd
\end_inset

ת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Disjoint Set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא כדילקמן.
 בהינתן 
\begin_inset Formula $n$
\end_inset

 איברים שונים, 
\begin_inset Formula $X=\left\{ x_{1},\dots,x_{n}\right\} $
\end_inset

, נספק אוסף דינמי של 
\begin_inset Formula $k$
\end_inset

 קבוצות זרות 
\begin_inset Formula $S=\left\{ S_{1},\dots,S_{k}\right\} $
\end_inset

, 
\begin_inset Formula $i\neq j\Rightarrow S_{i}\cap S_{j}=\varnothing$
\end_inset

.
 נרצה לתמוך בפעולות:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\;$
\end_inset


\lang english
MakeSet(x)
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יצור קבוצה חדשה 
\begin_inset Formula $S_{x}$
\end_inset

 שאיברה היחיד הוא 
\begin_inset Formula $x$
\end_inset

.
 נניח כי 
\begin_inset Formula $x$
\end_inset

 לא נמצא באף אחת מהקבוצות הקיימות ב-
\begin_inset Formula $S$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\;$
\end_inset


\lang english
Union(
\begin_inset Formula $x_{i}$
\end_inset

,
\begin_inset Formula $x_{j}$
\end_inset

)
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמחליף את שתי הקבוצות 
\begin_inset Formula $S_{i}$
\end_inset

 ו-
\begin_inset Formula $S_{j}$
\end_inset

 המכילות את 
\begin_inset Formula $x_{i}$
\end_inset

 ו-
\begin_inset Formula $x_{j}$
\end_inset

 בהתאמה באיחודן.
 נניח כי 
\begin_inset Formula $x_{i}$
\end_inset

 ו-
\begin_inset Formula $x_{j}$
\end_inset

 נמצאים בשתי קבוצות שונות.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\;$
\end_inset


\lang english
FindSet(
\begin_inset Formula $x$
\end_inset

)
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמוצא ומחזיר את הנציג של 
\begin_inset Formula $S_{x}$
\end_inset

, הקבוצה ב-
\begin_inset Formula $x$
\end_inset

 נמצא.
\end_layout

\begin_layout Standard
המטרה שלנו היא למצוא מבנ
\begin_inset Quotes erd
\end_inset

ת שתומך ב-
\lang english
m
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שאילתות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
UnionFind
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על קבוצות זרות באופן יעיל.
 כלומר, לא מטריד אותנו בהכרח כמה זמן תיקח כל שאליתה בנפרד, אלא מה הזמן הממוצא
 בהינתן סדרה של 
\begin_inset Formula $m$
\end_inset

 פעולות כאלה.
 ניתוח כזה נקרא סיבוכיות זמן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
amortized
\lang hebrew
.
\end_layout

\begin_layout Standard
באופן נאיבי, נוכל לשמור רשימה לכל קבוצה.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MakeSet
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תדרוש 
\begin_inset Formula $\oo 1$
\end_inset

,
\lang english
FindSet
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תדרוש 
\begin_inset Formula $\oo n$
\end_inset

 )לעבור על כל הרשימות( ולכן גם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Union
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תדרוש 
\begin_inset Formula $\oo n$
\end_inset

, כלומר 
\begin_inset Formula $m$
\end_inset

 פעולות יקחו במקרה הגרוע 
\begin_inset Formula $\oo{m\cdot n}$
\end_inset

.
\end_layout

\begin_layout Standard
ראינו שני אלג' שמשתמשים ב-
\lang english
UnionFind
\lang hebrew
.
 כפי שראינו בעבר,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Prim
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עושה זאת.
 אך נוכל גם להשתמש בזה כדי למצוא רכיבי קשירות בגרף לא מכוון )כל קבוצה זרה
 תהיה רכיב קשירות(.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/con-comp-union.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
אלג' למציאת רכיבי קשירות בגרף לא מכוון באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
UnionFind
\end_layout

\end_inset


\end_layout

\end_inset

סיבוכיות הזמן של האלג' היא 
\begin_inset Formula $\oo{f\left(\left|V\right|,3\left|E\right|+\left|V\right|\right)}$
\end_inset

 כאשר 
\begin_inset Formula $f\left(n,m\right)$
\end_inset

 היא הסיבוכיות של ביצוע 
\begin_inset Formula $m$
\end_inset

 פעולות על 
\begin_inset Formula $n$
\end_inset

 איברים.
\end_layout

\begin_layout Standard
הסיבוכיות של פרים תהיה 
\begin_inset Formula $\oo{\left|E\right|\log\left|E\right|+f\left(\left|V\right|,3\left|E\right|+\left|V\right|\right)}$
\end_inset

.
\end_layout

\begin_layout Subsection*
מימושים של
\family roman
\series bold
\shape up
\size large
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Disjoint-Set
\lang hebrew

\begin_inset Formula $\;$
\end_inset


\end_layout

\begin_layout Enumerate
נייצג כל קבוצה רשימה מקושרת 
\begin_inset Formula $L_{i}$
\end_inset

, כאשר ראש הרשימה 
\begin_inset Formula $L_{i}$
\end_inset

 יהיה הנציג שלה.
 לכל רשימה יש שני שדות: מצביע לראש הרשימה ומצביע לסוף הרשימה.
 לכל איבר ברשימה יהיו שני שדות: האיבר הבא שלו וראש הרשימה בה הוא נמצא )ראו
 איור(.
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/disjoint-ll.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
רשימה מקושרת יחד עם השדות הנוספים שהגדרנו
\end_layout

\end_inset


\end_layout

\end_inset


\lang english
MakeSet
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ידרוש 
\begin_inset Formula $\oo 1$
\end_inset

 באמצעות המימוש הנאיבי.
\lang english

\begin_inset Newline newline
\end_inset

FindSet
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 פשוט יחזיר את 
\begin_inset Formula $x.head$
\end_inset

 וזה ידרוש 
\begin_inset Formula $\oo 1$
\end_inset

 )מלבד הרשימות המקושרות, נוכל לתמוך במערך של איברי 
\begin_inset Formula $X$
\end_inset

 שלכל אחד נשמור מצביע למקום שלו בזיכרון(.
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english

\begin_inset Newline newline
\end_inset

Union
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יחבר בין שתי רשימות מקושרות ב-
\begin_inset Formula $\oo 1$
\end_inset

 )לחבר את הראש של 
\begin_inset Formula $L_{2}$
\end_inset

 לזנב של 
\begin_inset Formula $L_{1}$
\end_inset

(, ואז יעדכן לכל האיברים ב-
\begin_inset Formula $L_{2}$
\end_inset

 את שדה הראש להיות הראש של 
\begin_inset Formula $L_{1}$
\end_inset

, שזה ידרוש סה
\begin_inset Quotes erd
\end_inset

כ 
\begin_inset Formula $\oo n$
\end_inset

 במקרה הגרוע.
\begin_inset Newline newline
\end_inset

סדרה של 
\begin_inset Formula $n$
\end_inset

 פעולות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MakeSet
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלאחרה נבצע 
\begin_inset Formula $n-1$
\end_inset

 פעולות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
UnionSet
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תדרוש סה
\begin_inset Quotes erd
\end_inset

כ 
\begin_inset Formula $n+\sum i=\ot{n^{2}}$
\end_inset

 )כאשר 
\begin_inset Formula $m=2n-1$
\end_inset

, ואיחוד הרשימות יקרה במקרה הגרוע, כלומר ש-
\begin_inset Formula $L_{1}=\left\{ x_{i}\right\} ,L_{2}=\left\{ x_{i+1},\dots,x_{n}\right\} $
\end_inset

 כך שידרוש 
\begin_inset Formula $\ot i$
\end_inset

 על כל איחוד(, כלומר קיבלנו 
\begin_inset Formula $f\left(m,n\right)=m\cdot n$
\end_inset

 שזה לא טוב.
 כדי לשפר את זה, נוכל לבחור את 
\begin_inset Formula $L_{1}$
\end_inset

 להיות הרשימה הארוכה יותר באיחוד, וכך נבצע פחות עדכוני מצביעים.
\begin_inset Newline newline
\end_inset

תחת שיפור זה, הוספה ותמיכה בשדה לכל רשימה תדרוש 
\begin_inset Formula $\oo 1$
\end_inset

.
 אם מספר האיברים בשתי הרשימות הוא 
\begin_inset Formula $\om n$
\end_inset

 אז הסיבוכיות היא עדיין 
\begin_inset Formula $\om n$
\end_inset

.
 עם זאת, בסדרה של 
\begin_inset Formula $m$
\end_inset

 פעולות, נוכל להוכיח כי זה ידרוש רק 
\begin_inset Formula $\oo{m+n\log n}$
\end_inset

.
\begin_inset Newline newline
\end_inset

לפי היוריסטיקת האיחוד הממושקל, נעדכן את המצביע של 
\begin_inset Formula $x$
\end_inset

 לכל היותר 
\begin_inset Formula $\log n$
\end_inset

 פעמים, כי בכל פעם הוא יכנס לרשימה שגדולה לפחות פי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מקודמתה.
\end_layout

\begin_deeper
\begin_layout Description
משפט בהצגת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Disjoint Set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ובהינתן היוריסטיקת האיחוד הממושקל, 
\begin_inset Formula $m$
\end_inset

 פעולות של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MakeSet, FindSet, Union
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יקחו
\begin_inset Formula 
\[
\oo{m+n\log n}
\]

\end_inset


\end_layout

\begin_layout Proof
\begin_inset Formula $m$
\end_inset

 פעולות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FindSet, MakeSet
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יקחו 
\begin_inset Formula $m\cdot\oo 1=\oo m$
\end_inset

.
 נותר להוכיח כי פעולות האיחוד יקחו 
\begin_inset Formula $\oo{n\log n}$
\end_inset

.
\end_layout

\begin_layout Proof
יש לכל היותר 
\begin_inset Formula $n-1$
\end_inset

 פעולות איחוד.
 בכל איחוד, עדכון ה-
\lang english
tail
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לוקח 
\begin_inset Formula $\oo 1$
\end_inset

 במקרה הגרוע.
 נותר להוכיח כי אנו מעדכנים את שדה הראש של המצביעים 
\begin_inset Formula $\oo{n\log n}$
\end_inset

 פעמים.
 נוכיח כי אנו מעדכנים את 
\begin_inset Formula $x.head$
\end_inset

 
\begin_inset Formula $\oo{\log n}$
\end_inset

 פעמים.
 אחרי האיחוד ה-
\begin_inset Formula $k$
\end_inset

 שבו 
\begin_inset Formula $x$
\end_inset

 מעודכן, אנו נכנסים לקבוצה שגדולה לכל הפחות 
\begin_inset Formula $2^{k}$
\end_inset

, ולכן נעדכן אותו 
\begin_inset Formula $\oo{\log n}$
\end_inset

 פעמים.
\end_layout

\end_deeper
\begin_layout Enumerate
כל קבוצה תיוצג על ידי עץ מכוון, כאשר השורש הוא הנציג.
 לכל איבר יש שדה אחד - שדה ההורה שלו בעץ בו הוא נמצא.
 ההורה של השורש הוא עצמו וההורה של איבר שאינו באף קבוצה הוא 
\begin_inset Formula $null$
\end_inset

.
\begin_inset Newline newline
\end_inset


\lang english
Union
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יחבר את אחד השורשים לשורש האחר ויסיר את הצלע העצמית שלו.
 זה ידרוש 
\begin_inset Formula $\oo 1$
\end_inset

.
\begin_inset Newline newline
\end_inset


\lang english
MakeSet
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יצור עץ שבו רק השורש.
 זה ידרוש 
\begin_inset Formula $\oo 1$
\end_inset

.י
\begin_inset Newline newline
\end_inset


\lang english
FindSet
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יעקוב אחר ההורה של האיבר עד שיגיע לשורש.
 זה ידרוש 
\begin_inset Formula $\oo h$
\end_inset

 כאשר 
\begin_inset Formula $h$
\end_inset

 הוא עומק העץ.
\begin_inset Newline newline
\end_inset

במקרה הגרוע, 
\begin_inset Formula $m$
\end_inset

 פעולות יקחו 
\begin_inset Formula $\oo{m\cdot n}$
\end_inset

 עבור 
\begin_inset Formula $n$
\end_inset

 פעולות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FindSet
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כש-
\begin_inset Formula $h$
\end_inset

 עולה כל פעם ב-
\begin_inset Formula $1$
\end_inset

 כי איחדנו עץ עם יחידון כל פעם.
\begin_inset Newline newline
\end_inset

נביט בכמה פתרונות לשיפור הסיבוכיות.
\end_layout

\begin_deeper
\begin_layout Enumerate
היוריסטיקת איחוד לפי דרגה.
 לפיה, באיחוד, נחבר את השורש של העץ הנמוך לשורש של העץ הגבוה.
 כדי לעשות זאת, נוסיף לכל איבר שדה גובה, שישמור את הגובה של תת העץ של אותו
 איבר.
 בכל פעולת איחוד, נעדכן את שדה הגובה של השורש.
 כך, אם יש יחס חזק בין גבהי השורשים אז גובה השורש הגבוה יותר לא ישתנה.
 אם יש שוויון בין גבהי השורשים נקבל עלייה ב-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של הגובה.
\end_layout

\begin_deeper
\begin_layout Description
משפט גובה העץ המסקימלי כשמשתמשים באיחוד לפי דרגה הוא 
\begin_inset Formula $\oo{\log n}$
\end_inset

.
\end_layout

\begin_layout Proof
באינדוקציה על מספר הפעולות שנדרשו כדי לייצר את העץ.
\end_layout

\begin_layout Proof
בסיס: לפני האיחוד הראשון, 
\begin_inset Formula $h=0$
\end_inset

 ולעץ אכן יש קודקוד אחד.
\end_layout

\begin_layout Proof
צעד: נחלק לשני מקרים:
\end_layout

\begin_layout Proof
אם גובה העץ לא גדל, אחד העצים היה יותר קצר מהאחר, ולכן יש לפחות 
\begin_inset Formula $2^{h}$
\end_inset

 קודקודים מה
\begin_inset Quotes erd
\end_inset

א בעץ הישן ולכן גם בחדש.
\end_layout

\begin_layout Proof
אם גובה העץ גדל, אז שני העצים הם באותו הגובה ואז הגובה החדש הוא 
\begin_inset Formula $h+1$
\end_inset

.
 מספר הקודקודים מה
\begin_inset Quotes erd
\end_inset

א בעץ החדש הוא לפחות 
\begin_inset Formula $2\cdot2^{h}=2^{h+1}$
\end_inset

 כרצוי.
\end_layout

\begin_layout Description
מסקנה הסיבוכיות הכוללת של 
\begin_inset Formula $m$
\end_inset

 פעולות היא 
\begin_inset Formula $\oo{m\log n}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
היוריסטיקת דחיסת המסלולים.
 לפיה, בכל פעולת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FindSet
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נקשר כל קודקוד על מסלול החיפוש לשורש ישירות לשורש.
\lang english

\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout

\lang english
FindSet(x):
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

if x
\begin_inset Formula $\neq$
\end_inset

x.parent:
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset


\begin_inset Formula $\qquad$
\end_inset

x.parent = FindSet(x.parent)
\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset Formula $\qquad$
\end_inset

return x.parent
\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
אלג' לדחיסת מסלולים ב-
\lang english
FindSet
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Description
משפט עם היוריסטיקת דחיסת המסלולים, המקרה הגרוע על 
\begin_inset Formula $m$
\end_inset

 פעולות הוא 
\begin_inset Formula $\oo{m\log n}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
גם היוריסטיקת דחיסת המסלולים וגם איחוד לפי דרגה.
\end_layout

\begin_deeper
\begin_layout Description
משפט כשמתמשים בשתי ההיוריסטיקות עבור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Disjoint Set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בייצוג של יער, 
\begin_inset Formula $m$
\end_inset

 פעולות ידרשו 
\begin_inset Formula $\oo{m\alpha\left(n\right)}$
\end_inset

 כאשר 
\begin_inset Formula $\alpha\left(n\right)$
\end_inset

 היא פ' אקרמן ההפוכה, שמקיימת 
\begin_inset Formula $\alpha\left(n\right)\leq4,\forall n\leq2^{2^{65536}}-3$
\end_inset

, כלומר בעצם קבוע לכל סיטואציה מציאותית.
\end_layout

\end_deeper
\end_deeper
\begin_layout Standard
נוכל לסכם ולקבוע שנוכל לממש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Disjoint Sets
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בזמן לינארי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Amortized
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 על מספר הפעולות, כלומר במציאת רכיבי הקישרות מדובר ב-
\begin_inset Formula $\oo{\left|V\right|+\left|E\right|}$
\end_inset

 במקרה הגרוע ובקרוסקל הסיבוכיות היא 
\begin_inset Formula $\oo{\left|V\right|+\left|E\right|\log\left|V\right|}$
\end_inset

.
\end_layout

\end_body
\end_document
