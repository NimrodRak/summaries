#LyX 2.3 created this file. For more info see http://www.lyx.org/
\lyxformat 544
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass heb-article
\begin_preamble
\usepackage{dsfont}
\usepackage{polynom}

\hypersetup{
    colorlinks = true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=blue,
    }
\usepackage{qtree}
\newcommand*{\defeq}{\stackrel{\mathsmaller{\mathsf{def}}}{=}}
\usepackage{titlesec}
\usepackage{tikz}
\titleformat*{\section}{\LARGE\bfseries}
\titleformat*{\subsection}{\Large\bfseries}
\end_preamble
\use_default_options true
\maintain_unincluded_children false
\language hebrew
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "default" "David"
\font_sans "default" "Arial"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts true
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\use_microtype false
\use_dash_ligatures true
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing double
\use_hyperref true
\pdf_bookmarks false
\pdf_bookmarksnumbered false
\pdf_bookmarksopen false
\pdf_bookmarksopenlevel 1
\pdf_breaklinks true
\pdf_pdfborder false
\pdf_colorlinks true
\pdf_backref false
\pdf_pdfusetitle true
\papersize default
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date true
\justification true
\use_refstyle 1
\use_minted 0
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 2.1cm
\topmargin 2.1cm
\rightmargin 2.1cm
\bottommargin 2.1cm
\secnumdepth -2
\tocdepth 3
\paragraph_separation skip
\defskip medskip
\is_math_indent 0
\math_numbering_side default
\quotes_style english
\dynamic_quotes 0
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title

\size giant
אלגוריתמים |
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
67504
\numeric off

\begin_inset VSpace 40bp
\end_inset


\begin_inset Newline newline
\end_inset


\size default
הרצאות | פרופ' אלכס סמורודניצקי
\size giant

\begin_inset VSpace 30bp
\end_inset


\begin_inset Newline newline
\end_inset


\size larger
כתיבה | נמרוד רק
\size giant

\begin_inset VSpace 30bp
\end_inset


\size default

\begin_inset Newline newline
\end_inset


\size large
תשפ
\begin_inset Quotes erd
\end_inset

ב סמסטר א'
\end_layout

\begin_layout Standard
\paragraph_spacing single
\noindent

\size giant
\begin_inset VSpace 30bp
\end_inset


\size default

\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
כל תרגול מופיע בשבוע שרלוונטי לנושא שלו, ולכן ייתכן שהועבר בשבוע שלפני המקום
 בו הוא מופיע בסיכום.
 עד שבוע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
התרגולים הם לפי ירדן יגיל, ולאחריו לפי אלעד גרנות.
\end_layout

\begin_layout Standard
\paragraph_spacing single
\noindent

\size huge
נספחים
\end_layout

\begin_layout Labeling
\paragraph_spacing single
\labelwidthstring 00.00.0000
\noindent

\size larger
\begin_inset Formula $\mathbb{I}$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{nis5}{החומר למבחן}
\end_layout

\end_inset


\end_layout

\begin_layout Labeling
\paragraph_spacing single
\labelwidthstring 00.00.0000
\noindent

\size larger
\begin_inset Formula $\mathbb{II}$
\end_inset

 סיכום של הסיכום | )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{nis1}{רשימת בעיות אלגוריתמיות}
\end_layout

\end_inset

/
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{nis2}{סכמות לפתרון בעיות אלגוריתמיות}
\end_layout

\end_inset

(
\end_layout

\begin_layout Labeling
\paragraph_spacing single
\labelwidthstring 00.00.0000
\noindent

\size larger
\begin_inset Formula $\mathbb{III}$
\end_inset

 השלמת הוכחות | )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{nis3}{אדמונדס וקארפ}
\end_layout

\end_inset

/
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{nis4}{מילר-רבין}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
\paragraph_spacing single
\noindent

\size huge
חלק א'
\end_layout

\begin_layout Labeling
\paragraph_spacing single
\labelwidthstring 00.00.0000
\noindent

\size larger
\begin_inset Formula $\mathbb{O}$
\end_inset

 תזכורת מקורסים אחרים | 
\begin_inset CommandInset ref
LatexCommand nameref
reference "subsec:תרגול"
plural "false"
caps "false"
noprefix "false"

\end_inset


\end_layout

\begin_layout Labeling
\paragraph_spacing single
\labelwidthstring 00.00.0000
\noindent

\size larger
\begin_inset Formula $\mathbb{I}$
\end_inset

 מבוא ואלגוריתמים חמדניים | הרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le11}{א'}
\end_layout

\end_inset

/
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le12}{ב'}
\end_layout

\end_inset

( 
\begin_inset Formula $\bullet$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{ta1}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Labeling
\paragraph_spacing single
\labelwidthstring 00.00.0000
\noindent

\size larger
\begin_inset Formula $\mathbb{II}$
\end_inset

 עוד דוגמאות לאלגוריתמים חמדניים | הרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le21}{א'}
\end_layout

\end_inset

/
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le22}{ב'}
\end_layout

\end_inset

( 
\begin_inset Formula $\bullet$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{ta2}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Labeling
\paragraph_spacing single
\labelwidthstring 00.00.0000
\noindent

\size larger
\begin_inset Formula $\mathbb{III}$
\end_inset

 הכללות לאלגוריתם החמדן | הרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le31}{א'}
\end_layout

\end_inset

/
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le32}{ב'}
\end_layout

\end_inset

(
\end_layout

\begin_layout Labeling
\paragraph_spacing single
\labelwidthstring 00.00.0000
\noindent

\size larger
\begin_inset Formula $\mathbb{IV}$
\end_inset

 תכנון דינמי | הרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le41}{א'}
\end_layout

\end_inset

/
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le42}{ב'}
\end_layout

\end_inset

( 
\begin_inset Formula $\bullet$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{ta4}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Labeling
\paragraph_spacing single
\labelwidthstring 00.00.0000
\noindent

\size larger
\begin_inset Formula $\mathbb{V}$
\end_inset

 תכנון דינמי גו נאטס | הרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le51}{א'}
\end_layout

\end_inset

/
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le52}{ב'}
\end_layout

\end_inset

( 
\begin_inset Formula $\bullet$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{ta5}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Labeling
\paragraph_spacing single
\labelwidthstring 00.00.0000
\noindent

\size larger
\begin_inset Formula $\mathbb{VI}$
\end_inset

 אלגוריתמי קירוב ותכנון לינארי | הרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le61}{א'}
\end_layout

\end_inset

/
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le62}{ב'}
\end_layout

\end_inset

( 
\begin_inset Formula $\bullet$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{ta6}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Labeling
\paragraph_spacing single
\labelwidthstring 00.00.0000
\noindent

\size larger
\begin_inset Formula $\mathbb{VII}$
\end_inset

 אלגוריתמי קירוב נוספים | הרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le71}{א'}
\end_layout

\end_inset

/
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le72}{ב'}
\end_layout

\end_inset

( 
\begin_inset Formula $\bullet$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{ta7}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Labeling
\paragraph_spacing single
\labelwidthstring 00.00.0000
\noindent

\size larger
\begin_inset Formula $\mathbb{VIII}$
\end_inset

 עוד אלגוריתמי קירוב | הרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le81}{א'}
\end_layout

\end_inset

/
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le82}{ב'}
\end_layout

\end_inset

( 
\begin_inset Formula $\bullet$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{ta8}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\paragraph_spacing single
\noindent

\size huge
חלק ב'
\end_layout

\begin_layout Labeling
\paragraph_spacing single
\labelwidthstring 00.00.0000
\noindent

\size larger
\begin_inset Formula $\mathbb{IX}$
\end_inset

 בעיית הזרימה | הרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le91}{א'}
\end_layout

\end_inset

/
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le92}{ב'}
\end_layout

\end_inset

( 
\begin_inset Formula $\bullet$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{ta9}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Labeling
\paragraph_spacing single
\labelwidthstring 00.00.0000
\noindent

\size larger
\begin_inset Formula $\mathbb{X}$
\end_inset

 האלגוריתם של פורד פלקורסון | הרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le101}{א'}
\end_layout

\end_inset

/
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le102}{ב'}
\end_layout

\end_inset

( 
\begin_inset Formula $\bullet$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{ta10}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Labeling
\paragraph_spacing single
\labelwidthstring 00.00.0000
\noindent

\size larger
\begin_inset Formula $\mathbb{XI}$
\end_inset

 הוכחת נכונות של
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
F & F
\lang hebrew
 ושל
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
E & K
\lang hebrew
 | הרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le111}{א'}
\end_layout

\end_inset

/
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le112}{ב'}
\end_layout

\end_inset

( 
\begin_inset Formula $\bullet$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{ta11}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Labeling
\paragraph_spacing single
\labelwidthstring 00.00.0000
\noindent

\size larger
\begin_inset Formula $\mathbb{XII}$
\end_inset

 התמרת פורייה דיסקרטית ומהירה | הרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le121}{א'}
\end_layout

\end_inset

/
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le122}{ב'}
\end_layout

\end_inset

( 
\begin_inset Formula $\bullet$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{ta12}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Labeling
\paragraph_spacing single
\labelwidthstring 00.00.0000
\noindent

\size larger
\begin_inset Formula $\mathbb{XIII}$
\end_inset

 משפט ה-
\lang english
FFT
\lang hebrew
, קריפטוגרפיה ואלגוריתמים על מספרים | הרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le131}{א'}
\end_layout

\end_inset

/
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le132}{ב'}
\end_layout

\end_inset

( 
\begin_inset Formula $\bullet$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{ta13}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Labeling
\paragraph_spacing single
\labelwidthstring 00.00.0000
\noindent

\size larger
\begin_inset Formula $\mathbb{XIV}$
\end_inset

 הוכחת נכונות
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RSA
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואלגוריתם מילר-רבין | הרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le141}{א'}
\end_layout

\end_inset

/
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{le142}{ב'}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
\paragraph_spacing single
\noindent

\size larger
\begin_inset Newpage newpage
\end_inset


\size default

\begin_inset FormulaMacro
\newcommand{\desc}[2]{\underset{#2}{\underline{#1}}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\oh}{\mathcal{O}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\oo}[1]{\oh\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\om}[1]{\Omega\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\ot}[1]{\Theta\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\fldr}{\mathbb{R}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\ip}[2]{\left\langle #1\mid#2\right\rangle }
\end_inset


\begin_inset FormulaMacro
\newcommand{\fldc}{\mathbb{C}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\dft}{\textrm{DFT}_{n}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\em}{\omega}
\end_inset


\begin_inset FormulaMacro
\newcommand{\dftr}{\textrm{DFT}_{n}^{-1}}
\end_inset


\end_layout

\begin_layout Standard
\paragraph_spacing single
\noindent
\begin_inset FormulaMacro
\newcommand{\fft}{\textrm{FFT}_{n}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\fldn}{\mathbb{N}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\fldz}{\mathbb{Z}}
\end_inset


\end_layout

\begin_layout Section
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
texorpdfstring{
\backslash
protect
\backslash
hypertarget{nis5}{החומר למבחן}}{החומר למבחן}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
הרשימה הזו אינה רשמית וייתכן שחסרים בה דברים )אפע
\begin_inset Quotes erd
\end_inset

פ שרובה הוא עותק של מה שאלכס העלה(, על כן היא אינה מחייבת ואני 
\bar under
לא לוקח אחריות בשום אופן על ההשלכות של למידה ממנה
\bar default
 )
\begin_inset Quotes erd
\end_inset

נמרוד כתב בסיכום שזה לא במבחן
\begin_inset Quotes erd
\end_inset

 זה לא ערעור קביל(.
\end_layout

\begin_layout Standard

\size larger
חלק א'
\end_layout

\begin_layout Itemize
כל האלגוריתמים )חמדני, דינמי, קירוב, תכנון לינארי(.
\end_layout

\begin_layout Itemize
כל ההוכחות ותתי-הלמות של נכונות האלגוריתמים, ובכלל זה כל הטענות וההוכחות
 שנלמדו.
\end_layout

\begin_layout Standard

\size larger
חלק ב'
\end_layout

\begin_layout Itemize
בעיית הזרימה:
\end_layout

\begin_deeper
\begin_layout Itemize
כל ההגדרות.
\end_layout

\begin_layout Itemize
כל המשפטים )שטף והחתך( ותתי-הלמות על רשתות זרימה.
\end_layout

\begin_layout Itemize
הוכחות הנכונות של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
EK
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וההשלמות שלהם מחוץ להרצאה )זמינים בסיכום הזה(.
\end_layout

\begin_layout Itemize
הייצוג כבעיית תכנון לינארי.
\end_layout

\end_deeper
\begin_layout Itemize
התמרות פורייה:
\end_layout

\begin_deeper
\begin_layout Itemize
ייצוגי פולינמים )מקדמים וערכים(.
\end_layout

\begin_layout Itemize
פעולות על פולינומים בשני הייצוגים )בלי הצבת ערך בייצוג הערכים(.
\end_layout

\begin_layout Itemize
שורשי היחידה והטענות עליהם.
\end_layout

\begin_layout Itemize
הגדרת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והוכחת משפט ה-
\lang english
FFT
\end_layout

\begin_layout Itemize
הפרמול של האלג' לכפל מהיר של פולינומים בייצוג המקדמים.
\end_layout

\end_deeper
\begin_layout Itemize
קריפטו ואלג' על מספרים:
\end_layout

\begin_deeper
\begin_layout Itemize
אריתמטיקה מודולרית )הוכחות רק למה שהוכחנו(
\end_layout

\begin_layout Itemize
הוכחת משפט אוילר ופרמה הקטן כמסקנה ממנו.
\end_layout

\begin_layout Itemize
האלג' של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RSA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וההוכחה שפ' ההצפנה ופענוח שנובעות ממנו אכן הופכיות אחת לשנייה.
\end_layout

\begin_layout Itemize
האלג' של מילר-רבין והוכחת הנכונות והקירוב שלו.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Section
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
texorpdfstring{
\backslash
protect
\backslash
hypertarget{nis1}{רשימת בעיות אלגוריתמיות}}{רשימת בעיות אלגוריתמיות}
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
אלגוריתמים חמדניים
\end_layout

\begin_layout Enumerate
בעיית התרמיל השברי )אלגוריתם שבוחר לפי משקל סגולי(.
\end_layout

\begin_deeper
\begin_layout Standard
הכי קל להוכיח בלי למת ההחלפה: חוקיות ברור ואילו אופטימליות מוצאים פתרון
 נוסף ומסתכלים על ההפרש שלהם.
 פותחים את הערך למשקל סגולי ומוציאים את הפריט המיוחד מהסכימה.
 עושים אריתמטיקה כדי להגיע להפרש המשקלים כפול המשקל הסגולי המיוחד והוא כבר
 אי-שלילי.
\end_layout

\end_deeper
\begin_layout Enumerate
בעיית תא הדלק הקטן )אלגוריתם שמתקדם כמה שאפשר כל פעם(.
\end_layout

\begin_deeper
\begin_layout Standard
בלמת ההחלפה בוחרים לאחר 
\begin_inset Formula $k-1$
\end_inset

 הסכמות את תא הדלק הכי רחוק שאפשר ומוכיחים שאפשר להגיע אליו מהתחנה לפני
 וממנו לתחנה אחרי.
\end_layout

\end_deeper
\begin_layout Enumerate
מציאת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MST
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)קרוסקל(.
\end_layout

\begin_deeper
\begin_layout Standard
בלמת ההחלפה מניחים שיש עפ
\begin_inset Quotes erd
\end_inset

מ שמסכים על 
\begin_inset Formula $k-1$
\end_inset

 הצלעות הראשונות, מוסיפים צלע ומורידים אחת כדי שיהיה שוב עץ ואז מקבלים עץ
 עם משקל לכל היותר מינימלי.
\end_layout

\end_deeper
\begin_layout Enumerate
בעיית שיבוץ משימות )אלגוריתם שבוחר משימות לפי זמני סיום(.
\end_layout

\begin_deeper
\begin_layout Standard
בלמת החלפה מסכימים על 
\begin_inset Formula $k-1$
\end_inset

 משימות ואז בוחרים את המשימה הלא חופפת המוקדמת ביותר ובאמצעות ההבחנה מוכיחים
 שזה שוב חוקי משני הכיוונים.
\end_layout

\end_deeper
\begin_layout Enumerate
בעיית המטרואידים )אלגוריתם שבוחר בסדר יורד לפי פ' המשקל(.
\end_layout

\begin_deeper
\begin_layout Standard
מנסחים למת החלפה שמגדילה את קבוצת הפתרון בהסתמך על תכונת ההחלפה ואז מסיקים
 שהפתרון החמדן באותו גודל כמו האופטימלי.
 באופטימליות מניחים בשלילה שיש איבר עם משקל קטן מהמקביל לו )כשהם מסודרים(
 באופטימלי ומגיעים לסתירה בדרך פעולת האלג' החמדן.
\end_layout

\end_deeper
\begin_layout Enumerate
קבוצת וקטורים בת
\begin_inset Quotes erd
\end_inset

ל בעלת משקל מקסימלי )אלגוריתם שבוחר בסדר יורד לפי פ' המשקל(.
\end_layout

\begin_deeper
\begin_layout Standard
כנ
\begin_inset Quotes erd
\end_inset

ל רק שמוכיחים שמתקיימת תכונת ההחלפה.
\end_layout

\end_deeper
\begin_layout Subsection
תכנון דינמי
\end_layout

\begin_layout Enumerate
בעיית ניתוב משימות )תתי הבעיות הן התחלה מנקודה באמצע ה
\begin_inset Quotes erd
\end_inset

מפה
\begin_inset Quotes erd
\end_inset

(.
\end_layout

\begin_layout Enumerate
לוח משימות תכנות )תתי הבעיות הן רווח אופטימלי עד לשבוע כלשהו(.
\end_layout

\begin_layout Enumerate
תת-מחרוזת משותפת מקסימלית )תתי הבעיות הן התמ
\begin_inset Quotes erd
\end_inset

א של כל שתי רישאות של המחרוזות(.
\end_layout

\begin_layout Enumerate
בעיית כפל מטריצות )תתי הבעיות הן פיצול המכפלה איפה שהוא באמצע(.
\end_layout

\begin_layout Enumerate
בעיית התרמיל השלם )תתי הבעיות הן התרמיל במשקלים שונים, עם ובלי כל פריט(
 + הנחה מקלה שהמשקלים טבעיים.
\end_layout

\begin_layout Enumerate
בעיית מסילת הרכבת )תתי הבעיות הן סיום המסילה בכל חיבור ובאורכים שונים(.
\end_layout

\begin_layout Enumerate
מסלול קצר ביותר לכל הזוגות )תתי בעיות לפי אורך המסלול, או הגבלת קבוצת הקודקודים
 בתוך המסלול(.
\end_layout

\begin_layout Subsection
אלגוריתמי קירוב
\end_layout

\begin_layout Enumerate
חלוקת משימות )אלגוריתם חמדן 
\begin_inset Formula $2-\frac{1}{k}$
\end_inset

-מקרב שמעמיס איפה שהכי פחות עמוס(.
\end_layout

\begin_deeper
\begin_layout Standard
מסתכלים על הפעם שבה הוסיפו למכונה הכי כבדה את המשימה האחרונה שלה ומוכיחים
 שסה
\begin_inset Quotes erd
\end_inset

כ המשימות שלה, שהוא אורך הפתרון, הוא פחות מהקירוב הרצוי.
\end_layout

\begin_layout Standard
עושים זאת באמצעות פיצול למשימות עד כה והמשימה האחרונה וכל אחד בנפרד מפתחים.
 דוחפים את המשימה האחרונה אל תוך הסכום של המשימות לפני ומעדכנים את המשימה
 האחרונה ל-פחות מהמשימה הארוכה ביותר שהיא קטנה מהאופטימלי.
 משתמשים בכך שאורך המכונה הכבדה ביותר הוא גדול מהממוצע של המשימות עד כה
 ושהאחרון קטן מהאופטימלי.
\end_layout

\end_deeper
\begin_layout Enumerate
בעיית כיסוי ע
\begin_inset Quotes erd
\end_inset

י קבוצות )אלגוריתם חמדן 
\begin_inset Formula $\left\lceil \ln n\right\rceil $
\end_inset

 מקרב שבוחר בכל שלב את הקבוצה שחופפת כמה שיותר איברים שנותרו(.
\end_layout

\begin_deeper
\begin_layout Standard
מוכיחים שבכל שלב קטנה הקבוצה שנותרה )
\begin_inset Formula $X_{t}$
\end_inset

( בלפחות 
\begin_inset Formula $\frac{1}{k}$
\end_inset

 מערכה הנוכחי באמצעות טענת עזר על החפיפה של קבוצות מהפתרון האופטימלי עם
 
\begin_inset Formula $X_{t}$
\end_inset

.
 משם, מניחים בשלילה שהפתרון החמדן גודלו פחות ממספר האיטרציות באלג' החמדן
 )שהוא גודל הפתרון החמדן(.
 משרשרים אי שוויונות על 
\begin_inset Formula $X_{t}$
\end_inset

 החל מ-
\begin_inset Formula $X_{u}$
\end_inset

 ועד 
\begin_inset Formula $X_{0}=\left[n\right]$
\end_inset

 יחד עם טענה מאינפי ומגיעים לסתירה.
\end_layout

\end_deeper
\begin_layout Enumerate
בעיית התרמיל השברי כתכנון לינארי.
\end_layout

\begin_layout Enumerate
בעיית הסרת משולשים.
\end_layout

\begin_deeper
\begin_layout Standard
לכל משולש מגדירים שורה ב-
\lang english
A
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ודורשים שסכום הערכים על השורה יהיה קטן שווה ל-
\numeric on
2
\numeric off
.
\end_layout

\end_deeper
\begin_layout Enumerate
בעיית כיסוי ע
\begin_inset Quotes erd
\end_inset

י קודקודים )אלגוריתם שרירותי 
\begin_inset Formula $2$
\end_inset

-מקרב שבוחר באקראי צלע, מוסיף את הקודקודים שלה ומסיר את הצלעות שנוגעות בהם(.
\end_layout

\begin_deeper
\begin_layout Standard
האלג' מחזיר קודקודים שמגדירים שידוך, שחוסם מלמטה את כמות הקודקודים שיש בפתרון
 האופטימלי.
\end_layout

\end_deeper
\begin_layout Enumerate
בעיית כיסוי ע
\begin_inset Quotes erd
\end_inset

י קודקודים ממשוקלים )באמצעות סכימה לקירוב שנעזרת ב-
\lang english
ILP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מוחלש(.
\end_layout

\begin_deeper
\begin_layout Standard
הפתרון המוחזר קטן מפעמיים הפתרון לתכנון הלינארי הרגיל שעצמו קטן מהפתרון
 האופטימלי.
\end_layout

\end_deeper
\begin_layout Enumerate
בעיית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MAX-
\numeric on
\lang hebrew
3-
\numeric off
\lang english
SAT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 ששואלת מה ההשמה המספקת הכי הרבה פסוקיות ב-
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3-
\numeric off
\lang english
CNF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 )אלג' אקראי דטרמיניסטי 
\begin_inset Formula $2$
\end_inset

-מקרב ואלג' הסתברותי 
\begin_inset Formula $\frac{7}{8}$
\end_inset

-מקרב(.
\end_layout

\begin_deeper
\begin_layout Standard
עבור ההסת' מוכיחים את ההסת' שהאלג' הבסיסי יחזיר פתרון חוקי באמצעות אש
\begin_inset Quotes erd
\end_inset

מ ואז מוכיחים שהאלג' הכללי מחזיר פתרון בהסת' אקספוננציאלית על בסיס מספר
 האיטרציות שמבצעים.
\end_layout

\end_deeper
\begin_layout Enumerate
בעיית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MAX-LIN-2
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ששואלת מה ההשמה המספקת הכי הרבה משוואות לינאריות מעל 
\begin_inset Formula $\mathbb{F}_{2}$
\end_inset

 )אלג' 
\begin_inset Formula $2$
\end_inset

-מקרב שבוחר בכל שלב בחירה חמדנית למשתנה ספציפי על בסיס תוחלת סיפוק המשוואות
 עבור הבחירה(.
\end_layout

\begin_deeper
\begin_layout Standard
מוכיחים שהתוחלת רק עולה על בסיס נוסחת ה-
\lang english
Av
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ומשם בטרנזיטיביות בגלל שהפתרון האופטימלי הוא פי שתיים מהתוחלת הראשונה אז
 התוחלת האחרונה שהיא מספר המשוואות המסופקות בפתרון הסופי גדול מחצי האופטימלי.
\end_layout

\end_deeper
\begin_layout Enumerate
בעיית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MAX-CUT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ששואלת מה החתך המקסימלי בגרף )אלג' 
\begin_inset Formula $2$
\end_inset

-מקרב שמעביר קודקודים מצד לצד אם הם מגדילים את החתך(.
\end_layout

\begin_deeper
\begin_layout Standard
כל קודקוד מספק לפחות חצי מהצלעות שלו אחרת היה מועבר צד ומפרמלים את זה עם
 לחיצות הידיים והוא בטוח עוצר אחרי 
\begin_inset Formula $\left|E\right|$
\end_inset

 איטרציות.
\end_layout

\end_deeper
\begin_layout Enumerate
בעיית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
M-TSP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)הסוכן המטרי( ששואלת מה המעגל העובר בכל קודקודי הגרף בעל המשקל המינימלי
 בגרף מלא ממושקל )אלג' 
\begin_inset Formula $2$
\end_inset

-מקרב שמריץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 על עפ
\begin_inset Quotes erd
\end_inset

מ בגרף ואוגר את כל הצלעות בעץ ה-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS
\lang hebrew
(.
\end_layout

\begin_deeper
\begin_layout Standard
מוכיחים שמסלול שהוא צמצום של אחר הוא במשקל יותר נמוך.
 לכן הפתרון שמוחזר הוא לכל היותר במשקל המעבר הכפול על כל עץ ה-
\lang english
DFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שהוא פעמיים העפ
\begin_inset Quotes erd
\end_inset

מ שהוא קטן מהפתרון האופטימלי.
\end_layout

\end_deeper
\begin_layout Subsection
בעיית הזרימה
\end_layout

\begin_layout Enumerate
בעיית מציאת זיווג מקסימלי ששואלת מה הזיווג הגדול ביותר שיש בגרף דו
\begin_inset Quotes erd
\end_inset

צ )אלג' רדוקציה לבעיית הזרימה שבונה רשת עם קיבולים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שבה מזרימים דרך צלע אם
\begin_inset Quotes erd
\end_inset

ם היא נבחרה לזיווג(.
\end_layout

\begin_deeper
\begin_layout Standard
מניחים בשלילה שיש זיווג יותר טוב, מוכיחים שהזיווג המקורי והחדש מתאימים לשטפים
 ברשת ומגיעים לסתירה למקסימליות השטף.
\end_layout

\end_deeper
\begin_layout Enumerate
בעיית הזרימה ששואלת מה הזרימה עם שטף מקסימלי ברשת )אלג'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שבוחר מסלול מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $t$
\end_inset

, מזרים כמה שאפשר ובונה צלעות חזור כך שיהיה ניתן לערוך את הזרם במקרה הצורך(.
\end_layout

\begin_deeper
\begin_layout Standard
החוקיות נובעת מחוקיות רשת הזרימה המורחבת לאחר הזרמת 
\begin_inset Formula $f$
\end_inset

, הזרימה השיורית והזרימה המעדוכנת.
 האופטימליות נובעת ממשפט הלמה והחתך, שכן אין מסילת הרחבה אם האלג' עצר.
\end_layout

\end_deeper
\begin_layout Enumerate
בעיית הזרימה ששואלת מה הזרימה עם שטף מקסימלי ברשת )אלג'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
EK
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שבוחר מסלול מינימלי מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $t$
\end_inset

, מזרים כמה שאפשר ובונה צלעות חזור כך שיהיה ניתן לערוך את הזרם במקרה הצורך(.
\end_layout

\begin_deeper
\begin_layout Standard
החוקיות ואופטימליות נובעות מחוקיות ואופטימליות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)מקרה פרטי בסך הכל(.
 הוכחת העצירה נובעת מכך שהקודקודים מתרחקים מ-
\begin_inset Formula $s$
\end_inset

, ואם קודקוד הוא על צלע קריטית פעמיים אז הוא מתרחק ממש מ-
\begin_inset Formula $s$
\end_inset

 ולכן יש חסם על מספר האיטרציות.
\end_layout

\end_deeper
\begin_layout Enumerate
בעיית המשקיעות והשחקנים ששואלת מה הרווח המקסימלי ומהפקת סרט עם משקיעות שכל
 אחת דורשת שחקנים מסוימים )אלג' רדוקציה לבעיית הזרימה שבונה רשת עם קיבולי
 
\begin_inset Formula $\infty$
\end_inset

 בין שחקנים של משקיעות ומוצא חתך מינימלי ומחזיר את 
\begin_inset Formula $S$
\end_inset

(.
\end_layout

\begin_deeper
\begin_layout Standard
חוקיות נובעת מהעובדה שיש חתך בגודל סופי ולכן לא תבחר צלע אינסופית ואופטימליות
 נובעת מהעובדה שמינימום קיבול בחתך זה מקסימום רווח.
\end_layout

\end_deeper
\begin_layout Enumerate
בעיית הזרימה כתכנון לינארי.
\end_layout

\begin_layout Subsection
התמרת פורייה בדידה ומהירה
\end_layout

\begin_layout Enumerate
בעיית הפעולות על פולינומים בייצוג מקדמים )אלג' שמחבר, מציב ומכפיל נאיבית(.
\end_layout

\begin_layout Enumerate
בעיית הפעולות על פולינומים בייצוג הערכים )אלג' שמחבר ומכפיל נאיבית, ומציב
 באמצעות פולינומיי לגראז' כהעשרה(.
\end_layout

\begin_layout Enumerate
בעיית כפל פולינומים מהיר במקדמים )אלג' שממיר לערכים עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FFT
\lang hebrew
, מחשב שם כפל וממיר חזרה עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FFT
\begin_inset Formula $^{-1}$
\end_inset


\lang hebrew
(.
\end_layout

\begin_layout Enumerate
בעיית התאמת המחרוזות ששואלת כמה פעמים מופיעה מחרוזת עם 
\begin_inset Formula $\pm1$
\end_inset

 במחרוזת אחרת עם 
\begin_inset Formula $\pm1$
\end_inset

 )אלג' שמחשב קונבולוציה על היפוך המחרוזת הקצרה ובודק אילו אינדקסים מקבלים
 ערך מלא(.
\end_layout

\begin_deeper
\begin_layout Standard
נכונות מבוססת על כך שהמחרוזות מותאמות אם
\begin_inset Quotes erd
\end_inset

ם מכפלת כל האיברים היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
\end_layout

\end_deeper
\begin_layout Enumerate
בעיית המרה בין ייצוג מקדמים לייצוג ערכים )אלג' הפרד ומשול שמפתח את הפולינום
 לשני פולינומים ומשתמש בזהויות של שורשי היחידה(.
\end_layout

\begin_deeper
\begin_layout Standard
נכונות מבוססת על הזהות הריקורסיבית.
\end_layout

\end_deeper
\begin_layout Subsection
קריפטוגרפיה ואלגוריתמים על מספרים
\end_layout

\begin_layout Enumerate
בעיית ההצפנה הפומבית )אלג'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RSA
\lang hebrew
 שמגריל שני ראשוניים ומספר הזר לפ' אוילר על מכפלת הראשוניים(.
\end_layout

\begin_deeper
\begin_layout Standard
נכונות מבוססת על משפט אוילר ואריתמטיקה מודולרית.
\end_layout

\end_deeper
\begin_layout Enumerate
בעיית הפעולות הבסיסיות )חיבור נאיבי, כפל וחילוק אורך, חישוב מודולו עם ערך
 שלם, העלה בחזקה באופן לוגריתמי(.
\end_layout

\begin_layout Enumerate
בעיית המחלק המשותף המקסימלי )אלג' ריקורסיבי שמחלק בשארית ומשתמש בזהויות
 מודולריות(.
\end_layout

\begin_deeper
\begin_layout Standard
נכונות נובעת ישירות מתכונות ה-
\begin_inset Formula $\gcd$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
בעיית בדיקת ראשוניות )אלג' רבין-מילר הסת' שמגריל מספרים ובודק האם הסובייקט
 מקיים איתם את תנאי משפט אוילר(.
\end_layout

\begin_deeper
\begin_layout Standard
הוכחת הקירוב מתבססת על כך שיותר מחצי מהמספרים הקטנים ממספר שאינו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Carmichael
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 אינם מקיימים את התכונה של משפט אוילר.
 ההוכחה הזו מתבססת על שימוש בפ' הכפל המודולרי עם אחד מהמספרים שלא מקיים
 את התכונה )שקיים כי זה לא מספר 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CM
\lang hebrew
( והוכחה שהיא מעבירה את המספרים שכן מקיימים את התכונה וזרים למספר למספרים
 שלא מקיימים את התכונה וזרים למספר.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Section
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
texorpdfstring{
\backslash
protect
\backslash
hypertarget{nis2}{סכמות לפתרון בעיות אלגוריתמיות}}{סכמות לפתרון בעיות אלגוריתמיו
ת}
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
סכימה להוכחת נכונות ואופטימליות של אלגוריתם חמדן.
\end_layout

\begin_deeper
\begin_layout Enumerate
הוכחת חוקיות.
\end_layout

\begin_layout Enumerate
הוכחת אופטימליות:
\end_layout

\begin_deeper
\begin_layout Enumerate
נטען טענת עזר כי קיים פתרון אופטימלי המסכים עם הפתרון החמדן על 
\begin_inset Formula $k$
\end_inset

 איבריו הראשונים, 
\begin_inset Formula $\forall k\in\left[\left|B\right|\right]$
\end_inset

.
\end_layout

\begin_layout Enumerate
נוכיח את טענת העזר באינדוקציה.
 בצעד האינדוקציה נסתכל על הפתרון 
\begin_inset Formula $C$
\end_inset

 המסכים עם הפתרון 
\begin_inset Formula $B$
\end_inset

 על 
\begin_inset Formula $k-1$
\end_inset

 איבריו הראשונים )מה
\begin_inset Quotes erd
\end_inset

א הוא חוקי ואופטימלי( ועל הפתרון 
\begin_inset Formula $C'$
\end_inset

 המסכים עם הפתרון 
\begin_inset Formula $B$
\end_inset

 על 
\begin_inset Formula $k$
\end_inset

 איבריו הראשונים ונוכיח כי 
\begin_inset Formula $C'$
\end_inset

 הוא פתרון חוקי ואופטימלי.
\end_layout

\begin_layout Enumerate
נסיק כי עבור 
\begin_inset Formula $k=m$
\end_inset

 קיים פתרון אופטימלי המכיל את הפתרון החמדן 
\begin_inset Formula $B$
\end_inset

 ולכן 
\begin_inset Formula $B$
\end_inset

 אופטימלי.
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
סכימה לפתירת בעיה באמצעות תכנון דינמי.
\end_layout

\begin_deeper
\begin_layout Enumerate
הגדרת תתי בעיות.
\end_layout

\begin_layout Enumerate
הגדרת נוסחאת ריקורסיה )המקשרת בין תת הבעיות לבעיה הגדולה(.
\end_layout

\begin_layout Enumerate
בניית טבלה - תיאור, מילוי וחילוץ פתרון.
\end_layout

\begin_layout Enumerate
ניתוח זמן ריצה.
\end_layout

\begin_layout Enumerate
הוכחת אופטימליות )אינדוקציה על מילוי הטבלה(.
\end_layout

\end_deeper
\begin_layout Itemize
סכימה לפתירת בעיית קירוב באמצעות תכנון לינארי בשלמים.
\end_layout

\begin_deeper
\begin_layout Enumerate
נתרגם את הבעיה לבעית מינימיזציה של פ' לינארית במשתנים שמקבלים ערכים שלמים
 ומקיימים אילוצים לינאריים )ניסוח אנליטי של הבעיה המקורית( - זו בעיית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ILP
\lang hebrew
.
\end_layout

\begin_layout Enumerate
נסיר את האילוץ של הערכים השלמים ונחליף אותו באי שוויונים לינאריים )צריכה
 להיות רלקסציה - הבעיה החדשה צריכה להיות קלה יותר(.
\end_layout

\begin_layout Enumerate
נפתור את בעיית ה-
\lang english
LP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שקיבלנו בשלב הקודם בעזרת אלג' הפותר בעיות תכנון לינארי )
\lang english
Simplex
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לדוגמה( ונקבל פתרון אופטימלי לבעיה זו.
\end_layout

\begin_layout Enumerate
נעגל את הפתרון האופטימלי לבעיית ה-
\lang english
LP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לפתרון טוב לבעיה המקורית ונחזיר את הפתרון המקורב.
\end_layout

\end_deeper
\begin_layout Itemize
סכימה לפתירת בעיות באמצעות רדוקציה לבעיית הזרימה.
\end_layout

\begin_deeper
\begin_layout Enumerate
נבנה רשת זרימה המתאימה לבעיה.
\end_layout

\begin_layout Enumerate
נריץ את אלג'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
EK
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 על הרשת שבנינו ונקבל זרימה מקסימלית 
\begin_inset Formula $f$
\end_inset

.
\end_layout

\begin_layout Enumerate
נחזיר פתרון לבעיה המקורית על סמך 
\begin_inset Formula $f$
\end_inset

.
\end_layout

\begin_layout Standard
כדי להוכיח נכונות נוכיח את הדברים הבאים:
\end_layout

\begin_layout Enumerate
כל פתרון חוקי של הבעיה ניתן לתרגום לזרימה חוקית ברשת )מוודא שלא נפספס פתרונות
 חוקיים של הבעיה, ובפרט האופטימלי(.
\end_layout

\begin_layout Enumerate
כל זרימה חוקית ברשת ניתנת לתרגום לפתרון חוקי של הבעיה )מוודא שהפתרון לבעיה
 חוקי(.
\end_layout

\begin_layout Enumerate
המרה בין פתרונות משמרת את ערך הבעיה )משמש להוכחת אופטימליות(.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Section
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
texorpdfstring{
\backslash
protect
\backslash
hypertarget{nis3}{סוף הוכחת הנכונות של אדמונדס וקארפ}}{סוף הוכחת הנכונות
 של אדמונדס וקארפ}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
להלן המשך 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{link8}{הוכחת הנכונות}
\end_layout

\end_inset

 של אלג'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
E & K
\lang hebrew
.
\end_layout

\begin_layout Description
הגדרה הצלע 
\begin_inset Formula $\left(x,y\right)$
\end_inset

 תקרא קריטית באיטרציה 
\begin_inset Formula $i+1$
\end_inset

 אם היא שייכת למסילת ההרחבה 
\begin_inset Formula $p_{i}$
\end_inset

 ואם הקיבול השיורי שלה הוא המינימלי בין כל הצלעות של 
\begin_inset Formula $p_{i}$
\end_inset

, כלומר 
\begin_inset Formula $c_{f_{i}}\left(x,y\right)=c_{f_{i}}\left(p_{i}\right)$
\end_inset

.
\end_layout

\begin_layout Description
למה
\begin_inset Formula $\;$
\end_inset


\series bold
\numeric on
2
\family roman
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יהיו 
\begin_inset Formula $x,y\in V$
\end_inset

 ו-
\begin_inset Formula $i<k$
\end_inset

 כך ש-
\begin_inset Formula $\left(x,y\right)$
\end_inset

 היא צלע קריטית באיטרציות 
\begin_inset Formula $i+1$
\end_inset

 ו-
\begin_inset Formula $k+1$
\end_inset

 של האלג'.
 אזי 
\begin_inset Formula $\delta_{k}\left(x\right)\geq\delta_{i}\left(x\right)+2$
\end_inset

.
 כלומר, כל בין כל פעמיים שצלע היא קריטית, היא מתרחקת מ-
\begin_inset Formula $s$
\end_inset

 באופן מונוטוני עולה ממש.
\end_layout

\begin_layout Proof
נוכיח כי מהיות 
\begin_inset Formula $\left(x,y\right)$
\end_inset

 צלע קריטית באיטרציה ה-
\begin_inset Formula $i+1$
\end_inset

, הרי ש-
\begin_inset Formula $\left(x,y\right)$
\end_inset

 לא שייכת ל-
\begin_inset Formula $G_{f_{i+1}}$
\end_inset

.
 מספיק שנוכיח כי 
\begin_inset Formula $c_{f_{i+1}}\left(x,y\right)=0$
\end_inset

.
\begin_inset Formula 
\begin{align*}
f_{i+1}\left(x,y\right) & =f_{i}\left(x,y\right)+\Delta_{f_{i},p_{i}}\left(x,y\right)\\
 & \overset{\text{קריטית}}{=}f_{i}\left(x,y\right)+c_{f_{i}}\left(x,y\right)\\
 & =f_{i}\left(x,y\right)+\left(c\left(x,y\right)-f_{i}\left(x,y\right)\right)\\
 & =c\left(x,y\right)
\end{align*}

\end_inset

ולכן 
\begin_inset Formula $c_{f_{i+1}}\left(x,y\right)=c\left(x,y\right)-f_{i+1}\left(x,y\right)=0$
\end_inset

 ולכן 
\begin_inset Formula $\left(x,y\right)$
\end_inset

 לא ב-
\begin_inset Formula $G_{f_{i}}$
\end_inset

.
 מצד שני, מהיותה צלע קריטית באיטרציה 
\begin_inset Formula $k+1$
\end_inset

, הרי ש-
\begin_inset Formula $\left(x,y\right)$
\end_inset

 שייכת ל-
\begin_inset Formula $p_{k}$
\end_inset

 ולכן היא צלע ב-
\begin_inset Formula $G_{f_{k}}$
\end_inset

.
 כלומר הזרימה דרך 
\begin_inset Formula $\left(x,y\right)$
\end_inset

 חייבת לקטון באיטרציה 
\begin_inset Formula $j+1$
\end_inset

 עבור 
\begin_inset Formula $i+1\leq j\leq k-1$
\end_inset

 )לא באיטרציה ה-
\begin_inset Formula $i$
\end_inset

 כי שם הזרימה גדלה, לא עבור 
\begin_inset Formula $k$
\end_inset

 והלאה כי 
\begin_inset Formula $j+1$
\end_inset

 כבר אחרי 
\begin_inset Formula $G_{f_{k}}$
\end_inset

 וזה צריך להיות מוקטן כבר לפני 
\begin_inset Formula $G_{f_{k}}$
\end_inset

, כלומר לכל היותר 
\begin_inset Formula $k-1$
\end_inset

(.
 הזרימה קטנה אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $\left(y,x\right)\in p_{j}$
\end_inset

 לכן
\begin_inset Formula 
\[
\delta_{k}\left(x\right)\overset{1\;\text{למה}}{\geq}\delta_{j}\left(x\right)\overset{\left(y,x\right)\in p_{j}}{=}\delta_{j}\left(y\right)+1\overset{1\;\text{למה}}{\geq}\delta_{i}\left(y\right)+1\overset{\left(x,y\right)\in p_{i}}{=}\delta_{i}\left(x\right)+2
\]

\end_inset


\end_layout

\begin_layout Description
למת
\begin_inset Formula $\;$
\end_inset

עזר תהי 
\begin_inset Formula $\left(x,y\right)$
\end_inset

 צלע קריטית באטירציה ה-
\begin_inset Formula $i+1$
\end_inset

 של האלג'.
 אזי 
\begin_inset Formula $\left(x,y\right)\in E$
\end_inset

 או 
\begin_inset Formula $\left(y,x\right)\in E$
\end_inset

, כאשר 
\begin_inset Formula $E$
\end_inset

 הוא אוסף הצלעות של הרשת המקורית 
\begin_inset Formula $\tilde{N}$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula $\left(x,y\right)$
\end_inset

 היא צלע ב-
\begin_inset Formula $G_{f_{i}}$
\end_inset

 ולכן 
\begin_inset Formula $0<c_{f_{i}}=c\left(x,y\right)-f_{i}\left(x,y\right)$
\end_inset

.
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $c\left(x,y\right)>0$
\end_inset

 אז מהגדרת הקיבול המורחב 
\begin_inset Formula $\left(x,y\right)\in E$
\end_inset

.
\end_layout

\begin_layout Proof
אחרת 
\begin_inset Formula $f_{i}\left(x,y\right)<0$
\end_inset

 ומאנטי-סימטריה 
\begin_inset Formula $f_{i}\left(y,x\right)>0$
\end_inset

 ומאילוץ הקיבול )לרשתות מורחבות( 
\begin_inset Formula $c\left(y,x\right)\geq f_{i}\left(y,x\right)>0$
\end_inset

 ולכן מהגדרת הקיבול המורחב 
\begin_inset Formula $\left(y,x\right)\in E$
\end_inset

.
\end_layout

\begin_layout Description
משפט )נכונות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
E & K
\lang hebrew
( האלג' של אדמונדס וקארפ עוצר לאחר 
\begin_inset Formula $\oo{\left|V\right|\cdot\left|E\right|}$
\end_inset

.
\end_layout

\begin_layout Proof
נוכיח כי לכל 
\begin_inset Formula $x,y\in V$
\end_inset

, הצלע יכולה להיות צלע קריטית לכל היותר 
\begin_inset Formula $\frac{\left|V\right|+1}{2}$
\end_inset

 איטרציות.
\end_layout

\begin_layout Proof
נסמן ב-
\begin_inset Formula $t$
\end_inset

 את מספר האיטרציות בהן 
\begin_inset Formula $\left(x,y\right)$
\end_inset

 צלע קריטית ונניח שאלו האיטרציות 
\begin_inset Formula $i_{1}+1,\dots,i_{t}+1$
\end_inset

.
 מלמה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
, לכל 
\begin_inset Formula $1\le j\leq t-1$
\end_inset

, 
\begin_inset Formula $\delta_{j}\left(x\right)\geq\delta_{j+1}\left(x\right)+2$
\end_inset

 לכן מהיות 
\begin_inset Formula $\delta_{i_{1}}\geq0$
\end_inset

 הרי ש-
\begin_inset Formula $\delta_{i_{t}}\left(x\right)\geq2\left(t-1\right)$
\end_inset

.
 מצד שני, ב-
\begin_inset Formula $G_{f_{i_{t}}}$
\end_inset

 יש 
\begin_inset Formula $\left|V\right|$
\end_inset

 קודקודים ולכן 
\begin_inset Formula $\delta_{i_{t}}\left(x\right)\leq\left|V\right|-1$
\end_inset

 ולכן 
\begin_inset Formula $2t-2\leq\left|V\right|-1$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $t\leq\frac{\left|V\right|+1}{2}$
\end_inset

 כרצוי.
\end_layout

\begin_layout Proof
מלמת העזר יש לכל היותר 
\begin_inset Formula $2\left|E\right|$
\end_inset

 צלעות שיכולות להיות צלעות קריטיות.
 לכן בכל איטרציה יש צלע קריטית מבין 
\begin_inset Formula $2\left|E\right|$
\end_inset

 אפשרויות, וזו מופיעה לכל היותר 
\begin_inset Formula $\frac{\left|V\right|+1}{2}$
\end_inset

, כלומר יש לכל היותר
\begin_inset Formula 
\[
\frac{\left|V\right|+1}{2}2\left|E\right|=\oo{\left|V\right|\cdot\left|E\right|}
\]

\end_inset

איטרציות.
\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Section
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
texorpdfstring{
\backslash
protect
\backslash
hypertarget{nis4}{סוף ההוכחה של מילר-רבין}}{סוף ההוכחה של מילר-רבין}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{link20}{לאלגוריתם והערות ראשונות לגביו}
\end_layout

\end_inset


\end_layout

\begin_layout Description
הגדרה מספר טבעי 
\begin_inset Formula $m$
\end_inset

 יקרא 
\bar under
מספר 
\lang english
Carmichael
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם 
\begin_inset Formula $m$
\end_inset

 אינו ראשוני, אבל לכל 
\begin_inset Formula $a$
\end_inset

 זר ל-
\begin_inset Formula $m$
\end_inset

 מתקיים 
\begin_inset Formula $a^{m-1}\equiv1\mod m$
\end_inset

.
\end_layout

\begin_layout Description
הערה מספרי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Charmichael
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נדירים מאוד.
\end_layout

\begin_layout Description
משפט אם 
\begin_inset Formula $n$
\end_inset

 אינו מספר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Carmichael
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אזי:
\end_layout

\begin_deeper
\begin_layout Enumerate
אם 
\begin_inset Formula $n$
\end_inset

 ראשוני, האלג' תמיד מחזיר 
\begin_inset Quotes eld
\end_inset

ראשוני
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $n$
\end_inset

 אינו ראשוני, האלג' יחזיר 
\begin_inset Quotes eld
\end_inset

לא ראשוני
\begin_inset Quotes erd
\end_inset

 בסיכוי לפחות 
\begin_inset Formula $1-\frac{1}{2^{t}}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
\begin_inset Formula $\;$
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
אם 
\begin_inset Formula $n$
\end_inset

 ראשוני אז כל מספר 
\begin_inset Formula $a$
\end_inset

 זר ל-
\begin_inset Formula $n$
\end_inset

 מקיים 
\begin_inset Formula $a^{n-1}\equiv1\mod n$
\end_inset

 ממשפט פרמה הקטן.
 לכן בכל האיטרציות 
\begin_inset Formula $f=1$
\end_inset

 והאלג' יחזיר 
\begin_inset Quotes eld
\end_inset

ראשוני
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Enumerate
נסמן 
\begin_inset Formula $B=\left\{ 1\leq a\leq n-1:a^{n}\not\equiv1\mod n\right\} $
\end_inset

 כלומר כל המספרים שהיו 
\begin_inset Quotes eld
\end_inset

מכשילים
\begin_inset Quotes erd
\end_inset

 את 
\begin_inset Formula $n$
\end_inset

 בבדיקת ראשוניות לפי משפט פרמה הקטן.
\end_layout

\begin_deeper
\begin_layout Standard
נוכיח כי 
\begin_inset Formula $\left|B\right|\geq\frac{n-1}{2}$
\end_inset

 ונקבל כי בכל איטרציה של האלג' 
\begin_inset Formula $f\neq1$
\end_inset

 בסיכוי לפחות 
\begin_inset Formula $\frac{1}{2}$
\end_inset

 ולכן הסיכוי שבכל האיטרציות יצא 
\begin_inset Formula $f=1$
\end_inset

 הוא לכל היותר 
\begin_inset Formula $\frac{1}{2^{t}}$
\end_inset

.
\end_layout

\begin_layout Standard
עבור 
\begin_inset Formula $Y=\left\{ y\in\left[n-1\right]:\gcd\left(y,n\right)\neq1\right\} $
\end_inset

 מתקיים 
\begin_inset Formula $\left[n-1\right]=\fldz_{n}^{*}\dot{\cup}Y$
\end_inset

.
\end_layout

\begin_layout Standard
לכל 
\begin_inset Formula $y\in Y$
\end_inset

 מתקיים 
\begin_inset Formula $\gcd\left(y^{n-1},n\right)=\gcd\left(y^{n-1}\mod n,n\right)>1$
\end_inset

 ולכן 
\begin_inset Formula $y^{n-1}\mod n\neq1$
\end_inset

 )כי יש לו מחלק גדול מ-
\numeric on
1
\numeric off
( כלומר 
\begin_inset Formula $y\in B$
\end_inset

, לכן 
\begin_inset Formula $Y\subseteq B$
\end_inset

.
\end_layout

\begin_layout Standard
עתה מספיק שנוכיח ש-
\begin_inset Formula $\left|B\cap\fldz_{n}^{*}\right|\geq\frac{\left|\fldz_{n}^{*}\right|}{2}$
\end_inset

 כי אם לפחות חצי מ-
\begin_inset Formula $\fldz_{n}^{*}$
\end_inset

 וכל 
\begin_inset Formula $Y$
\end_inset

 ב-
\begin_inset Formula $B$
\end_inset

 אז לפחות חצי מ-
\begin_inset Formula $\left[n-1\right]$
\end_inset

 ב-
\begin_inset Formula $B$
\end_inset

, או באותיות
\begin_inset Formula 
\[
\left|B\right|=\left|Y\right|+\left|B\cap\fldz_{n}^{*}\right|\ge\left|Y\right|+\frac{\left|Z_{n}^{*}\right|}{2}=\left(\left(n-1\right)-\left|\fldz_{n}^{*}\right|\right)+\frac{\left|\fldz_{n}^{*}\right|}{2}=n-1-\frac{\left|\fldz_{n}^{*}\right|}{2}\geq n-1-\frac{n-1}{2}=\frac{n-1}{2}
\]

\end_inset


\end_layout

\begin_layout Standard
נוכיח כי עבור
\begin_inset Formula 
\[
C=B\cap\fldz_{n}^{*}=\left\{ a\in\left[n-1\right]:\gcd\left(a,n\right)=1,a^{n-1}\not\equiv1\mod n\right\} 
\]

\end_inset

מתקיים 
\begin_inset Formula $\left|C\right|\geq\frac{\left|\fldz_{n}^{*}\right|}{2}$
\end_inset

.
\end_layout

\begin_layout Standard
מהיות 
\begin_inset Formula $n$
\end_inset

 לא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Carmichael
\lang hebrew
, קיים 
\begin_inset Formula $a$
\end_inset

 זר ל-
\begin_inset Formula $n$
\end_inset

 כך ש-
\begin_inset Formula $a^{n-1}\not\equiv1\mod n$
\end_inset

.
 נגדיר העתקה 
\begin_inset Formula $f_{a}:\fldz_{n}^{*}\to\fldz_{n}^{*}$
\end_inset

 ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $f_{a}\left(x\right)=ax\mod n$
\end_inset

.
 ראינו כי העתקה זו חחע
\begin_inset Quotes erd
\end_inset

ל.
 נראה כי היא מעבירה כל 
\begin_inset Formula $d\in\fldz_{n}^{*}\backslash C$
\end_inset

 ל-
\begin_inset Formula $C$
\end_inset

.
\end_layout

\begin_layout Standard
יהי 
\begin_inset Formula $d\in\fldz_{n}^{*}\backslash C$
\end_inset

.
 
\begin_inset Formula $a^{n-1}\equiv1\mod n$
\end_inset

 )הוא לא ב-
\begin_inset Formula $C$
\end_inset

( ולכן
\begin_inset Formula 
\[
\left(f_{a}\left(d\right)\right)^{n-1}\equiv\left(ad\right)^{n-1}=a^{n-1}\cdot d^{n-1}\equiv a^{n-1}\cdot1\not\equiv1\mod n
\]

\end_inset

ולכן 
\begin_inset Formula $f_{a}$
\end_inset

 מעבירה מ-
\begin_inset Formula $\fldz_{n}^{*}\backslash C$
\end_inset

 ל-
\begin_inset Formula $C$
\end_inset

.
 
\begin_inset Formula $f_{a}$
\end_inset

 חח
\begin_inset Quotes erd
\end_inset

ע ולכן 
\begin_inset Formula $\left|C\right|\geq\left|\fldz_{n}^{*}\backslash C\right|$
\end_inset

 ולכן 
\begin_inset Formula $\left|C\right|\geq\frac{\left|\fldz_{n}^{*}\right|}{2}$
\end_inset

.
\end_layout

\end_deeper
\end_deeper
\end_deeper
\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Section
שבוע 
\size larger

\begin_inset Formula $\mathbb{O}$
\end_inset


\size default
 | תזכורת מקורסים אחרים
\end_layout

\begin_layout Subsection
תרגול
\begin_inset CommandInset label
LatexCommand label
name "subsec:תרגול"

\end_inset


\end_layout

\begin_layout Standard
סקרנו מחדש אינדוקציה וחסמים אסימפטוטיים.
\end_layout

\begin_layout Description
הערה כשאנחנו מנתחים זמן ריצה של אלג' אנחנו סופרים את כמות הפעולות האלמנטריות
 שהאלג' מבצע.
 בתורת המספרים )כשהקלט הוא למשל מספר או כמות קבועה של מספרים(, הפעולות שנספור
 הן פעולות ביטיות.
\end_layout

\begin_layout Description
הערה בקורס נאמר כי אלגוריתם הוא יעיל אם הוא רץ בזמן פולינומיאלי בגודל הקלט.
\end_layout

\begin_layout Description
דוגמה פירוק לגורמים ראשוניים.
\end_layout

\begin_deeper
\begin_layout Description
קלט 
\begin_inset Formula $p_{1}^{m_{1}}\cdot\dots\cdot p_{l}^{m_{l}}=n\in\mathbb{N}$
\end_inset

.
\end_layout

\begin_layout Description
פלט 
\begin_inset Formula $L=\left\{ p_{1},\dots,p_{l}\right\} $
\end_inset

 המספרים הראשוניים שמרכיבים את 
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_layout Description
אלגוריתם
\end_layout

\begin_deeper
\begin_layout Enumerate
נאתחל 
\begin_inset Formula $L=\varnothing$
\end_inset

, 
\begin_inset Formula $r=n$
\end_inset

.
\end_layout

\begin_layout Enumerate
לכל 
\begin_inset Formula $2\leq i\leq\sqrt{n}$
\end_inset

:
\end_layout

\begin_deeper
\begin_layout Standard
אם 
\begin_inset Formula $i$
\end_inset

 מחלק את 
\begin_inset Formula $r$
\end_inset

:
\end_layout

\begin_layout Enumerate
נוסיף את 
\begin_inset Formula $i$
\end_inset

 ל-
\begin_inset Formula $L$
\end_inset

.
\end_layout

\begin_layout Enumerate
נמשיך לחלק את 
\begin_inset Formula $r$
\end_inset

 ב-
\begin_inset Formula $i$
\end_inset

 כל עוד אפשר.
\end_layout

\end_deeper
\begin_layout Enumerate
אם נשארנו עם 
\begin_inset Formula $r\neq1$
\end_inset

, נוסיף את 
\begin_inset Formula $r$
\end_inset

 ל-
\begin_inset Formula $L$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
זמן
\begin_inset Formula $\;$
\end_inset

ריצה בגלל שאנחנו רצים על מספר, גודל הקלט הוא 
\begin_inset Formula $k=\log k$
\end_inset

.
 סיבוכיות האלג' היא 
\begin_inset Formula $\ot{\sqrt{n}}$
\end_inset

 )שלב 
\begin_inset Formula $1,3$
\end_inset

 לוקחים 
\begin_inset Formula $\oo 1$
\end_inset

 ואילו שלב 
\begin_inset Formula $2$
\end_inset

 לוקח 
\begin_inset Formula $\ot{\sqrt{n}}$
\end_inset

( אבל 
\begin_inset Formula $\sqrt{n}=\sqrt{2^{k}}=\left(2^{k}\right)^{\frac{1}{2}}=2^{\frac{k}{2}}=\sqrt{2}^{k}$
\end_inset

 ולכן זמן הריצה הוא 
\begin_inset Formula $\om{\sqrt{2}^{k}}$
\end_inset

 שזה אקספוננציאלי ולכן הוא לא אופטימלי.
\end_layout

\end_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
האם יעיל?
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
זמן הריצה
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
גודל הקלט
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אלגו'
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
כן - פולינומיאלי עם 
\begin_inset Formula $n^{2}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\oo{n\log n}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $n$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
Merge Sort
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
כן - תת לינארי
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\ot{\log n}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $n$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
חיפוש בינארי
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
כן - 
\begin_inset Formula $\left|E\right|\log\left|E\right|\leq\left|E\right|^{2}\leq\left(\left|E\right|+\left|V\right|\right)^{2}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\oo{\left|E\right|\log\left|E\right|}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left|E\right|+\left|V\right|$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
קרוסקל
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
לא, כי אקספוננציאלי
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\om{\sqrt{n}}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $k=\log n$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
פירוק לראשוניים
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset

 
\end_layout

\begin_layout Section
שבוע 
\begin_inset Formula $\mathbb{I}$
\end_inset

 | מבוא ואלגוריתמים חמדניים
\end_layout

\begin_layout Subsection
הרצאה
\end_layout

\begin_layout Standard

\color lightgray
חלק א' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le11}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
איך נפתור בעיות אלגוריתמיות?
\end_layout

\begin_layout Itemize
אנחנו כבר יודעים מה הפתרון.
\end_layout

\begin_layout Itemize
רידוקציה למשהו שאנחנו יודעים.
\end_layout

\begin_layout Itemize
פתרון איטרטיבי תוך מיקסום של רווח מקומי.
\end_layout

\begin_layout Itemize
חלוקת הבעיה לבעיות קטנות יותר )הפרד ומשול(.
\end_layout

\begin_layout Itemize
שימוש באקראיות, לפעמים אנחנו יכולים לפתור באמצעות החלטה שרירותית באופן יעיל
 יותר מהחלטה מושכלת כלשהי.
\end_layout

\begin_layout Itemize
נחפש פתרון מקורב כשאי אפשר אחרת )בעיות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-קשות(.
\end_layout

\begin_layout Description
דוגמה נתונים 
\begin_inset Formula $n$
\end_inset

 מספרים שלמים 
\begin_inset Formula $a_{1},\dots,a_{n}$
\end_inset

.
 האם יש שניים שסכומם הוא 
\begin_inset Formula $2021$
\end_inset

?
\end_layout

\begin_deeper
\begin_layout Description
פתרון
\begin_inset Formula $\;$
\end_inset


\series bold
\numeric on
1
\family roman
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נעבור על כל הזוגות 
\begin_inset Formula $1\leq i<j\leq n$
\end_inset

 ונבדוק האם סכומם הוא 
\begin_inset Formula $2021$
\end_inset

.
 יש 
\begin_inset Formula ${n \choose 2}$
\end_inset

 זוגות ולכן זמן הריצה הוא 
\begin_inset Formula $\ot{n^{2}}$
\end_inset

.
\end_layout

\begin_layout Description
פתרון
\begin_inset Formula $\;$
\end_inset


\series bold
\numeric on
2
\family roman
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נמיין את המספרים בסדר עולה 
\begin_inset Formula $a_{i_{1}}\leq\dots\leq a_{i_{n}}$
\end_inset

 ולכל 
\begin_inset Formula $1\leq j\leq n$
\end_inset

 נבדוק האם 
\begin_inset Formula $2021-a_{i_{j}}$
\end_inset

 נמצא במערך באמצעות מיון בינארי.
 המיון יקח 
\begin_inset Formula $\ot{n\log n}$
\end_inset

 ונבצע 
\begin_inset Formula $n$
\end_inset

 פעולות חיפוש בינארי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\begin_inset Formula $\oo{\log n}$
\end_inset

( ולכן סה
\begin_inset Quotes erd
\end_inset

כ זמן הריצה הוא 
\begin_inset Formula $\ot{n\log n}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
הגדרה 
\bar under
אלגוריתם חמדני
\bar default
 בונה פתרון באופן איטרטיבי כאשר בכל שלב הוא ממקסם פונקציית רווח מקומית.
\end_layout

\begin_layout Description
הערה נבנה תאוריה כללית המאפשרת לזהות דוגמאות של בעיות אלגוריתמיות שניתן
 לפתור באמצעות אלגוריתם חמדן.
\end_layout

\begin_layout Standard

\size larger
בעיית התרמיל השברי
\end_layout

\begin_layout Description
סיפור
\begin_inset Formula $\;$
\end_inset

מסגרת גנב נכנס לחנות שבה יש מספר פריטים לכל פריט ערך ומשקל משלו.
 לגנב יש תרמיל עם משקל מירבי שהוא יכול לשים בו.
 הגנב מעוניין להכניס לתרמיל פריטים עם ערך כולל מקסימלי.
 הפריטים ניתנים לחלוקה )אפשר לקחת חצי פסנתר(.
\end_layout

\begin_layout Description
קלט 
\begin_inset Formula $n$
\end_inset

 הוא מספר הפריטים בחנות, 
\begin_inset Formula $W\geq0$
\end_inset

 הוא המשקל המירבי של התרמיל, רשימה של 
\begin_inset Formula $n$
\end_inset

 זוגות של מספרים אי שליליים
\begin_inset Newline linebreak
\end_inset


\begin_inset Formula $\left(v_{1},w_{1}\right),\dots,\left(v_{n},w_{n}\right)$
\end_inset

 המייצגים את הערך והמשקל של כל פריט בהתאמה.
\end_layout

\begin_layout Description
פלט רשימה של 
\begin_inset Formula $n$
\end_inset

 מספרים 
\begin_inset Formula $0\leq x_{1},\dots,x_{n}\leq1$
\end_inset

 כאשר 
\begin_inset Formula $x_{i}$
\end_inset

 הוא חלקיות הפריט ה-
\begin_inset Formula $i$
\end_inset

, המקיימת את האילוץ 
\begin_inset Formula $\sum\limits _{i=1}^{n}x_{i}w_{i}\leq W$
\end_inset

 וכך ש-
\begin_inset Formula $\sum\limits _{i=1}^{n}x_{i}v_{i}$
\end_inset

 מקסימלי.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $n=3$
\end_inset

, 
\begin_inset Formula $W=50$
\end_inset

, 
\begin_inset Formula $\left(120,30\right),\left(100,20\right),\left(60,10\right)$
\end_inset

.
\end_layout

\begin_layout Description
פתרון
\begin_inset Formula $\;$
\end_inset


\series bold
\numeric on
1
\numeric off
 
\series default

\begin_inset Formula $x_{1}=x_{2}=1,x_{3}=0$
\end_inset

 הסטודנטית המשקיעה תבדוק שאכן זהו פתרון מקסימלי המקיים את אילוץ המשקל.
\end_layout

\begin_layout Description
פתרון
\begin_inset Formula $\;$
\end_inset


\series bold
\numeric on
2
\family roman
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נחשב לכל פריט את הערך הסגולי שלו )ערך ליחידת משקל( ומשם נבחר את אלו בעלי
 הערך הסגולי הגבוה ביותר עד שיגמר המקום )המשקל(.
 במקרה הזה, 
\begin_inset Formula $r_{1}=4,r_{2}=5,r_{3}=6$
\end_inset

.
 ראשית נבחר 
\begin_inset Formula $x_{3}=1$
\end_inset

 וגם 
\begin_inset Formula $x_{2}=1$
\end_inset

 ואז נשאר לנו 
\begin_inset Formula $x_{1}=\frac{50-20-10}{60}=\frac{2}{3}$
\end_inset

 שזהו גם פתרון אופטימלי.
\end_layout

\begin_layout Description
פתרון
\begin_inset Formula $\;$
\end_inset

כללי
\end_layout

\begin_deeper
\begin_layout Description
מקרה 
\begin_inset Formula $\mathbb{I}$
\end_inset

 - 
\begin_inset Formula $\sum\limits _{i=1}^{n}w_{i}\leq W$
\end_inset

.
 במקרה כזה 
\begin_inset Formula $x_{1}=\dots=x_{n}=1$
\end_inset

 הוא פתרון חוקי ואופטימלי.
\end_layout

\begin_layout Description
מקרה 
\begin_inset Formula $\mathbb{II}$
\end_inset

 - 
\begin_inset Formula $\sum\limits _{i=1}^{n}w_{i}>W$
\end_inset

.
 נחשב לכל 
\begin_inset Formula $1\le i\leq n$
\end_inset

 את הערך סגולי של הפריט ה-
\begin_inset Formula $i$
\end_inset

, 
\begin_inset Formula $r_{i}=\frac{v_{i}}{w_{i}}$
\end_inset

 ונמיין את הפריטים בסדר יורד לפי הערכים הסגוליים ונניח בה
\begin_inset Quotes erd
\end_inset

כ 
\begin_inset Formula $r_{1}\geq r_{2}\geq\dots\geq r_{n}$
\end_inset

.
 קיים אינדקס 
\begin_inset Formula $0\leq t\leq n-1$
\end_inset

 כך ש- 
\begin_inset Formula $\sum\limits _{i=1}^{t}w_{i}\leq W$
\end_inset

 אבל 
\begin_inset Formula $\sum\limits _{i=1}^{t+1}w_{i}>W$
\end_inset

.
 נגדיר
\begin_inset Formula 
\[
x_{1}=\dots=x_{t}=1,\;\;\;x_{t+1}=\frac{W-\sum\limits _{i=1}^{t}w_{i}}{w_{t+1}},\;\;\;x_{t+2}=\dots=x_{n}=0
\]

\end_inset


\end_layout

\end_deeper
\begin_layout Description
טענה )נכונות( האלגוריתם מחזיר פתרון חוקי ואופטימלי של הבעיה.
\end_layout

\begin_layout Proof

\bar under
חוקיות:
\bar default
 ברור כי 
\begin_inset Formula $0\leq x_{1}=\dots=x_{t}=1\leq1$
\end_inset

 וגם 
\begin_inset Formula $0\leq x_{t+2}=\dots=x_{n}=0\leq1$
\end_inset

 ואילו
\family typewriter

\begin_inset Formula 
\[
0=\frac{\sum\limits _{i=1}^{t}w_{i}-\sum\limits _{i=1}^{t}w_{i}}{w_{t+1}}\leq x_{t+1}=\frac{W-\sum\limits _{i=1}^{t}w_{i}}{w_{t+1}}<\frac{\sum\limits _{i=1}^{t+1}w_{i}-\sum\limits _{i=1}^{t}w_{i}}{w_{t+1}}=\frac{w_{t+1}}{w_{t+1}}=1
\]

\end_inset


\end_layout

\begin_layout Proof
ומבחינת אילוץ המשקל,
\begin_inset Formula 
\[
\sum_{i=1}^{n}x_{i}w_{i}=\sum_{i=1}^{t}1\cdot w_{i}+x_{t+1}w_{t+1}+\sum_{i=t+2}^{n}0\cdot w_{i}=\sum_{I=1}^{t}w_{i}+\frac{W-\sum\limits _{i=1}^{t}w_{i}}{w_{t+1}}\cdot w_{t+1}=\sum_{I=1}^{t}w_{i}+\left(W-\sum_{I=1}^{t}w_{i}\right)=W
\]

\end_inset


\end_layout

\begin_layout Proof

\bar under
אופטימליות
\bar default
: יהי 
\begin_inset Formula $y_{1},\dots,y_{n}$
\end_inset

 פתרון חוקי כלשהו לבעיה.
 נוכיח כי 
\begin_inset Formula $\sum\limits _{i=1}^{n}x_{i}v_{i}\geq\sum\limits _{i=1}^{n}y_{i}v_{i}$
\end_inset

.
 מספיק שנוכיח כי 
\begin_inset Formula $\sum\limits _{i=1}^{n}x_{i}v_{i}-\sum\limits _{i=1}^{n}y_{i}v_{i}\ge0$
\end_inset

.
\begin_inset Formula 
\begin{align*}
\sum_{i=1}^{n}\left(x_{i}-y_{i}\right)v_{i} & =\sum_{i=1}^{n}\left(x_{i}-y_{i}\right)w_{i}r_{i}\\
 & =\sum_{i=1}^{t}\left(x_{i}-y_{I}\right)w_{i}r_{i}+\left(x_{t+1}-y_{t+1}\right)w_{t+1}r_{t+1}+\sum_{i=t+2}^{n}\left(x_{i}-y_{i}\right)w_{i}r_{i}\\
 & \geq\sum_{i=1}^{t}\left(\desc{x_{i}}1-\desc{y_{i}}{\leq1}\right)w_{i}\desc{r_{t+1}}{\leq r_{i}}+\left(x_{t+1}-y_{t+1}\right)w_{t+1}r_{t+1}+\sum_{j=t+2}^{n}\left(\desc{x_{j}}0-\desc{y_{j}}{\geq0}\right)w_{j}\desc{r_{t+1}}{\geq r_{j}}\\
 & =r_{t+1}\sum_{i=1}^{n}\left(x_{i}-y_{i}\right)w_{i}\\
 & =r_{t+1}\left(\sum_{i=1}^{n}x_{i}w_{i}-\sum_{i=1}^{n}y_{i}w_{i}\right)\\
 & =r_{t+1}\left(W-\desc{\sum_{i=1}^{n}y_{i}w_{i}}{\leq W}\right)\\
 & \geq0
\end{align*}

\end_inset


\end_layout

\begin_layout Standard

\color lightgray
חלק ב' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le12}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Description
פסאודו
\begin_inset Formula $\;$
\end_inset

קוד ננסח פורמלית פסאודו קוד לאלג' שלנו לפתרון בעיית התרמיל השברי.
\end_layout

\begin_deeper
\begin_layout Standard

\numeric on
0
\numeric off
.
 
\bar under
עיבוד מידע מוקדם
\bar default
: נחשב את הערכים הסגוליים של הפריטים ונמיין אותם בסדר יורד של הערכים.
 )
\begin_inset Formula $\ot{n\log n}$
\end_inset

(
\end_layout

\begin_layout Standard

\numeric on
1
\numeric off
.
 
\bar under
אתחול
\bar default
: 
\begin_inset Formula $K=\varnothing$
\end_inset

.
 )
\begin_inset Formula $\oo 1$
\end_inset

(
\end_layout

\begin_layout Standard

\numeric on
2
\numeric off
.
 
\bar under
איטרציה
\bar default
: נעבור על הפריטים לפי הסדר ובכל שלב נכניס כמה שיותר מהפריט שהגענו אליו.
 )
\begin_inset Formula $\oo n$
\end_inset

(
\end_layout

\begin_layout Standard

\numeric on
3
\numeric off
.
 
\bar under
עצירה
\bar default
: כאשר התרמיל מתמלא )או כשנגמרים הפריטים( נעצור ונחזיר את 
\begin_inset Formula $K$
\end_inset

.
 )
\begin_inset Formula $\oo 1$
\end_inset

(
\end_layout

\end_deeper
\begin_layout Description
זמן
\begin_inset Formula $\;$
\end_inset

ריצה סה
\begin_inset Quotes erd
\end_inset

כ 
\begin_inset Formula $\ot{n\log n+n}=\ot{n\log n}$
\end_inset

.
\end_layout

\begin_layout Standard

\size larger
עקרונות פורמליים לאלגוריתמים חמדניים ולמת החלפה
\end_layout

\begin_layout Standard
נפתור בעיות אפוטימיזציה.
 כל בעיה כזו מגדירה את מרחב הפתרונות החוקיים של 
\begin_inset Formula $\mathcal{S}$
\end_inset

 שלה פונקציית ערך 
\begin_inset Formula $f:\mathcal{S}\to\mathbb{R}_{+}$
\end_inset

 ונרצה למצוא 
\begin_inset Formula $s^{*}\in\mathcal{S}$
\end_inset

 כך ש-
\begin_inset Formula $f\left(s^{*}\right)$
\end_inset

 מקסימלית )מינימלית(.
 נחפש דרך איטרטיבית לבניית פתרון אופטימלי כשבכל שלב האלג' בוחר בחירה חמדנית
 )למקסם רווח מקומי(.
 כדי להוכיח שדרך כזו תביא אותנו לפתרון אופטימלי, נשתמש בעיקרון של שיפורים
 מקומיים, כלומר, נראה שאם באיטרציה מסויימת האלג' לא עושה בחירה חמדנית הוא
 טועה )למשל ניתן להחליף את בחירתו בבחירה חמדנית ורק לשפרו(.
 הטענה שאומרת שבכל שלב כדאי לאלג' לבצע בחירה חמדנית נקראת 
\bar under
למת החלפה
\bar default
.
 למת החלפה מפרמלת את העיקרון החמדני.
\end_layout

\begin_layout Description
טענה )למת ההחלפה לבעית התרמיל השברי( יהי 
\begin_inset Formula $y=\left(y_{1},\dots,y_{n}\right)$
\end_inset

 פתרון חוקי לטענה )כאשר ה-
\begin_inset Formula $n$
\end_inset

-יה כבר ממוינת בסדר יורד(.
 נניח כי קיים אינדקס 
\begin_inset Formula $1\leq j\leq n$
\end_inset

 כך ש-
\begin_inset Formula $y_{j}<1$
\end_inset

 )החלקיות לא מלאה( וכך ש-
\begin_inset Formula $\sum\limits _{i=1}^{j}y_{i}w_{i}<W$
\end_inset

 אז קיים פתרון חוקי 
\begin_inset Formula $z=\left(z_{1},\dots,z_{n}\right)$
\end_inset

 כך ש-
\begin_inset Formula $z_{1}=y_{1},\dots,z_{j-1}=y_{j-1}$
\end_inset

 כך ש-
\begin_inset Formula $z_{j}>y_{j}$
\end_inset

 וכך ש-
\begin_inset Formula $\sum\limits _{i=1}^{n}z_{i}v_{i}>\sum\limits _{i=1}^{n}y_{i}v_{i}$
\end_inset

 )במילים אחרות 
\begin_inset Formula $y$
\end_inset

 לא אופטימלי(.
\end_layout

\begin_layout Proof
נניח בה
\begin_inset Quotes erd
\end_inset

כ כי הערכים הסגוליים של כל הפריטים שונים זה מזה, כי אם יש שני פריטים עם
 ערך סגולי נוכל לאחד אותם לפריט אחד ולקבל בעיה שקולה.
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\sum\limits _{i=1}^{n}y_{i}w_{i}<W$
\end_inset

.
 במקרה זה נוכל להגדיל את החלקיות של 
\begin_inset Formula $y_{j}$
\end_inset

 באופן שלא יעבור את המשקל )הרי 
\begin_inset Formula $y_{j}<1$
\end_inset

( ולקבל באופן טריוויאלי פתרון אופטימלי יותר.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\sum\limits _{i=1}^{n}y_{i}w_{i}=W$
\end_inset

.
 לפי ההנחה 
\begin_inset Formula $\sum\limits _{i=1}^{j}y_{i}w_{i}<W$
\end_inset

 ולכן קיים 
\begin_inset Formula $k>j$
\end_inset

 כך ש-
\begin_inset Formula $y_{k}>0$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
נגדיר 
\begin_inset Formula $d_{j}=\left(1-y_{j}\right)w_{j}$
\end_inset

 הוא המשקל המקסימלי שאפשר להכניס עדיין ל-
\begin_inset Formula $j$
\end_inset

 )הפריט היקר יותר ליחידת משקל( ו-
\begin_inset Formula $d_{k}=y_{k}w_{k}$
\end_inset

 הוא המשקל המסקימלי שאפשר להוציא מ-
\begin_inset Formula $k$
\end_inset

 מהתרמיל )הפריט הזול יותר ליחידת משקל( ולבסוף 
\begin_inset Formula $0<d=\min\left\{ d_{j},d_{k}\right\} $
\end_inset

 המשקל שלוקח לא יותר משאפשר מ-
\begin_inset Formula $k$
\end_inset

 ומכניס לא יותר משנשאר ל-
\begin_inset Formula $j$
\end_inset

.
\end_layout

\begin_layout Standard
נגדיר פתרון חדש 
\begin_inset Formula $z$
\end_inset

 באופן הבא.
\begin_inset Formula 
\[
z_{k}=y_{k}-\frac{d}{w_{k}},\;\;z_{j}=y_{j}+\frac{d}{w_{j}},\;\;\forall i\neq j,k,z_{i}=y_{i}
\]

\end_inset

נוכיח כי 
\begin_inset Formula $z$
\end_inset

 הוא פתרון חוקי וטוב יותר מ-
\begin_inset Formula $y$
\end_inset

.
 
\begin_inset Formula $\forall i\neq j,k$
\end_inset

 מתקיים 
\begin_inset Formula $0\leq z_{i}=y_{i}\leq1$
\end_inset

.
 עבור 
\begin_inset Formula $i=j$
\end_inset

,
\begin_inset Formula 
\[
0\leq y_{j}<y_{j}+\frac{d}{w_{j}}=z_{j}\leq y_{j}+\frac{d_{j}}{w_{j}}=y_{j}+\frac{\left(1-y_{j}\right)w_{j}}{w_{j}}=1
\]

\end_inset

בנוסף 
\begin_inset Formula $0\leq z_{k}\leq1$
\end_inset

 )מההגדרה(.
\begin_inset Formula 
\[
\sum_{i=1}^{n}z_{i}w_{i}-\sum_{i=1}^{n}y_{i}w_{i}=\sum_{i=1}^{n}\left(z_{i}-y_{i}\right)w_{i}=\left(z_{j}-y_{j}\right)w_{j}+\left(z_{k}-y_{k}\right)w_{k}=\frac{d}{w_{j}}w_{j}-\frac{d}{w_{k}}w_{k}=d-d=0
\]

\end_inset

ולכן
\begin_inset Formula 
\[
\sum_{i=1}^{n}z_{i}w_{i}=\sum_{i=1}^{n}y_{i}w_{i}=W
\]

\end_inset

נוכיח כי 
\begin_inset Formula $\sum\limits _{i=1}^{n}z_{i}v_{i}>\sum\limits _{i=1}^{n}y_{i}v_{i}$
\end_inset

.
\begin_inset Formula 
\[
\sum_{i=1}^{n}z_{i}v_{i}-\sum_{i=1}^{n}y_{i}v_{i}=\sum_{i=1}^{n}\left(z_{i}-y_{i}\right)v_{i}=\left(z_{j}-y_{j}\right)v_{j}+\left(z_{k}-y_{k}\right)v_{k}=\frac{d}{w_{j}}v_{j}-\frac{d}{w_{k}}v_{k}=dr_{j}-dr_{k}=d\left(r_{j}-r_{k}\right)\overset{k>j}{>}0
\]

\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Subsection
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
texorpdfstring{
\backslash
protect
\backslash
hypertarget{ta1}{תרגול}}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
בעיית תא הדלק הקטן
\end_layout

\begin_layout Description
סיפור
\begin_inset Formula $\;$
\end_inset

רקע יש לנו כלי רכב עם תא דלק קטן.
 נרצה למצוא מסלול עם כמה שפחות עצירות מהמקור ליעד.
\end_layout

\begin_layout Description
קלט 
\begin_inset Formula $N\in\mathbb{N}$
\end_inset

 שהוא מס' הק
\begin_inset Quotes erd
\end_inset

מ שאפשר לנסוע עם מיכל דלק מלא, 
\begin_inset Formula $a_{1}<\dots<a_{n}\in\mathbb{N}$
\end_inset

 שהם תחנות הדלק לפי הסדר )
\begin_inset Formula $a_{1}$
\end_inset

 נק' המוצא ו-
\begin_inset Formula $a_{n}$
\end_inset

 נקודת היעד( המקיימות 
\begin_inset Formula $a_{i+1}-a_{i}\leq N$
\end_inset

.
\end_layout

\begin_layout Description
פלט 
\begin_inset Formula $\left(b_{1},\dots,b_{m}\right)$
\end_inset

 כך ש-
\begin_inset Formula $b_{i}\in\left\{ a_{j}\right\} $
\end_inset

 באורך מינימלי ותקיים את התנאים הבאים: 
\begin_inset Formula $b_{1}=a_{1},b_{m}=a_{n}$
\end_inset

 ו-
\begin_inset Formula $b_{i+1}-b_{i}\leq N$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $a=0,1,7,9,16,17,20$
\end_inset

, 
\begin_inset Formula $N=10$
\end_inset

 במקרה זה 
\begin_inset Formula $b^{*}=\left(0,9,17,20\right),\left(0,7,17,20\right),\left(0,9,16,20\right),\left(0,7,16,20\right)$
\end_inset

 הם פתרונות אופטימליים.
\end_layout

\begin_layout Description
פסאודו-קוד 
\end_layout

\begin_deeper
\begin_layout Enumerate

\bar under
אתחול
\bar default
: 
\begin_inset Formula $B=\left(a_{1}\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
איטרציה
\bar default
: נעבור על כל התחנות ונוסיף את 
\begin_inset Formula $a_{i}$
\end_inset

 ל-
\begin_inset Formula $B$
\end_inset

 אם מתקיים אחד מהתנאים הבאים:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $a_{i}=a_{n}$
\end_inset

.
\end_layout

\begin_layout Enumerate
אם אין מספיק דלק כדי להגיע לתחנה 
\begin_inset Formula $a_{i+1}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate

\bar under
עצירה
\bar default
: אם 
\begin_inset Formula $a_{i}=a_{n}$
\end_inset

 נעצור ונחזיר את 
\begin_inset Formula $B$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
טענה האלג' שהצגנו מחזיר פתרון חוקי.
\end_layout

\begin_layout Proof
אתחלנו 
\begin_inset Formula $B=\left(a_{1}\right)$
\end_inset

 ולכן 
\begin_inset Formula $b_{1}=a_{1}$
\end_inset

 כנדרש.
 עברנו על כל התחנות והוספנו את 
\begin_inset Formula $a_{i}$
\end_inset

 אם 
\begin_inset Formula $a_{i}=a_{n}$
\end_inset

 וסיימנו ולכן 
\begin_inset Formula $b_{m}=a_{n}$
\end_inset

.
\end_layout

\begin_layout Proof
אנחנו מוסיפים תחנה 
\begin_inset Formula $a_{i}$
\end_inset

 ל-
\begin_inset Formula $B$
\end_inset

 רק אם אנחנו יכולים להגיע אליה מהתחנה האחרונה בה עצרנו ולכן מתקיים 
\begin_inset Formula $b_{i}-b_{i-1}\leq N$
\end_inset

.
\end_layout

\begin_layout Description
טענת
\begin_inset Formula $\;$
\end_inset

עזר 
\begin_inset Formula $\forall k\in\left[n\right]$
\end_inset

 קיים פתרון אופטימלי 
\begin_inset Formula $C$
\end_inset

 שמסכים עם הפתרון החמדן על 
\begin_inset Formula $k$
\end_inset

 האיברים הראשונים, כלומר קיים פתרון חוקי מהצורה 
\begin_inset Formula $C=\left(b_{1},\dots,b_{k},c_{k+1},\dots,c_{m'}\right)$
\end_inset

.
\end_layout

\begin_layout Proof
נוכיח באינדוקציה על 
\begin_inset Formula $k$
\end_inset

.
\end_layout

\begin_layout Proof
בסיס )
\begin_inset Formula $k=1$
\end_inset

(: כל פתרון חוקי מתחיל ב-
\begin_inset Formula $a_{1}=b_{1}$
\end_inset

 ובפרט פתרון אופטימלי.
\end_layout

\begin_layout Proof
צעד )
\begin_inset Formula $k-1\to k$
\end_inset

(: נוכיח כי 
\begin_inset Formula $C'=\left(b_{1},\dots,b_{k},c_{k+1},\dots,c_{m'}\right)$
\end_inset

 הוא פתרון חוקי ואופטימלי.
\end_layout

\begin_layout Proof
חוקיות: 
\begin_inset Formula $b_{1}=a_{1}$
\end_inset

 כי 
\begin_inset Formula $B$
\end_inset

 חוקי ואילו 
\begin_inset Formula $c_{m'}=a_{n}$
\end_inset

 מה
\begin_inset Quotes erd
\end_inset

א על 
\begin_inset Formula $C$
\end_inset

.
 מחוקיות 
\begin_inset Formula $B$
\end_inset

 מתקיים 
\begin_inset Formula $b_{i}-b_{i-1}\leq N$
\end_inset

 עבור 
\begin_inset Formula $1\le i\leq k$
\end_inset

 ואילו מחוקיות 
\begin_inset Formula $C$
\end_inset

 )ה
\begin_inset Quotes erd
\end_inset

א( מתקיים 
\begin_inset Formula $c_{i}-c_{i-1}\leq N$
\end_inset

 עבור 
\begin_inset Formula $k+1\leq i\leq m$
\end_inset

.
 נשאר להראות כי 
\begin_inset Formula $c_{k+1}-b_{k}\leq N$
\end_inset

.
 מאופן פעולת האלג' החמדן מתקיים 
\begin_inset Formula $b_{k}\geq c_{k}$
\end_inset

 )כי אם עצרנו ב-
\begin_inset Formula $b_{k-1}$
\end_inset

 האלג' החמדן יבחר את התחנה הרחקוה ביותר שהוא עדיין יכול ליסוע אליה( ולכן
 
\begin_inset Formula $c_{k+1}-b_{k}\leq c_{k+1}-c_{k}\le N$
\end_inset

.
\end_layout

\begin_layout Proof
אופטימליות: 
\begin_inset Formula $\left|C\right|=\left|C'\right|$
\end_inset

 ולכן בעזרת ה
\begin_inset Quotes erd
\end_inset

א 
\begin_inset Formula $C$
\end_inset

 אופטימלי ולכן גם 
\begin_inset Formula $C'$
\end_inset

.
\end_layout

\begin_layout Description
טענה האלג' שהצגנו מחזיר פתרון אופטימלי, כלומר, לכל פתרון חוקי 
\begin_inset Formula $B'$
\end_inset

 מתקיים 
\begin_inset Formula $\left|B\right|\leq\left|B'\right|$
\end_inset

.
\end_layout

\begin_layout Proof
עבור 
\begin_inset Formula $k=m$
\end_inset

 נקבל כי קיים פתרון אופטימלי 
\begin_inset Formula $C=\left(b_{1},\dots,b_{m},c_{m+1},\dots,c_{m'}\right)$
\end_inset

.
 אבל בגלל שהוספת איברים לפתרון בהכרח פוגעת באופטימליות נקבל כי 
\begin_inset Formula $C$
\end_inset

 בהכרח מסתיים ב-
\begin_inset Formula $b_{m}$
\end_inset

, ולכן 
\begin_inset Formula $C=B$
\end_inset

 הוא פתרון אופטימלי.
\end_layout

\begin_layout Standard

\size larger
סכימת הוכחת נכונות אלג' חמדן
\end_layout

\begin_layout Enumerate
הוכחת חוקיות.
\end_layout

\begin_layout Enumerate
הוכחת אופטימליות:
\end_layout

\begin_deeper
\begin_layout Enumerate
נטען טענת עזר כי קיים פתרון אופטימלי המסכים עם הפתרון החמדן על 
\begin_inset Formula $k$
\end_inset

 איבריו הראשונים, 
\begin_inset Formula $\forall k\in\left[\left|B\right|\right]$
\end_inset

.
\end_layout

\begin_layout Enumerate
נוכיח את טענת העזר באינדוקציה.
 בצעד האינדוקציה נסתכל על הפתרון 
\begin_inset Formula $C$
\end_inset

 המסכים עם הפתרון 
\begin_inset Formula $B$
\end_inset

 על 
\begin_inset Formula $k-1$
\end_inset

 איבריו הראשונים )מה
\begin_inset Quotes erd
\end_inset

א הוא חוקי ואופטימלי( ועל הפתרון 
\begin_inset Formula $C'$
\end_inset

 המסכים עם הפתרון 
\begin_inset Formula $B$
\end_inset

 על 
\begin_inset Formula $k$
\end_inset

 איבריו הראשונים ונוכיח כי 
\begin_inset Formula $C'$
\end_inset

 הוא פתרון חוקי ואופטימלי.
\end_layout

\begin_layout Enumerate
נסיק כי עבור 
\begin_inset Formula $k=m$
\end_inset

 קיים פתרון אופטימלי המכיל את הפתרון החמדן 
\begin_inset Formula $B$
\end_inset

 ולכן 
\begin_inset Formula $B$
\end_inset

 אופטימלי.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
מציאת 
\begin_inset Formula $MST$
\end_inset


\end_layout

\begin_layout Description
קלט גרף ממושקל לא מכוון.
\end_layout

\begin_layout Description
פלט 
\begin_inset Formula $MST$
\end_inset

 על הגרף.
\end_layout

\begin_layout Description
פסאודו-קוד האלג' של קרוסקל.
\end_layout

\begin_deeper
\begin_layout Enumerate

\bar under
עיבוד מוקדם
\bar default
: נמיין את צלעות הגרף בסדר עולה של משקלן.
\end_layout

\begin_layout Enumerate

\bar under
אתחול
\bar default
: 
\begin_inset Formula $T=\varnothing$
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
איטרציה
\bar default
: נעבור על הצלעות ונוסיף את הצלע רק אם היא לא סוגרת מעגל ב-
\begin_inset Formula $T$
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
עצירה
\bar default
: כשעברנו על כל הצלעות נעצור ונחזיר את 
\begin_inset Formula $T$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
טענה האלג' של קרוסקל מחזיר עץ פורש )הוכחה בתרגיל בית(.
\end_layout

\begin_layout Description
טענת
\begin_inset Formula $\;$
\end_inset

עזר נסמן 
\begin_inset Formula $t_{1},\dots,t_{\left|V\right|-1}$
\end_inset

 הצלעות ב-
\begin_inset Formula $T$
\end_inset

 לפי סדר ההכנסה.
 
\begin_inset Formula $\forall k\in\left|V\right|-1$
\end_inset

 קיים פתרון אופטימלי 
\begin_inset Formula $S$
\end_inset

 שמקיים 
\begin_inset Formula $T_{k}=\left\{ t_{1},\dots,t_{k}\right\} \subseteq S$
\end_inset

.
\end_layout

\begin_layout Proof
נוכיח באינדוקציה על 
\begin_inset Formula $k$
\end_inset

 הצלעות הראשונות.
\end_layout

\begin_layout Proof
בסיס )
\begin_inset Formula $k=0$
\end_inset

(: כל פתרון חוקי בהכרח מכיל את 
\begin_inset Formula $T_{9}=\varnothing$
\end_inset

 ובפרט פתרון אופטימלי.
\end_layout

\begin_layout Proof
צעד )
\begin_inset Formula $k-1\to k$
\end_inset

(: נסתכל על הגרף 
\begin_inset Formula $S\cup\left\{ t_{k}\right\} $
\end_inset

, אם 
\begin_inset Formula $t_{k}\in S$
\end_inset

 סיימנו.
 אחרת, בגלל ש-
\begin_inset Formula $S$
\end_inset

 הוא עץ פורש, בהכרח קיים מעגל ב-
\begin_inset Formula $S\cup\left\{ t_{k}\right\} $
\end_inset

 ובהכרח אחת צלעות המעגל אינה נמצאת ב-
\begin_inset Formula $T$
\end_inset

 כי אחרת היינו מקבלים מעגל ב-
\begin_inset Formula $T$
\end_inset

 סתירה לחוקיות שלו.
 נסמן צלע זו ב-
\begin_inset Formula $e$
\end_inset

.
 נסתכל על 
\begin_inset Formula $S'=S\cup\left\{ t_{k}\right\} \backslash\left\{ e\right\} $
\end_inset

.
 נוכיח כי 
\begin_inset Formula $S'$
\end_inset

 הוא פתרון חוקי ואופטימלי.
\end_layout

\begin_layout Proof
חוקיות: הוספנו צלע לעץ פורש ואז הסרנו צלע מהמעגל שנוצר ולכן אנחנו שוב עם
 עץ פורש.
\end_layout

\begin_layout Proof
אופטימליות: נראה כי 
\begin_inset Formula $w\left(e\right)=w\left(t_{k}\right)$
\end_inset

 ומכך נסיק כי 
\begin_inset Formula $w\left(S'\right)=w\left(S\right)$
\end_inset

 ולכן 
\begin_inset Formula $S'$
\end_inset

 יהיה אופטימלי גם הוא.
\end_layout

\begin_layout Proof
נניח בשלילה כי 
\begin_inset Formula $w\left(t_{k}\right)>w\left(e\right)$
\end_inset

.
 לפי אופי פעולת האלג' החמדן, 
\begin_inset Formula $e$
\end_inset

 הייתה אמורה להתווסף ל-
\begin_inset Formula $T$
\end_inset

 אך זה לא קרה כי היא סגרה מעגל עם 
\begin_inset Formula $\left\{ t_{1},\dots,t_{k-1}\right\} $
\end_inset

 אבל 
\begin_inset Formula $\left\{ t_{1},\dots,t_{k-1},e\right\} \subseteq S$
\end_inset

 פתרון חוקי ולכן עץ סתירה.
\end_layout

\begin_layout Proof
נניח בשלילה כי 
\begin_inset Formula $w\left(t_{k}\right)<w\left(e\right)$
\end_inset

 לכן 
\begin_inset Formula $w\left(S'\right)=w\left(S\right)+w\left(t_{k}\right)-w\left(e\right)<w\left(S\right)$
\end_inset

 ולכן 
\begin_inset Formula $S$
\end_inset

 לא אופטימלי סתירה.
\end_layout

\begin_layout Proof
לכן 
\begin_inset Formula $w\left(t_{k}\right)=w\left(e\right)$
\end_inset

 ולכן 
\begin_inset Formula $S'$
\end_inset

 אופטימלי.
\end_layout

\begin_layout Description
מסקנה קיים פתרון אופטימלי 
\begin_inset Formula $S$
\end_inset

 שמקיים 
\begin_inset Formula $T\subseteq S$
\end_inset

.
 אם נוסיף צלעות ל-
\begin_inset Formula $T$
\end_inset

 אז יסגר מעגל כי 
\begin_inset Formula $T$
\end_inset

 הוא עץ פורש ולכן 
\begin_inset Formula $T=S$
\end_inset

 הוא פתרון אופטימלי.
\end_layout

\begin_layout Standard

\size larger
בעיית החזרת העודף
\end_layout

\begin_layout Description
קלט 
\begin_inset Formula $k\in\mathbb{N}$
\end_inset

 סכום שאנחנו רוצים לפרוט ו-
\begin_inset Formula $c=\left(c_{1},\dots,c_{n}\right)\in\mathbb{N}$
\end_inset

 מטבעות באמצעותם נפרוט.
\end_layout

\begin_layout Description
פלט פריטה של 
\begin_inset Formula $k$
\end_inset

 עם מס' מינימלי של מטבעות.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $c=\left\{ 1,2,5,10\right\} ,k=23$
\end_inset

, 
\begin_inset Formula $\left(10,10,2,1\right)$
\end_inset

.
\end_layout

\begin_layout Description
פסאודו-קוד נציע אלג' חמדן: בכל שלב ניקח את המטבע הכי גדול שקטן מהשארית ונוסיף
 אותו לפריטה.
\end_layout

\begin_layout Description
דוגמה
\begin_inset Formula $\;$
\end_inset

נגדית עבור 
\begin_inset Formula $c=\left\{ 1,3,4\right\} ,k=6$
\end_inset

, האלג' יפרוט ל-
\begin_inset Formula $\left\{ 4,1,1\right\} $
\end_inset

 ואילו הפתרון האופטימלי הוא 
\begin_inset Formula $\left\{ 3,3\right\} $
\end_inset

.
\end_layout

\begin_layout Description
מסקנה לא כל בעיה ניתן לפתור באמצעות אלג' חמדן!
\end_layout

\begin_layout Section
שבוע 
\begin_inset Formula $\mathbb{II}$
\end_inset

 | עוד דוגמאות לאלגוריתמים חמדניים
\end_layout

\begin_layout Subsection
הרצאה
\end_layout

\begin_layout Standard

\color lightgray
חלק א' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le21}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Description
משפט הפתרון המוחזר ע
\begin_inset Quotes erd
\end_inset

י האלג' החמדן לבעיית התרמיל השברי הינו פתרון אופטימלי.
\end_layout

\begin_layout Proof
לבעיה זו יש פתרון אופטימלי.
 אנחנו מחפשים מקסימום של פ' הערך 
\begin_inset Formula $f\left(x\right)=\sum\limits _{i=1}^{n}x_{i}v_{i}$
\end_inset

 במרחב הפתרונות החוקיים לבעייה, 
\begin_inset Formula $\mathcal{S}=\left\{ x\in\left[0,1\right]^{n}:\sum\limits _{i=1}^{n}x_{i}w_{i}\leq W\right\} $
\end_inset

.
 מכיוון ש-
\begin_inset Formula $\mathcal{S}$
\end_inset

 קבוצה קומפקטית )אינפי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 מתקדם, לא ממש חשוב לנו מה זה אומר( ו-
\begin_inset Formula $f$
\end_inset

 היא רציפה, 
\begin_inset Formula $f$
\end_inset

 מקבלת מקסימום.
\end_layout

\begin_layout Proof
נשתמש בלמת ההחלפה כדי להראות שאם 
\begin_inset Formula $y$
\end_inset

 הינו פתרון חוקי לבעיה השונה מפתרון החמדן אז 
\begin_inset Formula $y$
\end_inset

 אינו אופטימלי.
 מספיק להוכיח כי 
\begin_inset Formula $y$
\end_inset

 מקיים את התנאים של למת ההחלפה.
 מכך נסיק שאם כל פתרון שאינו החמדני הוא לא אופטימלי אבל לפ' הערך יש מקסימום,
 אז הפתרון החמדני הוא אכן המקסימום.
\end_layout

\begin_layout Proof
לפתרון החמדני נגיע באופן הבא: יהי 
\begin_inset Formula $0\leq t\leq n-1$
\end_inset

 כך ש-
\begin_inset Formula $\sum\limits _{i=1}^{t}w_{i}\leq W$
\end_inset

, 
\begin_inset Formula $\sum\limits _{i=1}^{t+1}w_{i}>W$
\end_inset

, אזי 
\begin_inset Formula $x_{1}=\ldots=x_{t}=1$
\end_inset

.
 יהי 
\begin_inset Formula $j$
\end_inset

 המקום הראשון עבורו 
\begin_inset Formula $y_{j}\neq x_{j}$
\end_inset

.
 נראה כי 
\begin_inset Formula $y_{j}<x_{j}$
\end_inset

.
 נניח בשלילה כי 
\begin_inset Formula $y_{j}>x_{j}$
\end_inset

.
 מתקיים בהכרח כי 
\begin_inset Formula $y_{i}\leq x_{i}=1$
\end_inset

 עבור 
\begin_inset Formula $1\leq i\leq t$
\end_inset

.
 לכן 
\begin_inset Formula $j\geq t+1$
\end_inset

 ומתקיים 
\begin_inset Formula $\sum\limits _{i=1}^{j}y_{i}w_{i}>\sum\limits _{i=1}^{j}x_{i}w_{i}\geq\sum\limits _{i=1}^{t+1}x_{i}w_{i}=W$
\end_inset

 סתירה.
\end_layout

\begin_layout Proof
לכן 
\begin_inset Formula $y_{j}<x_{j}\leq1$
\end_inset

 ובנוסף 
\begin_inset Formula $\sum\limits _{i=1}^{j}y_{i}w_{i}<\sum\limits _{i=1}^{t}x_{i}w_{i}\leq W$
\end_inset

 ולכן 
\begin_inset Formula $y$
\end_inset

 מקיים את תנאי למת ההחלפה ולכן לא אופטימלי.
\end_layout

\begin_layout Standard

\size larger
בעיית שיבוץ משימות
\end_layout

\begin_layout Description
סיפור
\begin_inset Formula $\;$
\end_inset

מסגרת נתונות 
\begin_inset Formula $n$
\end_inset

 משימות כך שלא ניתן לבצע שתי משימות.
 במקביל המטרה היא לבחור כמה שיותר מתוך המשימות האלה שנוכל לבצען ללא התנגשויות.
\end_layout

\begin_layout Description
קלט 
\begin_inset Formula $n$
\end_inset

 קטעים סגורים על ציר זמן הניתנים ע
\begin_inset Quotes erd
\end_inset

י נקודות ההתחלה והסיום שלהם 
\begin_inset Formula $\left[s_{1},f_{1}\right],\dots,\left[s_{n},f_{n}\right]$
\end_inset

.
\end_layout

\begin_layout Description
פלט תת קבוצה 
\begin_inset Formula $S\subseteq\left[n\right]$
\end_inset

 של אינדקסים כך שהקטעים עם אינדקסים ב-
\begin_inset Formula $S$
\end_inset

 זרים זה לזה וכך ש-
\begin_inset Formula $\left|S\right|$
\end_inset

 מקסימלי.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $s_{2}^{*}=\left\{ 2,4,5\right\} $
\end_inset

, 
\begin_inset Formula $s_{1}^{*}=\left\{ 3,4,5\right\} $
\end_inset

 הם פתרונות אופטימליים לבעיה הבאה
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/tasks-example.png
	scale 40

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
מרחב הפתרונות החוקיים לבעיה הוא 
\begin_inset Formula $\mathcal{S}=\left\{ S\subseteq\left[n\right]:\text{זרים זה לזה}\;S\text{הקטעים עם אינדקסים ב-}\right\} $
\end_inset

.
 נגדיר פ' ערך על הקבוצה 
\begin_inset Formula $\mathcal{S}$
\end_inset

 באופן הבא: 
\begin_inset Formula $q\left(s\right)=\left|S\right|$
\end_inset

, נחפש מקסימום 
\begin_inset Formula $s^{*}$
\end_inset

 של 
\begin_inset Formula $q$
\end_inset

 על 
\begin_inset Formula $S$
\end_inset

.
\end_layout

\begin_layout Description
פתרון
\begin_inset Formula $\;$
\end_inset

נאיבי נעבור על כל 
\begin_inset Formula $\mathcal{S}$
\end_inset

 ובאופן כזה נמצא את המקסימום של 
\begin_inset Formula $q$
\end_inset

.
 זמן הריצה הוא 
\begin_inset Formula $\om{\left|\mathcal{S}\right|}$
\end_inset

, שיכול להיות 
\begin_inset Formula $\om{2^{n}}$
\end_inset

.
\end_layout

\begin_layout Standard

\size larger
הצעות לפתרונות חמדניים
\end_layout

\begin_layout Enumerate
בכל שלב נבחר קטע שנחתך עם הכי פחות קטעים שנשארו )ולא מתנגש עם הקטעים שכבר
 בחרנו(.
\end_layout

\begin_deeper
\begin_layout Standard
לא אופטימלי, 
\begin_inset Formula $G=\left\{ 3\right\} $
\end_inset

, 
\begin_inset Formula $s^{*}=\left\{ 1,2\right\} $
\end_inset

.
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/tasks-3.png
	scale 20

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
בכל שלב נבחר את הקטע הקצר ביותר.
\end_layout

\begin_deeper
\begin_layout Standard
לא אופטימלי, 
\begin_inset Formula $G=\left\{ 3\right\} $
\end_inset

, 
\begin_inset Formula $s^{*}=\left\{ 1,2\right\} $
\end_inset

.
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/tasks-2.png
	scale 20

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
בכל שלב נבחר את הקטע שזמן ההתחלה שלו הוא הקרוב ביותר לזמן הסיום של המשימה
 האחרונה שכבר בחרנו.
\end_layout

\begin_deeper
\begin_layout Standard
לא אופטימלי, 
\begin_inset Formula $G=\left\{ 11,1,5\right\} $
\end_inset

, 
\begin_inset Formula $s^{*}=\left\{ 1,5,9,10\right\} $
\end_inset

.
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/tasks-1.png
	scale 30

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
בכל שלב נבחר משימה שזמן הסיום שלה מינימלי.
\end_layout

\begin_deeper
\begin_layout Standard
זהו הפתרון הנכון )מבין רבים אחרים(!
\end_layout

\end_deeper
\begin_layout Description
פסאודו-קוד האלג' החמדן ע
\begin_inset Quotes erd
\end_inset

פ ההצעה הרביעית.
\end_layout

\begin_deeper
\begin_layout Standard

\numeric on
0
\numeric off
.
 
\bar under
עיבוד מידע מוקדם
\bar default
: נמיין את הקטעים בסדר עולה לפי זמני הסיום שלהם.
 
\begin_inset Formula $\ot{n\log n}$
\end_inset

.
\end_layout

\begin_layout Standard

\numeric on
1
\numeric off
.
 
\bar under
אתחול
\bar default
: 
\begin_inset Formula $A=\left[n\right]$
\end_inset

, 
\begin_inset Formula $G=\varnothing$
\end_inset

.
 
\begin_inset Formula $A$
\end_inset

 יכיל את האינדקסים של המשימות שעוד אפשר להכניס ל-
\begin_inset Formula $G$
\end_inset

 )הפתרון החמדן(.
 
\begin_inset Formula $\oo 1$
\end_inset

.
\end_layout

\begin_layout Standard

\numeric on
2
\numeric off
.
 
\bar under
איטרציה
\bar default
: בכל שלב נעביר מ-
\begin_inset Formula $A$
\end_inset

 ל-
\begin_inset Formula $G$
\end_inset

 את האינדקס הנמוך ביותר )הקטע המאוחר ביותר(.
 נמחק מ-
\begin_inset Formula $A$
\end_inset

 את כל הקטעים הנחתכים עם הקטע שכרגע בחרנו.
 
\begin_inset Formula $\oo{n^{2}}$
\end_inset

 )באמצעות מימוש נאיבי של מבנה נתונים התומך ב-
\begin_inset Formula $A$
\end_inset

 - מערך.
 כאן המחיקה תדרוש 
\begin_inset Formula $\ot n$
\end_inset

 - מעבר נאיבי על כל האיברים(.
\end_layout

\begin_layout Standard

\numeric on
3
\numeric off
.
 
\bar under
סיום
\bar default
: כאשר 
\begin_inset Formula $A=\varnothing$
\end_inset

 נעצר ונחזיר את 
\begin_inset Formula $G$
\end_inset

.
 
\begin_inset Formula $\oo 1$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
זמן
\begin_inset Formula $\;$
\end_inset

ריצה סה
\begin_inset Quotes erd
\end_inset

כ 
\begin_inset Formula $\oo{n^{2}}$
\end_inset

.
\end_layout

\begin_layout Standard

\color lightgray
חלק ב' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le22}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Description
למת
\begin_inset Formula $\;$
\end_inset

החלפה יהי 
\begin_inset Formula $s=\left(i_{1},\dots,i_{m}\right)$
\end_inset

 פתרון חוקי לבעיה, 
\begin_inset Formula $0\leq j\leq m-1$
\end_inset

 ו-
\begin_inset Formula $t$
\end_inset

 האינדקס המינימלי של קטע שלא חותך את הקטעים 
\begin_inset Formula $i_{1},\dots,i_{j}$
\end_inset

 אזי גם 
\begin_inset Formula $s'=\left(i_{1},\dots,i_{j},t,i_{j+2},\dots,i_{m}\right)$
\end_inset

 הוא פתרון חוקי.
\end_layout

\begin_layout Proof
עלינו להראות שהקטעים ב-
\begin_inset Formula $s'$
\end_inset

 זרים זה לזה.
 מכיוון ש-
\begin_inset Formula $s$
\end_inset

 הוא פתרון חוקי, הקטעים 
\begin_inset Formula $i_{1},\dots,i_{j},i_{j+2},\dots,i_{m}$
\end_inset

 זרים זה לזה.
 בנוסף, לפי בחירת 
\begin_inset Formula $t$
\end_inset

, הקטע 
\begin_inset Formula $t$
\end_inset

 זר לקטעים 
\begin_inset Formula $i_{1},\dots,i_{j}$
\end_inset

.
 נוודא כי לכל 
\begin_inset Formula $j+2\le k\leq m$
\end_inset

 מתקיים כי 
\begin_inset Formula $t,i_{k}$
\end_inset

 זרים זה לזה.
\end_layout

\begin_layout Proof
נבחין כי אם 
\begin_inset Formula $\left[s,f\right],\left[s',f'\right]$
\end_inset

 שני קטעים זרים כך ש-
\begin_inset Formula $f'>f$
\end_inset

 אזי 
\begin_inset Formula $s'>f$
\end_inset

 כי אחרת הנקודה 
\begin_inset Formula $f$
\end_inset

 הייתה בשני הקטעים בסתירה להנחה שהם זרים.
\end_layout

\begin_layout Proof
נשים לב שהקטעים 
\begin_inset Formula $i_{k},i_{j+1}$
\end_inset

 שייכים לפתרון חוקי ולכן זרים לזה לזה.
 בנוסף, 
\begin_inset Formula $i_{j+1}<i_{k}$
\end_inset

 ולכן 
\begin_inset Formula $f_{i_{j+1}}<f_{i_{k}}$
\end_inset

.
 לפי ההבחנה הנ
\begin_inset Quotes erd
\end_inset

ל זה גורר כי 
\begin_inset Formula $f_{i_{j+1}}<s_{i_{k}}$
\end_inset

.
 בנוסף, הקטע 
\begin_inset Formula $i_{j+1}$
\end_inset

 זר לקטעים 
\begin_inset Formula $i_{1},\dots,i_{j}$
\end_inset

 )כי כל הקטעים האלה נמצאים איתו בפתרון החוקי 
\begin_inset Formula $s$
\end_inset

(.
 נזכור כי הקטע 
\begin_inset Formula $t$
\end_inset

 נבחר כקטע בעל אינדקס מינימלי שלא חותך את הקטעים 
\begin_inset Formula $i_{1},\dots,i_{j}$
\end_inset

 ולכן מתקיים 
\begin_inset Formula $t\leq i_{j+1}$
\end_inset

 ולכן 
\begin_inset Formula $f_{i_{j+1}}<s_{f_{t}}\leq$
\end_inset

 ולכן הקטעים 
\begin_inset Formula $t$
\end_inset

 ו-
\begin_inset Formula $i_{j}$
\end_inset

 זרים לזה זה.
\end_layout

\begin_layout Description
משפט הפתרון החמדן הינו פתרון חוקי ואופטימלי לבעיית שיבוץ המשימות.
\end_layout

\begin_layout Proof
חוקיות: נשים לב שלפי דרך פעולות של האלג' החמדני, לפני תחילת כל איטרציה,
 הקבוצה 
\begin_inset Formula $A$
\end_inset

 מכילה רק קטעים שזרים לכל הקטעים ב-
\begin_inset Formula $G$
\end_inset

 ולכן בסוף האיטרציה הקבוצה 
\begin_inset Formula $G$
\end_inset

 מכילה קטעים זרים )הינה פתרון חוקי(.
 זה המצב גם בסיום הריצה של האלג' ולכן הפתרון 
\begin_inset Formula $G$
\end_inset

 המוחזר ע
\begin_inset Quotes erd
\end_inset

י האלג' הוא חוקי.
\end_layout

\begin_layout Proof
אופטמליות: יהי 
\begin_inset Formula $G=\left(g_{1},\dots,g_{r}\right)$
\end_inset

 הפתרון החמדן כך ש-
\begin_inset Formula $g_{1}<\ldots<g_{r}$
\end_inset

.
 עבור פתרון חוקי 
\begin_inset Formula $s=\left(i_{1},\dots,i_{k}\right)$
\end_inset

 לבעיה )אינדקסים ממוינים גם כן(.
 נגדיר את גודל הרישא המקסימלית של 
\begin_inset Formula $x$
\end_inset

 ו-
\begin_inset Formula $G$
\end_inset

 באופן הבא )סתם פורמליקה, בעצם מדובר בכמות האיברים המשותפים לשני הפתרונות
 ברציפות מההתחלה(:
\end_layout

\begin_deeper
\begin_layout Enumerate
אם 
\begin_inset Formula $k\geq r$
\end_inset

 ומתקיים 
\begin_inset Formula $i_{1}=g_{1},\dots,i_{r}=g_{r}$
\end_inset

 אז במקרה זה נאמר כי לשני הפתרונות רישא משותפת בגודל 
\begin_inset Formula $r$
\end_inset

.
\end_layout

\begin_layout Enumerate
אם קיים 
\begin_inset Formula $0\leq l<r$
\end_inset

 כך שמתקיים 
\begin_inset Formula $i_{1}=g_{1},\dots,i_{l}=g_{l}$
\end_inset

 אבל 
\begin_inset Formula $i_{l+1}\neq g_{l+1}$
\end_inset

 נאמר כי לשני הפתרונות רישא משותפת בגודל 
\begin_inset Formula $l$
\end_inset

.
\end_layout

\begin_layout Standard
יהי 
\begin_inset Formula $s^{*}$
\end_inset

 פתרון אופטימלי שלו רישא משותפת מקסימלית )מבין כל הפתרונות האופטימליים(
 עם 
\begin_inset Formula $G$
\end_inset

.
 נוכיח כי 
\begin_inset Formula $s^{*}=G$
\end_inset

 ובכך נוכיח כי 
\begin_inset Formula $G$
\end_inset

 פתרון אופטימלי.
\end_layout

\end_deeper
\begin_layout Proof
נראה כי הרישא המשותפת של 
\begin_inset Formula $s^{*}$
\end_inset

 ו-
\begin_inset Formula $G$
\end_inset

 היא בגודל 
\begin_inset Formula $r$
\end_inset

.
 נניח בשלילה, לכן קיים 
\begin_inset Formula $l<r$
\end_inset

 כך ש-
\begin_inset Formula $i_{1}=g_{1},\dots,i_{l,}=g_{l},i_{l+1}\neq g_{l+1}$
\end_inset

.
 נפעיל על 
\begin_inset Formula $s^{*}$
\end_inset

 את למת ההחלפה עם 
\begin_inset Formula $j=l$
\end_inset

, לכן ניתן להחליף את 
\begin_inset Formula $i_{l+1}$
\end_inset

 ב-
\begin_inset Formula $t$
\end_inset

 שהוא האינדקס המינימלי של קטע שלא חותך את 
\begin_inset Formula $g_{1},\dots,g_{l}$
\end_inset

.
 מדרך פעולותו של האלג' החמדן, 
\begin_inset Formula $t=g_{l+1}$
\end_inset

 ולכן קיבלנו פתרון חוקי חדש 
\begin_inset Formula $s=\left(g_{1},\dots,g_{l},g_{l+1},i_{l+2},\dots,i_{m}\right)$
\end_inset

.
 מכיוון ש-
\begin_inset Formula $m=\left|s^{*}\right|=\left|s\right|$
\end_inset

, 
\begin_inset Formula $s$
\end_inset

 הוא גם פתרון אופטימלי אבל עם רישא משותפת עם 
\begin_inset Formula $G$
\end_inset

 הגדולה מזו של 
\begin_inset Formula $s^{*}$
\end_inset

 בסתירה להגדרת 
\begin_inset Formula $s^{*}$
\end_inset

.
\end_layout

\begin_layout Proof
נוכיח כי 
\begin_inset Formula $s^{*}=G$
\end_inset

.
 הראינו כי 
\begin_inset Formula $G\subseteq s^{*}$
\end_inset

.
 נניח בשלילה כי קיים קטע ב-
\begin_inset Formula $s^{*}$
\end_inset

 שלא נמצא ב-
\begin_inset Formula $g$
\end_inset

, לכן 
\begin_inset Formula $i_{r+1}\notin G$
\end_inset

.
 נשים לב כי לפי דרך פעולות של האלג' החמדן, הקטע 
\begin_inset Formula $i_{r+1}$
\end_inset

 שייך לקבוצה 
\begin_inset Formula $A$
\end_inset

 בסוף כל איטרציה של האלג' ולכן 
\begin_inset Formula $i_{r+1}\in A$
\end_inset

 גם בסוף הריצה של האלג' החמדני אבל האלג' החמדני עוצר כאשר 
\begin_inset Formula $A\neq\varnothing$
\end_inset

 והיה אמור להוסיף את הקטע הזה סתירה.
\end_layout

\begin_layout Subsection
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
texorpdfstring{
\backslash
protect
\backslash
hypertarget{ta2}{תרגול}}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Description
הגדרה 
\bar under
מטרואיד
\series bold
\bar default
 
\series default
הוא זוג 
\begin_inset Formula $M=\left\langle S,I\right\rangle $
\end_inset

 כאשר 
\begin_inset Formula $S$
\end_inset

 היא קבוצה סופית ו- 
\begin_inset Formula $I\subseteq2^{S}$
\end_inset

 כך שמתקיים:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $I$
\end_inset

 לא ריקה.
\end_layout

\begin_layout Enumerate
)תורשתיות( 
\begin_inset Formula $\forall A\in I$
\end_inset

 ו-
\begin_inset Formula $B\subseteq A$
\end_inset

 מתקיים 
\begin_inset Formula $B\in I$
\end_inset

.
\end_layout

\begin_layout Enumerate
)החלפה( עבור 
\begin_inset Formula $A,B\in I$
\end_inset

 כך ש-
\begin_inset Formula $\left|A\right|>\left|B\right|$
\end_inset

 אז קיים 
\begin_inset Formula $a\in A\backslash B$
\end_inset

 כך ש-
\begin_inset Formula $B\cup\left\{ a\right\} \in I$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
דוגמאות למטרואידים
\end_layout

\begin_layout Enumerate
\begin_inset Formula $S=\left[2\right]$
\end_inset

, 
\begin_inset Formula $I=\left\{ \left\{ 1\right\} ,\left\{ 2\right\} ,\left\{ 1,2\right\} \right\} $
\end_inset

.
 
\begin_inset Formula $M=\left\langle S,T\right\rangle $
\end_inset

.
 לא מטרואיד, כי 
\begin_inset Formula $\varnothing\subseteq\left\{ 2\right\} $
\end_inset

 ו-
\begin_inset Formula $\varnothing\notin I$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $S=\left[4\right]$
\end_inset

, 
\begin_inset Formula $I=\left\{ \varnothing,\left\{ 1\right\} ,\left\{ 2\right\} ,\left\{ 3\right\} ,\left\{ 4\right\} ,\left\{ 1,2\right\} ,\left\{ 3,4\right\} \right\} $
\end_inset

 לא מטרואיד כי עבור 
\begin_inset Formula $A=\left\{ 3,4\right\} $
\end_inset

 ו-
\begin_inset Formula $B=\left\{ 2\right\} $
\end_inset

 לא קיים 
\begin_inset Formula $a\in A\backslash B$
\end_inset

 כך ש-
\begin_inset Formula $B\cup\left\{ a\right\} \in I$
\end_inset

.
\end_layout

\begin_layout Enumerate
המטרואיד הוקטורי 
\begin_inset Formula $M_{V}=\left\langle S_{V},I_{V}\right\rangle $
\end_inset

 מוגדר כך ש-
\begin_inset Formula $S$
\end_inset

 היא קבוצה סופית של וקטורים במ
\begin_inset Quotes erd
\end_inset

ו 
\begin_inset Formula $V$
\end_inset

.
 
\begin_inset Formula $I$
\end_inset

 קבוצה של תתי קבוצות וקטורים ב-
\begin_inset Formula $S$
\end_inset

 כך שכל תת קבוצה מורכבת מוקטורים בת
\begin_inset Quotes erd
\end_inset

ל.
\end_layout

\begin_layout Enumerate
המטרואיד הגרפי 
\begin_inset Formula $M_{G}=\left\langle S_{G},I_{G}\right\rangle $
\end_inset

 עבור הגרף 
\begin_inset Formula $G=\left\langle E,V\right\rangle $
\end_inset

 כך ש-
\begin_inset Formula $S$
\end_inset

 הוא אוסף הצלעות בגרף ו-
\begin_inset Formula 
\[
I=\left\{ E'\subseteq E:\left\langle V,E'\right\rangle \textrm{ forest a is}\right\} 
\]

\end_inset


\end_layout

\begin_deeper
\begin_layout Description
טענה המטרואיד הגרפי הוא מטרואיד.
\end_layout

\begin_layout Proof
\begin_inset Formula $I$
\end_inset

 לא ריקה כי 
\begin_inset Formula $\left\langle V,\varnothing\right\rangle \in I$
\end_inset

 כי אין בו מעגלים.
\end_layout

\begin_layout Proof
\begin_inset Formula $\forall A\in I$
\end_inset

 מתקיים שאין מעגלים ב-
\begin_inset Formula $A$
\end_inset

 כי הוא יער ולכן 
\begin_inset Formula $\forall B\subseteq I$
\end_inset

 הוא גם כן חסר מעגלים ולכן 
\begin_inset Formula $B\in I$
\end_inset

.
\end_layout

\begin_layout Proof
עבור 
\begin_inset Formula $A,B\in I$
\end_inset

 כך ש-
\begin_inset Formula $\left|A\right|>\left|B\right|$
\end_inset

 נראה כי קיים 
\begin_inset Formula $a\in A\backslash B$
\end_inset

 כך ש-
\begin_inset Formula $B\cup\left\{ a\right\} \in I$
\end_inset

.
 כלומר ש-
\begin_inset Formula $B\cup\left\{ a\right\} $
\end_inset

 חסר מעגלים.
 הוספת צלע לגרף סוגרת מעגל או מקטינה את מס' רכיבי הקשירות.
 
\end_layout

\begin_layout Description
טענת
\begin_inset Formula $\;$
\end_inset

עזר קיים רכיב קשירות ב-
\begin_inset Formula $G_{A}$
\end_inset

 שחותך )שיש צלע בין שני רכיבים הקשירות( לפחות 
\begin_inset Formula $2$
\end_inset

 רכיבי קשירות ב-
\begin_inset Formula $G_{B}$
\end_inset

.
\end_layout

\begin_layout Proof
נניח בשלילה שלא קיים קיים רכיב קשירות כזה.
 אז כל רכיב קשירות ב-
\begin_inset Formula $G_{A}$
\end_inset

 חותך לכל היותר רכיב קישרות אחד ב-
\begin_inset Formula $G_{B}$
\end_inset

, כלומר הוא מוכל ברכיב קשירות ב-
\begin_inset Formula $G_{B}$
\end_inset

.
 מכאן שכל רכיב קשירות ב-
\begin_inset Formula $G_{B}$
\end_inset

 מכיל לפחות רכיב קשירות אחד של 
\begin_inset Formula $G_{A}$
\end_inset

.
 נקבל שמספר רכיבי ב-
\begin_inset Formula $G_{A}$
\end_inset

 גדול ממספר רכיבי הקשירות ב-
\begin_inset Formula $G_{B}$
\end_inset

 שזו סתירה לכך שב-
\begin_inset Formula $G_{B}$
\end_inset

 יש יותר רכיבי קשירות.
\end_layout

\begin_layout Description
מסקנה קיים רכיב קשירות ב-
\begin_inset Formula $G_{A}$
\end_inset

 שחותך 
\begin_inset Formula $2$
\end_inset

 רכיבי קשירות ב-
\begin_inset Formula $G_{B}$
\end_inset

 ולכן קיימת צלע ב-
\begin_inset Formula $A$
\end_inset

 שמחברת שני רכיבי קשירות ב-
\begin_inset Formula $G_{B}$
\end_inset

 ובפרט לא סוגרת מעגל.
 נסמן את הצלע ב-
\begin_inset Formula $a$
\end_inset

 ונקבל כי 
\begin_inset Formula $B\cup\left\{ a\right\} $
\end_inset

 לא מכיל מעגל ולכן נמצא ב-
\begin_inset Formula $I$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
בעיית המטרואידים
\end_layout

\begin_layout Description
קלט מטרואיד 
\begin_inset Formula $M=\left\langle S,I\right\rangle $
\end_inset

 ופ' משקל 
\begin_inset Formula $w:S\to\mathbb{R}^{+}$
\end_inset

.
\end_layout

\begin_layout Description
פלט 
\begin_inset Formula $A\in I$
\end_inset

 כך ש-
\begin_inset Formula $A$
\end_inset

 בעלת משקל מקסימלי.
\end_layout

\begin_layout Description
פסאודו-קוד 
\end_layout

\begin_deeper
\begin_layout Enumerate

\bar under
עיבוד מקדים
\bar default
: נמיין את האיברים ב-
\begin_inset Formula $S$
\end_inset

 ע
\begin_inset Quotes erd
\end_inset

פ משקלם בסדר יורד.
\end_layout

\begin_layout Enumerate

\bar under
אתחול
\bar default
: 
\begin_inset Formula $A=\varnothing$
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
איטרציה
\bar default
: נעבור על איבריי 
\begin_inset Formula $S$
\end_inset

 ונוסיף את האיבר 
\begin_inset Formula $x\in S$
\end_inset

 ל-
\begin_inset Formula $A$
\end_inset

 אם 
\begin_inset Formula $A\cup\left\{ x\right\} \in I$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
הערות
\end_layout

\begin_layout Enumerate
הפלט של האלג' בגודל מקסימלי )אחרת היינו יכולים להוסיף עוד את אחד האיברים(.
\end_layout

\begin_layout Enumerate
בעית המינימום שקולה אם נמיין את איברי 
\begin_inset Formula $S$
\end_inset

 בסדר עולה והפלט יהיה קבוצה בגודל מקסימלי שהיא בעלת משקל מינימלי.
\end_layout

\begin_layout Enumerate
לא תמיד חייבים לעבור על כל האיברים ב-
\begin_inset Formula $S$
\end_inset

 )לדוגמה אם נתון אילוץ נוסף על האיברים(.
\end_layout

\begin_layout Enumerate
אם בעיה שקולה לבעיה שראינו, נוכל להשתמש באלג' החמדן שראינו מבלי להוכיח את
 נכונותו
\end_layout

\begin_layout Description
הגדרה 
\bar under
שידוך
\bar default
 בגרף דו
\begin_inset Quotes erd
\end_inset

צ הוא קבוצת צלעות כך שאף שתי צלעות לא נפגשות באותו קודקוד.
 שידוך מושלם הוא שידוך על כל קודקודי הגרף.
\end_layout

\begin_layout Description
הגדרה עבור 
\begin_inset Formula $G=\left\langle L,R,E\right\rangle $
\end_inset

 גרף דו
\begin_inset Quotes erd
\end_inset

צ, 
\bar under
מטרואיד השידוכים
\bar default
 הוא 
\begin_inset Formula $M=\left\langle S,I\right\rangle $
\end_inset

 כך ש-
\begin_inset Formula $S=L$
\end_inset

 ו-
\begin_inset Formula 
\[
I=\left\{ L'\subseteq L:\exists R'\subseteq R,E'\subseteq E\;s.t.\;G'=\left\langle L',R',E'\right\rangle \text{הוא שידוך מושלם ב-}\;E'\right\} 
\]

\end_inset


\end_layout

\begin_layout Description
טענה מטרואיד השידוכים הוא מטרואיד.
\end_layout

\begin_layout Proof
ברור כי 
\begin_inset Formula $I$
\end_inset

 לא ריקה כל עוד יש שידוך כלשהו ב-
\begin_inset Formula $G$
\end_inset

.
\end_layout

\begin_layout Proof
תכונת התורשתיות גם היא ברורה, אם 
\begin_inset Formula $B\subseteq A\in I$
\end_inset

 אז קיים 
\begin_inset Formula $R',E'$
\end_inset

 כך שקיים ב-
\begin_inset Formula $\left\langle A,R',E'\right\rangle $
\end_inset

 שידוך מושלם.
 
\begin_inset Formula $B$
\end_inset

 מתקבל מ-
\begin_inset Formula $A$
\end_inset

 ע
\begin_inset Quotes erd
\end_inset

י הסרה של קודקודים מאחד מצדי הגרף.
 לכן נסיר מ-
\begin_inset Formula $R'$
\end_inset

 את כל הקודקודים שמחוברים בצלעות לקודקודים שהסרנו, וכמובן נסיר את הצלעות
 לקודקודים שהסרנו, ונקבל גרף חדש, 
\begin_inset Formula $\left\langle B,R'',E''\right\rangle $
\end_inset

 שבו יש שידוך מושלם.
\end_layout

\begin_layout Proof
תכונת ההחלפה היא יותר מורכבת.
 תהיינה 
\begin_inset Formula $A,B\in I$
\end_inset

, 
\begin_inset Formula $\left|A\right|>\left|B\right|$
\end_inset

 ונוכיח כי קיים 
\begin_inset Formula $a\in A\backslash B$
\end_inset

 כך ש-
\begin_inset Formula $B\cup\left\{ a\right\} \in I$
\end_inset

.
 נביט ב-
\begin_inset Formula $G=G_{A}\cup G_{B}$
\end_inset

 )הגרף שמוגדר ע
\begin_inset Quotes erd
\end_inset

י איחוד אוספי הצלעות 
\begin_inset Formula $E_{A}'$
\end_inset

 ו-
\begin_inset Formula $E_{B}'$
\end_inset

 יחד עם כל קודקודי 
\begin_inset Formula $G$
\end_inset

.
 נשים לב כי הדרגה של כל קודקוד היא לכל היותר 
\begin_inset Formula $2$
\end_inset

 )הקודקוד מופיע לכל בשידוך גם של 
\begin_inset Formula $A$
\end_inset

 וגם של 
\begin_inset Formula $B$
\end_inset

 שאלו שתי צלעות( ולכן מסלול מקודקוד מסויים יכול להיות אחד ורק אחד מהבאים:
\end_layout

\begin_deeper
\begin_layout Enumerate
מעגל: במצב זה נקבל צלעות שמתחלפות לסירגוין בין צלעות ב-
\begin_inset Formula $G_{A}$
\end_inset

 ולבין צלעות ב-
\begin_inset Formula $G_{B}$
\end_inset

.
\end_layout

\begin_layout Enumerate
מסלול באורך זוגי: במקרה זה הצלע הראשונה והאחרונה בהכרח יהיו מגרפים שונים
 )אחת מ-
\begin_inset Formula $G_{A}$
\end_inset

 ואחת מ-
\begin_inset Formula $G_{B}$
\end_inset

(.
\end_layout

\begin_layout Enumerate
מסלול באורך אי זוגי: במצב זה הצלע הראשונה והאחרונה בהכרח יהיו מאותו הגרף
 )
\begin_inset Formula $G_{A}$
\end_inset

 או 
\begin_inset Formula $G_{B}$
\end_inset

(.
\end_layout

\end_deeper
\begin_layout Proof
נשים לב כי בכל גרף חייב להיות מסלול באורך אי זוגי שמתחיל )ונגמר( בצלעות
 מ-
\begin_inset Formula $G_{A}$
\end_inset

, אחרת נקבל שכל המעגלים והמסלולים הם עם כמות שווה של צלעות משתי הקבוצות
 ולכן סה
\begin_inset Quotes erd
\end_inset

כ נקבל שוויון בכמות הצלעות ב-
\begin_inset Formula $G_{A}$
\end_inset

 ו-
\begin_inset Formula $G_{B}$
\end_inset

 וזאת בסתירה לכך שב-
\begin_inset Formula $A$
\end_inset

 יש יותר קודקודים )ולכן יותר צלעות בשידוך שהוא הגרף 
\begin_inset Formula $G_{A}$
\end_inset

(.
 בפרט, המסלול הזה מתחיל )או נגמר, תלוי איך מסתכלים על זה( בקודקוד ב-
\begin_inset Formula $L$
\end_inset

.
 נסמן את הקודקוד ב-
\begin_inset Formula $a\in A$
\end_inset

.
 נשים לב כי 
\begin_inset Formula $a\notin B$
\end_inset

 כי אז 
\begin_inset Formula $\deg a=2$
\end_inset

 ואז 
\begin_inset Formula $a$
\end_inset

 הוא לא סוף או התחלה של מסלול אלא אמצע שלו.
 לכן 
\begin_inset Formula $a\in A\backslash B$
\end_inset

.
 נותר להוכיח כי 
\begin_inset Formula $B\cup\left\{ a\right\} \in I$
\end_inset

.
 השידוך המושלם על הקבוצה החדשה יוגדר באופן הבא: נשאיר את כל הצלעות של השידוך
 של 
\begin_inset Formula $B$
\end_inset

 ורק את אלה ששיכות למסלול האי זוגי הנ
\begin_inset Quotes erd
\end_inset

ל נחליף.
 שם, במקום להשתמש בצלעות של השידוך של 
\begin_inset Formula $B$
\end_inset

, נשתמש בצלעות של 
\begin_inset Formula $A$
\end_inset

 שמרכיבות את המסלול, וזה איכשהו יסתדר.
\end_layout

\begin_layout Section
שבוע 
\begin_inset Formula $\mathbb{III}$
\end_inset

 | הכללות לאלגוריתם החמדן
\end_layout

\begin_layout Subsection
הרצאה
\end_layout

\begin_layout Standard

\color lightgray
חלק א' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le31}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
קבוצת וקטורים בת
\begin_inset Quotes erd
\end_inset

ל בעלת משקל מקסימלי
\end_layout

\begin_layout Description
קלט קבוצה סופית 
\begin_inset Formula $X=\left\{ v_{1},\dots,v_{n}\right\} \subseteq V$
\end_inset

 כאשר 
\begin_inset Formula $V$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

ו ממימד 
\begin_inset Formula $t$
\end_inset

 ופ' משקל 
\begin_inset Formula $\mu:X\to\mathbb{R_{+}}$
\end_inset

 חיובית.
\end_layout

\begin_layout Description
פלט 
\begin_inset Formula $S\subseteq\left[n\right]$
\end_inset

 כך שהוקטורים עם אינדקסים ב-
\begin_inset Formula $S$
\end_inset

 וכך ש-
\begin_inset Formula $\mu\left(S\right)$
\end_inset

 מירבי כאשר 
\begin_inset Formula $\mu\left(S\right)=\sum\limits _{i\in S}\mu\left(v_{i}\right)$
\end_inset

.
\end_layout

\begin_layout Description
הערה בעיה זו היא הכללה של קרוסקל כאשר וקטורים הם בת
\begin_inset Quotes erd
\end_inset

ל אם
\begin_inset Quotes erd
\end_inset

ם הם סוגרים מעגל.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $n=5,V=\mathbb{R}^{4}$
\end_inset

.
\begin_inset Formula 
\[
\left(\begin{smallmatrix}1 & 1 & 1 & 3 & e\\
2 & -1 & \sqrt{2} & 2+2\sqrt{2} & \pi\\
3 & 1 & \sqrt{3} & 3+2\sqrt{3} & -\sqrt{e}\\
4 & -1 & 2 & 8 & -\pi
\end{smallmatrix}\right)
\]

\end_inset

עם משקלים 
\begin_inset Formula $5,3,7,4,2$
\end_inset

 בהתאמה, 
\begin_inset Formula $S^{*}=\left\{ 3,1,2,5\right\} $
\end_inset

 כי 
\begin_inset Formula $v_{4}=v_{1}+2v_{3}$
\end_inset

.
\end_layout

\begin_layout Description
פסאודו-קוד 
\end_layout

\begin_deeper
\begin_layout Standard

\numeric on
0
\numeric off
.
 
\bar under
עיבוד מידע מוקדם
\bar default
: נמיין את הוקטורים על פי משקלם בסדר יורד )מעתה נניח בה
\begin_inset Quotes erd
\end_inset

כ כי 
\begin_inset Formula $\mu\left(v_{1}\right)\geq\dots\geq\mu\left(v_{n}\right)$
\end_inset

(.
 
\begin_inset Formula $\ot{n\log n}$
\end_inset

.
\end_layout

\begin_layout Standard

\numeric on
1
\numeric off
.
 
\bar under
אתחול
\bar default
: 
\begin_inset Formula $A=\left[n\right]$
\end_inset

, 
\begin_inset Formula $G=\varnothing$
\end_inset

.
 
\begin_inset Formula $\oo 1$
\end_inset

.
\end_layout

\begin_layout Standard

\numeric on
2
\numeric off
.
 
\bar under
איטרציה
\bar default
: בכל שלב נעביר מ-
\begin_inset Formula $A$
\end_inset

 ל-
\begin_inset Formula $G$
\end_inset

 את האידנקס המינימלי ב-
\begin_inset Formula $A$
\end_inset

 ונמחק מ-
\begin_inset Formula $A$
\end_inset

 את כל הוקטורים התלויים לינארית בוקטורים ב-
\begin_inset Formula $G$
\end_inset

.
 
\begin_inset Formula $n$
\end_inset

 כפול זמן הריצה להקביעה האם וקטור מסויים ת
\begin_inset Quotes erd
\end_inset

ל בקבוצה נתונה של וקטורים.
 אפשר לעשות זאת ב-
\begin_inset Formula $\ot{n^{2}}$
\end_inset

.
\end_layout

\begin_layout Standard

\numeric on
3
\numeric off
.
 
\bar under
עצירה
\bar default
: כאשר 
\begin_inset Formula $A=\varnothing$
\end_inset

 נעצור ונחזיר את 
\begin_inset Formula $G$
\end_inset

.
 
\begin_inset Formula $\oo 1$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
זמן
\begin_inset Formula $\;$
\end_inset

ריצה סה
\begin_inset Quotes erd
\end_inset

כ 
\begin_inset Formula $\oo{n^{3}}$
\end_inset

 כאשר חישוב הת
\begin_inset Quotes erd
\end_inset

ל הוא ב-
\begin_inset Formula $\ot{n^{2}}$
\end_inset

.
\end_layout

\begin_layout Description
למת
\begin_inset Formula $\;$
\end_inset

החלפה )למת החלפה מטרואידלית( יהי 
\begin_inset Formula $V$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

ו ותהיינה 
\begin_inset Formula $X,Y\subseteq V$
\end_inset

 קבוצות סופיות בת
\begin_inset Quotes erd
\end_inset

ל כך ש-
\begin_inset Formula $\left|Y\right|>\left|X\right|$
\end_inset

.
 אזי קיים 
\begin_inset Formula $y\in Y\backslash X$
\end_inset

 כך ש-
\begin_inset Formula $X\cup\left\{ y\right\} $
\end_inset

 בת
\begin_inset Quotes erd
\end_inset

ל.
\end_layout

\begin_layout Proof
נסמן 
\begin_inset Formula $U=\textrm{sp}X$
\end_inset

.
 
\begin_inset Formula $X$
\end_inset

 בת
\begin_inset Quotes erd
\end_inset

ל ולכן 
\begin_inset Formula $\dim U=\left|X\right|$
\end_inset

.
 מכיוון ש-
\begin_inset Formula $\left|Y\right|>\left|X\right|$
\end_inset

 ו-
\begin_inset Formula $Y$
\end_inset

 בת
\begin_inset Quotes erd
\end_inset

ל, מתקיים 
\begin_inset Formula $Y\nsubseteq U$
\end_inset

 ולכן קיים 
\begin_inset Formula $y\in Y$
\end_inset

 כך ש-
\begin_inset Formula $y\notin U$
\end_inset

, כלומר 
\begin_inset Formula $y$
\end_inset

 אינו ק
\begin_inset Quotes erd
\end_inset

לשל וקטורים ב-
\begin_inset Formula $X$
\end_inset

.
 לכן 
\begin_inset Formula $y\notin X$
\end_inset

 ו-
\begin_inset Formula $X\cup\left\{ y\right\} $
\end_inset

 בת
\begin_inset Quotes erd
\end_inset

ל.
 
\end_layout

\begin_layout Description
משפט האלג' החמדן מחזיר פתרון אופטימלי לבעיה.
\end_layout

\begin_layout Proof
יהי 
\begin_inset Formula $G$
\end_inset

 הפתרון החמדן.
 יהי 
\begin_inset Formula $s^{*}$
\end_inset

 פתרון אופטימלי.
 נראה כי 
\begin_inset Formula $\left|s^{*}\right|=\left|G\right|$
\end_inset

.
 נניח בשלילה.
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $\left|s^{*}\right|>\left|G\right|$
\end_inset

 אז מלמת ההחלפה קיים 
\begin_inset Formula $s\in s^{*}\backslash G$
\end_inset

 כך ש-
\begin_inset Formula $G\cup\left\{ s\right\} $
\end_inset

 בת
\begin_inset Quotes erd
\end_inset

ל ולכן 
\begin_inset Formula $s$
\end_inset

 אינו ת
\begin_inset Quotes erd
\end_inset

ל ב-
\begin_inset Formula $G$
\end_inset

, לכן לפי פעולתו של האלג' החמדן, הוקטור נשאר בקבוצה 
\begin_inset Formula $A$
\end_inset

 לאחר כל איטרציה של האלג' ולכן גם בסיום הריצה של האלג' והאלג' עצר כאשר 
\begin_inset Formula $A\neq\varnothing$
\end_inset

 אבל 
\begin_inset Formula $s\in A$
\end_inset

 סתירה.
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $\left|G\right|>\left|S^{*}\right|$
\end_inset

 אז מלמת ההחלפה קיים 
\begin_inset Formula $g\in G\backslash s^{*}$
\end_inset

 כך ש-
\begin_inset Formula $s^{*}\cup\left\{ g\right\} $
\end_inset

 בת
\begin_inset Quotes erd
\end_inset

ל ולכן 
\begin_inset Formula $s_{1}=s^{*}\cup\left\{ g\right\} $
\end_inset

 הוא פתרון חוקי שמשקלו
\begin_inset Formula 
\[
\mu\left(s_{1}\right)=\mu\left(s^{*}\right)+\mu\left(g\right)>\mu\left(s^{*}\right)
\]

\end_inset

בסתירה לאופטימליות 
\begin_inset Formula $s^{*}$
\end_inset

.
 נסמן 
\begin_inset Formula $k=\left|G\right|=\left|s^{*}\right|$
\end_inset

, 
\begin_inset Formula $G=\left(g_{1},\dots,g_{k}\right)$
\end_inset

, 
\begin_inset Formula $s^{*}=\left(i_{1},\dots,i_{k}\right)$
\end_inset

 ממוינים בסדר יורד לפי משקל.
\end_layout

\begin_layout Proof
נניח בשלילה כי 
\begin_inset Formula $\mu\left(s^{*}\right)>\mu\left(g^{*}\right)$
\end_inset

.
 לכן, מתקיים
\begin_inset Formula 
\[
\mu\left(s^{*}\right)=\sum\limits _{j=1}^{k}\mu\left(i_{j}\right)>\sum\limits _{j=1}^{k}\mu\left(g_{j}\right)=\mu\left(G\right)
\]

\end_inset

ולכן קיים 
\begin_inset Formula $1\leq j\leq k$
\end_inset

 כך ש-
\begin_inset Formula $\mu\left(i_{j}\right)>\mu\left(g_{j}\right)$
\end_inset

.
\end_layout

\begin_layout Proof
נסמן 
\begin_inset Formula $X=\left\{ g_{1},\dots,g_{j-1}\right\} $
\end_inset

, 
\begin_inset Formula $Y=\left\{ i_{1},\dots,i_{j}\right\} $
\end_inset

.
 
\begin_inset Formula $X,Y$
\end_inset

 בת
\begin_inset Quotes erd
\end_inset

ל כי הן תת קבוצות של פתרונות חוקיים לבעיה, ו-
\begin_inset Formula $\left|Y\right|>\left|X\right|$
\end_inset

 ולכן מלמת ההחלפה, קיים 
\begin_inset Formula $y\in Y\backslash X$
\end_inset

 כך ש-
\begin_inset Formula $X\cup\left\{ y\right\} $
\end_inset

 בת
\begin_inset Quotes erd
\end_inset

ל.
 כלומר, קיים 
\begin_inset Formula $1\leq t\leq j$
\end_inset

 כך שהוקטור 
\begin_inset Formula $i_{t}\in s^{*}$
\end_inset

 אינו ת
\begin_inset Quotes erd
\end_inset

ל ב-
\begin_inset Formula $\left\{ g_{1},\dots,g_{j-1}\right\} $
\end_inset

 ולכן 
\begin_inset Formula $i_{t}$
\end_inset

 היה ניתן לבחירה באיטרציה ה-
\begin_inset Formula $j$
\end_inset

 של האלג' החמדן.
\end_layout

\begin_layout Proof
בנוסף, מכיוון ש- 
\begin_inset Formula $t\leq j$
\end_inset

 מתקיים 
\begin_inset Formula $\mu\left(i_{t}\right)\geq\mu\left(i_{j}\right)>\mu\left(g_{j}\right)$
\end_inset

 ולכן האלג' החמדן באיטרציה ה-
\begin_inset Formula $j$
\end_inset

 שלו בחר וקטור שמשקלו אינו מקסימלי מבין כל הוקטרים ב-
\begin_inset Formula $A$
\end_inset

, בסתירה לדרך פעולותו.
 
\end_layout

\begin_layout Standard

\color lightgray
חלק ב' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le32}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
בעיה אלגוריתמית גנרית - מטרואידים
\end_layout

\begin_layout Description
קלט קבוצה סופית של אובייקטים 
\begin_inset Formula $B=\left\{ x_{1},\dots,x_{n}\right\} $
\end_inset

, פ' משקל 
\begin_inset Formula $\mu:B\to\mathbb{R}_{+}$
\end_inset

, משפחה 
\begin_inset Formula $I$
\end_inset

 של תת קבוצות של 
\begin_inset Formula $B$
\end_inset

 )שמייצגת את מרחב הפתרונות החוקיים לבעיה(.
\end_layout

\begin_layout Description
פלט תת קבוצה 
\begin_inset Formula $s$
\end_inset

 של 
\begin_inset Formula $B$
\end_inset

, 
\begin_inset Formula $s\in I$
\end_inset

 כך ש-
\begin_inset Formula $\mu\left(s\right)$
\end_inset

 מקסימלי.
\end_layout

\begin_layout Standard

\size larger
דוגמאות למטרואידים
\end_layout

\begin_layout Enumerate
קבוצת וקטורים בת
\begin_inset Quotes erd
\end_inset

ל בעלת משקל מקסימלי.
 
\begin_inset Formula $B=\left\{ v_{1},\dots,v_{n}\right\} $
\end_inset

, 
\begin_inset Formula $I=\left\{ S\subseteq\left[n\right]:\text{הם בת"ל}\;S\text{הוקטורים עם אינדקסים ב-}\right\} $
\end_inset

, פ' המשקל 
\begin_inset Formula $\mu$
\end_inset

 כפי שמוגדרת בבעיה.
\end_layout

\begin_layout Enumerate
שיבוץ משימות.
 
\begin_inset Formula $B=\left\{ \left[s_{1},f_{1}\right],\dots,\left[s_{n},f_{n}\right]\right\} $
\end_inset

, 
\begin_inset Formula $I=\left\{ S\subseteq\left[n\right]:\text{זרים זה לזה}\;S\text{הוקטורים עם אינדקסים ב-}\right\} $
\end_inset

 ונגדיר פ' משקל 
\begin_inset Formula $\mu\equiv1$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
וריאציה על שיבוץ משימות: אותם נתונים, הפעם עם 
\begin_inset Formula $\mu\left(i\right)=f_{i}-s_{i}$
\end_inset

, 
\begin_inset Formula $\forall i\in\left[n\right]$
\end_inset

, תהיה הבעיה שממקסמת את סה
\begin_inset Quotes erd
\end_inset

כ זמן ביצוע המשימות לעומת מספר משימות.
\end_layout

\end_deeper
\begin_layout Section
שבוע 
\begin_inset Formula $\mathbb{IV}$
\end_inset

 | תכנון דינמי
\end_layout

\begin_layout Subsection
הרצאה
\end_layout

\begin_layout Standard

\color lightgray
חלק א' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le41}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Description
דוגמה בעיית התרמיל השלם: 
\begin_inset Formula $\left(v_{1},w_{1}\right),\dots,\left(v_{n},w_{n}\right)$
\end_inset

, 
\begin_inset Formula $W$
\end_inset

 המשקל המירבי של התרמיל, 
\begin_inset Formula $B=\left[n\right]$
\end_inset

, 
\begin_inset Formula $I=\left\{ S\subseteq\left[n\right]:\sum\limits _{i\in S}w_{i}\in W\right\} $
\end_inset

, 
\begin_inset Formula $\mu\left(x_{i}\right)=v_{i}$
\end_inset

.
 )בניגוד לשברי, נכניס את כל האיבר או שלא נכניס אותו בכלל(.
\end_layout

\begin_layout Standard

\size larger
אלגוריתם חמדן גנרי לפתרון הבעיה
\end_layout

\begin_layout Description
פסאודו-קןד 
\begin_inset Formula $\;$
\end_inset


\end_layout

\begin_deeper
\begin_layout Standard

\numeric on
0
\numeric off
.
 עיבוד מידע מקדים: נמיין את הפריטים לפי משקלם בסדר יורד.
\end_layout

\begin_layout Standard

\numeric on
1
\numeric off
.
 אתחול: 
\begin_inset Formula $A=\left[n\right]$
\end_inset

, 
\begin_inset Formula $G=\varnothing$
\end_inset

.
\end_layout

\begin_layout Standard

\numeric on
2
\numeric off
.
 איטרציה: בכל שלב נעביר מ-
\begin_inset Formula $A$
\end_inset

 ל-
\begin_inset Formula $G$
\end_inset

 את האינדקס הנמוך ביותר )בחירה חמדנית( ונמחק מ-
\begin_inset Formula $A$
\end_inset

 את כל האינדקסים 
\begin_inset Formula $x$
\end_inset

 כך ש-
\begin_inset Newline linebreak
\end_inset


\begin_inset Formula $I\not\ni G\cup\left\{ x\right\} $
\end_inset

 )חוקיות(.
\end_layout

\begin_layout Standard

\numeric on
3
\numeric off
.
 סיום: כאשר 
\begin_inset Formula $A=\varnothing$
\end_inset

 נעצור ונחזיר את 
\begin_inset Formula $G$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
זמן
\begin_inset Formula $\;$
\end_inset

ריצה נסמן 
\begin_inset Formula $T$
\end_inset

 זמן ריצה לפתרון של הבעיה האלגוריתמית 
\begin_inset Quotes eld
\end_inset

בהינתן תת קבוצה 
\begin_inset Formula $S\subseteq B$
\end_inset

, האם 
\begin_inset Formula $S\in I$
\end_inset

?
\begin_inset Quotes erd
\end_inset

.
 לכן זמן הריצה של האלג' הגנרי הוא 
\begin_inset Formula $\ot{n\log n+n\cdot T}$
\end_inset

.
\end_layout

\begin_layout Description
משפט אם 
\begin_inset Formula $\left(B,I\right)$
\end_inset

 הוא מטרואיד, אזי האלג' החמדן הגנרי מחזיר פתרון אופטימלי לבעיה לכל פ' משקל.
\end_layout

\begin_layout Proof
בתרגיל.
\end_layout

\begin_layout Description
משפט תהי 
\begin_inset Formula $I$
\end_inset

 משפחה של תת קבוצות של 
\begin_inset Formula $B$
\end_inset

 הינה לא ריקה ותורשתית אבל לא מקיימת את תכונת ההחלפה אזי קיימת פ' משקל
\begin_inset Newline linebreak
\end_inset


\begin_inset Formula $\mu:B\to\mathbb{R}_{+}$
\end_inset

, כך שהאלג' החמדן הגנרי לא מחזיר פתרון אופטימלי לבעיה המתאימה.
\end_layout

\begin_layout Proof
מהנתון, קיימות 
\begin_inset Formula $S,T\in I$
\end_inset

 כך ש-
\begin_inset Formula $\left|T\right|>\left|S\right|$
\end_inset

 אבל 
\begin_inset Formula $\forall t\in T\backslash S$
\end_inset

 מתקיים 
\begin_inset Formula $S\cup\left\{ t\right\} \notin I$
\end_inset

.
 נבנה פ' משקל 
\begin_inset Formula $\mu$
\end_inset

 ע
\begin_inset Quotes erd
\end_inset

י
\begin_inset Formula 
\[
\mu\left(x\right)=\begin{cases}
1 & x\in S\\
1-\epsilon & x\in T\backslash S\\
\epsilon & x\notin S\cup T
\end{cases}
\]

\end_inset

עבור 
\begin_inset Formula $\epsilon=\frac{\left|T\right|-\left|S\right|}{2\left|B\right|}$
\end_inset

 )בעיקרון פשוט ממש קטן(.
 רעיון ההוכחה הוא שהאלג' החמדן יבחר את כל 
\begin_inset Formula $S$
\end_inset

 ואז לא יוכל לקחת מ-
\begin_inset Formula $T$
\end_inset

 איברים כי תכונת ההחלפה לא מתקיימת, ואז יאלץ לבחור לכל היותר איברים עם משקל
 
\begin_inset Formula $\epsilon$
\end_inset

 )קטן מאוד(.
 לעומת זאת, פתרון אופטימלי יקח את כל האיברים מ-
\begin_inset Formula $T$
\end_inset

 ולא שום דבר אחר מ-
\begin_inset Formula $S$
\end_inset

 או שאר האיברים ויקבל משקל יותר גבוה.
\end_layout

\begin_layout Proof
לפי דרך פעולותו של האלג' החמדן הגנרי, מכיוון ש-
\begin_inset Formula $S\in I$
\end_inset

 ו-
\begin_inset Formula $I$
\end_inset

 היא משפחה תורשתית, ב-
\begin_inset Formula $\left|S\right|$
\end_inset

 האיטרציות הראשונות שלו האלג' החמדן יכניס ל-
\begin_inset Formula $G$
\end_inset

 את כל אברי הקבוצה 
\begin_inset Formula $S$
\end_inset

.
 בשלב העדכון של האיטרציה ה-
\begin_inset Formula $\left|S\right|$
\end_inset

, האלג' ימחק מ-
\begin_inset Formula $A$
\end_inset

 את כל האיברים ב-
\begin_inset Formula $T\backslash S$
\end_inset

 )כי 
\begin_inset Formula $\forall t\in T\backslash S$
\end_inset

, 
\begin_inset Formula $I\not\ni S\cup\left\{ t\right\} $
\end_inset

( ולכן
\begin_inset Formula 
\[
\mu\left(G\right)\leq\mu\left(S\right)+\mu\left(\left(S\cup T\right)^{C}\right)=\left|S\right|+\epsilon\left|\left(S\cup T\right)^{C}\right|<\left|S\right|+\epsilon\left|B\right|=\left|S\right|+\frac{\left|T\right|-\left|S\right|}{2\left|B\right|}\left|B\right|=\frac{\left|S\right|+\left|T\right|}{2}
\]

\end_inset

מצד שני,
\begin_inset Formula 
\[
\mu\left(T\right)\geq\left(1-\epsilon\right)\left|T\right|=\left|T\right|-\epsilon\left|T\right|\geq\left|T\right|-\epsilon\left|B\right|=\left|T\right|-\frac{\left|T\right|-\left|S\right|}{2\left|B\right|}\left|B\right|=\left|S\right|+\left|T\right|>\mu\left(G\right)
\]

\end_inset

ולכן קיים פתרון חוקי לבעיה )הקבוצה 
\begin_inset Formula $T$
\end_inset

( שמשקלו גדול יותר מזה של הפתרון החמדן.
 כלומר, האלג' החמדן הגנרי לא מחזיר פתרון אפטימלי.
\end_layout

\begin_layout Description
הערה מהמשפט הראשון ניתן להסיק שהמשפחות 
\begin_inset Formula $I$
\end_inset

 בבעית שיבוץ משימות ובעית התרמיל השלם הן )כנראה( אינן מטרואידים.
 אכן, עבור קבוצה שמכילה שני קטעים זרים וקבוצה נוספת שמכילה איבר אחד שחותכת
 את שני הקטעים הנ
\begin_inset Quotes erd
\end_inset

ל, נקבל שתכונת ההחלפה של מטרואידים לא מתקיימת.
\end_layout

\begin_layout Standard

\size larger
אלגוריתמי תכנון דינמי
\end_layout

\begin_layout Standard
עקרון אלגוריתמי חדש: נחלק את הבעיה הנתונה לתת בעיות.
 נפתור את תת הבעיות ונמזג את הפתרונות לפתרון הבעיה כולה.
 בשפת רחוב 
\begin_inset Quotes eld
\end_inset

הפרד ומשול
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Description
דוגמה חישוב פ' המוגדרת באופן ריקורסיבי.
 נתונה פ' 
\begin_inset Formula $T\left(a,b\right)$
\end_inset

 של שני פרמטרים טבעיים המוגדרת ע
\begin_inset Quotes erd
\end_inset

י
\begin_inset Formula 
\[
T\left(a,b\right)=\begin{cases}
1 & a=0\;\lor\;b=0\\
T\left(a-1,b\right)+T\left(a,b-1\right) & \textrm{otherwise}
\end{cases}
\]

\end_inset


\end_layout

\begin_deeper
\begin_layout Description
פתרון
\begin_inset Formula $\;$
\end_inset

נאיבי ריקורסיה, 
\begin_inset Formula $T\left(2021,2021\right)$
\end_inset

 מתפצל ל-
\begin_inset Formula $T\left(2021,2020\right)$
\end_inset

 ו-
\begin_inset Formula $T\left(2020,2021\right)$
\end_inset

 וכן הלאה.
 עומק העץ הוא 
\begin_inset Formula $2021$
\end_inset

 ולכן זמן הריצה הוא 
\begin_inset Formula $\om{2^{2021}}$
\end_inset

.
\end_layout

\begin_layout Standard
מה הן תת הבעיות השונות שנצטרך לפתור לאורך הריצה של הריקורסיה? נשים לב כי
 כל תתי הבעיות הללו הן חישוב של 
\begin_inset Formula $T\left(a,b\right)$
\end_inset

, עבור 
\begin_inset Formula $0\leq a,b\leq2021$
\end_inset

 ומספרן הוא 
\begin_inset Formula $2^{22}=\left(2048\right)^{2}>\left(2021\right)^{2}$
\end_inset

 שזה כבר הרבה פחות.
\end_layout

\begin_layout Standard
לחלופין, כדי לפתור כל בעיה חלקית רק פעם אחת, נבנה טבלה בגודל 
\begin_inset Formula $n^{2}$
\end_inset

 עם 
\begin_inset Formula $n=2021$
\end_inset

, בה במקום ה-
\begin_inset Formula $ij$
\end_inset

 נשבץ את הפתרון לבעיה 
\begin_inset Formula $T\left(i,j\right)$
\end_inset

.
 במצב זה, זמן הריצה של האלג' יורד ל-
\begin_inset Formula $\ot{n^{2}}$
\end_inset

 )נצטרך לפתור רק 
\begin_inset Formula $n^{2}$
\end_inset

 חיושבים יחודיים(.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
בעית ניתוב משימות
\end_layout

\begin_layout Description
סיפור
\begin_inset Formula $\;$
\end_inset

מסגרת פריט עובר תהליך ייצור.
 יש שני פסי ייצור זהים, על כל פס מספר תחנות עבודה.
 המחירים של מעבר מתחנה לתחנה שונים זה מזה.
 נרצה למצוא מסלול לפריט בין תחנות העבודה כדי למזער את המחיר הכולל של תהליך
 הייצור.
\end_layout

\begin_layout Description
קלט 
\begin_inset Formula $x_{1},\dots,x_{n}$
\end_inset

, 
\begin_inset Formula $y_{1},\dots,y_{n}$
\end_inset

, 
\begin_inset Formula $a_{2},\dots,a_{n-1}$
\end_inset

, 
\begin_inset Formula $b_{2},\dots,b_{n-1}$
\end_inset

 כאשר הנתונים הנ
\begin_inset Quotes erd
\end_inset

ל מתאימים לגרף הבא
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/tasks-routing-input.png
	scale 70

\end_inset


\end_layout

\begin_layout Standard
כלומר 
\begin_inset Formula $x_{i}$
\end_inset

 המחיר המעבר מהתחנה ה-
\begin_inset Formula $u_{i-1}$
\end_inset

 לתחנה ה-
\begin_inset Formula $u_{i}$
\end_inset

, 
\begin_inset Formula $y_{i}$
\end_inset

 המעבר מ-
\begin_inset Formula $d_{i-1}$
\end_inset

 ל-
\begin_inset Formula $d_{i}$
\end_inset

, 
\begin_inset Formula $a_{i}$
\end_inset

 המעבר בין 
\begin_inset Formula $u_{i-1}$
\end_inset

 ל-
\begin_inset Formula $d_{i}$
\end_inset

 ו-
\begin_inset Formula $b_{i}$
\end_inset

 המעבר מ-
\begin_inset Formula $d_{i-1}$
\end_inset

 ל-
\begin_inset Formula $u_{i}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
פלט מסלול מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $f$
\end_inset

 בעל מחיר מינימלי.
\end_layout

\begin_layout Itemize
אלג' חמדן טבעי שבכל פיצול מעדיף את הכיוון הזול יותר - לא יעבוד )הסטודנטית
 המשקיעה תבין למה(.
\end_layout

\begin_layout Itemize
הפתרון הנאיבי הוא לעבור על כל המסלולים.
 גודל מרחב הפתרונות החוקיים פה הוא 
\begin_inset Formula $2^{n-1}$
\end_inset

 ולכן המעבר על כל האפשרויות יקר מדי ולא משתלם.
\end_layout

\begin_layout Itemize
האלג' של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Dijkstra
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 פותר את הבעיה הזו.
 במקרה זה, האלג' רץ בזמן 
\begin_inset Formula $\oo{n\log n}$
\end_inset


\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
.
\end_layout

\begin_layout Standard

\color lightgray
חלק ב' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le42}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
נוכל לתכנן אלג' שרץ בזמן לינארי באמצעות תכנון דינמי.
 נבחין הבחנה קריטית - כל תת מסלול של מסלול במחיר מינימלי הוא בהכרח אופטימלי
 בעצמו.
 ככלל, הבחנה זו נקראת עקרון בלמן: תת פתרון של פתרון אופטימלי הוא אופטימלי
 בעצמו.
\end_layout

\begin_layout Description
פתרון
\begin_inset Formula $\;$
\end_inset

דינאמי 
\end_layout

\begin_deeper
\begin_layout Enumerate
הגדרת תתי בעיות: נתבונן בפיצול של הבעיה הגדולה לשתי תתי בעיות לפי הצעד הראשון
 במסלול.
 אם בחרנו ללכת מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $u_{1}$
\end_inset

, נגיע לתת בעיה אנלוגית, שהפעם הצעד הבא יהיה או ל-
\begin_inset Formula $u_{2}$
\end_inset

 או ל-
\begin_inset Formula $d_{2}$
\end_inset

.
 נרצה לגלות את התלות של המחיר האופטימלי של הבעיה הגדולה במחירים של תת הבעיות
 האלה.
 נסמן ב-
\begin_inset Formula $p^{*}$
\end_inset

 את המחיר של הבעיה הגדולה, ב-
\begin_inset Formula $p_{u}\left[k\right]$
\end_inset

 את המחיר האופטימלי להגיע מ-
\begin_inset Formula $u_{k}$
\end_inset

 ל-
\begin_inset Formula $f$
\end_inset

 וב-
\begin_inset Formula $p_{d}\left[k\right]$
\end_inset

 להגיע מ-
\begin_inset Formula $d_{k}$
\end_inset

 ל-
\begin_inset Formula $f$
\end_inset

 עבור 
\begin_inset Formula $k\in\left[n-1\right]$
\end_inset

.
 לכן מתקיים 
\begin_inset Formula 
\[
p^{*}=\min\left\{ x_{1}+p_{u}\left[1\right],y_{1}+p_{d}\left[1\right]\right\} 
\]

\end_inset


\end_layout

\begin_layout Enumerate
נוסחאת ריקורסיה: במהלך הפיצולים הבאים נגיע לכל תתי הבעיות שהן הגעה מכל אחת
 התחנות 
\begin_inset Formula $d_{1},\dots,d_{n-1},u_{1},\dots,u_{n-1}$
\end_inset

 ל-
\begin_inset Formula $f$
\end_inset

.
 נוסחת הנסיגה למחיר אופטימלי לפתרון שמתחיל ב-
\begin_inset Formula $u_{k}$
\end_inset

 הוא
\begin_inset Formula 
\[
p_{u}\left[k\right]=\begin{cases}
x_{n} & k=n-1\\
\min\left\{ x_{k+1}+p_{u}\left[k+1\right],a_{k+1}+p_{d}\left[k+1\right]\right\}  & k<n-1
\end{cases}
\]

\end_inset

והסטודנטית המשקיעה תנסח את הנוחסה האנלוגית ל-
\begin_inset Formula $p_{d}\left[k\right]$
\end_inset

.
\end_layout

\begin_layout Enumerate
בניית טבלה: נבנה טבלה 
\begin_inset Formula $2\times n$
\end_inset

 שבשורה עליונה נשבץ את 
\begin_inset Formula $p_{u}\left[i\right]$
\end_inset

 ובתחתונה את 
\begin_inset Formula $p_{d}\left[i\right]$
\end_inset

 )ובעמודה ה-
\begin_inset Formula $0$
\end_inset

 את 
\begin_inset Formula $p^{*}$
\end_inset

(.
\end_layout

\begin_deeper
\begin_layout Standard
מילוי הטבלה: נמלא את הטבלה בעמודות מימין לשמאל )
\begin_inset Formula $i$
\end_inset

 יורד(, כאשר בעמודה ה-
\begin_inset Formula $\left(n-1\right)$
\end_inset

 נרשום 
\begin_inset Formula $\left(\begin{smallmatrix}x_{n}\\
y_{n}
\end{smallmatrix}\right)$
\end_inset

.
 עבור 
\begin_inset Formula $k<n-1$
\end_inset

, בהינתן העמודה העמודה ה-
\begin_inset Formula $k+1$
\end_inset

, נוכל למלא את העמודה ה-
\begin_inset Formula $k$
\end_inset

 לפי נוסחת הריקורסיה הכללית בזמן 
\begin_inset Formula $\oo 1$
\end_inset

.
 
\end_layout

\begin_layout Standard
חילוץ הפתרון: כדי למצוא את המסלול האופטימלי, נזכור בזמן המילוי בכל תא בטבלה
 מהו הכיוון הנכון לבחירה בשלב זה.
\end_layout

\end_deeper
\begin_layout Enumerate
ניתוח זמן ריצה: סה
\begin_inset Quotes erd
\end_inset

כ נמלא כל תא בזמן 
\begin_inset Formula $\oo 1$
\end_inset

 ויש בטבלה 
\begin_inset Formula $\oo n$
\end_inset

 תאים ולכן נוכל למלא את הטבלה כולה בזמן 
\begin_inset Formula $\oo n$
\end_inset

.
 כשנמלא את הטבלה כולה, נחזיר את העמודה ה-
\begin_inset Formula $0$
\end_inset

.
 
\end_layout

\end_deeper
\begin_layout Subsection
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
texorpdfstring{
\backslash
protect
\backslash
hypertarget{ta4}{תרגול}}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Description
דוגמה חישוב פיבונאצ'י.
 
\begin_inset Formula $a_{n}=a_{n-1}+a_{n-2}$
\end_inset

.
 בתכנון דינמי, נשמור מערך עם ערכי פיבונאצ'י לכל אינדקס.
 זמן הריצה יהיה 
\begin_inset Formula $\oo n$
\end_inset

 כי נפתור כל בעיה יחודית פעם אחת בלבד.
 למרות שרשמית, הקלט הוא מספר ולכן זמן הריצה הוא על 
\begin_inset Formula $k=\log n$
\end_inset

 ולכן לכאורה זמן הריצה הוא 
\begin_inset Formula $\oo{2^{k}}$
\end_inset

, וזה שיפור לעומת הפתרון הנאיבי שהוא 
\begin_inset Formula $\oo{2^{2^{k}}}$
\end_inset

 )שזה עדיין שיפור(.
 לפיבונאצ'י יש נוסחה ולכן ישנו פתרון גם ב-
\begin_inset Formula $\oo 1$
\end_inset

.
\end_layout

\begin_layout Standard

\size larger
סכימה לתכנות דינאמי
\end_layout

\begin_layout Enumerate
הגדרת תתי בעיות.
\end_layout

\begin_layout Enumerate
הגדרת נוסחאת ריקורסיה )המקשרת בין תת הבעיות לבעיה הגדולה(.
\end_layout

\begin_layout Enumerate
בניית טבלה - תיאור, מילוי וחילוץ פתרון.
\end_layout

\begin_layout Enumerate
ניתוח זמן ריצה.
\end_layout

\begin_layout Enumerate
הוכחת אופטימליות )אינדוקציה על מילוי הטבלה(.
\end_layout

\begin_layout Standard

\size larger
לוח משימות תכנות
\end_layout

\begin_layout Description
סיפור
\begin_inset Formula $\;$
\end_inset

מסגרת נרצה לסדר לוח זמנים לביצוע משימות קלות וקשות.
 אם מבצעים משימה קשה בשבוע כלשהו, חייבים לנוח בשבוע שלפניו.
 נרצה למקסם את הרווח על ביצוע המשימות.
\end_layout

\begin_layout Description
קלט 
\begin_inset Formula $\left\{ l_{i},h_{i}\right\} _{i=1}^{n}$
\end_inset

 כאשר 
\begin_inset Formula $l_{i}$
\end_inset

 הוא הרווח מביצוע משימה קלה בשבוע ה-
\begin_inset Formula $i$
\end_inset

 ו-
\begin_inset Formula $h_{i}$
\end_inset

 הרווח מביצוע משימה קשה בשבוע ה-
\begin_inset Formula $i$
\end_inset

.
\end_layout

\begin_layout Description
פלט רשימת משימות שמניבות את הרווח האופטימלי ל-
\begin_inset Formula $n$
\end_inset

 שבועות.
\end_layout

\begin_layout Description
דוגמה השורה התחתונה היא פתרון אוטפימלי לבעיה )השבוע הראשון מתחיל במשימה
 קשה כי לא ביצענו משימה בשבוע שלפניו(.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="6">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
5
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $l$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
10
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
10
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
15
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
15
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
5
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $h$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
15
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
20
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
10
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $h$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $l$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\backslash$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $h$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $l$
\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_deeper
\begin_layout Description
פתרון
\begin_inset Formula $\;$
\end_inset

דינאמי 
\end_layout

\begin_deeper
\begin_layout Enumerate
תתי בעיות: מציאת רווח אופטימלי לשבוע ה-
\begin_inset Formula $i$
\end_inset

, 
\begin_inset Formula $i\in\left[n\right]$
\end_inset

.
\end_layout

\begin_layout Enumerate
נוסחת ריקורסיה: נסמן 
\begin_inset Formula $M\left[i\right]$
\end_inset

 הפתרון האופטימלי לשבוע ה-
\begin_inset Formula $i$
\end_inset

 )סה
\begin_inset Quotes erd
\end_inset

כ הרווח עד ל-
\begin_inset Formula $i$
\end_inset

 כולל(.
 אם נבצע משימה קשה אז
\begin_inset Newline linebreak
\end_inset


\begin_inset Formula $M\left[i\right]=h_{i}+M\left[i-2\right]$
\end_inset

 ואם נבצע קלה אז 
\begin_inset Formula $M\left[i\right]=l_{i}+M\left[i-1\right]$
\end_inset

.
 לכן נוסחת הנסיגה היא
\begin_inset Formula 
\[
M\left[i\right]=\begin{cases}
0 & i=0\\
\max\left\{ h_{1},l_{1}\right\}  & i=1\\
\max\left\{ h_{i}+M\left[i-2\right],l_{i}+M\left[i-1\right]\right\}  & i>1
\end{cases}
\]

\end_inset


\end_layout

\begin_layout Enumerate
הגדרת טבלה: נבנה טבלה בגודל 
\begin_inset Formula $1\times\left(n+1\right)$
\end_inset

.
 נמלא את הטבלה משמאל לימין ונמלא כל תא בעזרת נוסחת הריקורסיה.
\end_layout

\begin_deeper
\begin_layout Standard
חילוץ הפתרון: בכל תא בטבלה נשמור בנוסף את סוג המשימה שהובילה לערך האופטימלי
 לאותו שבוע )אם עכשיו בחרנו 
\begin_inset Formula $h$
\end_inset

 אז לפניכן נשמור 
\begin_inset Formula $\varnothing$
\end_inset

 ואם בחרנו 
\begin_inset Formula $l$
\end_inset

 אז נשמור את המשימה של השבוע הקודם(.
 בסיום מילוי הבטלה נחלץ מ-
\begin_inset Formula $i=n$
\end_inset

 עד 
\begin_inset Formula $i=0$
\end_inset

 ונכניס את המשימה שביצענו באופן הבא:
\end_layout

\begin_layout Itemize
אם ביצענו משימה קלה בשבוע ה-
\begin_inset Formula $i$
\end_inset

, נוסיף אותה ונמשיך לשבוע 
\begin_inset Formula $i-1$
\end_inset

.
\end_layout

\begin_layout Itemize
אם ביצענו משימה קשה בשבוע ה-
\begin_inset Formula $i$
\end_inset

, נוסיף אותה ונמשיך לשובע ה-
\begin_inset Formula $i-2$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
זמן ריצה: מילוי כל תא בטבלה לוקח 
\begin_inset Formula $\oo 1$
\end_inset

 ויש 
\begin_inset Formula $\oo n$
\end_inset

 תאים ולכן זמן הריצה הכולל הוא 
\begin_inset Formula $\oo n$
\end_inset

.
\end_layout

\begin_layout Enumerate
הוכחת אופט': נוכיח באינדוקציה על מילוי התא ה-
\begin_inset Formula $i$
\end_inset

, כי התא ה-
\begin_inset Formula $i$
\end_inset

 מכיל את הרווח האופטימלי לשבוע ה-
\begin_inset Formula $i$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
בסיס )
\begin_inset Formula $i=0$
\end_inset

(: אין משימות לבצע ולכן הערך האופט' הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
\end_layout

\begin_layout Standard
בסיס* )
\begin_inset Formula $i=1$
\end_inset

(: אין אילוצי מנוחה ולכן הרווח האופטימלי הוא המקסימום בין האפשרויות.
\end_layout

\begin_layout Standard
צעד )
\begin_inset Formula $1,\dots,i-1\to i$
\end_inset

(: בשבוע ה-
\begin_inset Formula $i$
\end_inset

 אפשר לבצע משימה קשה ואז הרווח יהיה 
\begin_inset Formula $l_{i}+M\left[i-2\right]$
\end_inset

 או משימה קלה ואז הרווח יהיה 
\begin_inset Formula $l_{i}+M\left[i-1\right]$
\end_inset

.
 מה
\begin_inset Quotes erd
\end_inset

א התאים 
\begin_inset Formula $M\left[i-2\right]$
\end_inset

 ו-
\begin_inset Formula $M\left[i-1\right]$
\end_inset

 מכילים ערך אופט' ולכן לקיחת המקסימום מבין 
\begin_inset Formula $2$
\end_inset

 האפשרויות תחזיר רווח אופט'.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
הערה בבעיות של תכנון דינאמי לרוב לא נתעסק יותר מדי בהוכחת הנכונות כי רוב
 ההוכחה היא 
\begin_inset Quotes eld
\end_inset

זה ככה כי זה ככה
\begin_inset Quotes erd
\end_inset

 ~ירדן יגיל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2021
\numeric off
.
\end_layout

\begin_layout Standard

\size larger
תת-מחרוזת משותפת מקסימלית
\end_layout

\begin_layout Description
קלט 
\begin_inset Formula $2$
\end_inset

 מחרוזות, 
\begin_inset Formula $x=x_{1},\dots,x_{n}$
\end_inset

, 
\begin_inset Formula $y_{1}=y_{1},\dots,y_{m}$
\end_inset

, 
\begin_inset Formula $n,m\in\mathbb{N}$
\end_inset

.
\end_layout

\begin_layout Description
פלט תמ
\begin_inset Quotes erd
\end_inset

א - 
\series bold
ת
\series default
ת 
\series bold
מ
\series default
חרוזת משותפת 
\series bold
א
\series default
רוכה ביותר )לא תכנית מתאר ארצית(.
\end_layout

\begin_layout Description
הערה נסמן 
\begin_inset Formula $x^{i}$
\end_inset

 הרישא באורך 
\begin_inset Formula $i$
\end_inset

 של 
\begin_inset Formula $x$
\end_inset

 )ובאותו האופן על 
\begin_inset Formula $y$
\end_inset

(.
 
\end_layout

\begin_layout Description
פתרון
\begin_inset Formula $\;$
\end_inset

דינאמי 
\begin_inset Formula $\;$
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
תתי בעיות: מציאת תמ
\begin_inset Quotes erd
\end_inset

א של 
\begin_inset Formula $x^{i},y^{i}$
\end_inset

, 
\begin_inset Formula $\forall i,\in j\in\left[n\right]$
\end_inset

.
\end_layout

\begin_layout Enumerate
נוסחת הריקורסיה: נסמן 
\begin_inset Formula $f\left(i,j\right)$
\end_inset

 אורך התמ
\begin_inset Quotes erd
\end_inset

א של 
\begin_inset Formula $x^{i},y^{i}$
\end_inset

.
\begin_inset Formula 
\[
f\left(i,j\right)=\begin{cases}
0 & i=0\lor j=0\\
f\left(i-1,j-1\right)+1 & x_{i}=y_{j}\\
\max\left\{ f\left(i,j-1\right),f\left(i-1,j\right)\right\}  & x_{i}\neq y_{j}
\end{cases}
\]

\end_inset


\end_layout

\begin_layout Enumerate
בניית טבלה: נבנה טבלה בגודל 
\begin_inset Formula $\left(n+1\right)\left(m+1\right)$
\end_inset

.
 נמלא את הטבלה לפי שורות מהתחתונה לעליונה )כאשר השורה התחתונה היא 
\begin_inset Formula $j=0$
\end_inset

 והעליונה 
\begin_inset Formula $j=n$
\end_inset

( וכל שורה משמאל לימין )שמאל 
\begin_inset Formula $i=0$
\end_inset

 וימין 
\begin_inset Formula $i=n$
\end_inset

( כאשר נמלא כל תא באמצעות נוסחת הריקורסיה.
\end_layout

\begin_deeper
\begin_layout Standard
חילוץ הפתרון: בכל תא נשמור גם מצביע אל התא שממנו קיבלנו את הערך לאותו התא.
 בסיום מילוי הטבלה נתחיל מהתא 
\begin_inset Formula $\left(m,n\right)$
\end_inset

 ונתקדם לפי המצביעים ששמרנו - אם הגענו למצביע שהולך באלכסון אז נוסיף את
 האות לתמ
\begin_inset Quotes erd
\end_inset

א )כי זה אומר שהנוסחה הריקורסיבי הלכה ל-
\begin_inset Formula $\left(i-1,j-1\right)$
\end_inset

 ולכן 
\begin_inset Formula $x_{i}=y_{j}$
\end_inset

 ולכן היא חלק מהתמ
\begin_inset Quotes erd
\end_inset

א(.
\end_layout

\end_deeper
\begin_layout Enumerate
זמן ריצה: מילוי כל תא לוקח 
\begin_inset Formula $\oo 1$
\end_inset

 ויש 
\begin_inset Formula $\oo{mn}$
\end_inset

 תאים תאים, לכן זמן מילוי הטבלה לוקח 
\begin_inset Formula $\oo{mn}$
\end_inset

.
 חילוץ הפתרון לוקח 
\begin_inset Formula $\oo{m+n}$
\end_inset

 ולכן סה
\begin_inset Quotes erd
\end_inset

כ זמן הריצה הוא 
\begin_inset Formula $\oo{mn}$
\end_inset

.
\end_layout

\begin_layout Enumerate
הוכחת אופט': נוכיח באינדוקציה כי התא 
\begin_inset Formula $M\left[i,j\right]$
\end_inset

 מכיל את אורך התמ
\begin_inset Quotes erd
\end_inset

א עבור 
\begin_inset Formula $x^{i},y^{i}$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
בסיס )
\begin_inset Formula $i=0$
\end_inset

 או 
\begin_inset Formula $j=0$
\end_inset

(: תמ
\begin_inset Quotes erd
\end_inset

א עם מחרוזת ריקה היא תמיד באורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
\end_layout

\begin_layout Standard
צעד )נניח שמילאנו עד כה באופן אופט'(: תהי 
\begin_inset Formula $s=s_{1},\dots,s_{r}$
\end_inset

 תמ
\begin_inset Quotes erd
\end_inset

א של 
\begin_inset Formula $x^{i},y^{i}$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $x_{i}=y_{j}$
\end_inset

 ולכן 
\begin_inset Formula $x_{i}=y_{j}=s_{r}$
\end_inset

 כי אחרת היינו מקבלים סתירה לאופט' של 
\begin_inset Formula $s$
\end_inset

.
 נותר להסתכל על 
\begin_inset Formula $x^{i-1},y^{j-1}$
\end_inset

, ומה
\begin_inset Quotes erd
\end_inset

א התא 
\begin_inset Formula $M\left[i-1,j-1\right]$
\end_inset

 מכיל את אורך התמ
\begin_inset Quotes erd
\end_inset

א של 
\begin_inset Formula $x^{i-1},y^{j-1}$
\end_inset

 ולכן ערכו 
\begin_inset Formula $r-1$
\end_inset

.
 קיבלנו כי
\begin_inset Formula 
\[
M\left[i,j\right]=M\left[i-1,j-1\right]+1=r-1+1
\]

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $x_{i}\neq y_{j}$
\end_inset

 ולכן 
\begin_inset Formula $x_{i}\neq s_{r}$
\end_inset

 או )לא בלעדי( 
\begin_inset Formula $y_{j}\neq s_{r}$
\end_inset

, לכן נסתכל על 
\begin_inset Formula $x^{i-1},y^{j}$
\end_inset

 ועל 
\begin_inset Formula $x^{i},y^{j-1}$
\end_inset

.
 מה
\begin_inset Quotes erd
\end_inset

א התאים 
\begin_inset Formula $M\left[i,j-1\right]$
\end_inset

 ו-
\begin_inset Formula $M\left[i-1,j\right]$
\end_inset

 מכילים את אורך התמ
\begin_inset Quotes erd
\end_inset

א בהתאמה.
 לכן אם ניקח את הערך המקסימלי מבין השניים, נקבל את אורך התמ
\begin_inset Quotes erd
\end_inset

א של 
\begin_inset Formula $x^{i},y^{j}$
\end_inset

.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
דוגמה 
\begin_inset Formula $X=ABCD,Y=BDC$
\end_inset

 כאן התמ
\begin_inset Quotes erd
\end_inset

א היא 
\begin_inset Formula $BC$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="6">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
C
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\leftarrow0$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\text{\ensuremath{\underset{\downarrow}{1}}}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\text{\ensuremath{\underset{\swarrow\;\;\;\;\;}{2}}}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\leftarrow2$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
D
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\leftarrow0$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\text{\ensuremath{\underset{\downarrow}{1}}}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\leftarrow1$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\text{\ensuremath{\underset{\swarrow\;\;\;\;\;}{2}}}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
B
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\leftarrow0$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\text{\ensuremath{\underset{\swarrow\;\;\;\;\;}{1}}}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\leftarrow1$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\leftarrow1$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\varnothing$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\varnothing$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
A
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
B
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
C
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
D
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
נעקוב אחרי החצים החל מהערך בפינה הימנית עליונה ונוסיף את האותיות שמגיעים
 אליהן דרך אלכסון, במקרה זה 
\begin_inset Formula $C$
\end_inset

 ולפניו 
\begin_inset Formula $B$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Section
שבוע 
\begin_inset Formula $\mathbb{V}$
\end_inset

 | תכנון דינמי גו נאטס
\end_layout

\begin_layout Subsection
הרצאה
\end_layout

\begin_layout Standard

\color lightgray
חלק א' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le51}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
בעית כפל מטריצות
\end_layout

\begin_layout Standard
תהי 
\begin_inset Formula $A\in M_{n\times t}\left(\mathbb{R}\right)$
\end_inset

 ו-
\begin_inset Formula $B\in M_{t\times m}\left(\mathbb{R}\right)$
\end_inset

.
 נרצה לחשב את 
\begin_inset Formula $AB=C\in M_{n\times m}\left(\mathbb{R}\right)$
\end_inset

, כמה עולה לבצע זאת? כמה כפלים של מספרים לוקח כדי לחשב את 
\begin_inset Formula $C$
\end_inset

? 
\begin_inset Formula $\forall i\in\left[n\right]$
\end_inset

 ו-
\begin_inset Formula $\forall j\in\left[m\right]$
\end_inset

, נחשב 
\begin_inset Formula $C_{ij}=\sum\limits _{k=1}^{t}\left[A\right]_{ik}\left[B\right]_{kj}$
\end_inset

 ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $t$
\end_inset

 כפלים.
 סה
\begin_inset Quotes erd
\end_inset

כ כדי לחשב את כל 
\begin_inset Formula $C$
\end_inset

 נצטרך 
\begin_inset Formula $n\cdot t\cdot m$
\end_inset

 כפלים.
\end_layout

\begin_layout Description
הערה אם 
\begin_inset Formula $t=m=n$
\end_inset

 אז נצטרך לחישוב נאיבי 
\begin_inset Formula $n^{3}$
\end_inset

 כפלים וכיום הכי מהיר שהוכח זה 
\begin_inset Formula $n^{2.37\ldots}$
\end_inset

.
\end_layout

\begin_layout Standard
עבור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מטריצות, 
\begin_inset Formula $D=ABC$
\end_inset

, מתקיים 
\begin_inset Formula $D=\left(AB\right)C=A\left(BC\right)$
\end_inset

 אבל מתברר שלסדר פעולות הכפל יש משמעות מבחינת המחיר.
\end_layout

\begin_layout Description
דוגמה עבור 
\begin_inset Formula $A\in M_{10\times50}\left(\mathbb{R}\right),B\in M_{50\times20}\left(\mathbb{R}\right),C\in M_{20\times100}\left(\mathbb{R}\right)$
\end_inset

, אם נחשב 
\begin_inset Formula $D=\left(AB\right)C$
\end_inset

 נקבל
\begin_inset Formula 
\[
10\cdot50\cdot20+10\cdot20\cdot100=3\cdot10^{4}
\]

\end_inset

אם נחשב 
\begin_inset Formula $D=A\left(BC\right)$
\end_inset

 אז החישוב 
\begin_inset Formula $BC$
\end_inset

 דורש 
\begin_inset Formula $50\cdot20\cdot100=10^{5}$
\end_inset

 שזה יותר מהחישוב הנ
\begin_inset Quotes erd
\end_inset

ל.
\end_layout

\begin_layout Description
קלט 
\begin_inset Formula $n+1$
\end_inset

 מספרים טבעיים 
\begin_inset Formula $p_{0},\dots,p_{n}$
\end_inset

 המסמנים מימדים של 
\begin_inset Formula $n$
\end_inset

 מטריצות 
\begin_inset Formula $A_{1},\dots,A_{n}$
\end_inset

 כאשר 
\begin_inset Formula $A_{i}\in M_{p_{i-1}\times p_{i}}\left(\mathbb{R}\right)$
\end_inset

.
\end_layout

\begin_layout Description
פלט סדר הכפלות מטריצות )חלוקת סוגריים( המשיג מחיר מינימלי לחישוב המכפלה
 
\begin_inset Formula $B=A_{1}\cdot\ldots\cdot A_{n}$
\end_inset

.
\end_layout

\begin_layout Description
פתרון 
\end_layout

\begin_deeper
\begin_layout Itemize
נאיבי - מעבר על כל האפשרויות הוא לא יעיל כי מרחב הפתרונות החוקיים הוא 
\begin_inset Formula $4^{n}$
\end_inset

 )מספר קטלן(.
\end_layout

\begin_layout Itemize
חמדני - גם כנראה שלא.
\end_layout

\begin_layout Itemize
דינמי - כיצד נחלק את הבעיה הגדולה לתת בעיות?
\end_layout

\begin_deeper
\begin_layout Itemize
לפי המכפלה הראשונה שמבצעים.
\end_layout

\begin_layout Standard

\lang english
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
resizebox{0.7
\backslash
textwidth}{!} { 
\backslash
Tree[.
         [.$
\backslash
left(A_{1}A_{2}
\backslash
right)A_{3}A_{4}$                  $
\backslash
left(
\backslash
left(A_{1}A_{2}
\backslash
right)A_{3}
\backslash
right)A_{4}$                  $
\backslash
left(A_{1}A_{2}
\backslash
right)
\backslash
left(A_{3}A_{4}
\backslash
right)$          ]         $A_{1}
\backslash
left(A_{2}A_{3}
\backslash
right)A_{4}$          $A_{1}A_{2}
\backslash
left(A_{3}A_{4}
\backslash
right)$      ] }
\end_layout

\end_inset


\end_layout

\begin_layout Standard
בעץ זה יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קודקודים, ואילו הוא גדל באופן אקספוננציאלי בגלל שאנחנו כל פעם מכפילים מטריצות
 חדשות.
 נסביר )העשרה( למה זה גדל כל כך מהר.
 יש לנו 
\begin_inset Formula $\frac{n}{2}$
\end_inset

 זוגות לבצע בהם את המכפלה הראשונה.
 לאחר 
\begin_inset Formula $\frac{n}{4}$
\end_inset

 פיצולים, נקבל כל פעם בעיה חדשה שכן כל מכפלה יוצרת מטריצה חדשה ולכן סדרת
 מטריצות שונה.
 נוכל לבחור 
\begin_inset Formula $\frac{n}{4}$
\end_inset

 מתוך 
\begin_inset Formula $\frac{n}{2}$
\end_inset

 הזוגות הנ
\begin_inset Quotes erd
\end_inset

ל ואלו יהיו זוגות יחודיים, כלומר 
\begin_inset Formula ${\frac{n}{2} \choose \frac{n}{4}}\sim\ot{\frac{2^{\frac{n}{2}}}{\sqrt{n}}}$
\end_inset

 ולכן פתרון זה לא יעזור לנו.
\end_layout

\begin_layout Itemize
לפי המכפלה האחרונה, עבור 
\begin_inset Formula $1\leq k\leq n-1$
\end_inset

, נחשב את תתי הבעיות הנובעות מ-
\begin_inset Formula $\left(A_{1}\ldots A_{k}\right)\left(A_{k+1}\ldots A_{n}\right)$
\end_inset

.
\end_layout

\begin_layout Standard

\lang english
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
resizebox{0.7
\backslash
textwidth}{!} { 
\backslash
Tree[.
         [.$A_{1}
\backslash
left(A_{2}A_{3}A_{4}
\backslash
right)$                  $A_{1}
\backslash
left(A_{2}
\backslash
left(A_{3}
\backslash
right)A_{4}
\backslash
right)$                  $A_{1}
\backslash
left(
\backslash
left(A_{2}A_{3}
\backslash
right)A_{4}
\backslash
right)$          ]         $
\backslash
left(A_{1}A_{2}
\backslash
right)
\backslash
left(A_{3}A_{4}
\backslash
right)$          $
\backslash
left(A_{1}A_{2}A_{3}
\backslash
right)A_{4}$      ] }
\end_layout

\end_inset


\end_layout

\begin_layout Standard
בעץ זה יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קודקודים )לא כל העץ מצויר( והוא גדל פוליונמיאלית ומכיל מכפלת מטריצות ישנות
 בכל ירידה בעומק, וזהו הפתרון הרצוי.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
פתרון
\begin_inset Formula $\;$
\end_inset

דינאמי
\end_layout

\begin_deeper
\begin_layout Enumerate
הגדרת תתי בעיות: כל תת בעיה היא מהצורה לחשב 
\begin_inset Formula $A_{i}\cdot\ldots\cdot A_{j}$
\end_inset

 עבור 
\begin_inset Formula $1\leq i\leq j\leq n$
\end_inset

 )ברגע שנפצל על הפעולה האחרונה, נקבל שני 
\begin_inset Quotes eld
\end_inset

קטעי
\begin_inset Quotes erd
\end_inset

 מטריצות לכפול, כל אחד מאלו הוא תת בעיה של רצף מטריצות, לדוגמה בפיצול הראשון
 תתי הבעיות יהיו 
\begin_inset Formula $A_{1}\cdot\ldots\cdot A_{k}$
\end_inset

 ו-
\begin_inset Formula $A_{k+1}\cdot\ldots\cdot A_{n}$
\end_inset

(.
 סה
\begin_inset Quotes erd
\end_inset

כ הרצפים הללו )שכל אחד מתאים חחע
\begin_inset Quotes erd
\end_inset

ל לתת בעיה( הוא 
\begin_inset Formula ${n \choose 2}+n=\ot{n^{2}}$
\end_inset

 )התוספת על העומק הרדוד ביותר - צריך לבחור איפה לחצות לראשונה את את ה-
\begin_inset Formula $n+1$
\end_inset

 מספרים(.
\end_layout

\begin_layout Enumerate
נוסחת ריקורסיה: נסמן ב-
\begin_inset Formula $P\left[i,j\right]$
\end_inset

 את המחיר האופוטימלי לחישוב 
\begin_inset Formula $A_{i}\ldots A_{j}$
\end_inset

.
 בפרט 
\begin_inset Formula $P\left[1,n\right]$
\end_inset

 הוא המחיר האופטימלי לחישוב 
\begin_inset Formula $B=A_{1}\ldots A_{n}$
\end_inset

.
 נוסחת הריקורסיה הכללית היא
\begin_inset Formula 
\[
P\left[i,j\right]=\begin{cases}
0 & i=j\\
\min_{i\leq k\leq j-1}\left\{ P\left[i,k\right]+P\left[k+1,j\right]+p_{i-1}p_{k}p_{j}\right\}  & i<j
\end{cases}
\]

\end_inset


\end_layout

\begin_layout Enumerate
בניית טבלה: נגדיר טבלה 
\begin_inset Formula $T$
\end_inset

 בגודל 
\begin_inset Formula $n\times n$
\end_inset

 ונרשום בכל תא 
\begin_inset Formula $T\left[i,j\right]$
\end_inset

, 
\begin_inset Formula $1\leq i,j\leq n$
\end_inset

 את 
\begin_inset Formula $P\left[i,j\right]$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
מילוי הטבלה: נמלא 
\begin_inset Formula $T\left[i,j\right]=0$
\end_inset

, 
\begin_inset Formula $\forall i>j$
\end_inset

.
 נמלא את שאר הטבלה ב-
\begin_inset Formula $n$
\end_inset

 איטרציות.
 באיטרציה 
\begin_inset Formula $0\leq d\leq n-1$
\end_inset

, נמלא את התאים 
\begin_inset Formula $T\left[i,j\right]$
\end_inset

 עבורם 
\begin_inset Formula $j-i=d$
\end_inset

 )כלומר האלכסון המרוחק ב-
\begin_inset Formula $n-d-1$
\end_inset

 מהפינה השמאלית העליונה, ונמלא מהאלכסון המרכזי לכיוון צפון מערב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 - ראו דוגמה להמחשה( לפי נוסחת הריקורסיה.
\end_layout

\begin_layout Standard
חילוץ פתרון: נחזיר את 
\begin_inset Formula $T\left[1,n\right]$
\end_inset

.
 כדי לחלץ את חלוקת הסוגריים האופטימלית, נשמור בכל תא 
\begin_inset Formula $T\left[i,j\right]$
\end_inset

, 
\begin_inset Formula $i<j$
\end_inset

 בעת מילויו את ערך ה-
\begin_inset Formula $k$
\end_inset

 המשיג מינימום בנוסחת הריקורסיה.
\end_layout

\end_deeper
\begin_layout Enumerate
ניתוח זמן ריצה: כל תא בטבלה מתמלא ב-
\begin_inset Formula $\oo n$
\end_inset

, כי כדי למלא תא נצטרך למצוא מינימום בין 
\begin_inset Formula $n$
\end_inset

 איברים, שערכם חושב באיטרציות קודמות.
 סה
\begin_inset Quotes erd
\end_inset

כ יש 
\begin_inset Formula $\oo{n^{2}}$
\end_inset

 תאים ב-
\begin_inset Formula $T$
\end_inset

 ולכן מילוי כל הטבלה עולה 
\begin_inset Formula $\oo{n^{3}}$
\end_inset

.
\end_layout

\begin_layout Enumerate
הוכחת נכונות:
\end_layout

\begin_deeper
\begin_layout Description
טענה לכל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $1\leq i\leq j\leq n$
\end_inset

 מתקיים 
\begin_inset Formula $T\left[i,j\right]=P\left[i,j\right]$
\end_inset

.
\end_layout

\begin_layout Proof
נוכיח באינדוקציה על 
\begin_inset Formula $d=j-i$
\end_inset

.
\end_layout

\begin_layout Proof
בסיס )
\begin_inset Formula $d=0$
\end_inset

(: כלומר 
\begin_inset Formula $i=j$
\end_inset

 ובמקרה זה 
\begin_inset Formula $T\left[i,j\right]=0=P\left[i,j\right]$
\end_inset

.
\end_layout

\begin_layout Proof
צעד )
\begin_inset Formula $d-1\to d$
\end_inset

(: מההגדרה,
\begin_inset Formula 
\[
T\left[i,j\right]=\min\limits _{1\leq k\leq j-1}\left\{ T\left[i,k\right]+T\left[k+1,j\right]+p_{i-1}p_{k}p_{j}\right\} 
\]

\end_inset

ראינו כי לכל 
\begin_inset Formula $i\leq k\leq j-1$
\end_inset

 מתקיים 
\begin_inset Formula $d>j-\left(k+1\right)$
\end_inset

, 
\begin_inset Formula $d>k-i$
\end_inset

 ולכן מה
\begin_inset Quotes erd
\end_inset

א
\begin_inset Formula 
\[
T\left[i,j\right]=\min\limits _{1\leq k\leq j-1}\left\{ P\left[i,k\right]+P\left[k+1,j\right]+p_{i-1}p_{k}p_{j}\right\} =P\left[i,j\right]
\]

\end_inset

 
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
דוגמה עבור 
\begin_inset Formula $n=3$
\end_inset

, 
\begin_inset Formula $10,50,20,100$
\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $3\cdot10^{4}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $10^{5}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $10^{4}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\unitfrac{j}{i}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
3
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
נחשב
\begin_inset Formula 
\[
T\left[1,3\right]=\min\limits _{1\leq k\leq2}\left\{ T\left[1,k\right]+P\left[k+1,3\right]+10\cdot p_{k}\cdot100\right\} =\min\left\{ 15\cdot10^{4},3\cdot10^{4}\right\} =3\cdot10^{4}
\]

\end_inset


\end_layout

\end_deeper
\begin_layout Standard

\color lightgray
חלק ב' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le52}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
בעיית התרמיל השלם
\end_layout

\begin_layout Description
קלט 
\begin_inset Formula $W$
\end_inset

 המשקל המירבי של התרמיל ו-
\begin_inset Formula $\left(v_{1},w_{1}\right),\dots,\left(v_{n},w_{n}\right)$
\end_inset

 שהם זוגות של מחיר ומשקל בהתאמה.
 הפריטים אינם ניתנים לחלוקה.
\end_layout

\begin_layout Description
פלט תת קבוצה 
\begin_inset Formula $S\subseteq\left[n\right]$
\end_inset

 כך ש-
\begin_inset Formula $\sum\limits _{i\in S}w_{i}\leq W$
\end_inset

 ו-
\begin_inset Formula $\sum\limits _{i\in S}v_{I}$
\end_inset

 מירבי.
\end_layout

\begin_layout Description
פתרון 
\end_layout

\begin_deeper
\begin_layout Itemize
נאיבי - מעבר על כל האפשרויות, שהם 
\begin_inset Formula $\om{2^{n}}$
\end_inset

, שזה יקר מדי.
\end_layout

\begin_layout Itemize
חמדני -
\end_layout

\begin_deeper
\begin_layout Itemize
נמיין את הפריטים בסדר יורד לפי ערכם.
 בכל שלב נכניס לתרמיל את הפריט היקר ביותר שניתן להכניס.
\end_layout

\begin_layout Itemize
נמיין את הפריטים בסדר יורד על פי ערכם הסגולי 
\begin_inset Formula $r_{i}=\frac{v_{i}}{w_{i}}$
\end_inset

 ובכל שלב נכניס את הפריט עם הערך הסגולי הגדול ביותר שניתן להכניס.
\end_layout

\begin_layout Standard
אלו לא יעבדו.
 עבור 
\begin_inset Formula $n=3$
\end_inset

, 
\begin_inset Formula $W=50$
\end_inset

, 
\begin_inset Formula $\left(150,30\right),\left(100,25\right),\left(100,25\right)$
\end_inset

.
 לפי שני האלג' הנ
\begin_inset Quotes erd
\end_inset

ל, נכניס את הפריט הראשון ונסיים ונרוויח 
\begin_inset Formula $150$
\end_inset

.
 עם זאת, הפתרון האופטימלי הוא להכניס את הפריט השני והשלישי ונקבל 
\begin_inset Formula $200$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Itemize
דינמי - כיצד נחלק לתת-בעיות?
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $\;$
\end_inset


\end_layout

\begin_deeper
\begin_layout Description
תתי
\begin_inset Formula $\;$
\end_inset

בעיות נביט בפריט הראשון ונבחר אם להכניס אותו או לא.
 נסדר את הפריטים בסדר מסויים 
\begin_inset Formula $1,\dots,n$
\end_inset

.
 בכל פיצול של עץ הריקורסיה, נפצל לשתי תתי אפשרויות - אחת בה הכנסנו את האיבר
 הנוכחי ואחת אם לא.
 לדוגמה, עבור 
\begin_inset Formula $k=1$
\end_inset

 מדובר בבעיות 
\begin_inset Formula $\left\{ 2,\dots,n\right\} ,W-w_{1}$
\end_inset

 ו-
\begin_inset Formula $\left\{ 2,\dots,n\right\} ,W$
\end_inset

.
 סה
\begin_inset Quotes erd
\end_inset

כ, ניתקל בכל הבעיות 
\begin_inset Formula $\left\{ i,\dots,n\right\} ,u$
\end_inset

 כאשר 
\begin_inset Formula $0\leq u\leq W$
\end_inset

 המשקל המירבי.
\end_layout

\begin_layout Description
נוסחת
\begin_inset Formula $\;$
\end_inset

ריקורסיה נסמן 
\begin_inset Formula $K\left[i,u\right]$
\end_inset

 את הערך של הפתרון האופטימלי לבעיית התרמיל השלם הנ
\begin_inset Quotes erd
\end_inset

ל.
\begin_inset Formula 
\[
K\left[i,u\right]=\begin{cases}
0 & i=n\land w_{n}>u\\
v_{n} & i=n\land w_{n}\leq u\\
K\left[i+1,u\right] & i<n\land w_{i}>u\\
\max\left\{ \desc{K\left[i+1,u-w_{i}\right]+v_{i}}{\text{נכניס את הנוכחי}},\desc{K\left[i+1,u\right]}{\text{לא נכניס}}\right\}  & i<n\land w_{i}\leq u
\end{cases}
\]

\end_inset


\end_layout

\begin_layout Description
אלגוריתם נבנה טבלה 
\begin_inset Formula $T$
\end_inset

 ונרשום בתא 
\begin_inset Formula $T\left[i,u\right]$
\end_inset

 את הערך 
\begin_inset Formula $K\left[i,u\right]$
\end_inset

.
 אחרי מילוי הטבלה נחזיר את 
\begin_inset Formula $K\left[1,W\right]$
\end_inset

.
\end_layout

\begin_layout Description
ניתוח בהינתן 
\begin_inset Formula $1\leq i\leq n$
\end_inset

, מהם המשקלים השונים 
\begin_inset Formula $u$
\end_inset

 בבעיות התרמיל עם קבוצת הפריטים 
\begin_inset Formula $\left\{ i,\dots,n\right\} $
\end_inset

? נסמן 
\begin_inset Formula $R\subseteq\left\{ 1,\dots,i-1\right\} $
\end_inset

 הקבוצה שמכילה את הפריטים שהכסננו לתרמיל עד עכשיו.
 אזי 
\begin_inset Formula $u=W-\sum\limits _{i\in R}w_{i}$
\end_inset

.
 עתה הסיבוכיות תיקבע ע
\begin_inset Quotes erd
\end_inset

י גודל הקבוצה
\begin_inset Formula 
\[
\left\{ W-\sum\limits _{i\in R}w_{i}\right\} _{R\subseteq\left\{ 1,\dots,i-1\right\} }
\]

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
נביט בדוגמה הפרטית 
\begin_inset Formula $w_{i}=2^{i}$
\end_inset

 ולכן עבור 
\begin_inset Formula $R_{1}\neq R_{2}$
\end_inset

 מתקיים 
\begin_inset Formula $\sum\limits _{i\in R_{1}}w_{i}\neq\sum\limits _{i\in R_{2}}w_{i}$
\end_inset

 )זוהי סכימה של חזקות של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן יחידה על אינדקסים שונים(.
 לכן עבור הקלט הזה מספר הערכים השונים של 
\begin_inset Formula $u$
\end_inset

 יהיה 
\begin_inset Formula $2^{i-1}$
\end_inset

.
 עבור 
\begin_inset Formula $i=n-1$
\end_inset

 נקבל 
\begin_inset Formula $\om{2^{n}}$
\end_inset

 תתי בעיות וזה יקר )לפחות כמו הנאיבי, ואז לא התקדמנו בכלל(.
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
עתה נניח הנחה מקלה: המשקל המירבי של התרמיל 
\begin_inset Formula $W$
\end_inset

 וכל המשקלים 
\begin_inset Formula $w_{1},\dots,w_{n}$
\end_inset

 הם מספרים טבעיים.
 במקרה זה הערכים האפשריים הם מספרים טבעיים 
\begin_inset Formula $u$
\end_inset

 בין 
\begin_inset Formula $0$
\end_inset

 ל-
\begin_inset Formula $W$
\end_inset

, 
\begin_inset Formula $W+1$
\end_inset

 במספר.
 לכן נוכל לבנות טבלה 
\begin_inset Formula $T$
\end_inset

 עם 
\begin_inset Formula $n$
\end_inset

 שורות ו-
\begin_inset Formula $W+1$
\end_inset

 עמודות.
 סה
\begin_inset Quotes erd
\end_inset

כ יהיו ב-
\begin_inset Formula $T$
\end_inset

 
\begin_inset Formula $\oo{nW}$
\end_inset

 תאים ונוכל למלא כל אחד ב-
\begin_inset Formula $\oo 1$
\end_inset

.
\end_layout

\end_deeper
\end_deeper
\begin_layout Subsection
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
texorpdfstring{
\backslash
protect
\backslash
hypertarget{ta5}{תרגול}}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
בעיית מסילת הרכבת
\end_layout

\begin_layout Description
קלט 
\begin_inset Formula $L\in\mathbb{N}$
\end_inset

 אורך המסילה, 
\begin_inset Formula $\left\{ 1,\dots,K\right\} $
\end_inset

 סוגי חיבורים.
 
\begin_inset Formula $N\in\mathbb{N}$
\end_inset

 סוגי חלקים, כל אחד מיוצג ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $\left(s_{i},e_{i},d_{i},p_{i}\right)$
\end_inset

 שהם )בהתאמה( סוג החיבור בהתחלת החלק, סוג החיבור בסוף הקטע, אורך החלק ומחיר
 החלק.
\end_layout

\begin_layout Description
פלט המחיר המינימלי עבור מסילה חוקית שהיא מסילה באורך 
\begin_inset Formula $L$
\end_inset

 שבה החלק ה-
\begin_inset Formula $i$
\end_inset

 מופיע מיד אחרי חלק ה-
\begin_inset Formula $j$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $e_{j}=s_{i}$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $L=3$
\end_inset

, החיבורים הם 
\begin_inset Formula $\left\{ \left(],[\right),\left(\ni,\in\right),\left(\otimes,\otimes\right),\left(>,<\right)\right\} $
\end_inset

 והחלקים הם
\begin_inset Formula 
\[
\left\{ \left(\ni,\otimes,1,30\right),\left(>,\in,1,10\right),\left(],[,1,30\right),\left(\otimes,\otimes,2,40\right),\left(],\in,3,100\right)\right\} 
\]

\end_inset

פתרונות חוקיים הם 
\begin_inset Formula $]---\in$
\end_inset

 במחיר 
\begin_inset Formula $100$
\end_inset

, 
\begin_inset Formula $]-[]-[]-[$
\end_inset

 במחיר 
\begin_inset Formula $90$
\end_inset

 והמינימלי הוא 
\begin_inset Formula $\ni-\otimes--\otimes$
\end_inset

 במחיר 
\begin_inset Formula $70$
\end_inset

 )כאשר מספר המקפים מסמל את אורך החלק(.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="5">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
100
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
70
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\infty$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
90
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\infty$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
40
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\infty$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
60
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
10
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
30
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\infty$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
30
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\in$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\otimes$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $<$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $[$
\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Description
פתרון
\begin_inset Formula $\;$
\end_inset

דינמי
\end_layout

\begin_layout Enumerate
תתי בעיות: לכל 
\begin_inset Formula $0\leq l\leq L$
\end_inset

 ולכל 
\begin_inset Formula $k\in\left\{ 1,\dots,K\right\} $
\end_inset

, נמצא את המחיר המינימלי של מסילה באורך 
\begin_inset Formula $l$
\end_inset

 שמסתיימת בחיבור 
\begin_inset Formula $k$
\end_inset

, 
\begin_inset Formula $f\left(l,k\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
נוסחת הריקורסיה: 
\begin_inset Formula $f\left(l,k\right)=\begin{cases}
0 & l=0\\
\min\limits _{1\leq i\leq l:e_{i}=k}\left\{ p_{i}+f\left(l-d_{i},s_{i}\right)\right\}  & l\neq0
\end{cases}$
\end_inset

 כלומר המינימום על הקטע ה-
\begin_inset Formula $i$
\end_inset

 שנגמר נכון עם הקדמה אליו שמחירם יחד מינימלי.
\end_layout

\begin_layout Enumerate
בניית הטבלה: נבנה טבלה בגודל 
\begin_inset Formula $\left(L+1\right)\times K$
\end_inset

 כך שבתא ה-
\begin_inset Formula $\left(lk\right)$
\end_inset

 נשמור את הערך ה-
\begin_inset Formula $f\left(l,k\right)$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
מילוי הטבלה: נמלא לפי שורות, מהתחתונה לעליונה )כאשר 
\begin_inset Formula $l=0$
\end_inset

 היא התחתונה ו-
\begin_inset Formula $l=L$
\end_inset

 העליונה( כאשר סדר המילוי בתוך השורות חסר משמעות.
\end_layout

\begin_layout Standard
חילוץ הפתרון: ניקח מינימום על השורה העליונה, בה מתקיים 
\begin_inset Formula $l=L$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
זמן ריצה: גודל הטבלה הוא 
\begin_inset Formula $\oo{L\cdot N\cdot K}$
\end_inset

.
 מילוי כל תא לוקח 
\begin_inset Formula $O\left(N\right)$
\end_inset

 )מציאת מינימום על ערכים שכבר חושבו( וחילוץ הפתרון הוא 
\begin_inset Formula $\ot K$
\end_inset

 ולכן סה
\begin_inset Quotes erd
\end_inset

כ זמן הריצה הוא 
\begin_inset Formula $\ot{L\cdot N\cdot K}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard
\noindent
\align right

\size larger
\lang english
All Pairs Shortest Path
\end_layout

\begin_layout Description
קלט גרף מכוון 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 ופ' משקל 
\begin_inset Formula $w:E\to\mathbb{R}$
\end_inset

.
\end_layout

\begin_layout Description
פלט לכל זו קודקודים 
\begin_inset Formula $1\leq i,j\leq\left|V\right|$
\end_inset

 נחזיר את משקל המסלול המינימלי מ-
\begin_inset Formula $v_{i}$
\end_inset

 ל-
\begin_inset Formula $v_{j}$
\end_inset

 )מטריצה 
\begin_inset Formula $\left|V\right|\times\left|V\right|$
\end_inset

(.
\end_layout

\begin_layout Description
הערה נניח כי אין מעגל בגרף שמשקלו שלילי, כי במקרה זה התשובה היא 
\begin_inset Formula $-\infty$
\end_inset

.
\end_layout

\begin_layout Description
פתרון
\begin_inset Formula $\;$
\end_inset

דינמי ננסה כמה הצעות.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\;$
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
תתי בעיות: לכל זוג קודקודים, נחשב את המסלול המינימלי מ-
\begin_inset Formula $v_{i}$
\end_inset

 ל-
\begin_inset Formula $v_{j}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $\;$
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
תתי בעיות: לכל 
\begin_inset Formula $1\leq i,j<\left|V\right|$
\end_inset

, 
\begin_inset Formula $0\leq m\leq\left|V\right|-1$
\end_inset

 נחזיר את הערך המינימלי למסלול מ-
\begin_inset Formula $v_{i}$
\end_inset

 ל-
\begin_inset Formula $v_{j}$
\end_inset

 שאורכו לכל היותר 
\begin_inset Formula $m$
\end_inset

, 
\begin_inset Formula $f\left(i,j,m\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
נוסחת הריקורסיה: 
\begin_inset Formula 
\[
f\left(i,j,m\right)=\begin{cases}
0 & i=j\land m=0\\
\infty & i\neq j\land m=0\\
\min_{\left(v_{k},v_{j}\right)\in E}\left\{ w\left(\left(v_{k},v_{j}\right)\right)+f\left(v_{i},v_{k},m-1\right)\right\}  & \textrm{otherwise}
\end{cases}
\]

\end_inset

כלומר נפצל את המסלול לצלע הראשונה מ-
\begin_inset Formula $v_{i}$
\end_inset

, ועוד מסלול באורך לכל היותר 
\begin_inset Formula $m-1$
\end_inset

 מיעד הצלע הראשונה ל-
\begin_inset Formula $v_{j}$
\end_inset

.
\end_layout

\begin_layout Itemize
בניית הטבלה: נבנה טבלה 
\begin_inset Formula $\left|V\right|\times\left|V\right|\times\left|V\right|$
\end_inset

.
 כל תא נמלא בעזרת נוסחאת הריקורסיה, כאשר התא ה-
\begin_inset Formula $\left(i,j,m\right)$
\end_inset

 יכיל את 
\begin_inset Formula $f\left(i,j,m\right)$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
מילוי הטבלה: נמלא מ-
\begin_inset Formula $m=0$
\end_inset

 עד 
\begin_inset Formula $m=\left|V\right|-1$
\end_inset

, כאשר את תת המטריצה ה-
\begin_inset Formula $m$
\end_inset

-ית נמלא בלי חשיבות לסדר.
\end_layout

\begin_layout Standard
חילוץ פתרון: נחזיר את המטריצה ה-
\begin_inset Formula $\left|V\right|-1$
\end_inset

-ית.
\end_layout

\end_deeper
\begin_layout Itemize
זמן ריצה: 
\begin_inset Formula $\oo{\left|V\right|^{4}}$
\end_inset

 )
\begin_inset Formula $\left|V\right|$
\end_inset

 תת מטריצות, כל אחת 
\begin_inset Formula $\left|V\right|^{2}$
\end_inset

 איברים שכל אחד דורש 
\begin_inset Formula $\oo{\left|V\right|}$
\end_inset

 למילוי(.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $\textrm{Floyd Warshall}$
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
הגדרת תתי בעיות: נגדיר סדר על הקודקודים, 
\begin_inset Formula $v_{1},\dots,v_{R}$
\end_inset

, 
\begin_inset Formula $\left|V\right|=R$
\end_inset

.
 לכל 
\begin_inset Formula $1\leq i,j\leq\left|V\right|$
\end_inset

 ולכל 
\begin_inset Formula $0\leq k\leq\left|V\right|$
\end_inset

 נחזיר את משקל המסלול המינימלי מ-
\begin_inset Formula $v_{i}$
\end_inset

 ל-
\begin_inset Formula $v_{j}$
\end_inset

 שעובר )לכל היותר( דרך הקודקודים 
\begin_inset Formula $\left\{ v_{1},\dots,v_{k}\right\} $
\end_inset

.
\end_layout

\begin_layout Itemize
נוסחת הריקורסיה:
\begin_inset Formula 
\[
f\left(i,j,k\right)=\begin{cases}
0 & i=j\land k=0\\
\infty & \left(v_{i},v_{j}\right)\notin E\land k=0\\
w\left(v_{i},v_{j}\right) & \left(v_{i},v_{j}\right)\in E\land k=0\\
\min\left\{ \desc{f\left(i,k,k-1\right)+f\left(k,j,k-1\right)}{\text{נמצא במסלול}\;k},f\left(i,j,k-1\right)\right\}  & \textrm{otherwise}
\end{cases}
\]

\end_inset


\end_layout

\begin_layout Itemize
בניית הטבלה, מילוי הטבלה, והחזרת הטבלה, זהים לחלוטין להצעה הקודמת.
\end_layout

\begin_layout Itemize
זמן הריצה ממלאים סה
\begin_inset Quotes erd
\end_inset

כ 
\begin_inset Formula $n^{3}$
\end_inset

 תאים, כל אחד דורש 
\begin_inset Formula $\oo 1$
\end_inset

 כי הוא מחשב מינימום על שני איברים שחושבו כבר לפני.
\end_layout

\end_deeper
\begin_layout Section
שבוע 
\begin_inset Formula $\mathbb{VI}$
\end_inset

 | אלגוריתמי קירוב ותכנון לינארי
\end_layout

\begin_layout Subsection
הרצאה
\end_layout

\begin_layout Standard

\color lightgray
חלק א' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le61}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
נמשיך את פתרון בעית התרמיל השלם עם ההנחה המקלה שהמשקלים הם טבעיים.
\end_layout

\begin_layout Description
פתרון
\begin_inset Formula $\;$
\end_inset

דינמי 
\end_layout

\begin_layout Enumerate
תתי בעיות: כבר ראינו - אם 
\begin_inset Formula $K\left[i,u\right]$
\end_inset

 הוא המשקל האופטימלי לבעית התרמיל השלם עם הפריטים 
\begin_inset Formula $\left\{ i,\dots,n\right\} $
\end_inset

 ומשקל מירבי 
\begin_inset Formula $u$
\end_inset

, אז ניתקל בכל הבעיות 
\begin_inset Formula $K\left[i,u\right]$
\end_inset

.
\end_layout

\begin_layout Enumerate
נוסחת ריקורסיה: נשתמש בזו שמצאנו בהרצאה הקודמת:
\begin_inset Formula 
\[
K\left[i,u\right]=\begin{cases}
0 & i=n\land w_{n}>u\\
v_{n} & i=n\land w_{n}\leq u\\
K\left[i+1,u\right] & i<n\land w_{i}>u\\
\max\left\{ \desc{K\left[i+1,u-w_{i}\right]}{\text{נכניס את הנוכחי}},\desc{K\left[i+1,u\right]}{\text{לא נכניס}}\right\}  & i<n\land w_{i}\leq u
\end{cases}
\]

\end_inset


\end_layout

\begin_layout Enumerate
בניית הטבלה: נבנה טבלה עם 
\begin_inset Formula $n$
\end_inset

 שורות ו-
\begin_inset Formula $W+1$
\end_inset

 עמודות ובתא ה-
\begin_inset Formula $T\left[i,u\right]$
\end_inset

 נציב את 
\begin_inset Formula $K\left[i,u\right]$
\end_inset

, 
\begin_inset Formula $\forall i\in\left[n\right],u\in\left\{ 0,\dots,W\right\} $
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
מילוי הטבלה: נמלא שורה-שורה מ-
\begin_inset Formula $i=n$
\end_inset

 בכיוון מטה עד ל-
\begin_inset Formula $i=1$
\end_inset

.
 את השורה ה-
\begin_inset Formula $n$
\end_inset

 נמלא לפי תנאי השפה המתאים בנוסחת הריקוריסה ואת השורות הבאות נמלא ב-
\begin_inset Formula $n-1$
\end_inset

 איטרציות כאשר באיטרציה 
\begin_inset Formula $1\leq j\leq n-1$
\end_inset

 נמלא את השורה 
\begin_inset Formula $i=n-j$
\end_inset

 ע
\begin_inset Quotes erd
\end_inset

י
\begin_inset Formula 
\[
T\left[i,u\right]=\begin{cases}
K\left[i+1,u\right] & w_{i}>u\\
\max\left\{ \desc{K\left[i+1,u-w_{i}\right]}{\text{נכניס את הנוכחי}},\desc{K\left[i+1,u\right]}{\text{לא נכניס}}\right\}  & w_{i}\leq u
\end{cases}
\]

\end_inset

)נוסחת הריקורסיה שכבר ראינו רק בלי מקרי הקצה(.
 נשים לב כי אין חשיבות לסדר המילוי מבחינת עמודות בתוך כל שורה.
\end_layout

\begin_layout Standard
חילוץ הפתרון: נחזיר את 
\begin_inset Formula $T\left[1,W\right]$
\end_inset

.
 כדי לחלץ אילו פריטים יש להכניס לתרמיל כדי להגיע למשקל האופטימלי הנ
\begin_inset Quotes erd
\end_inset

ל, נזכור בעת מילוי כל תא בטבלה את ההחלטה הנכונה )להכניס או לא להכניס את
 הפריט ה-
\begin_inset Formula $i$
\end_inset

 המשיגה מקסימום בנוסחת הריקורסיה(.
\end_layout

\end_deeper
\begin_layout Enumerate
זמן ריצה: מילוי תא דורש 
\begin_inset Formula $\oo 1$
\end_inset

 וגודל הטבלה הוא 
\begin_inset Formula $\oo{nW}$
\end_inset

 וסה
\begin_inset Quotes erd
\end_inset

כ זמן הריצה הוא 
\begin_inset Formula $\oo{nW}$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
האם זמן הריצה 
\begin_inset Formula $\oo{nW}$
\end_inset

 יעיל? אם 
\begin_inset Formula $W$
\end_inset

 פולינומי ב-
\begin_inset Formula $n$
\end_inset

 אז זמן הריצה הוא פולינומי ב-
\begin_inset Formula $n$
\end_inset

 וזה יעיל מבחינתנו.
 אם למשל 
\begin_inset Formula $W=3^{n}$
\end_inset

, זמן הריצה יהיה גדול יותר מזה של הפתרון הנאיבי.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
אלגוריתמי קירוב
\end_layout

\begin_layout Standard
חלק גדול מהבעיות האלגוריתמיות המעניינות כנראה לא ניתנות לפתרון יעיל.
 נחפש פתרונות מקורבים לבעיות כאלה, שחישובם כן יעיל.
\end_layout

\begin_layout Standard

\size larger
חלוקת משימות בין מכונות )
\lang english
load balancing
\lang hebrew
(
\end_layout

\begin_layout Description
קלט 
\begin_inset Formula $k$
\end_inset

 מספר של מכונות זהות ו-
\begin_inset Formula $n$
\end_inset

 מספרים חיוביים 
\begin_inset Formula $t_{1},\dots,t_{n}$
\end_inset

 המסמנים את זמני הריצה של 
\begin_inset Formula $n$
\end_inset

 משימות.
\end_layout

\begin_layout Description
פלט חלוקה מאוזנת כמה שאפשר )הממזערת את זמן העבודה של המכונה העמוסה ביותר(
 של המשימות בין המכונות.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $k=2$
\end_inset

, 
\begin_inset Formula $n=4$
\end_inset

, 
\begin_inset Formula $t=\left(1,\frac{1}{2},\frac{1}{2},2\right)$
\end_inset

.
 חלוקה אופטימלית היא לתת את המשימה האחרונה )עם זמן 
\begin_inset Formula $2$
\end_inset

( למכונה הראשונה ואת השאר למכונה השנייה.
 באופן נאיבי, נוכל לעבור על כל משימה ולתת אותה למכונה עם זמן ריצת משימות
 מינימלי באותו הרגע.
 אלג' זה ייתן לנו במקרה הזה את המשימות עם זמנים 
\begin_inset Formula $2,1$
\end_inset

 במכונה אחת ו-
\begin_inset Formula $\frac{1}{2},\frac{1}{2}$
\end_inset

 במכונה השנייה.
 זה לא פתרון אופטימלי, כי עיבוד המשימות לוקח 
\begin_inset Formula $3$
\end_inset

 )יחידות זמן( ומנת הזמן עם הזמן האופטימלי היא 
\begin_inset Formula $\frac{q\left(s\right)}{q\left(s^{*}\right)}=\frac{3}{2}$
\end_inset

.
 נרצה לקרב פתרון עם מנה קטנה ככל האפשר.
\end_layout

\begin_layout Standard
מרחב הפתרונות החוקיים לבעיה זו הוא 
\begin_inset Formula $S=\left[k\right]^{n}$
\end_inset

 המתאימה כל משימה למכונה.
 בפרט, 
\begin_inset Formula $\left|S\right|=k^{n}$
\end_inset

.
\end_layout

\begin_layout Description
פתרון
\begin_inset Formula $\;$
\end_inset

נאיבי מעבר על כל אפשרויות הוא לא יעיל ובעצם אקספוננציאלי.
\end_layout

\begin_layout Standard
\begin_inset Formula $\forall j\in\left[k\right]$
\end_inset

 נגדיר 
\begin_inset Formula $T_{j}\left(s\right)$
\end_inset

 להיות זמן הריצה של המכונה ה-
\begin_inset Formula $j$
\end_inset

 לפי הפתרון 
\begin_inset Formula $s$
\end_inset

, מתקיים 
\begin_inset Formula $T_{j}\left(s\right)=\sum\limits _{s\left(i\right)=j}t_{i}$
\end_inset

 ונגדיר 
\begin_inset Formula $q\left(s\right)=\max\limits _{1\leq j\leq k}T_{j}\left(s\right)$
\end_inset

.
 נרצה את 
\begin_inset Formula $s^{*}\in S$
\end_inset

 המקיים 
\begin_inset Formula $q\left(s^{*}\right)=\min\limits _{s\in S}\left\{ q\left(s\right)\right\} $
\end_inset

.
\end_layout

\begin_layout Description
פתרון
\begin_inset Formula $\;$
\end_inset

חמדן נחלק את המשימות בסדר הגעתן כאשר המשימה מגיעה נשלח אותה למכונה הכי פחות
 עמוסה ברגע זה.
 
\end_layout

\begin_layout Description
למה נסמן ב-
\begin_inset Formula $t_{max}$
\end_inset

 את זמן הריצה של המשימה הארוכה ביותר, אזי 
\begin_inset Formula $q\left(s^{*}\right)\geq t_{max}$
\end_inset

.
\end_layout

\begin_layout Proof
ברור.
\end_layout

\begin_layout Description
למה 
\begin_inset Formula $q\left(s^{*}\right)\geq\frac{1}{k}\sum\limits _{i=1}^{n}t_{i}$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula 
\[
q\left(s^{*}\right)=\max\limits _{1\leq j\leq k}T_{j}\left(s^{*}\right)\overset{\left(*\right)}{\geq}\frac{1}{k}\sum\limits _{j=1}^{k}T_{j}\left(s^{*}\right)=\frac{1}{k}\sum\limits _{j=1}^{k}\sum\limits _{s^{*}\left(i\right)=j}t_{i}\overset{\left(**\right)}{=}\frac{1}{k}\sum\limits _{i=1}^{n}t_{i}
\]

\end_inset


\begin_inset Formula $\left(*\right)$
\end_inset

 פשוט ככה מקסימום עובד, הוא גדול מהממוצע.
\end_layout

\begin_layout Proof
\begin_inset Formula $\left(**\right)$
\end_inset

 הסכום הכפול מונה את כל המשימות בסופו של דבר.
\end_layout

\begin_layout Description
משפט האלג' החמדן שתיארנו הינו אלג' 
\begin_inset Formula $\left(2-\frac{1}{k}\right)$
\end_inset

-מקרב לבעיה זו )הגדרה פורמלית בהמשך(, כלומר ש-
\begin_inset Formula $\frac{q\left(s\right)}{q\left(s^{*}\right)}\leq2-\frac{1}{k}$
\end_inset

 כאשר 
\begin_inset Formula $s$
\end_inset

 הפתרון החמדן ו-
\begin_inset Formula $s^{*}$
\end_inset

 פתרון אופטימלי.
\end_layout

\begin_layout Proof
יהי 
\begin_inset Formula $s$
\end_inset

 הפתרון החמדן ו-
\begin_inset Formula $s^{*}$
\end_inset

 פתרון אופטימלי.
 יהי 
\begin_inset Formula $j_{0}\in\left[k\right]$
\end_inset

 האינדקס של המכונה העמוסה ביותר ב-
\begin_inset Formula $s$
\end_inset

.
 יהי 
\begin_inset Formula $l\in\left[n\right]$
\end_inset

 האינדקס של המשימה האחרונה שנשלחה למכונה ה-
\begin_inset Formula $j_{0}$
\end_inset

.
 לפי דרך פעולות של האלג' החמדן, המכונה ה-
\begin_inset Formula $j_{0}$
\end_inset

 היא המכונה הכי פחות עמוסה אחרי החלוקה של 
\begin_inset Formula $l-1$
\end_inset

 המשימות הראשונות.
 עבור 
\begin_inset Formula $j\in\left[k\right]$
\end_inset

, נסמן 
\begin_inset Formula $F_{j}\left(s\right)$
\end_inset

 את זמן הריצה של המכונה ה-
\begin_inset Formula $j$
\end_inset

 לאחר חלוקת 
\begin_inset Formula $l-1$
\end_inset

 המשימות הראשונות, מתקיים 
\begin_inset Formula $F_{j}\left(s\right)=\sum\limits _{i\in\left[l-1\right]:s\left(i\right)=j}t_{i}$
\end_inset

.
 לכן 
\begin_inset Formula $F_{j_{0}}\left(s\right)=\min\limits _{1\leq j\leq k}F_{j}\left(s\right)$
\end_inset

.
\begin_inset Formula 
\begin{align*}
q\left(s\right) & =T_{j_{0}}\left(s\right)=t_{l}+F_{j_{0}}\left(s\right)=t_{l}+\min_{1\leq j\leq k}F_{j}\left(s\right)\leq t_{l}+\frac{1}{k}\sum_{j=1}^{k}F_{j}\left(s\right)\\
 & =t_{l}+\frac{1}{k}\sum_{j=1}^{k}\sum_{i\in\left[l-1\right]:s\left(i\right)=j}t_{i}=t_{l}+\frac{1}{k}\sum_{i=1}^{l-1}t_{i}=\left(1-\frac{1}{k}\right)t_{l}+\frac{1}{k}\sum_{i=1}^{l}t_{i}\\
 & \leq\left(1-\frac{1}{k}\right)t_{max}+\frac{1}{k}\sum_{i=1}^{l}t_{i}\leq\left(1-\frac{1}{k}\right)\desc{q\left(s^{*}\right)}{1\;\text{מלמה}}+\desc{q\left(s^{*}\right)}{2\;\text{מלמה}}\\
 & =\left(2-\frac{1}{k}\right)q\left(s^{*}\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Description
הערה אם נמיין את המשימות בסדר יורד לפי זמני ריצה 
\begin_inset Formula $t_{1}\geq\ldots\geq t_{n}$
\end_inset

 ונשתמש באותו האלג', נגיע ל-
\begin_inset Formula $\frac{3}{2}$
\end_inset

 קירוב.
\end_layout

\begin_layout Description
הערה ניתן להשיג קירוב 
\begin_inset Formula $1+\epsilon$
\end_inset

 בזמן ריצה 
\begin_inset Formula $\oo{n^{\left(\frac{1}{\epsilon}\right)^{\frac{3}{2}}}}$
\end_inset

, שזה מאוד גדול - לדוגמה עבור 
\begin_inset Formula $\epsilon=\frac{1}{100}$
\end_inset

, מדובר ב-
\begin_inset Formula $\oo{n^{1000}}$
\end_inset

.
\end_layout

\begin_layout Standard
בבעית אופטימיזציה נתון מרחב פתרונות חוקיים 
\begin_inset Formula $S$
\end_inset

 לבעיה אלג' נתונה ופ' איכות 
\begin_inset Formula $q:S\to\mathbb{R}_{+}$
\end_inset

.
 בבעית מקסימיזציה נחפש 
\begin_inset Formula $s^{*}\in S$
\end_inset

 כך ש-
\begin_inset Formula $q\left(s^{*}\right)=\max\limits _{s\in S}q\left(s\right)$
\end_inset

 ובבעית מינימיזציה נחפש 
\begin_inset Formula $s^{*}\in S$
\end_inset

 כך ש-
\begin_inset Formula $q\left(s^{*}\right)=\min\limits _{s\in S}q\left(s\right)$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה נאמר כי אלג' הינו 
\bar under

\begin_inset Formula $c$
\end_inset

-מקרב
\bar default
 לבעיית מקסימיזציה נתונה עם פתרון אופטימלי 
\begin_inset Formula $s^{*}$
\end_inset

 אם האלג' מחזיר פתרון 
\begin_inset Formula $s$
\end_inset

 כך ש-
\begin_inset Formula $\frac{q\left(s^{*}\right)}{q\left(s\right)}\leq c$
\end_inset

.
 נאמר כי אלג' הינו 
\begin_inset Formula $c$
\end_inset

-מקרב לבעית מינימיזציה עם פתרון אופטימלי 
\begin_inset Formula $s^{*}$
\end_inset

 אם האלג' מחזיר פתרון 
\begin_inset Formula $s$
\end_inset

 כך ש-
\begin_inset Formula $\frac{q\left(s\right)}{q\left(s^{*}\right)}\leq c$
\end_inset

.
\end_layout

\begin_layout Standard

\color lightgray
חלק ב' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le62}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
בעיית כיסוי ע
\begin_inset Quotes erd
\end_inset

י קבוצות )
\lang english
Set Cover
\lang hebrew
(
\end_layout

\begin_layout Description
קלט 
\begin_inset Formula $n\in\mathbb{N}$
\end_inset

, 
\begin_inset Formula $A_{1},\dots,A_{r}\subseteq\left[n\right]$
\end_inset

 כך ש-
\begin_inset Formula $\bigcup\limits _{i=1}^{r}A_{i}=\left[n\right]$
\end_inset

.
\end_layout

\begin_layout Description
פלט תת קבוצה 
\begin_inset Formula $S\subseteq\left[r\right]$
\end_inset

 כך ש-
\begin_inset Formula $\bigcup\limits _{i\in S}A_{i}=\left[n\right]$
\end_inset

 וגם 
\begin_inset Formula $\left|S\right|$
\end_inset

 מינימלי.
\end_layout

\begin_layout Standard
זאת בעיה 
\begin_inset Formula $NP$
\end_inset

 קשה ולכן נחפש לה אלג' מקרב.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $n=10$
\end_inset

, 
\begin_inset Formula $r=6$
\end_inset

,
\begin_inset Formula 
\begin{align*}
A_{1} & =\left\{ 1,\dots,5\right\} \\
A_{2} & =\left\{ 6,\dots,10\right\} \\
A_{3} & =\left\{ 1,2,3\right\} \\
A_{4} & =\left\{ 6,7,8\right\} \\
A_{5} & =\left\{ 1,\dots,8\right\} \\
A_{6} & =\left\{ 3,4,5\right\} 
\end{align*}

\end_inset

במקרה זה, 
\begin_inset Formula $s^{*}=\left\{ 1,2\right\} $
\end_inset

.
\end_layout

\begin_layout Standard
ננסח אלג' מקרב שיעבוד לפי העיקרון החמדני לפיו בכל שלב נוסיף קבוצה המכסה
 הכי הרבה ממה שנשאר.
\end_layout

\begin_layout Description
פסאודו-קוד 
\end_layout

\begin_deeper
\begin_layout Enumerate
אתחול: 
\begin_inset Formula $G=\varnothing$
\end_inset

 )הפתרון החמדן(, 
\begin_inset Formula $X=\left[n\right]$
\end_inset

 )מה שנותר לכסות(.
\end_layout

\begin_layout Enumerate
איטרציה: נבחר 
\begin_inset Formula $1\leq i^{*}\leq r$
\end_inset

 כך ש-
\begin_inset Formula $\left|A_{i}\cap X\right|=\max\limits _{1\leq i\leq r}\left|A_{i}\cap X\right|$
\end_inset

 ונעדכן 
\begin_inset Formula $G=G\cup\left\{ i^{*}\right\} $
\end_inset

, 
\begin_inset Formula $X=X\backslash A_{i^{*}}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard
נסמן ב-
\begin_inset Formula $s^{*}$
\end_inset

 פתרון אופטימלי, 
\begin_inset Formula $k=\left|s^{*}\right|$
\end_inset

 וגם 
\begin_inset Formula $G$
\end_inset

 הפתרון החמדן ו-
\begin_inset Formula $t=\left|G\right|$
\end_inset

.
 נסמן 
\begin_inset Formula $X_{j}$
\end_inset

 את הקבוצה שנותר לכסות אחרי 
\begin_inset Formula $j$
\end_inset

 האיטרציות הראשונות של האלג', לכל 
\begin_inset Formula $1\leq j\leq t$
\end_inset

 ונשים לב כי מתקיים 
\begin_inset Formula $\left[n\right]=X_{0}\supseteq\ldots\supseteq X_{t}=\varnothing$
\end_inset

.
 נשים לב כי 
\begin_inset Formula $t$
\end_inset

 הוא מספר האיטרציות של האלג' עד עצירה.
\end_layout

\begin_layout Description
למה 
\begin_inset Formula $\forall x\in(0,1]$
\end_inset

 ו-
\begin_inset Formula $\forall y\geq0$
\end_inset

 מתקיים 
\begin_inset Formula $\left(1-x\right)^{y}<e^{-xy}$
\end_inset

.
\end_layout

\begin_layout Description
למה לכל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $0\leq j\leq t-1$
\end_inset

 מתקיים 
\begin_inset Formula $\max\limits _{i\in s^{*}}\left|A_{i}\cap X_{j}\right|\geq\frac{1}{k}\left|X_{j}\right|$
\end_inset

, כלומר שקיימת קבוצה שנבחרה בפתרון האופטימלי שמכסה לפחות 
\begin_inset Formula $\frac{1}{k}$
\end_inset

 מהאיברים הנותרים אחרי האיטרציה ה-
\begin_inset Formula $j$
\end_inset

 )עקרון שובך היונים בערך(.
\end_layout

\begin_layout Proof
נראה כי 
\begin_inset Formula $\bigcup\limits _{i\in s^{*}}\left(A_{i}\cap X_{j}\right)=X_{j}$
\end_inset

.
 מכיוון ש-
\begin_inset Formula $s^{*}$
\end_inset

 הוא פתרון חוקי, מתקיים 
\begin_inset Formula $\bigcup\limits _{i\in s^{*}}A_{i}=\left[n\right]$
\end_inset

 ולכן
\begin_inset Formula 
\begin{align*}
\bigcup_{i\in s^{*}}\left(A_{i}\cap X_{j}\right) & =\left(\bigcup_{i\in s^{*}}A_{i}\right)\cap X_{j}=\left[n\right]\cap X_{j}=X_{j}
\end{align*}

\end_inset

ולכן
\begin_inset Formula 
\[
\max_{i\in s^{*}}\left|A_{i}\cap X_{j}\right|\geq\frac{1}{k}\sum_{i\in s^{*}}\left|A_{i}\cap X_{j}\right|\geq\frac{1}{k}\left|\bigcup_{i\in s^{*}}\left(A_{i}\cap X_{j}\right)\right|=\frac{1}{k}\left|X_{j}\right|
\]

\end_inset


\end_layout

\begin_layout Description
משפט האלג' החמדני משיג 
\begin_inset Formula $\lceil\ln n\rceil$
\end_inset

-קירוב לבעיה.
\end_layout

\begin_layout Proof
צריך להראות כי
\begin_inset Formula 
\[
t=\left|G\right|\leq\left|s^{*}\right|\lceil\ln n\rceil=k\lceil\ln n\rceil\overset{\text{סימון}}{=}u
\]

\end_inset

נוכיח כי 
\begin_inset Formula $t\leq u$
\end_inset

.
 יהי 
\begin_inset Formula $0\leq j\leq t-1$
\end_inset

, נוכיח כי 
\begin_inset Formula $\left|X_{j+1}\right|\leq\left(1-\frac{1}{k}\right)\left|X_{j}\right|$
\end_inset

.
 יהי 
\begin_inset Formula $i^{*}$
\end_inset

 האינדקס שנבחר באיטרציה 
\begin_inset Formula $j+1$
\end_inset

.
 לפי עקרון הפעולה של האלג' החמדן, מתקיים
\begin_inset Formula 
\[
\left|X_{j}\cap A_{i^{*}}\right|=\max\limits _{1\leq i\leq r}\left|X_{j}\cap A_{i}\right|\geq\max\limits _{i\in s^{*}}\left|X_{j}\cap A_{i}\right|\overset{2\;\text{למה}}{\geq}\frac{1}{k}\left|X_{j}\right|
\]

\end_inset

לכן
\begin_inset Formula 
\[
\left|X_{j+1}\right|=\left|X_{j}\backslash A_{i^{*}}\right|=\left|X_{j}\right|-\left|X_{j}\cap A_{i^{*}}\right|\leq\left|X_{j}\right|-\frac{1}{k}\left|X_{j}\right|=\left(1-\frac{1}{k}\right)\left|X_{j}\right|
\]

\end_inset


\end_layout

\begin_layout Proof
נניח בשלילה כי 
\begin_inset Formula $t>u$
\end_inset

 ולכן 
\begin_inset Formula $X_{u}\neq0$
\end_inset

 ולכן
\begin_inset Formula 
\[
1\leq\left|X_{u}\right|\overset{2\;\text{למה}}{\leq}\left(1-\frac{1}{k}\right)\left|X_{u-1}\right|\overset{2\;\text{למה}}{\leq}\left(1-\frac{1}{k}\right)^{2}\left|X_{u-2}\right|\leq\ldots\overset{2\;\text{למה}}{\leq}\left(1-\frac{1}{k}\right)^{u}\left|X_{0}\right|\overset{1\;\text{למה}}{<}e^{-\frac{u}{k}}\left|X_{0}\right|=e^{-\lceil\ln n\rceil}n\leq\frac{1}{n}\cdot n=1
\]

\end_inset

סתירה.
\end_layout

\begin_layout Subsection
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
texorpdfstring{
\backslash
protect
\backslash
hypertarget{ta6}{תרגול}}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Description
הגדרה יהיו 
\begin_inset Formula $a\in\mathbb{R}^{n},b\in\mathbb{R}$
\end_inset

 
\bar under
על-מישור
\bar default
 על 
\begin_inset Formula $a,b$
\end_inset

 מוגדר ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $H_{a,b}=\left\{ x\in\mathbb{R}^{n}:a^{T}x=b\right\} $
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard

\bar under
חצי מרחב
\bar default
 הוא 
\begin_inset Formula $\widetilde{H}_{a,b}=\left\{ x\in\mathbb{R}^{n}:a^{T}x\leq b\right\} $
\end_inset

.
\end_layout

\begin_layout Standard

\bar under
פוליהידרון
\bar default
 מוגדר ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $P=\left\{ x\in\mathbb{R}^{n}:Ax\leq b\right\} $
\end_inset

, עבור 
\begin_inset Formula $A\in M_{n}\left(\mathbb{R}\right),b\in\mathbb{R}^{n}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
הערה על מישור הוא דומה למשוואת מישור סתומה.
 חצי מרחב הוא בעצם איחוד של הרבה על מישורים ומוגדר ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $n$
\end_inset

 אי שוויונים לינאריים.
 
\begin_inset Formula $P=\bigcap\limits _{i=1}^{n}\widetilde{H}_{A_{i},b}$
\end_inset

 כאשר 
\begin_inset Formula $A_{i}$
\end_inset

 היא השורה ה-
\begin_inset Formula $i$
\end_inset

 ב-
\begin_inset Formula $A$
\end_inset

.
 לאינטואיציה נוספת ראו אתר הקורס.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $a=\left(\begin{smallmatrix}1\\
-1
\end{smallmatrix}\right)$
\end_inset

, 
\begin_inset Formula $b=0$
\end_inset

.
 
\begin_inset Formula $\left(\begin{smallmatrix}1 & -1\end{smallmatrix}\right)\left(\begin{smallmatrix}x\\
y
\end{smallmatrix}\right)=x-y=0$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה בעיית אופטימיזציה תקרא 
\bar under
בעית תכנון לינארי
\bar default
 אם ניתן לתאר אותה בצורה הבאה: בהינתן 
\begin_inset Formula $c\in\fldr^{n},b\in\fldr^{m},A\in M_{m\times n}\left(\fldr\right)$
\end_inset

, מציאת 
\begin_inset Formula $x\in\fldr^{n}$
\end_inset

 כך שמתקבל הערך המקסימלי 
\begin_inset Formula $\max c^{T}x$
\end_inset

 כאשר 
\begin_inset Formula $Ax\leq b$
\end_inset

 ו-
\begin_inset Formula $x\geq0$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה נרצה את הערך המקסימלי 
\begin_inset Formula $\max x_{1}+2x_{2}$
\end_inset

 כך ש-
\begin_inset Formula $4x_{1}-x_{2}\leq3$
\end_inset

 ו-
\begin_inset Formula $2x_{1}+2x_{3}\geq-100$
\end_inset

 וכמובן 
\begin_inset Formula $x_{1},x_{2}\geq0$
\end_inset

.
 זוהי בעיית תכנון לינארי כאשר 
\begin_inset Formula $c=\left(\begin{smallmatrix}1\\
2
\end{smallmatrix}\right)$
\end_inset

, 
\begin_inset Formula $A=\left(\begin{smallmatrix}4 & -1\\
-2 & -2
\end{smallmatrix}\right)$
\end_inset

 ו-
\begin_inset Formula $\left(\begin{smallmatrix}3\\
100
\end{smallmatrix}\right)$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Separator plain
\end_inset


\end_layout

\end_deeper
\begin_layout Description
דוגמה נרצה את הערך המקסימלי 
\begin_inset Formula $\max x_{1}+8x_{2}$
\end_inset

 כך ש-
\begin_inset Formula 
\begin{align*}
x_{1} & \geq3 & \left(1\right)\\
x_{2} & \geq2 & \left(2\right)\\
-3x_{1}+4x_{2} & \leq14 & \left(3\right)\\
4x_{1}-4x_{2} & \leq25 & \left(4\right)\\
x_{1}+x_{2} & \leq15 & \left(5\right)
\end{align*}

\end_inset

נרצה את 
\begin_inset Formula $\left(\begin{smallmatrix}x_{1}\\
x_{2}
\end{smallmatrix}\right)$
\end_inset

 בתחום בתמונה שעבורם 
\begin_inset Formula $x_{1}+8x_{2}$
\end_inset

 מקסימלי.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/polyhedron-example.png
	scale 60

\end_inset


\end_layout

\end_deeper
\begin_layout Description
הערה מסתבר שהפתרון האופטימלי תמיד נמצא על אחד הקודקודים בהם נפגשים שני על
 מישורים )במקרה הדו ממדי, העל מישורים הם גרפים של פ' לינאריות(.
 אלג' מאוד פופולרי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Simplex
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמתבסס על העובדה הזו רץ בזמן פולינומיאלי ב-
\begin_inset Formula $m+n$
\end_inset

.
\end_layout

\begin_layout Standard

\size larger
בעיית התרמיל השברי
\end_layout

\begin_layout Standard
היזכרו בבעית התרמיל השברי )והשלם( משבוע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\begin_inset Formula $\mathbb{I}$
\end_inset

.
\end_layout

\begin_layout Standard
נוכל להמיר את הבעיה הזו גם כן לבעית תכנון לינארי.
 נגדיר 
\begin_inset Formula $c=\left(\begin{smallmatrix}v_{1}\\
\vdots\\
v_{n}
\end{smallmatrix}\right)$
\end_inset

, 
\begin_inset Formula $\desc{\left(\begin{smallmatrix}1 & 0 & \cdots & 0\\
0 & 1 & \cdots & 0\\
 &  & \ddots\\
0 & \cdots & 0 & 1\\
w_{1} & w_{2} & \cdots & w_{n}
\end{smallmatrix}\right)}A\left(\begin{smallmatrix}x_{1}\\
\vdots\\
x_{n}
\end{smallmatrix}\right)\leq\desc{\left(\begin{smallmatrix}1\\
\vdots\\
1\\
W
\end{smallmatrix}\right)}b$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה בעיית אופטימיזציה תקרא 
\bar under
בעית תכנון לינארי בשלמים
\bar default
 )ILP( אם ניתן לתאר אותה בצורה הבאה: בהינתן
\begin_inset Formula 
\[
c\in\fldr^{n},b\in\fldr^{m},A\in M_{m\times n}\left(\fldr\right)
\]

\end_inset

מציאת 
\begin_inset Formula $x\in\mathbb{Z}^{n}$
\end_inset

 כך שמתקבל הערך המקסימלי 
\begin_inset Formula $\max c^{T}x$
\end_inset

 כאשר 
\begin_inset Formula $Ax\leq b$
\end_inset

 ו-
\begin_inset Formula $x\geq0$
\end_inset

.
\end_layout

\begin_layout Standard
את בעית התרמיל השלם נוכל גם כן לייצג כבעית תכנון לינארי בשלמים, כאשר נדרוש
 ש-
\begin_inset Formula $x_{i}\leq1$
\end_inset

 בנוסף לדרישה שהוא אי-שלילי.
\end_layout

\begin_layout Standard

\size larger
בעית הסרת המשולשים
\end_layout

\begin_layout Description
קלט גרף לא מכוון 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

.
\end_layout

\begin_layout Description
פלט קבוצה 
\begin_inset Formula $S\subseteq E$
\end_inset

 בגודל מינימלי כך שבגרף 
\begin_inset Formula $G=\left(V,E\backslash S\right)$
\end_inset

 אין משולשים.
 כלומר לכל 
\begin_inset Formula $u,v,w\in V$
\end_inset

 מתקיים
\begin_inset Formula 
\[
\left\{ \left\{ u,v\right\} ,\left\{ v,w\right\} ,\left\{ w,u\right\} \right\} \nsubseteq E\backslash S
\]

\end_inset


\end_layout

\begin_layout Standard
בעיה זו היא 
\begin_inset Formula $NP$
\end_inset

 קשה )נלמד בחישוביות( ולכן אין לה פתרון יעיל.
 ננסח אלג' קירוב המבוסס על תכנון לינארי בשלמים )ייתכן שהוא מסיר יותר מדי
 צלעות, אבל הוא בטוח חוקי(.
 נשים לב כי נצטרך להוריד לפחות צלע אחת מכל משולש בגרף.
\end_layout

\begin_layout Standard
נגדיר משתנים מציינים 
\begin_inset Formula $X_{j}=\begin{cases}
1 & e_{j}\in S\\
0 & e_{j}\notin S
\end{cases}$
\end_inset

, 
\begin_inset Formula $\forall j\in\left[\left|E\right|\right]$
\end_inset

.
 נרצה ש-
\begin_inset Formula $\forall u,v,w\in V$
\end_inset

 כך ש-
\begin_inset Formula $\left\{ u,v\right\} ,\left\{ v,w\right\} ,\left\{ w,u\right\} \in E$
\end_inset

 יתקיים 
\begin_inset Formula $X_{u,v}+X_{v,w}+X_{w,u}\geq1$
\end_inset

 )כלומר אם יש משולש, לפחות צלע אחת ממנו נמצאת בקבוצת הצלעות שיוסרו(.
\end_layout

\begin_layout Standard
ננסח את בעית התכנון הלינארי בשלמים.
 נרצה את 
\begin_inset Formula $\min\left|S\right|$
\end_inset

 כאשר 
\begin_inset Formula $\left|S\right|=\sum\limits _{i=1}^{\left|E\right|}X_{i}$
\end_inset

, כלומר נרצה בעצם את 
\begin_inset Formula $\min\sum\limits _{i=1}^{\left|E\right|}X_{i}$
\end_inset

.
 נוכל לחשוב על האופטימיזציה בבעיה כמציאת 
\begin_inset Formula $S$
\end_inset

 כך ש-
\begin_inset Formula $\left|E\right|-\sum\limits _{i=1}^{n}X_{i}$
\end_inset

 מקסימלי, כלומר 
\begin_inset Formula $\max\left|E\right|-\sum\limits _{i=1}^{n}X_{i}$
\end_inset

, אבל בגלל ש-
\begin_inset Formula $\left|E\right|$
\end_inset

 קבוע אז מציאת מקסימום על הערך הנ
\begin_inset Quotes erd
\end_inset

ל שקול על מציאת 
\begin_inset Formula $\max\left(-\sum\limits _{i=1}^{n}X_{i}\right)$
\end_inset

, שזה שקול ל-
\begin_inset Formula $\min\sum\limits _{i=1}^{n}X_{i}$
\end_inset

.
\end_layout

\begin_layout Standard
נדרוש כי 
\begin_inset Formula $0\leq X_{j}$
\end_inset

 וגם 
\begin_inset Formula $X_{j}\leq1$
\end_inset

 ו-
\begin_inset Formula $X\in\mathbb{Z}^{n}$
\end_inset

.
 נדרוש בנוסף כי 
\begin_inset Formula $\forall u,v,w\in V$
\end_inset

 כך ש-
\begin_inset Formula $\left\{ u,v\right\} ,\left\{ v,w\right\} ,\left\{ w,u\right\} \in E$
\end_inset

,
\begin_inset Formula 
\[
X_{u,v}+X_{v,w}+X_{w,u}\geq1
\]

\end_inset

או במקרה שלנו 
\begin_inset Formula $-X_{u,v}-X_{v,w}-X_{w,u}\leq-1$
\end_inset

.
 לכן נגדיר
\begin_inset Formula 
\[
\left(\begin{matrix}\overset{\left|E\right|}{\overbrace{\begin{smallmatrix}1 & 0 & \cdots & 0\\
0 & 1 & \cdots & 0\\
 &  & \ddots\\
0 & \cdots & 0 & 1
\end{smallmatrix}}}\\
M
\end{matrix}\right)\left(\begin{smallmatrix}x_{1}\\
\vdots\\
x_{\left|E\right|}
\end{smallmatrix}\right)\leq\left(\begin{smallmatrix}1\\
\vdots\\
1\\
-1\\
\vdots\\
-1
\end{smallmatrix}\right)
\]

\end_inset

כאשר שורה ב-
\begin_inset Formula $M$
\end_inset

 היא מהצורה 
\begin_inset Formula $\left(0\cdots\desc{-1}{X_{u,v}}\cdots\desc{-1}{X_{v,w}}\cdots\desc{-1}{X_{w,u}}\cdots0\right)$
\end_inset

 כאשר 
\begin_inset Formula $\left\{ u,v\right\} ,\left\{ v,w\right\} ,\left\{ w,u\right\} \in E$
\end_inset

, 
\begin_inset Formula $u,v,w\in V$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה נביט בגרף הבא
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/ilp-graph-example.png

\end_inset


\end_layout

\begin_layout Standard
כאן, בהינתן מספור הצלעות, 
\begin_inset Formula $M=\left(\begin{smallmatrix}-1 & -1 & -1 & 0 & 0\\
0 & 0 & -1 & -1 & -1
\end{smallmatrix}\right)$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Section
שבוע 
\begin_inset Formula $\mathbb{VII}$
\end_inset

 | אלגוריתמי קירוב נוספים
\end_layout

\begin_layout Subsection
הרצאה
\end_layout

\begin_layout Standard

\color lightgray
חלק א' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le71}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
סיימנו את ההוכחה מההרצאה הקודמת.
\end_layout

\begin_layout Standard

\size larger
בעיית כיסוי ע
\begin_inset Quotes erd
\end_inset

י קודקודים )
\lang english
Vertex Cover
\lang hebrew
(
\end_layout

\begin_layout Description
סיפור
\begin_inset Formula $\;$
\end_inset

מסגרת נרצה לשלוח פייק ניוז, כל צלע היא יחס חברות בפייסבוק, כל קודקוד משתמש,
 נרצה לדעת מה הקבוצה המינימלי כך שכל אחד יוכל להפיץ לחברים שלו )לכל זוג
 יהיה מישהו שהפיצו לו(.
\end_layout

\begin_layout Description
קלט גרף לא מכוון 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

.
\end_layout

\begin_layout Description
פלט קבוצה 
\begin_inset Formula $S\subseteq V$
\end_inset

 כך שלכל 
\begin_inset Formula $\left(x,y\right)=e\in E$
\end_inset

 מתקיים 
\begin_inset Formula $x\in S$
\end_inset

 או 
\begin_inset Formula $y\in S$
\end_inset

 וכך ש-
\begin_inset Formula $\left|S\right|$
\end_inset

 מינימלי.
\end_layout

\begin_layout Description
דוגמה בגרף כוכב )קודקוד במרכז וצלעות מחוברות רק אליו מסביב(, 
\begin_inset Formula $\left|s^{*}\right|=1$
\end_inset

 הוא בחירת הקודקוד המרכזי.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $G=K_{n}$
\end_inset

, 
\begin_inset Formula $\left|s^{*}\right|=n-1$
\end_inset

 כי אם יש שני קודקודים שלא נבחרו אז הצלע של שניהם לא תקיים את התנאי הרצוי.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $G=K_{a,b}$
\end_inset

 הגרף המלא הדו צדדי, 
\begin_inset Formula $a\le b$
\end_inset

.
 כאן 
\begin_inset Formula $\left|s^{*}\right|=a$
\end_inset

 כי נוכל לבחור את כל הצד השמאלי וכל הצלעות בהכרח יכילו קודקוד אחד ממנו.
\end_layout

\begin_layout Description
הערה זו בעיה 
\begin_inset Formula $NP$
\end_inset

-קשה ולכן נחפש אלג' קירוב.
\end_layout

\begin_layout Description
הערה נשים לב כי נוכל לעשות רידוקציה לבעיית כיסוי ע
\begin_inset Quotes erd
\end_inset

י קבוצות: לכל קודקוד 
\begin_inset Formula $x\in V$
\end_inset

, נתאים את קבוצת הצלעות בגרף 
\begin_inset Formula $G$
\end_inset

 העוברות דרך 
\begin_inset Formula $x$
\end_inset

, כלומר נקבל 
\begin_inset Formula $\left|V\right|$
\end_inset

 תת קבוצות של 
\begin_inset Formula $E$
\end_inset

 ונרצה לכסות את 
\begin_inset Formula $E$
\end_inset

 עם כמה שפחות קבוצות כאלה )כלומר כמה שפחות קודקודים(.
 לכן נוכל להשתמש באלג' שלנו לכיסוי ע
\begin_inset Quotes erd
\end_inset

י קבוצות כדי לקבל אלג' 
\begin_inset Formula $\lceil\ln\left|E\right|\rceil$
\end_inset

-מקרב לבעיית כיסוי ע
\begin_inset Quotes erd
\end_inset

י קודקודים.
\end_layout

\begin_deeper
\begin_layout Standard
עם זאת, בגלל שגרף הוא מבנה מיוחד, נוכל לנצל זאת לטובתנו למציאת אלג' קירוב
 יותר טוב.
\end_layout

\end_deeper
\begin_layout Description
פסאודו-קוד
\end_layout

\begin_deeper
\begin_layout Enumerate
אתחול: 
\begin_inset Formula $G=\varnothing$
\end_inset

, 
\begin_inset Formula $X=E$
\end_inset

.
\end_layout

\begin_layout Enumerate
איטרציה: נבחר צלע 
\begin_inset Formula $\left(x,y\right)=e\in X$
\end_inset

 )שרירותית!( ונעדכן 
\begin_inset Formula $G=G\cup\left\{ x\right\} \cup\left\{ y\right\} $
\end_inset

 ונמחק מ-
\begin_inset Formula $X$
\end_inset

 את כל הצלעות העוברות דרך 
\begin_inset Formula $x$
\end_inset

 או דרך 
\begin_inset Formula $y$
\end_inset

.
\end_layout

\begin_layout Enumerate
סיום: כאשר 
\begin_inset Formula $X=\varnothing$
\end_inset

 נעצור ונחזיר את 
\begin_inset Formula $G$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
דוגמה עבור הגרף הבא, 
\begin_inset Formula $s^{*}=\left\{ 1,2\right\} $
\end_inset

 אבל 
\begin_inset Formula $s=\left\{ 1,2,3,4\right\} $
\end_inset

 עבור סדר בחירת הצלעות 
\begin_inset Formula $\left\{ 1,3\right\} $
\end_inset

 ואז 
\begin_inset Formula $\left\{ 2,4\right\} $
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/vertex-cover.png
	scale 40

\end_inset


\end_layout

\end_deeper
\begin_layout Description
הערה זהו האלג' הנאיבי ביותר אבל גם מקרב הכי טוב שידוע לנו.
 בנוסף, הוכח כי לא ניתן לקרב יותר טוב מ-
\begin_inset Formula $\sqrt{2}$
\end_inset

 ורבים מאמינים כי אי אפשר לקרב יותר טוב מ-
\begin_inset Formula $2$
\end_inset

.
\end_layout

\begin_layout Description
משפט האלג' מחזיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $2$
\end_inset

-קירוב לבעיה.
\end_layout

\begin_layout Description
הגדרה )מדיסקרטית( 
\bar under
זיווג
\bar default
 בגרף הוא אוסף צלעות ללא קודקודים משותפים.
\end_layout

\begin_layout Description
למה אם הגרף 
\begin_inset Formula $G$
\end_inset

 מכיל זיווג בגודל 
\begin_inset Formula $t$
\end_inset

 אזי כל כיסוי ע
\begin_inset Quotes erd
\end_inset

י קודקודים בגרף הזה מכיל לפחות 
\begin_inset Formula $t$
\end_inset

 קודקודים )אם יש 
\begin_inset Formula $t$
\end_inset

 צלעות זרות נצטרך לפחות 
\begin_inset Formula $t$
\end_inset

 קודקודים כדי לכסות אותן, בלי להתסכל אפילו על שאר הצלעות(.
\end_layout

\begin_layout Proof
יהי 
\begin_inset Formula $s$
\end_inset

 כיסוי ע
\begin_inset Quotes erd
\end_inset

י קודקודים של הגרף 
\begin_inset Formula $G$
\end_inset

.
 
\begin_inset Formula $s$
\end_inset

 חייב להכיל קודקוד אחד לפחות על כל אחת מצלעות הזיווג.
 כל הקודקודים האלה שונים זה מזה כי לצלעות בזיווג אין קודקודים משותפים.
 לכן, מכיוון שיש 
\begin_inset Formula $t$
\end_inset

 צלעות בזיווג, 
\begin_inset Formula $s$
\end_inset

 מכיל לפחות 
\begin_inset Formula $t$
\end_inset

 קודקודים.
\end_layout

\begin_layout Standard
\begin_inset Separator plain
\end_inset


\end_layout

\begin_layout Proof
)של המשפט( נסמן ב-
\begin_inset Formula $s^{*}$
\end_inset

 פתרון אופטימלי וב-
\begin_inset Formula $t$
\end_inset

 את מספר האיטרציות של האלג' עד העצירה.
 יהי 
\begin_inset Formula $s$
\end_inset

 הפתרון המוחזר ע
\begin_inset Quotes erd
\end_inset

י האלג'.
 לכן 
\begin_inset Formula $\left|s\right|=2t$
\end_inset

 כי בכל אירטציה האלג' מוסיף 
\begin_inset Formula $2$
\end_inset

 קודקודים ל-
\begin_inset Formula $s$
\end_inset

.
 תהיינה 
\begin_inset Formula $l_{1},\dots,l_{t}$
\end_inset

 הצלעות שהאלג' בוחר לאורך האיטרציות שלו לפי אופן פעולתו.
 לצלעות 
\begin_inset Formula $l_{1},\dots,l_{t}$
\end_inset

 אין קודקודים משותפים ולכן הן מהיות זיווג בגרף בגודל 
\begin_inset Formula $t$
\end_inset

 ולכן הלמה 
\begin_inset Formula $\left|s^{*}\right|\geq t$
\end_inset

 ולכן 
\begin_inset Formula $\left|s\right|=2t\leq2\left|s^{*}\right|$
\end_inset

.
\end_layout

\begin_layout Standard

\size larger
בעיית כיסוי קודקודים ממושקל
\end_layout

\begin_layout Description
קלט גרף לא מכוון 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 ופ' משקל 
\begin_inset Formula $w:V\to\fldr_{+}$
\end_inset

.
\end_layout

\begin_layout Description
פלט כיסוי קודקודים 
\begin_inset Formula $S\subseteq V$
\end_inset

 כך ש-
\begin_inset Formula $w\left(S\right)$
\end_inset

 מינימלי.
\end_layout

\begin_layout Standard

\size larger
סכמה לניסוח אלגוריתם מקרב בעזרת תכנון לינארי
\end_layout

\begin_layout Enumerate
נתרגם את הבעיה לבעית מינימיזציה של פ' לינארית במשתנים שמקבלים ערכים שלמים
 ומקיימים אילוצים לינאריים )ניסוח אנליטי של הבעיה המקורית( - זו בעיית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ILP
\lang hebrew
.
\end_layout

\begin_layout Enumerate
נסיר את האילוץ של הערכים השלמים ונחליף אותו באי שוויונים לינאריים )צריכה
 להיות רלקסציה - הבעיה החדשה צריכה להיות קלה יותר(.
\end_layout

\begin_layout Enumerate
נפתור את בעיית ה-
\lang english
LP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שקיבלנו בשלב הקודם בעזרת אלג' הפותר בעיות תכנון לינארי )
\lang english
Simplex
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לדוגמה( ונקבל פתרון אופטימלי לבעיה זו.
\end_layout

\begin_layout Enumerate
נעגל את הפתרון האופטימלי לבעיית ה-
\lang english
LP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לפתרון טוב לבעיה המקורית ונחזיר את הפתרון המקורב.
\end_layout

\begin_layout Standard

\color lightgray
חלק ב' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le72}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
כלומר בעצם, מה שאנחנו עושים זה: 
\begin_inset Formula $\text{פתרון מקרב}\Leftarrow\textrm{LP}\Leftarrow\textrm{ILP}\Leftarrow\text{בעיה}$
\end_inset

.
\end_layout

\begin_layout Description
אלגוריתם 
\end_layout

\begin_deeper
\begin_layout Enumerate
בהינתן כיסוי קודקודים 
\begin_inset Formula $S$
\end_inset

, 
\begin_inset Formula $\forall v\in V$
\end_inset

 נתאים משתנה 
\begin_inset Formula $X\left(v\right)=\begin{cases}
1 & v\in S\\
0 & v\notin S
\end{cases}$
\end_inset

.
 לכן מהיות 
\begin_inset Formula $S$
\end_inset

 כיסוי קודקודים, בהינתן צלע 
\begin_inset Formula $\left(a,b\right)\in E$
\end_inset

, מתקיים 
\begin_inset Formula $a\in S$
\end_inset

 או 
\begin_inset Formula $b\in S$
\end_inset

, כלומר 
\begin_inset Formula $X\left(a\right)=1$
\end_inset

 או 
\begin_inset Formula $X\left(b\right)=1$
\end_inset

, או לחלופין 
\begin_inset Formula $X\left(a\right)+X\left(b\right)\geq1$
\end_inset

.
 מתקיים גם כי משקל הכיסוי 
\begin_inset Formula $S$
\end_inset

 הוא 
\begin_inset Quotes eld
\end_inset

פונקציונאל לינארי
\begin_inset Quotes erd
\end_inset

 על המשתנים שהגדרנו, כלומר 
\begin_inset Formula $w\left(s\right)=\sum\limits _{v\in S}w\left(v\right)=\sum\limits _{v\in V}w\left(v\right)$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
קיבלנו בעיית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ILP
\lang hebrew
:
\begin_inset Formula 
\[
\begin{cases}
\min\sum\limits _{v\in V}w\left(v\right)X\left(v\right)\\
X\left(v\right)\in\left\{ 0,1\right\} ,\forall v\in V\\
X\left(a\right)+X\left(b\right)\geq1,\forall\left(a,b\right)\in E
\end{cases}
\]

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
נחליף 
\begin_inset Formula $\forall v\in V$
\end_inset

 את האילוץ 
\begin_inset Formula $X\left(v\right)\in\left\{ 0,1\right\} $
\end_inset

 לאילוץ לינארי 
\begin_inset Formula $0\leq X\left(v\right)\leq1$
\end_inset

 )יכול עכשיו להיות גם ממשי(.
 קיבלנו בעיית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
LP
\lang hebrew
:
\begin_inset Formula 
\[
\begin{cases}
\min\sum\limits _{v\in V}w\left(v\right)X\left(v\right)\\
0\leq X\left(v\right)\leq1,\forall v\in V\\
X\left(a\right)+X\left(b\right)\geq1,\forall\left(a,b\right)\in E
\end{cases}
\]

\end_inset


\end_layout

\begin_layout Enumerate
נפתור את בעיית ה-
\lang english
LP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שקיבלנו בשלב הקודם ונקבל פתרון אופטימלי.
\end_layout

\begin_deeper
\begin_layout Standard
נסמן 
\begin_inset Formula $X^{*}$
\end_inset

 פתרון אופטימלי של הבעיה המקורית ונסמן ב-
\begin_inset Formula $X_{LP}^{*}$
\end_inset

 את הפתרון האופטימלי שקיבלנו לבעיית ה-
\lang english
LP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בשלב הנוכחי.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $\forall v\in V$
\end_inset

, נעגל 
\begin_inset Formula $X\left(v\right)=\begin{cases}
1 & X_{LP}^{*}\left(v\right)\geq\frac{1}{2}\\
 & \textrm{otherwise}
\end{cases}$
\end_inset

 ונחזיר את 
\begin_inset Formula $X$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
משפט הפתרון 
\begin_inset Formula $X$
\end_inset

 שהאלג' הנ
\begin_inset Quotes erd
\end_inset

ל מחזיר הוא פתרון חוקי ו-
\begin_inset Formula $2$
\end_inset

-מקרב לבעיה המקורית.
\end_layout

\begin_layout Proof

\bar under
חוקיות
\bar default
: לפי הגדרת 
\begin_inset Formula $X$
\end_inset

, 
\begin_inset Formula $\forall v\in V$
\end_inset

 מתקיים 
\begin_inset Formula $X\left(v\right)\in\left\{ 0,1\right\} $
\end_inset

.
 תהי 
\begin_inset Formula $\left(a,b\right)\in E$
\end_inset

.
 מהיות 
\begin_inset Formula $X_{LP}^{*}$
\end_inset

 פתרון חוקי של בעיית ה-
\lang english
LP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 אזי 
\begin_inset Formula $X_{LP}^{*}\left(a\right)+X_{LP}^{*}\left(b\right)\geq1$
\end_inset

 ולכן 
\begin_inset Formula $X_{LP}^{*}\left(a\right)\geq\frac{1}{2}$
\end_inset

 או 
\begin_inset Formula $X_{LP}^{*}\left(b\right)\geq\frac{1}{2}$
\end_inset

 ולכן 
\begin_inset Formula $X\left(a\right)=1$
\end_inset

 או 
\begin_inset Formula $X\left(b\right)=1$
\end_inset

.
\end_layout

\begin_layout Proof

\bar under
קירוב
\bar default
:
\end_layout

\begin_deeper
\begin_layout Description
למה 
\begin_inset Formula 
\[
w\left(X_{LP}^{*}\right)\leq\sum\limits _{v\in V}w\left(v\right)X_{LP}^{*}\left(v\right)\leq\sum\limits _{v\in V}w\left(v\right)X^{*}\left(v\right)=w\left(X^{*}\right)
\]

\end_inset


\end_layout

\begin_layout Proof
\begin_inset Formula $X^{*}$
\end_inset

 הוא פתרון חוקי לבעית ה-
\lang english
ILP
\lang hebrew
.
 כל פתרון חוקי של בעיית ה-
\lang english
ILP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא גם פתרון חוקי של בעית ה-
\lang english
LP
\lang hebrew
.
 ואילו 
\begin_inset Formula $X_{LP}^{*}$
\end_inset

 הוא פתרון אופטימלי לבעיית ה-
\lang english
LP
\lang hebrew
, ולכן משקלו קטן מכל פתרון חוקי אחר של בעיית ה-
\lang english
LP
\lang hebrew
.
\end_layout

\begin_layout Description
למה 
\begin_inset Formula $\forall v\in V$
\end_inset

 מתקיים 
\begin_inset Formula $X\left(v\right)\leq2X_{LP}^{*}\left(v\right)$
\end_inset

 )מהגדרת העיגול, הסטודנטית המשקיעה תחשב ותגלה שזה אכן המצב(.
\end_layout

\end_deeper
\begin_layout Proof
נסיים את הוכחת הקירוב:
\begin_inset Formula 
\[
\sum_{v\in V}w\left(v\right)X\left(v\right)\overset{2\;\text{למה}}{\leq}\sum_{v\in V}w\left(v\right)2X_{LP}^{*}\left(v\right)=2\sum_{v\in V}w\left(v\right)X_{LP}^{*}\left(v\right)\overset{1\;\text{למה}}{\leq}2\sum_{v\in V}w\left(v\right)X^{*}\left(v\right)
\]

\end_inset


\end_layout

\begin_layout Description
דוגמה הגרף המלא על שלושה קודקודים עם משקלים אחד, כבציור
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/approx-weighted-vertices.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
הפתרון האופטימלי הוא בחירת שתי צלעות, כלומר 
\begin_inset Formula $\sum\limits _{v\in V}w\left(v\right)X^{*}\left(w\right)=2$
\end_inset

.
 כדי לפתור את הבעיה בתכנון לינארי, נרצה לתת ערכים לכל קודקוד כך שסכום הערכים
 הוא מינימלי וגם סכום הערכים של כל זוג קודקודים המחוברים בצלע יהיה גדול
 מאחד.
 קל לראות כי הפתרון האופטימלי כאן הוא מתן הערך 
\begin_inset Formula $\frac{1}{2}$
\end_inset

 לכל קודקוד, וכך נקבל 
\begin_inset Formula $\sum\limits _{v\in V}w\left(v\right)X_{LP}^{*}\left(w\right)=\frac{2}{3}$
\end_inset

.
 הפתרון שיחזיר האלג' שלנו יכלול את כל שולשת הקודקודים והיחס שנקבל הוא 
\begin_inset Formula $\frac{2}{3}$
\end_inset

, אכן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קירב ביחס של לכל היותר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
.
\end_layout

\end_deeper
\begin_layout Subsection
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
texorpdfstring{
\backslash
protect
\backslash
hypertarget{ta7}{תרגול}}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
בעיית
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
3SAT
\end_layout

\begin_layout Description
קלט נוסחת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
3-CNF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 עם 
\begin_inset Formula $m$
\end_inset

 פסוקיות, 
\begin_inset Formula $C_{1},\dots,C_{m}$
\end_inset

 )לדוגמה 
\begin_inset Formula $x_{1}\lor x_{2}\lor\lnot x_{3}$
\end_inset

( ב-
\begin_inset Formula $n$
\end_inset

 משתנים.
 נניח כי 
\begin_inset Formula $n\leq3m$
\end_inset

 וגם שאין בפסוקית משתנה שחוזר על עצמו )לדוגמה 
\begin_inset Formula $x_{1}\lor x_{2}\lor\lnot x_{1}$
\end_inset

(.
\end_layout

\begin_layout Description
פלט האם קיימת השמה של 
\begin_inset Formula $x_{1},\dots,x_{n}$
\end_inset

 בה הנוסחה מחזירה 
\begin_inset Quotes eld
\end_inset

אמת
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Description
הערה נשים לב שזו לא בעיית אופטימיזציה, אלא בעיית הכרעה.
 בנוסף, זו בעיה 
\begin_inset Formula $NP$
\end_inset

 קשה ולכן נפתור בקירוב בעיית אופטימיזציה המתאימה לבעיה זו.
\end_layout

\begin_layout Standard

\size larger
בעיית
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MAX-3SAT
\end_layout

\begin_layout Description
קלט כמו ב-
\lang english
3SAT
\lang hebrew
.
\end_layout

\begin_layout Description
פלט השמה המספקת מספר מקסימלי של פסוקיות אמת.
\end_layout

\begin_layout Description
פסאודו-קוד 
\end_layout

\begin_deeper
\begin_layout Enumerate
נבדוק כמה פסוקיות ההשמה 
\begin_inset Formula $X_{T}=\left(T,\dots,T\right)$
\end_inset

 מעניקה ונסמן מספר זה ב-
\begin_inset Formula $f$
\end_inset

.
\end_layout

\begin_layout Enumerate
נבדוק כמה פסקויות 
\begin_inset Formula $X_{F}=\left(F,\dots,F\right)$
\end_inset

 מעניקה ונסמן מספר זה ב-
\begin_inset Formula $f$
\end_inset

.
\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $f<t$
\end_inset

 נחזיר 
\begin_inset Formula $X_{T}$
\end_inset

, אחרת נחזיר 
\begin_inset Formula $X_{F}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
משפט האלג' הנ
\begin_inset Quotes erd
\end_inset

ל הוא 
\begin_inset Formula $2$
\end_inset

-מקרב לבעיה.
\end_layout

\begin_layout Proof
לכל פסוקית, או ש-
\begin_inset Formula $X_{T}$
\end_inset

 מספק אותה או ש-
\begin_inset Formula $X_{F}$
\end_inset

 מספק אותה או שניהם.
 לכן 
\begin_inset Formula $t+f\geq m$
\end_inset

 ולכן 
\begin_inset Formula $\max\left\{ t,f\right\} \geq\frac{1}{2}m$
\end_inset

 והפתרון האופטימלי, 
\begin_inset Formula $s^{*}$
\end_inset

, מקיים 
\begin_inset Formula $s^{*}\leq m$
\end_inset

 ולכן ולכן 
\begin_inset Formula $s^{*}\leq2\max\left\{ t,f\right\} $
\end_inset

.
\end_layout

\begin_layout Description
הערה האלג' היה עובד בדיוק באותו האופן גם עבור כל השמה אחרת שלה, ושלילתה.
\end_layout

\begin_layout Description
הערה האלג' הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $2$
\end_inset

-מקרב לכל נוסחאת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CNF
\lang hebrew
, לא רק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כשיש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
משתנים בפסוקית.
\end_layout

\begin_layout Description
הגדרה אלג' 
\bar under
דטרמיניסטי
\bar default
 מחזיר פתרון אופטימלי.
\end_layout

\begin_deeper
\begin_layout Standard
אלג' 
\bar under

\begin_inset Formula $c$
\end_inset

-מקרב
\bar default
 מחזיר פתרון 
\begin_inset Formula $c$
\end_inset

 מקרב.
\end_layout

\begin_layout Standard
אלג' 
\bar under
הסתברותי
\bar default
 מחזיר פתרון אופטימלי בהסתברות גבוהה כרצוננו, אחרת מחזיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
fail
\lang hebrew
.
\end_layout

\begin_layout Standard
אלג' 
\bar under

\begin_inset Formula $c$
\end_inset

-מקרב הסתברותי
\bar default
 מחזיר פתרון 
\begin_inset Formula $c$
\end_inset

-מקרב בהסת' גבוהה כרצוננו, אחרת מחזיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
fail
\lang hebrew
.
\end_layout

\end_deeper
\begin_layout Description
הערה לרוב 
\begin_inset Quotes eld
\end_inset

גדולה כרצוננו
\begin_inset Quotes erd
\end_inset

 יהיה בהסת' 
\begin_inset Formula $1-\frac{1}{a^{k}}$
\end_inset

 כשנוכל להגדיל את 
\begin_inset Formula $k$
\end_inset

 כמה שנרצה )הוא מספר טבעי(.
\end_layout

\begin_layout Description
פסאודו-קוד לאלג' הבסיסי:
\end_layout

\begin_deeper
\begin_layout Enumerate
לכל משתנה 
\begin_inset Formula $x_{i}$
\end_inset

, נגדיר אותו באופן אקראי ואחיד בין 
\begin_inset Formula $T$
\end_inset

 ל-
\begin_inset Formula $F$
\end_inset

.
\end_layout

\begin_layout Enumerate
נבדוק אם ההשמה שהתקבלה מספקת לפחות 
\begin_inset Formula $\frac{7}{8}m$
\end_inset

 פסוקיות נחזיר אותה, אחרת נחזיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
fail
\lang hebrew
.
\end_layout

\begin_layout Standard
לאלג' המלא:
\end_layout

\begin_layout Standard
נחזור על האלג' הבסיסי 
\begin_inset Formula $k\left(m+1\right)$
\end_inset

 פעמים באופן בלתי תלוי, אם באחת הריצות הייתה הצלחה, נחזיר את ההשמה שהתקבלה,
 אחרת נחזיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
fail
\lang hebrew
.
\end_layout

\end_deeper
\begin_layout Description
זמן
\begin_inset Formula $\;$
\end_inset

ריצה בכל איטרציה נבצע את האלג' הבסיסי שדורש 
\begin_inset Formula $\oo{m+n}=\oo m$
\end_inset

 )הגרלה וחישוב הפסוקיות( וסה
\begin_inset Quotes erd
\end_inset

כ נבצע אותו 
\begin_inset Formula $k\left(m+1\right)$
\end_inset

 פעמים, כלומר סה
\begin_inset Quotes erd
\end_inset

כ 
\begin_inset Formula $\oo{km^{2}}$
\end_inset

.
\end_layout

\begin_layout Description
משפט האלג' המלא הוא 
\begin_inset Formula $\frac{8}{7}$
\end_inset

-מקרב.
\end_layout

\begin_layout Proof

\bar under
חוקיות
\bar default
: האלג' מחזיר או השמה חוקית ל-
\lang english
CNF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
fail
\lang hebrew
, פלטים חוקיים לאלג' התסברותי.
\end_layout

\begin_layout Proof

\bar under
קירוב
\bar default
: אם האלג' הצליח, ההשמה המוחזרת מספקת לפחות 
\begin_inset Formula $\frac{7}{8}m$
\end_inset

 פסוקיות ולכן נקבל 
\begin_inset Formula $\frac{7}{8}m\geq\frac{7}{8}s^{*}$
\end_inset

 עבור 
\begin_inset Formula $s^{*}$
\end_inset

 אופטימלי.
\end_layout

\begin_layout Proof

\bar under
הסתברות
\bar default
:
\end_layout

\begin_deeper
\begin_layout Description
טענה האלג' הבסיסי מצליח בהסת' 
\begin_inset Formula $\frac{1}{m+1}$
\end_inset

.
\end_layout

\begin_layout Proof
נגדיר 
\begin_inset Formula $\textrm{\ensuremath{\Omega=\left\{ T,F\right\} ^{n}}}$
\end_inset

 מרחב הסתברות אחיד.
 נגדיר 
\begin_inset Formula $Y$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

מ שערכו מס' הפסוקיות שלא סופקו על השמה כלשהי.
 נגדיר לכל פסוקית 
\begin_inset Formula $C_{i}$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

מ 
\begin_inset Formula $Y_{i}=\begin{cases}
1 & \omega\;\text{לא סופקה ע"י ההשמה}\;C_{i}\\
0 & \text{אחרת}
\end{cases}$
\end_inset

.
 מתקיים 
\begin_inset Formula $Y=\sum\limits _{i=1}^{m}Y_{i}$
\end_inset

.
\begin_inset Formula 
\begin{align*}
E\left[Y_{i}\right] & \overset{\text{אינדיקטור}}{=}P\left(Y_{i}=1\right)\overset{\left(*\right)}{=}\left(\frac{1}{2}\right)^{3}=\frac{1}{8}
\end{align*}

\end_inset


\begin_inset Formula $\left(*\right)$
\end_inset

 זו בדיוק ההסת' ששלושה משתנים אקראיים אחידים יתאימו לנוסחה.
\begin_inset Formula 
\[
E\left[Y\right]=E\left[\sum_{i=1}^{m}Y_{i}\right]=\sum_{i=1}^{m}E\left[Y_{i}\right]=\sum_{i=1}^{m}\frac{1}{8}=\frac{1}{8}m
\]

\end_inset


\begin_inset Formula 
\begin{align*}
P\left(\text{האלג' הבסיסי נכשל}\right) & =P\left(\text{פסוקיות}\;\frac{7}{8}m\;\text{ההשמה סיפקה לכל היותר}\right)\\
 & =P\left(\text{פסוקיות}\;\frac{1}{8}m\;\text{ההשמה לא סיפקה לפחות}\right)\\
 & =P\left(Y>\frac{1}{8}m\right)\\
 & =P\left(Y\geq\frac{1}{8}m+\frac{1}{8}\right)\\
 & =P\left(Y\geq\desc{\frac{1}{8}m}{E\left[Y\right]}\;\desc{\left(1+\frac{1}{m}\right)}c\right)\\
 & \overset{\text{א"ש מרקוב}}{\leq}\frac{1}{1+\frac{1}{m}}=\frac{m}{m+1}
\end{align*}

\end_inset

ולכן
\begin_inset Formula 
\[
P\left(\text{האלג' הבסיסי הצליח}\right)=1-P\left(\text{האלג' הבסיסי נכשל}\right)\geq\frac{1}{m+1}
\]

\end_inset


\end_layout

\end_deeper
\begin_layout Proof
נראה כי האלג' מצליח בהסת' 
\begin_inset Formula $1-\frac{1}{e^{k}}$
\end_inset

.
\begin_inset Formula 
\begin{align*}
P\left(\text{האלג' הכללי נכשל}\right) & =P\left(\text{פעמים}\;k\left(m+1\right)\;\text{האלג' הבסיסי נכשל}\right)\\
 & \overset{\text{ב"ת}}{=}\left(P\left(\text{האלג' הבסיסי נכשל}\right)\right)^{k\left(m+1\right)}\\
 & =\left(1-P\left(\text{האלג' הבסיסי הצליח}\right)\right)^{k\left(m+1\right)}\\
 & \leq\left(1-\frac{1}{m+1}\right)^{k\left(m+1\right)}\\
 & \leq\frac{1}{e^{k}}
\end{align*}

\end_inset


\end_layout

\begin_layout Description
הערה נוכל להכליל ולטעון כי עבור 
\begin_inset Formula $l$
\end_inset

 משתנים בפסוקית, נקבל על אותו האלג' קירוב של 
\begin_inset Formula $\frac{2^{l}-1}{2^{l}}$
\end_inset

.
\end_layout

\begin_layout Section
שבוע 
\begin_inset Formula $\mathbb{VIII}$
\end_inset

 | עוד אלגוריתמי קירוב
\end_layout

\begin_layout Subsection
הרצאה
\end_layout

\begin_layout Standard

\color lightgray
חלק א' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le81}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
בעיית פתרון אופטימלי של מערכת משוואות לינאריות מודולו
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 )
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MAX-LIN-2
\lang hebrew
(
\end_layout

\begin_layout Description
סיפור
\begin_inset Formula $\;$
\end_inset

מסגרת )העשרה( צפנים לתיקון שגיאות.
 נרצה להעביר מ-
\begin_inset Formula $A$
\end_inset

 ל-
\begin_inset Formula $B$
\end_inset

 מידע )ביטים( דרך ערוץ רועש שיכול לשנות ביטים לפני הגעת ההודעה.
 לשם כך בעת שליחת 
\begin_inset Formula $m$
\end_inset

, נעביר אותו דרך 
\begin_inset Formula $A$
\end_inset

 מטריצה מוסכמת מראש שתוסיף מידע לתיקון שגיאות ונשלח את 
\begin_inset Formula $M=Am$
\end_inset

.
 ההודעה שתגיע ל-
\begin_inset Formula $B$
\end_inset

 היא 
\begin_inset Formula $\widetilde{M}$
\end_inset

 אבל גם 
\begin_inset Formula $B$
\end_inset

 יודע מה 
\begin_inset Formula $A$
\end_inset

 ולכן בהנחה שאין יותר מדי שגיאות, הוא יוכל באמצעות המידע שנוסף ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $A$
\end_inset

 ל-
\begin_inset Formula $m$
\end_inset

 להסיק אילו ביטים נפגמו ולתקנם.
\end_layout

\begin_layout Description
קלט 
\begin_inset Formula $A\in M_{k\times n}\left(\mathbb{F}_{2}\right)$
\end_inset

 ו-
\begin_inset Formula $b\in\mathbb{F}_{2}^{k}$
\end_inset

 המייצגים מערכת משוואות לינאריות 
\begin_inset Formula $Ax=b$
\end_inset

 כאשר 
\begin_inset Formula $X=\left(\begin{smallmatrix}x_{1}\\
\vdots\\
x_{n}
\end{smallmatrix}\right)$
\end_inset

 הוא וקטור משתנים.
\end_layout

\begin_layout Description
פלט השמה 
\begin_inset Formula $s=\left(\begin{smallmatrix}s_{1}\\
\vdots\\
s_{n}
\end{smallmatrix}\right)$
\end_inset

 של ערכים למשתנים המספקת כמה שיותר משוואות.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $k=n=3$
\end_inset

.
 
\begin_inset Formula $\left(\begin{smallmatrix}1 & 0 & 0\\
0 & 1 & 1\\
1 & 1 & 1
\end{smallmatrix}\right)\left(\begin{smallmatrix}x_{1}\\
x_{2}\\
x_{3}
\end{smallmatrix}\right)=\left(\begin{smallmatrix}1\\
1\\
1
\end{smallmatrix}\right)$
\end_inset

.
 למערכת אין פתרון )אין הצעה המספקת כל כל המשוואות(.
 פתרון אופטימלי כאן הוא 
\begin_inset Formula $\left(\begin{smallmatrix}1\\
1\\
0
\end{smallmatrix}\right)$
\end_inset

.
\end_layout

\begin_layout Description
הערה זו בעיה 
\begin_inset Formula $NP$
\end_inset

-קשה, נחפש אלג' קירוב.
\end_layout

\begin_layout Description
הערה זו בעיה דומה ל-
\lang english
MAX-3-SAT
\lang hebrew
.
 שם, האלג' היה בחירת השמה מקרית המספקת פסוקית אחת בסיכוי 
\begin_inset Formula $\frac{7}{8}$
\end_inset

 וכך קיבלנו אלג' הסת' 
\begin_inset Formula $\frac{8}{7}$
\end_inset

-מקרב המחזיר 
\begin_inset Formula $\frac{8}{7}$
\end_inset

-קירוב בסיכוי גבוה כרצוננו.
\end_layout

\begin_layout Standard
נציג אלג' קירוב דטרמיניסטי שהוא 
\begin_inset Formula $2$
\end_inset

-מקרב.
 האלג' משתמש בשיקולים הסת'.
 ניתן להוכיח כי זה הקירוב הכי טוב שניתן להשיג.
\end_layout

\begin_layout Standard
נסמן ב-
\begin_inset Formula $\mathcal{S}$
\end_inset

 את מרחב הפתרונות החוקיים לבעיה - 
\begin_inset Formula $\mathcal{S}=\mathbb{F}_{2}^{n}$
\end_inset

, 
\begin_inset Formula $\left|\mathcal{S}\right|=2^{n}$
\end_inset

 ולכן הפתרון הנאיבי הוא לא יעיל.
 נסמן 
\begin_inset Formula $r_{1},\dots,r_{k}\in\mathbb{F}_{2}^{n}$
\end_inset

 את שורות המטריצה 
\begin_inset Formula $A$
\end_inset

 ו-
\begin_inset Formula $c_{1},\dots,c_{n}\in\mathbb{F}_{2}^{k}$
\end_inset

 את עמודות המטריצה.
\end_layout

\begin_layout Standard
נגדיר פ' 
\begin_inset Formula $Y:\mathcal{S}\to\fldr^{+}$
\end_inset

 המוגדר ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $Y\left(s\right)$
\end_inset

 מספר המשוואות ש-
\begin_inset Formula $s$
\end_inset

 מספקת, פורמלית,
\begin_inset Formula 
\[
Y\left(s\right)=\left|\left\{ i\in\left[k\right]:\left\langle r_{i}\mid s\right\rangle =b_{i}\right\} \right|=\left\{ i\in\left[k\right]:\left(As\right)_{i}=b_{i}\right\} =\left|\left\{ i\in\left[k\right]:\left(\sum\limits _{i=1}^{n}s_{j}c_{j}\right)_{i}=b_{i}\right\} \right|
\]

\end_inset

נרצה למצוא מקסימום של 
\begin_inset Formula $Y$
\end_inset

 על 
\begin_inset Formula $\mathcal{S}$
\end_inset

.
\end_layout

\begin_layout Standard
ננסה לבנות אלג' דטרמיניסטי איטרטיבי שמכניס בכל איטרציה ערך למשתנה נוסף בצורה
 חמדנית.
\end_layout

\begin_layout Description
דוגמה בדוגמה הנ
\begin_inset Quotes erd
\end_inset

ל 
\begin_inset Formula $\left(\begin{smallmatrix}1 & 0 & 0\\
0 & 1 & 1\\
1 & 1 & 1
\end{smallmatrix}\right)\left(\begin{smallmatrix}x_{1}\\
x_{2}\\
x_{3}
\end{smallmatrix}\right)=\left(\begin{smallmatrix}1\\
1\\
1
\end{smallmatrix}\right)$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $x_{1}\left(\begin{smallmatrix}1\\
0\\
1
\end{smallmatrix}\right)+x_{2}\left(\begin{smallmatrix}0\\
1\\
1
\end{smallmatrix}\right)+x_{3}\left(\begin{smallmatrix}0\\
1\\
1
\end{smallmatrix}\right)=\left(\begin{smallmatrix}1\\
1\\
1
\end{smallmatrix}\right)$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
נציב איזשהו ערך ב-
\begin_inset Formula $x_{1}$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $x_{1}=0$
\end_inset

: נקבל תת בעיה 
\begin_inset Formula $\left(\begin{smallmatrix}0 & 0\\
1 & 1\\
1 & 1
\end{smallmatrix}\right)\left(\begin{smallmatrix}x_{2}\\
x_{3}
\end{smallmatrix}\right)=\left(\begin{smallmatrix}1\\
1\\
1
\end{smallmatrix}\right)$
\end_inset

 )הצבנו את 
\begin_inset Formula $x_{1}$
\end_inset

 והחלנו את ערכו על 
\begin_inset Formula $b$
\end_inset

, במקרה הזה הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן לא משפיע(.
\end_layout

\begin_layout Itemize
\begin_inset Formula $x_{1}=1$
\end_inset

: נקבל תת בעיה 
\begin_inset Formula $\left(\begin{smallmatrix}0 & 0\\
1 & 1\\
1 & 1
\end{smallmatrix}\right)\left(\begin{smallmatrix}x_{2}\\
x_{3}
\end{smallmatrix}\right)=\left(\begin{smallmatrix}0\\
1\\
0
\end{smallmatrix}\right)$
\end_inset

 )כאן 
\begin_inset Formula $x_{1}$
\end_inset

 השפיע על הסכום הראשון והאחרון אבל לא על האמצעי כי לא סוכמים אותו במשוואה
 הלינארית המתאימה לו(.
\end_layout

\end_deeper
\begin_layout Standard
נבנה גישה הסתברותית שתאפשר לנו לבנות כלל החלטה חמדני לבחירה בין שתי מערכות
 משוואות.
 נגדיר מרחב הסתברות אחיד על 
\begin_inset Formula $\mathcal{S}$
\end_inset

, כל השמה בהסת' 
\begin_inset Formula $\frac{1}{2^{n}}$
\end_inset

.
 
\begin_inset Formula $Y$
\end_inset

 הוא מ
\begin_inset Quotes erd
\end_inset

מ ונרצה לחשב את תוחלתו.
\end_layout

\begin_layout Standard
עבור 
\begin_inset Formula $k=1$
\end_inset

, מדובר במערכת עם משוואה אחת, כלומר 
\begin_inset Formula $a_{1}x_{1}+\dots+a_{n}x_{n}=b$
\end_inset

, כאשר 
\begin_inset Formula $r=\left(a_{1},\dots,a_{n}\right)$
\end_inset

 הוא השורה היחידה של 
\begin_inset Formula $A$
\end_inset

.
 
\begin_inset Formula $Y\left(s\right)=\begin{cases}
1 & \left\langle r\mid s\right\rangle =b\\
0 & \left\langle r\mid s\right\rangle \neq b
\end{cases}$
\end_inset

.
\end_layout

\begin_layout Description
למה עבור 
\begin_inset Formula $k=1$
\end_inset

, 
\begin_inset Formula $E\left[Y\right]=\begin{cases}
1 & r=0,b=0\\
0 & r=0,b=1\\
\frac{1}{2} & r\neq0
\end{cases}$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula $\;$
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $r=0,b=0$
\end_inset

 ולכן 
\begin_inset Formula $\forall s\in\mathcal{S}$
\end_inset

, 
\begin_inset Formula $\ip rs=0=b$
\end_inset

 ולכן 
\begin_inset Formula $Y\left(s\right)\equiv1$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $r=0,b=1$
\end_inset

 ולכן 
\begin_inset Formula $\forall s\in\mathcal{S}$
\end_inset

, 
\begin_inset Formula $\ip rs=0\neq b$
\end_inset

 ולכן 
\begin_inset Formula $Y\left(s\right)\equiv0$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $r\neq0$
\end_inset

.
 נגדיר 
\begin_inset Formula $V=\left\{ s:\ip rs=0\right\} $
\end_inset

.
 
\begin_inset Formula $V$
\end_inset

 הוא ת
\begin_inset Quotes erd
\end_inset

מ של 
\begin_inset Formula $\mathbb{F}_{2}^{n}$
\end_inset

 שמימדו הוא 
\begin_inset Formula $n-1$
\end_inset

 )הסטודנטית המשקיעה תיזכר בלינארית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
( ולכן 
\begin_inset Formula $\left|V\right|=2^{n-1}$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $b=0$
\end_inset

 אז 
\begin_inset Formula $Y\left(s\right)=1$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $\ip rs=0$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $s\in V$
\end_inset

 ולכן 
\begin_inset Formula $P\left(Y=1\right)=\frac{\left|v\right|}{2^{n}}=\frac{1}{2}$
\end_inset

 ולכן 
\begin_inset Formula $E\left[Y\right]=1\cdot P\left(Y=1\right)=\frac{1}{2}$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $b=1$
\end_inset

 אז באופן דומה 
\begin_inset Formula $Y\left(s\right)=1$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $s\in V^{C}$
\end_inset

 ולכן 
\begin_inset Formula $P\left(Y=1\right)=\frac{\left|V^{C}\right|}{2^{n}}=\frac{1}{2}$
\end_inset

 ושוב 
\begin_inset Formula $E\left[Y\right]=\frac{1}{2}$
\end_inset

.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
הגדרה תהי 
\begin_inset Formula $Ax=b$
\end_inset

 מערכת משוואות לינאריות עם 
\begin_inset Formula $k$
\end_inset

 משוואות.
 תהיינה 
\begin_inset Formula $r_{1},\dots,r_{k}$
\end_inset

 השורות של 
\begin_inset Formula $A$
\end_inset

.
 נאמר כי המשוואה ה-
\begin_inset Formula $i$
\end_inset

 היא משוואה 
\bar under
ריקה טובה
\bar default
 אם 
\begin_inset Formula $r_{i}=0$
\end_inset

 ו-
\begin_inset Formula $b_{i}=0$
\end_inset

 ו
\bar under
ריקה רעה
\bar default
 אם 
\begin_inset Formula $r_{i}=0$
\end_inset

 ו-
\begin_inset Formula $b_{i}=1$
\end_inset

.
\end_layout

\begin_layout Description
למה
\begin_inset Formula $\;$
\end_inset

מרכזית תהי 
\begin_inset Formula $Ax=b$
\end_inset

 מערכת משוואות לינאריות עם 
\begin_inset Formula $k$
\end_inset

 משוואות מעל 
\begin_inset Formula $\mathbb{F}_{2}$
\end_inset

.
 יהי 
\begin_inset Formula $\beta$
\end_inset

 מספר המשוואות הריקות הרעות במערכת ו-
\begin_inset Formula $\gamma$
\end_inset

 מספר המשוואות הריקות הטובות.
 יהי 
\begin_inset Formula $Y$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

מ על 
\begin_inset Formula $\mathcal{S}$
\end_inset

 שערכו מספר המשוואות ש-
\begin_inset Formula $s$
\end_inset

 מספקת.
 אזי 
\begin_inset Formula $E\left[Y\right]=\frac{k+\gamma-\beta}{2}$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula $\forall i\in\left[k\right]$
\end_inset

, יהי 
\begin_inset Formula $Y_{i}$
\end_inset

 המשתנה מהמקרי האחראי על המשוואה ה-
\begin_inset Formula $i$
\end_inset

, 
\begin_inset Formula $Y_{i}\left(s\right)=\begin{cases}
1 & \ip{r_{i}}s=b_{i}\\
0 & \ip{r_{i}}s\neq b_{i}
\end{cases}$
\end_inset

.
 מתקיים 
\begin_inset Formula $Y=\sum\limits _{i=1}^{k}Y_{i}$
\end_inset

 ולכן מלינאריות התוחלת
\begin_inset Formula 
\[
E\left[Y\right]=\sum_{i=1}^{k}E\left[Y_{i}\right]=1\cdot\gamma+0\cdot\beta+\frac{1}{2}\left(k-\beta-\gamma\right)=\gamma+\frac{k-\gamma-\beta}{2}=\frac{k+\gamma-\beta}{2}
\]

\end_inset


\end_layout

\begin_layout Description
מסקנה תהי 
\begin_inset Formula $Ax=b$
\end_inset

 מערכת משוואות לינאריות עם 
\begin_inset Formula $k$
\end_inset

 משוואות ו-
\begin_inset Formula $n$
\end_inset

 נעלמים.
 אזי ניתן לחשב את התוחלת של 
\begin_inset Formula $Y$
\end_inset

 בזמן 
\begin_inset Formula $\oo{kn}$
\end_inset

.
\end_layout

\begin_layout Proof
מהלמה המרכזית כדי לחשב את התוחלת מספיק למצוא את מספר המשוואות הריקות הטובות
 והרעות במערכת ולשם כך כל שנצטרך לעשות הוא לעבור על שורות המטריצה, אם מצאנו
 שורת אפסים, נבדוק האם 
\begin_inset Formula $b_{i}$
\end_inset

 המתאים לה הוא 
\begin_inset Formula $0$
\end_inset

 או 
\begin_inset Formula $1$
\end_inset

 וכך נסווג אותה בהתאם )רעה/טובה(.
\end_layout

\begin_layout Description
מסקנה יהי 
\begin_inset Formula $s^{*}$
\end_inset

 פתרון אופטימלי לבעיה.
 אזי 
\begin_inset Formula $E\left[Y\right]\geq\frac{1}{2}Y\left(s^{*}\right)$
\end_inset

.
\end_layout

\begin_layout Proof
יהיו 
\begin_inset Formula $\beta,\gamma$
\end_inset

 כמקודם.
 
\begin_inset Formula $Y\left(s^{*}\right)\leq k-\beta$
\end_inset

 כי משוואה ריקה רעה אף פעם לא תוכל להסתפק.
 לכן
\begin_inset Formula 
\[
E\left[Y\right]=\frac{k+\gamma-\beta}{2}\geq\frac{k-\beta}{2}\geq\frac{1}{2}Y\left(s^{*}\right)
\]

\end_inset


\end_layout

\begin_layout Standard
האלג' שלנו יחשב את התוחלת של 
\begin_inset Formula $Y$
\end_inset

 בתתי הבעיות בהן 
\begin_inset Formula $s_{1}=0$
\end_inset

 ו-
\begin_inset Formula $s_{1}=1$
\end_inset

 וייבחר את ההשמה שמעניקה תוחלת גבוהה יותר למספר המשוואות המסופקות בתחום
 המצומצם )תחת הדרישה 
\begin_inset Formula $s_{i}=0$
\end_inset

 או 
\begin_inset Formula $s_{i}=1$
\end_inset

(.
 פעולה זאת נעשית בזמן לינארי מהמסקנה הראשונה.
 לאחר מכן, באופן איטרטיבי, נבחר באופן חמדני לכל 
\begin_inset Formula $i\in\left[n\right]$
\end_inset

 את 
\begin_inset Formula $s_{i}$
\end_inset

 )
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
( שמעניקה תוחלת גבוהה יותר כנ
\begin_inset Quotes erd
\end_inset

ל במרחב הפתרונות המצומצם )תחת הדרישה הספציפית על 
\begin_inset Formula $s_{i}$
\end_inset

, ובעצם גם כל הבחירות הקודמות שבוצעו עד כה, 
\begin_inset Formula $s_{1},\dots,s_{i-1}$
\end_inset

(.
\end_layout

\begin_layout Standard

\color lightgray
חלק ב' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le82}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
עבור 
\begin_inset Formula $\left(A',b'\right)$
\end_inset

 מערכת משוואות ב-
\begin_inset Formula $m$
\end_inset

 נעלמים ו-
\begin_inset Formula $Y$
\end_inset

 פ' האיכות המתאימה למערכת זו )המחשב כמה משוואות מסופקות על כל השמה(, נסמן
 
\begin_inset Formula $\textrm{Av}\left(A',b'\right)=E\left[Y\right]\overset{\text{הגדרה}}{=}\frac{1}{2^{m}}\sum\limits _{s\in\mathbb{F}_{2}^{m}}Y\left(s\right)$
\end_inset

 ממוצע המשוואות המסופקות.
\end_layout

\begin_layout Standard
יהיו 
\begin_inset Formula $y_{1},\dots,y_{m}$
\end_inset

 המשתנים במערכת 
\begin_inset Formula $\left(A',b'\right)$
\end_inset

.
 הצבת ערך 
\begin_inset Formula $0$
\end_inset

 או 
\begin_inset Formula $1$
\end_inset

 ל-
\begin_inset Formula $y_{1}$
\end_inset

 מפצלת את המערכת לשתי מערכות אפשריות 
\begin_inset Formula $\left(\widetilde{A},b_{0}\right),\left(\widetilde{A},b_{1}\right)$
\end_inset

.
 העקרון החמדני עתה הוא - אם 
\begin_inset Formula $\textrm{Av}\left(\widetilde{A},b_{0}\right)\geq\textrm{Av}\left(\widetilde{A},b_{1}\right)$
\end_inset

 נציב 
\begin_inset Formula $y_{1}=0$
\end_inset

 ואחרת 
\begin_inset Formula $y_{1}=1$
\end_inset

.
\end_layout

\begin_layout Standard
זה לא היה מספיק פורמלי ולכן נפרמל )באופן ריגורוזי, רפטטיבי וסזיפי(.
\end_layout

\begin_layout Description
למה )עדכון לאחר הצבה( תהי 
\begin_inset Formula $\left(A',b'\right)$
\end_inset

 מערכת של משוואות לינאריות עם 
\begin_inset Formula $k$
\end_inset

 משוואות ו-
\begin_inset Formula $m$
\end_inset

 נעלמים.
 יהי 
\begin_inset Formula $y=\left(\begin{smallmatrix}y_{1}\\
\vdots\\
y_{m}
\end{smallmatrix}\right)$
\end_inset

 וקטור משתנים של המערכת.
 הצבת ערך 
\begin_inset Formula $s\in\left\{ 0,1\right\} $
\end_inset

 במשתנה 
\begin_inset Formula $y_{1}$
\end_inset

 הופך את המערכת ל-
\begin_inset Formula $\left(\widetilde{A},\widetilde{b}\right)$
\end_inset

 כאשר 
\begin_inset Formula $\widetilde{A}$
\end_inset

 מתקבלת מ-
\begin_inset Formula $A'$
\end_inset

 ע
\begin_inset Quotes erd
\end_inset

י הסדרת העמודה הראשונה )
\begin_inset Formula $c_{1}$
\end_inset

( של 
\begin_inset Formula $A'$
\end_inset

 ועדכון 
\begin_inset Formula $\widetilde{b}=b-s\cdot c_{1}$
\end_inset

.
\end_layout

\begin_layout Proof
עבור 
\begin_inset Formula $c_{1},\dots,c_{m}$
\end_inset

 העמודות של 
\begin_inset Formula $A'$
\end_inset

, המערכת 
\begin_inset Formula $\left(A',b'\right)$
\end_inset

 היא 
\begin_inset Formula $y_{1}c_{1}+\dots+y_{m}c_{m}=b'$
\end_inset

 )
\begin_inset Formula $c_{i}$
\end_inset

 הם וקטורים, 
\begin_inset Formula $y_{j}$
\end_inset

 סקלרים(.
 הצבת ערך 
\begin_inset Formula $s$
\end_inset

 ב-
\begin_inset Formula $y_{1}$
\end_inset

 הופכת את המערכת ל-
\begin_inset Formula $s\cdot c_{1}+y_{2}\cdot c_{2}+\dots+y_{m}c_{m}=b'$
\end_inset

 או באופן שקול 
\begin_inset Formula $y_{2}\cdot c_{2}+\dots+y_{m}c_{m}=b'-sc_{1}$
\end_inset

, מה שמתאים ל-
\begin_inset Formula $\left(\widetilde{A},\widetilde{b}\right)$
\end_inset

 בה 
\begin_inset Formula $\widetilde{A}$
\end_inset

 מתקבלת מ-
\begin_inset Formula $A'$
\end_inset

 ע
\begin_inset Quotes erd
\end_inset

י מחיקת העמודה הראשונה ו-
\begin_inset Formula $\widetilde{b}=b'-sc_{1}$
\end_inset

.
\end_layout

\begin_layout Description
מסקנה )פיצול לאחר הצבה( כאשר מציבים ערכים 
\begin_inset Formula $0$
\end_inset

 ו-
\begin_inset Formula $1$
\end_inset

 ב-
\begin_inset Formula $y_{1}$
\end_inset

 מקבלים שתי מערכות 
\begin_inset Formula $\left(\widetilde{A},b_{0}=b'\right)$
\end_inset

 ו-
\begin_inset Formula $\left(\widetilde{A},b_{1}=b'-c_{1}\right)$
\end_inset

 כאשר 
\begin_inset Formula $\widetilde{A}$
\end_inset

 מתקבלת ע
\begin_inset Quotes erd
\end_inset

י הסרת העמודה הראשונה מ-
\begin_inset Formula $A'$
\end_inset

.
\end_layout

\begin_layout Description
למה )ממוצע המערכות שהתפצלו( 
\begin_inset Formula $\textrm{Av}\left(A',b'\right)=\frac{\textrm{Av}\left(\widetilde{A},b_{0}\right)+\textrm{Av}\left(\widetilde{A},b_{1}\right)}{2}$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula $\textrm{Av}\left(\widetilde{A},b_{0}\right)=\frac{1}{2^{m-1}}\sum\limits _{s\in\mathbb{F}^{m}:s_{1}=0}Y\left(s\right)$
\end_inset

 ובאותו האופן עבור 
\begin_inset Formula $\textrm{Av}\left(\widetilde{A},b_{1}\right)$
\end_inset

.
\begin_inset Formula 
\begin{align*}
\frac{\textrm{Av}\left(\widetilde{A},b_{0}\right)+\textrm{Av}\left(\widetilde{A},b_{1}\right)}{2} & =\frac{\frac{1}{2^{m-1}}\sum\limits _{s\in\mathbb{F}^{m}:s_{1}=0}Y\left(s\right)+\frac{1}{2^{m-1}}\sum\limits _{s\in\mathbb{F}^{m}:s_{1}=1}Y\left(s\right)}{2}\\
 & =\frac{1}{2^{m}}\left(\sum\limits _{s\in\mathbb{F}^{m}:s_{1}=0}Y\left(s\right)+\sum\limits _{s\in\mathbb{F}^{m}:s_{1}=1}Y\left(s\right)\right)\\
 & =\frac{1}{2^{m}}\sum\limits _{s\in\mathbb{F}^{m}}Y\left(s\right)=\textrm{Av}\left(A',b'\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Description
אלגוריתם
\begin_inset Formula $\;$
\end_inset

מקרב נציג פירמול של האלג' החמדן שבו דנו עד כה, שיהווה אלג'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $2$
\end_inset

-מקרב לבעיה.
\end_layout

\begin_deeper
\begin_layout Enumerate
אתחול: נגדיר 
\begin_inset Formula $A'=A,b'=b$
\end_inset

.
\end_layout

\begin_layout Enumerate
איטרציה: לכל 
\begin_inset Formula $0\leq t\leq n-1$
\end_inset

, באיטרציה ה-
\begin_inset Formula $\left(t+1\right)$
\end_inset

 של האלג' נציב ערך במשתנה 
\begin_inset Formula $x_{t+1}$
\end_inset

 אחרי שהצבנו כבר את הערכים 
\begin_inset Formula $x_{1},\dots,x_{t}$
\end_inset

.
 ההצבה של הערכים 
\begin_inset Formula $0$
\end_inset

 ו-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
למשתנה 
\begin_inset Formula $x_{t+1}$
\end_inset

 מפצלת את המערכת 
\begin_inset Formula $\left(A',b'\right)$
\end_inset

 לשתי מערכות 
\begin_inset Formula $\left(\widetilde{A},b_{0}\right),\left(\widetilde{A},b_{1}\right)$
\end_inset

 כפי שתיארנו במסקנה הנ
\begin_inset Quotes erd
\end_inset

ל.
 אם 
\begin_inset Formula $\textrm{Av}\left(\widetilde{A},b_{0}\right)\geq\textrm{Av}\left(\widetilde{A},b_{1}\right)$
\end_inset

 נגדיר 
\begin_inset Formula $s_{t+1}=0$
\end_inset

 ואחרת 
\begin_inset Formula $s_{t+1}=1$
\end_inset

.
 נציב 
\begin_inset Formula $x_{t+1}=s_{t+1}$
\end_inset

 ונעדכן 
\begin_inset Formula $A'=\widetilde{A}$
\end_inset

 ו-
\begin_inset Formula $b'=b_{s_{t+1}}$
\end_inset

, 
\begin_inset Formula $t=t+1$
\end_inset

.
\end_layout

\begin_layout Enumerate
עצירה: כאשר 
\begin_inset Formula $t=n$
\end_inset

 נעצור ונחזיר את 
\begin_inset Formula $s$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
משפט 
\begin_inset Formula $Y\left(s\right)\geq\frac{1}{2}Y\left(s^{*}\right)$
\end_inset

, כלומר האלג' הנ
\begin_inset Quotes erd
\end_inset

ל הוא 
\begin_inset Formula $2$
\end_inset

-מקרב.
\end_layout

\begin_layout Proof
עבור 
\begin_inset Formula $0\leq t\leq m$
\end_inset

 נסמן ב-
\begin_inset Formula $\left(A_{t},b_{t}\right)$
\end_inset

 את מערכת המשוואות אחרי 
\begin_inset Formula $t$
\end_inset

 איטרציות שלהאלג'.
 נסמן 
\begin_inset Formula $E_{t}=\textrm{Av}\left(A_{t},b_{t}\right)$
\end_inset

.
\end_layout

\begin_layout Proof
יהי 
\begin_inset Formula $0\leq t\leq m-1$
\end_inset

.
 נוכיח כי מתקיים 
\begin_inset Formula $E_{t+1}\geq E_{t}$
\end_inset

, כלומר שממוצע המשוואות המסופקת רק עולה לאחר כל בחירה.
\end_layout

\begin_layout Proof
משם נסיים כי הרי 
\begin_inset Formula $E_{t}=\frac{1}{2^{m-t}}\sum\limits _{r\in\mathbb{F}_{2}^{m}:r_{1}=s_{1},\dots,r_{t}=s_{t}}Y\left(r\right)$
\end_inset

 ובפרט 
\begin_inset Formula $E_{0}=\textrm{Av}\left(A,b\right)$
\end_inset

 וכן 
\begin_inset Formula $E_{m}=Y\left(s\right)$
\end_inset

 ואז נקבל
\begin_inset Formula 
\[
Y\left(s\right)=E_{m}\geq\dots\geq E_{0}=\textrm{Av}\left(A,b\right)\geq\frac{1}{2}Y\left(s^{*}\right)
\]

\end_inset


\end_layout

\begin_layout Proof
נסמן ב-
\begin_inset Formula $\left(\widetilde{A},b_{0}\right),\left(\widetilde{A},b_{1}\right)$
\end_inset

 את שתי המערכות המתקבלות אחרי ההצבה של ערכים 
\begin_inset Formula $0$
\end_inset

 ו-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
למשתנה 
\begin_inset Formula $x_{t+1}$
\end_inset

 באיטרציה ה-
\begin_inset Formula $t+1$
\end_inset

 של האלג' אזי מהעיקרון החמדני של האלג',
\begin_inset Formula 
\begin{align*}
E_{t+1} & =\textrm{Av}\left(A_{t+1},b_{t+1}\right)\\
 & =\max\left\{ \textrm{Av}\left(\widetilde{A},b_{0}\right),\textrm{Av}\left(\widetilde{A},b_{1}\right)\right\} \\
 & \geq\frac{\textrm{Av}\left(\widetilde{A},b_{0}\right)+\textrm{Av}\left(\widetilde{A},b_{1}\right)}{2}\\
 & =E_{t}
\end{align*}

\end_inset


\end_layout

\begin_layout Subsection
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
texorpdfstring{
\backslash
protect
\backslash
hypertarget{ta8}{תרגול}}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Description
הגדרה יהי 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 לא מכוון.
 
\bar under
חתך
\bar default
 בגרף הוא חלוקה 
\begin_inset Formula $A,B$
\end_inset

 של 
\begin_inset Formula $V$
\end_inset

, )כלומר 
\begin_inset Formula $A\cap B=\varnothing$
\end_inset

, 
\begin_inset Formula $A\cup B=V$
\end_inset

(.
\end_layout

\begin_layout Description
הגדרה נסמן 
\begin_inset Formula $E_{C}$
\end_inset

 קבוצת הצלעות הנמצאת בחתך, 
\begin_inset Formula $E_{C}=\left\{ \left\{ u,v\right\} \in E:u\in A\land v\in B\right\} $
\end_inset

.
\end_layout

\begin_layout Standard

\size larger
בעיית
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MAX-CUT
\end_layout

\begin_layout Description
קלט גרף לא מכוון 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

.
\end_layout

\begin_layout Description
פלט חתך מקסימלי בגרף )שמס' הצלעות בחתך מקסימלי(.
\end_layout

\begin_layout Description
דוגמה בגרף הבא, נבדוק כמה חתכים.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/cut-example.png
	scale 60

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $A$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $B$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $E_{C}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left\{ 1,2,3,4,5\right\} $
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\varnothing$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\varnothing$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left\{ 1,2\right\} $
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left\{ 3,4,5\right\} $
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left\{ \left\{ 2,3\right\} ,\left\{ 2,5\right\} \right\} $
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left\{ 1,3,5\right\} $
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left\{ 2,4\right\} $
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
כל הצלעות
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Description
אלגוריתם
\begin_inset Formula $\;$
\end_inset

מקרב
\end_layout

\begin_deeper
\begin_layout Enumerate
נאתחל 
\begin_inset Formula $A=V,B=\varnothing$
\end_inset

.
 
\begin_inset Formula $\oo 1$
\end_inset


\end_layout

\begin_layout Enumerate
נעבור על כל הקודקודים לפי הסדר )
\begin_inset Formula $v_{1}$
\end_inset

 עד 
\begin_inset Formula $v_{n}$
\end_inset

( ועבור כל קודקוד, אם מס' השכנים של הקודקוד בקבוצה שלו גדול ממס' השכנים
 שלו בקבוצה השנייה, נעביר את הקודקוד לקבוצה השנייה.
 
\begin_inset Formula $\oo{\left|V\right|\cdot\left|E\right|}$
\end_inset


\end_layout

\begin_layout Enumerate
נחזור על שלב 
\begin_inset Formula $2$
\end_inset

 עד שלא יותרו קודקודים שצריך להעביר.
\end_layout

\begin_layout Enumerate
נחזיר את 
\begin_inset Formula $A,B$
\end_inset

.
 
\begin_inset Formula $\oo 1$
\end_inset


\end_layout

\end_deeper
\begin_layout Description
משפט האלג' עוצר, חוקי ו-
\begin_inset Formula $2$
\end_inset

-מקרב.
\end_layout

\begin_layout Proof

\bar under
עצירה
\bar default
: בכל העברה אנו מעלים את מס' הצלעות בחתך )אנחנו ממקסמים את הצלעות בחתך בהן
 מעורב הקודקוד הנוכחי עליו אנחנו מסתכלים ולכן סה
\begin_inset Quotes erd
\end_inset

כ מעלים את מספר הצלעות בחתך(.
 גודל החתך חסום ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $\left|E\right|$
\end_inset

 ולכן לאחר לכל היותר 
\begin_inset Formula $\left|E\right|$
\end_inset

 איטרציות נעצור.
\end_layout

\begin_layout Proof

\bar under
חוקיות
\bar default
: אנו מאתחלים חתך חוקי ובכל שלב מעבירים קודקודים בין הקבוצות )ללא שכפול
 או מחיקה( ולכן החתך נשאר חוקי.
\end_layout

\begin_layout Proof

\bar under
קירוב
\bar default
: נראה כי 
\begin_inset Formula $\left|E_{C}\right|\geq2s^{*}$
\end_inset

.
 נסמן 
\begin_inset Formula $E_{v,C}$
\end_inset

 את קבוצת הצלעות בחתך שנובעות מהקודקוד 
\begin_inset Formula $v$
\end_inset

.
\begin_inset Formula 
\[
\left|E_{C}\right|=\frac{1}{2}\sum_{v\in V}\left|E_{v,C}\right|\overset{\left(*\right)}{\geq}\frac{1}{2}\sum_{v\in V}\frac{1}{2}\deg v=\frac{1}{4}\sum_{v\in V}\deg v\overset{\text{לחיצות ידיים}}{=}\frac{1}{4}\left(2\cdot\left|E\right|\right)=\frac{1}{2}\left|E\right|\geq\frac{1}{2}s^{*}
\]

\end_inset


\begin_inset Formula $\left(*\right)$
\end_inset

 במהלך האלג' אנחנו מספקים לפחות חצי מהצלעות כי אם הוא בקבוצה שמספקת פחות
 מחצי הוא יועבר לקבוצה השנייה שתספק את כל שאר הצלעות שלו.
\end_layout

\begin_layout Description
זמן
\begin_inset Formula $\;$
\end_inset

ריצה מזמני הריצה המופיעים על האלג', יחד עם העובדה ששלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתקיים לכל היותר 
\begin_inset Formula $\left|E\right|$
\end_inset

 פעמים, נקבל זמן ריצה של 
\begin_inset Formula $\oo{\left|V\right|\cdot\left|E\right|^{2}}$
\end_inset

.
\end_layout

\begin_layout Standard

\size larger
בעיית הסוכן הנוסע המטרי )
\lang english
M-TSP
\lang hebrew
(
\end_layout

\begin_layout Description
סיפור
\begin_inset Formula $\;$
\end_inset

מסגרת סוכן צריך לעבור דרך כל התחנות הנתונות לו עם צריכת דלק מינימלית )פרופורציונ
ית לקילומטר(.
\end_layout

\begin_layout Description
קלט גרף מלא 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 ופ' משקל 
\begin_inset Formula $w:E\to\fldr^{+}$
\end_inset

 המקיימת את אי שוויון המשולש )
\begin_inset Formula $w\left(x,z\right)\leq w\left(x,y\right)+w\left(y,z\right)$
\end_inset

(.
\end_layout

\begin_layout Description
פלט מעגל פשוט העבור בכל קודקודי הגרף )מעגל המילטוני( בעל משקל מינימלי.
\end_layout

\begin_layout Description
אלגוריתם
\begin_inset Formula $\;$
\end_inset

מקרב
\end_layout

\begin_deeper
\begin_layout Enumerate
נמצא עפ
\begin_inset Quotes erd
\end_inset

מ בגרף, 
\begin_inset Formula $T$
\end_inset

.
 
\begin_inset Formula $\oo{\left|V\right|^{2}}$
\end_inset


\end_layout

\begin_layout Enumerate
נאתחל 
\begin_inset Formula $H=\varnothing$
\end_inset

 המעגל ההמילטוני שנחזיר.
 
\begin_inset Formula $\oo 1$
\end_inset


\end_layout

\begin_layout Enumerate
נבחר קודקוד באקראי 
\begin_inset Formula $v_{i}$
\end_inset

 ונריץ ממנו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על 
\begin_inset Formula $T$
\end_inset

.
 אם ביקרנו בקודקוד בפעם הראשונה, נוסיף אותו ל-
\begin_inset Formula $H$
\end_inset

.
 בסיום הרצת ה-
\lang english
DFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נוסיף את 
\begin_inset Formula $v_{i}$
\end_inset

 ל-
\begin_inset Formula $H$
\end_inset

.
 
\begin_inset Formula $\oo{\left|V\right|+\left|E\right|}$
\end_inset


\end_layout

\begin_layout Enumerate
נחזיר את 
\begin_inset Formula $H$
\end_inset

.
 
\begin_inset Formula $\oo 1$
\end_inset


\end_layout

\end_deeper
\begin_layout Description
דוגמה הצלעות המסומנות הן עפ
\begin_inset Quotes erd
\end_inset

מ.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/m-tsp-example.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
אם נבחר את הקודוקד 
\begin_inset Formula $a$
\end_inset

 אז 
\begin_inset Formula $H=\left(a,b,c,e,g,d,f,a\right)$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
משפט האלג' חוקי ו-
\begin_inset Formula $2$
\end_inset

-מקרב.
\end_layout

\begin_layout Proof

\bar under
חוקיות
\bar default
: עוברים על כל הקודקודים בגרף ומוסיפים ל-
\begin_inset Formula $H$
\end_inset

 את הקודקוד רק אם זוה פעם הראשונה שאהנו מבקרים בו.
 לכן כל קודקוד מופיע בדיוק פעם אחת ב-
\begin_inset Formula $H$
\end_inset

, פרט לראשון, שאותו אנו מוסיפים בסוף הריצה.
 כיוון שהגרף מלא אז קיימת צלע בין כל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קודקודים רצופים ב-
\begin_inset Formula $H$
\end_inset

.
\end_layout

\begin_layout Proof

\bar under
קירוב
\bar default
: נסמן 
\begin_inset Formula $H^{*}$
\end_inset

 פתרון אופטימלי.
 נראה כי 
\begin_inset Formula $w\left(H\right)\leq2w\left(H^{*}\right)$
\end_inset

.
\end_layout

\begin_layout Proof
נגדיר 
\begin_inset Formula $F$
\end_inset

 המסלול הנוצר בעזרת הליכה על 
\begin_inset Formula $T$
\end_inset

 ב-
\lang english
DFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 והוספה של כל קודקוד בו מבקרים ל-
\begin_inset Formula $F$
\end_inset

 )יש ב-
\begin_inset Formula $F$
\end_inset

 כפילויות(.
\end_layout

\begin_deeper
\begin_layout Description
טענה יהי 
\begin_inset Formula $C$
\end_inset

 מסלול בגרף מלא ו-
\begin_inset Formula $C'$
\end_inset

 מסלול הנוצר מ-
\begin_inset Formula $C$
\end_inset

 ע
\begin_inset Quotes erd
\end_inset

י הסרת קודקודים, אז 
\begin_inset Formula $w\left(C'\right)\leq w\left(C\right)$
\end_inset

 )הסרת צלעות למסלול בו המרחקים מקיימים את אי שוויון המשולש מקצרת את המסלול(.
\end_layout

\begin_layout Proof
יהיו 
\begin_inset Formula $x,y,z\in V$
\end_inset

 קודקודים ב-
\begin_inset Formula $C$
\end_inset

 בסדר זה.
 נגדיר 
\begin_inset Formula $C'$
\end_inset

 נוצר מ-
\begin_inset Formula $C$
\end_inset

 ע
\begin_inset Quotes erd
\end_inset

י הסרת 
\begin_inset Formula $y$
\end_inset

.
 אז מתקיים 
\begin_inset Formula $C'=C\backslash\left\{ \left(x,y\right),\left(y,z\right)\right\} \cup\left\{ \left(x,z\right)\right\} $
\end_inset

 לכן
\begin_inset Formula 
\[
w\left(C'\right)=w\left(C\right)-w\left(x,y\right)-w\left(y,z\right)+w\left(x,z\right)\overset{\triangle}{\leq}w\left(C\right)
\]

\end_inset


\end_layout

\begin_layout Description
מסקנה 
\begin_inset Formula $w\left(H\right)\leq w\left(F\right)=2w\left(T\right)$
\end_inset

 )חזרה אחורה לקודקוד נחשבת כמעבר דרכו, לכן כל קודקוד נוסף בדיוק פעמיים ל-
\begin_inset Formula $F$
\end_inset

(.
\end_layout

\begin_layout Standard
נראה כי 
\begin_inset Formula $w\left(T\right)\leq w\left(H^{*}\right)$
\end_inset

.
 נוריד צלע מ-
\begin_inset Formula $H^{*}$
\end_inset

 ונקבל עץ פורש, נסמנו 
\begin_inset Formula $T^{*}$
\end_inset

 )לא בהכרח עפ
\begin_inset Quotes erd
\end_inset

מ(.
 אז 
\begin_inset Formula $w\left(T^{*}\right)=w\left(H^{*}\right)-w\left(e\right)$
\end_inset

 ולכן 
\begin_inset Formula $w\left(T^{*}\right)\leq w\left(H^{*}\right)$
\end_inset

 אבל 
\begin_inset Formula $T$
\end_inset

 עפ
\begin_inset Quotes erd
\end_inset

מ ו-
\begin_inset Formula $T^{*}$
\end_inset

 עץ פורש ולכן 
\begin_inset Formula $w\left(T\right)\leq w\left(T^{*}\right)\leq w\left(H^{*}\right)$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
לסיכום, 
\begin_inset Formula $w\left(H\right)\leq w\left(F\right)=2w\left(T\right)\leq2w\left(H^{*}\right)$
\end_inset

.
\end_layout

\begin_layout Description
זמן
\begin_inset Formula $\;$
\end_inset

ריצה מזמני הריצה הרשומים באלג', סה
\begin_inset Quotes erd
\end_inset

כ נקבל 
\begin_inset Formula $\oo{\left|V\right|^{2}}$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה הנושא הבא שלנו הוא בעיית הזרימה.
 בהינתן מערכת צינורות עם קיבולת מקסימלית לכל צינור, נרצה לדעת מה החלוקה
 האופטימלית על קיבולת הצינורות שתאפשר מעבר מקסימלי של נוזל מהמקור למטרה.
 בגרף הבא, הגדרנו לכל צינור כמה נוזל יעבור דרכו, זה פתרון אופטימלי לבעיית
 הזרימה הספציפית הזו כי היא מעבירה שטף מקסימלי של נוזל.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/ta-intial-flow-example.png
	scale 60

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
\noindent
\align center

\series bold
\size giant
כאן נגמר החומר לבוחן והחלק הראשון של הקורס
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
noindent
\backslash
makebox[
\backslash
linewidth]{
\backslash
rule{
\backslash
paperwidth}{0.4pt}}
\end_layout

\end_inset


\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Section
שבוע 
\begin_inset Formula $\mathbb{IX}$
\end_inset

 | בעיית הזרימה
\end_layout

\begin_layout Subsection
הרצאה
\end_layout

\begin_layout Standard

\color lightgray
חלק א' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le91}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
זרימת ברשתות )
\lang english
Network Flow
\lang hebrew
(
\end_layout

\begin_layout Description
הגדרה 
\bar under
רשת זרימה
\bar default
 היא חמישייה 
\begin_inset Formula $N=\left(V,E,c,s,t\right)$
\end_inset

 כאשר 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 גרף מכוון, 
\begin_inset Formula $c:E\to\fldr_{\geq0}$
\end_inset

 פ' קיבול, 
\begin_inset Formula $s,t$
\end_inset

 קודקודים מיוחדים: מקור ובור בהתאמה.
\end_layout

\begin_layout Description
הגדרה 
\bar under
זרימה
\bar default
 ברשת זרימה היא פ' 
\begin_inset Formula $f:E\to\fldr_{\geq0}$
\end_inset

 המקיימת את האילוצים הבאים:
\end_layout

\begin_deeper
\begin_layout Itemize
אילוץ הקיבול: לכל צלע בגרף, הזרימה בצלע אינה גדולה מהקיבול של הצלע, כלומר
 
\begin_inset Formula $\forall e\in E$
\end_inset

, מתקיים 
\begin_inset Formula $f\left(e\right)\leq c\left(e\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
חוק שימור החומר: לכל קודקוד בגרף חוץ מקודקודי המקור והבור, הזרימה הנכנסת
 לקודקוד השווה לזרימה היוצאת מהקודקוד.
 כלומר, 
\begin_inset Formula $\forall x\in V\backslash\left\{ s,t\right\} $
\end_inset

 מתקיים
\begin_inset Formula 
\[
\desc{\sum_{\left(u,x\right)\in E}f\left(u,x\right)}{\text{הזרימה הנכנסת}}=\desc{\sum_{\left(x,w\right)\in E}f\left(x,w\right)}{\text{הזרימה היוצאת}}
\]

\end_inset


\end_layout

\begin_layout Standard

\bar under
שטף הזרימה
\bar default
 מוגדר כזרימה הכוללת היוצאת מקודקוד המקור, כלומר 
\begin_inset Formula $\left|f\right|=\sum\limits _{\left(s,v\right)\in E}f\left(s,v\right)$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard
בהינתן רשת זרימה 
\begin_inset Formula $N$
\end_inset

, נרצה למצוא זרימה מקסימלית )עם 
\begin_inset Formula $\left|f\right|$
\end_inset

 מירבי( ברשת.
\end_layout

\begin_layout Description
דוגמה בדוגמה הבאה, משמאל זרימה עם שטף מקסימלי ומימין הקיבול לכל צלע.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/flow-lecture-example.png
	scale 60

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
הבעיה ניתנת לפתרון באמצעות תכנון לינארי ונפתרה ב-
\begin_inset Formula $'56$
\end_inset

 ע
\begin_inset Quotes erd
\end_inset

י
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Ford & Fulkerson
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולאחר מכן גם ע
\begin_inset Quotes erd
\end_inset

י
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Edmonds & Karp
\lang hebrew
.
\end_layout

\begin_layout Standard

\size larger
הערות על מרחב הפתרונות
\end_layout

\begin_layout Enumerate
מרחב הפתרונות היחודיים לבעיה זו הוא מרחב הזרימות החוקיות ברשת 
\begin_inset Formula $N$
\end_inset

.
\end_layout

\begin_layout Enumerate
הוא לעולם לא ריק כי 
\begin_inset Formula $f\equiv0$
\end_inset

 היא תמיד זרימה חוקית.
\end_layout

\begin_layout Enumerate
המרחב הזה יכול להיות אינסופי: נשים לב כי אם 
\begin_inset Formula $f,g$
\end_inset

 זרימות חוקיות אז גם 
\begin_inset Formula $\frac{f+g}{2}$
\end_inset

 זרימה חוקית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)ברור שאילוץ הקיבול מתקיים והסטודנטית המשקיעה תיווכח שגם שימור החומר מתקיים(.
 באופן כללי, 
\begin_inset Formula $h=\lambda f+\left(1-\lambda\right)g$
\end_inset

 הוא זרימה חוקית ולכן מרחב הזרימות החוקיות הוא קבוצה קמורה )ובפרט היא אינסופית(.
\end_layout

\begin_layout Enumerate
למרות שמרחב הפתרונות אינסופי, יש פתרון אופטימלי כי מרחב הפתרונות הוא קבוצה
 סגורה וחסומה ולכן קומפקטית ופ' השטף היא פ' רציפה על זרימות ולכן מאינפי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קיים לקבוצה מקסימום.
\end_layout

\begin_layout Description
רעיון כדי לבנות זרימה לא טריוויאלית )שונה מאפס( ברשת, נמצא באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
BFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מסלול פשוט בין 
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $t$
\end_inset

 ונשלח בו זרימה קבועה השווה לקיבול המינימלי של צלעות המסלול, ואפס על השאר.
 אילוץ הקיבול מתקיים כי הזרימה שווה לקיבול המינימלי במסלול ואילו שימור החומר
 מתקיים כי אנחנו מעבירים שטף קבוע על מסלול כלשהו.
\end_layout

\begin_layout Description
אלגוריתם אלג' איטרטיבי שבכל שלב מוצא מסלול פשוט בין 
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $t$
\end_inset

, שולח בו זרימה קבועה ומוסיף את הזרימה הדשה הזו לזרימה שקיימת כרגע ברשת.
 תוך כדי שהוא דואג לשמור על אילוץ הקיבול.
\end_layout

\begin_layout Description
דוגמה נריץ את האלג' על הגרף בדוגמה הנ
\begin_inset Quotes erd
\end_inset

ל.
\end_layout

\begin_deeper
\begin_layout Standard
המסלול הראשון הוא 
\begin_inset Formula $P_{0}:s,x,y,t$
\end_inset

 ונזרים דרכו 
\begin_inset Formula $1$
\end_inset

 )הקיבול המינימלי( לכן הקיבול האפקטיבי של הרשת לאחר ההזרמה, 
\begin_inset Formula $N_{1}$
\end_inset

, נהייה
\end_layout

\end_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/first-flow-1.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
עתה נבחר 
\begin_inset Formula $P_{1}:s,x,t$
\end_inset

 ונזרים דרכו 
\begin_inset Formula $9$
\end_inset

 ונקבל שכרגע אנחנו מזרימים )ברשת המקורית(
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/first-flow-2.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
הרשת האפקטיבית החדשה, 
\begin_inset Formula $N_{2}$
\end_inset

, היא
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/first-flow-3.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
נבחר את המסילה 
\begin_inset Formula $P_{2}:s,y,t$
\end_inset

 ונזרים דרכה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
9
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן הזרימה שלנו כרגע היא
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/first-flow-4.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
והרשת האפקטיבית עם הקיבול היא עכשיו
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/first-flow-5.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
ואין כאן מסילה בין 
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $t$
\end_inset

 ולכן סיימנו את ריצת האלגוריתם, עם זרימה סופית
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/first-flow-6.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
נשים לב שזה אינו פתרון אופטימלי.
\end_layout

\begin_layout Description
למה לכל רשת זרימה קיימת זרימה אופטימלית 
\begin_inset Formula $f$
\end_inset

 כך שלא קיימים שני קודקודים 
\begin_inset Formula $x,y\in V$
\end_inset

 כך ש-
\begin_inset Formula $\left(y,x\right),\left(x,y\right)\in E$
\end_inset

 וגם
\begin_inset Newline linebreak
\end_inset


\begin_inset Formula $f\left(x,y\right),f\left(y,x\right)>0$
\end_inset

, כלומר לא קיימים שני קודקודים עם תנועה בין שניהם כי ניתן לקזז אותה.
\end_layout

\begin_layout Description
הערה נניח הנחות מקלות על הרשת:
\end_layout

\begin_deeper
\begin_layout Itemize
אין בגרף 
\begin_inset Formula $\left(V,E\right)$
\end_inset

 של הרשת מעגלים.
\end_layout

\begin_layout Itemize
אין צלעות הנכנסות למקור.
\end_layout

\begin_layout Itemize
אין צלעות היוצאות מהבור.
\end_layout

\end_deeper
\begin_layout Proof
תהי 
\begin_inset Formula $g$
\end_inset

 זרימה אופטימלית ברשת.
 נגדיר 
\begin_inset Formula $B=\left\{ \left(x,y\right)\in E:\left(y,x\right)\in E,g\left(x,y\right)>0,g\left(y,x\right)>0\right\} $
\end_inset

.
 נשים לב כי 
\begin_inset Formula $\left(x,y\right)\in B$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $\left(y,x\right)\in B$
\end_inset

.
 נגדיר פ' חדשה 
\begin_inset Formula $f$
\end_inset

 על 
\begin_inset Formula $E$
\end_inset

 באופן הבא:
\begin_inset Formula 
\[
f\left(e\right)=\begin{cases}
g\left(e\right) & e\notin B\\
g\left(x,y\right)-\min\left\{ g\left(x,y\right),g\left(y,x\right)\right\}  & \left(x,y\right)=e\in B
\end{cases}
\]

\end_inset

נוכיח כי 
\begin_inset Formula $f$
\end_inset

 היא זרימה חוקית ברשת כי 
\begin_inset Formula $\left|f\right|=\left|g\right|$
\end_inset

 ולכן גם 
\begin_inset Formula $f$
\end_inset

 אופטימלי וכי ל-
\begin_inset Formula $f$
\end_inset

 יש את התכונה הנדרשת בלמה.
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $f$
\end_inset

 זרימה חוקית: 
\begin_inset Formula $f$
\end_inset

 אי-שלילית מהגדרתה.
 
\begin_inset Formula $f$
\end_inset

 מקיימת את אילוץ הקיבול כי 
\begin_inset Formula $f\left(e\right)\leq g\left(e\right)$
\end_inset

, 
\begin_inset Formula $\forall e\in E$
\end_inset

.
 
\begin_inset Formula $f$
\end_inset

 מקיימת את חוק שימור החומר כי 
\begin_inset Formula $\forall x\in V\backslash\left\{ s,t\right\} $
\end_inset

 במעבר מ-
\begin_inset Formula $g$
\end_inset

 ל-
\begin_inset Formula $f$
\end_inset

 הזרימה הנכנסת ל-
\begin_inset Formula $x$
\end_inset

 והיוצאת מ-
\begin_inset Formula $x$
\end_inset

 קטנות באותה מידה )אם הקטנו את הזרימה של צלע נכנסת זה אומר שהקטנו את הזרימה
 של צלע יוצאת באותה כמות ולהפך(.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\left|f\right|=\left|g\right|$
\end_inset

: הנחנו כי אין צלעות נכנסות לקודקוד המקור 
\begin_inset Formula $s$
\end_inset

.
 לכן לא קיים 
\begin_inset Formula $x\in V$
\end_inset

 כך ש-
\begin_inset Formula $\left(x,s\right)\in E$
\end_inset

, 
\begin_inset Formula $\left(s,x\right)\in E$
\end_inset

 ולכן לכל צלע 
\begin_inset Formula $\left(s,x\right)\in E$
\end_inset

 מתקיים 
\begin_inset Formula $g\left(s,x\right)=f\left(s,x\right)$
\end_inset

.
 לכן
\begin_inset Formula 
\[
\left|f\right|=\sum_{\left(s,x\right)\in E}f\left(s,x\right)=\sum_{\left(s,x\right)\in E}g\left(s,x\right)=\left|g\right|
\]

\end_inset


\end_layout

\begin_layout Enumerate
קיום תכונת הלמה: אם 
\begin_inset Formula $\left(x,y\right)\in B$
\end_inset

 אז מהגדרת 
\begin_inset Formula $f$
\end_inset

, 
\begin_inset Formula $\min\left\{ f\left(x,y\right),f\left(y,x\right)\right\} =0$
\end_inset

 ואם 
\begin_inset Formula $\left(x,y\right)\notin B$
\end_inset

 לא ייתכן ש-
\begin_inset Newline linebreak
\end_inset


\begin_inset Formula $\min\left\{ f\left(x,y\right),f\left(y,x\right)\right\} >0$
\end_inset

 כי 
\begin_inset Formula $\min\left\{ g\left(x,y\right),g\left(y,x\right)\right\} =0$
\end_inset

.
\end_layout

\begin_layout Standard

\color lightgray
חלק ב' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le92}{הרצאה}
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
כדי לשפר את האלג' שלנו, שלא מחזיר פתרון אופטימלי כרגע, בכל פעם שנעביר זרם
 דרך צלע כלשהי, נגיד צלע חדשה בין אותם קודקודים רק בכיוון ההפוך עם קיבול
 אפקטיבי זהה.
 בגלל שאנחנו לא רוצים לאפשר קיבול אמיתי נוסף, ניתן לצלעות הפיקטיביות הללו
 קיבול
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ונזרים דרכם את מינוס הזרם בכיוון ההפוך )ראו איור לדוגמה(.
 כך אנו פותחים דרכים חדשות בהן נוכל להגדיר זרימות וזה יעזור לנו באלג'.
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/imaginery-flow.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard

\size larger
הגדרות
\end_layout

\begin_layout Enumerate

\bar under
רשת זרימה מורחבת
\bar default
 זו הבעיה 
\begin_inset Formula $N'=\left(V,c',s,t\right)$
\end_inset

 כאשר 
\begin_inset Formula $V$
\end_inset

 היא קבוצת הקודקודים של הרשת, 
\begin_inset Formula $s\in V$
\end_inset

 הוא קודקוד המקור ו-
\begin_inset Formula $t\in V$
\end_inset

 קודקוד הבור.
 
\begin_inset Formula $c':V\times V\to\fldr_{\geq0}$
\end_inset

 היא פ' הקיבול המורחב המקיימת 
\begin_inset Formula $\forall v\in V$
\end_inset


\begin_inset Formula 
\[
c'\left(x,x\right)=0,c'\left(x,s\right)=0,c'\left(t,x\right)=0
\]

\end_inset


\end_layout

\begin_layout Enumerate
תהי 
\begin_inset Formula $N=\left(V,E,c,s,t\right)$
\end_inset

 רשת זרימה רגילה.
 נגדיר 
\bar under
ההרחבה של רשת הזרימה
\bar default
 הזו היא 
\begin_inset Formula $N'=\left(V,c',s,t\right)$
\end_inset

 כאשר
\begin_inset Formula 
\[
c'\left(x,y\right)=\begin{cases}
c\left(x,y\right) & \left(x,y\right)\in E\\
0 & \left(x,y\right)\notin E
\end{cases}
\]

\end_inset


\end_layout

\begin_layout Enumerate
תהי 
\begin_inset Formula $N'=\left(V,c',s,t\right)$
\end_inset

 רשת זרימה מורחבת.
 
\bar under
זרימה מורחבת
\bar default
 ברשת זו היא פ' 
\begin_inset Formula $f':V\times V\to\fldr$
\end_inset

 המקיימת את שלושת התכונות הבאות:
\end_layout

\begin_deeper
\begin_layout Enumerate
אנטי סימטריה: 
\begin_inset Formula $f'\left(y,x\right)=-f'\left(x,y\right)$
\end_inset

, 
\begin_inset Formula $\forall x,y\in V$
\end_inset

.
\end_layout

\begin_layout Enumerate
אילוץ הקיבול: 
\begin_inset Formula $f'\left(x,y\right)\leq c'\left(x,y\right)$
\end_inset

, 
\begin_inset Formula $\forall x,y\in V$
\end_inset

.
\end_layout

\begin_layout Enumerate
חוק שימור החומר: 
\begin_inset Formula $\sum\limits _{v\in V}f'\left(x,v\right)=0$
\end_inset

, 
\begin_inset Formula $\forall x\in V\backslash\left\{ s,t\right\} $
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
תהיינה 
\begin_inset Formula $N=\left(V,E,c,s,t\right)$
\end_inset

 זרימה רגילה, 
\begin_inset Formula $N'=\left(V,c',s,t\right)$
\end_inset

 הרחבה של 
\begin_inset Formula $N$
\end_inset

 ו-
\begin_inset Formula $f$
\end_inset

 זרימה רגילה ברשת 
\begin_inset Formula $N$
\end_inset

.

\bar under
 ההרחבה של 
\begin_inset Formula $f$
\end_inset


\bar default
 לרשת המורחבת 
\begin_inset Formula $N'$
\end_inset

 מוגדרת ע
\begin_inset Quotes erd
\end_inset

י
\begin_inset Formula 
\[
f'\left(x,y\right)=\begin{cases}
f\left(x,y\right) & \left(x,y\right)\in E\land f\left(x,y\right)>0\\
-f\left(y,x\right) & \left(y,x\right)\in E\land f\left(y,x\right)>0\\
0 & \text{אחרת}
\end{cases}
\]

\end_inset


\end_layout

\begin_layout Subsection
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
texorpdfstring{
\backslash
protect
\backslash
hypertarget{ta9}{תרגול}}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Description
דוגמה נסתכל על זרימה בעלת שטף מקסימלי )כל הדרכים שמובילות אליה הגיעו לרוויה
 ולכן לא נוכל להעביר עוד חומר אל הבור.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/ta-flow-example-2.png
	scale 60

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
נלמד בהרצאה שני אלגוריתמים:
\end_layout

\begin_layout Itemize
פורד-פולקרסון )
\begin_inset Formula $\textrm{FF}$
\end_inset

(, שרץ ב-
\begin_inset Formula $\oo{\left|E\right|\cdot\left|f^{*}\right|}$
\end_inset

 כאשר 
\begin_inset Formula $f^{*}$
\end_inset

 הזרימה האופטימלית )כלומר לא בהכרח פוליונמיאלי בקלט בכלל(.
\end_layout

\begin_layout Itemize
אדמונד-קארפ )
\lang english
EK
\lang hebrew
(, שרץ ב-
\begin_inset Formula $\oo{\left|E\right|^{2}\left|V\right|}$
\end_inset

 ובנוסף בהינתן שהקיבול שלם גם הפתרון שהוא יחזיר יהיה שלם.
\end_layout

\begin_layout Standard

\size larger
רידוקציה לבעיית הזרימה
\end_layout

\begin_layout Enumerate
נבנה רשת זרימה המתאימה לבעיה.
\end_layout

\begin_layout Enumerate
נריץ את אלג'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
EK
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 על הרשת שבנינו ונקבל זרימה מקסימלית 
\begin_inset Formula $f$
\end_inset

.
\end_layout

\begin_layout Enumerate
נחזיר פתרון לבעיה המקורית על סמך 
\begin_inset Formula $f$
\end_inset

.
\end_layout

\begin_layout Standard
כדי להוכיח נכונות נוכיח את הדברים הבאים:
\end_layout

\begin_layout Enumerate
כל פתרון חוקי של הבעיה ניתן לתרגום לזרימה חוקית ברשת )מוודא שלא נפספס פתרונות
 חוקיים של הבעיה, ובפרט האופטימלי(.
\end_layout

\begin_layout Enumerate
כל זרימה חוקית ברשת ניתנת לתרגום לפתרון חוקי של הבעיה )מוודא שהפתרון לבעיה
 חוקי(.
\end_layout

\begin_layout Enumerate
המרה בין פתרונות משמרת את ערך הבעיה )משמש להוכחת אופטימליות(.
\end_layout

\begin_layout Standard

\size larger
בעיית מציאת זיווג מקסימלי
\end_layout

\begin_layout Description
קלט גרף דו
\begin_inset Quotes erd
\end_inset

צ לא מכוון 
\begin_inset Formula $G=\left(L\dot{U}R,E\right)$
\end_inset

.
\end_layout

\begin_layout Description
פלט זיווג בגודל מקסימלי בגרף.
\end_layout

\begin_layout Description
דוגמה נדגים את הרידוקציה על מקרה פרטי.
 הגרף שלנו הוא
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/two-sided-preflow.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
ונגדיר עליו רשת זרימה באופן הבא
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/two-sided-postflow.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
כאשר המספרים בכתום הם הקיבולים )כרגע נתעלם מהירוקים(, 
\begin_inset Formula $s,t$
\end_inset

 הם קודקודים חדשים וכל הצלעות הן מכוונות ימינה, כלומר, הצלעות הן או מ-
\begin_inset Formula $s$
\end_inset

 לקודקודים ב-
\begin_inset Formula $L$
\end_inset

, או מקודקודים ב-
\begin_inset Formula $L$
\end_inset

 לקודקודים ב-
\begin_inset Formula $R$
\end_inset

 או מקודקודים ב-
\begin_inset Formula $R$
\end_inset

 ל-
\begin_inset Formula $t$
\end_inset

.
\end_layout

\begin_layout Standard
הירוקים הם ערכי זרימה מקסימלית בגרף.
 אם נבחר רק את הצלעות שזורם דרכן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)ולא אפס( נקבל שידוך )מקסימלי(.
\end_layout

\end_deeper
\begin_layout Description
אלגוריתם 
\end_layout

\begin_deeper
\begin_layout Enumerate
נבנה רשת זרימה 
\begin_inset Formula $N=\left(V,E',c,s,t\right)$
\end_inset

 כאשר:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $V'=L\cup R\cup\left\{ s,t\right\} $
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $E'=E_{L}\cup\vec{E}\cup E_{R}$
\end_inset

 כאשר
\begin_inset Formula 
\[
E_{L}=\left\{ \left(s,u\right):u\in L\right\} ,\vec{E}=\left\{ \left(u,v\right):\left\{ u,v\right\} \in E\right\} ,E_{R}=\left\{ \left(u,t\right):u\in R\right\} 
\]

\end_inset

)פשוט חלוקה לתחומים(.
\end_layout

\begin_layout Itemize
\begin_inset Formula $c\left(e\right)=1$
\end_inset

, 
\begin_inset Formula $\forall e\in E'$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
נריץ על הרשת שבנינו את אלג'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
EK
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ונקבל זרימה בעלת שטף מקסימלי, 
\begin_inset Formula $f$
\end_inset

.
\end_layout

\begin_layout Enumerate
נחזיר את הזיווג 
\begin_inset Formula $M=\left\{ e\in\vec{E}:f\left(e\right)=1\right\} $
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
משפט האלג' הנ
\begin_inset Quotes erd
\end_inset

ל הוא חוקי ואופטימלי.
\end_layout

\begin_layout Proof

\bar under
חוקיות
\bar default
: נראה כי 
\begin_inset Formula $M$
\end_inset

 זיווג חוקי.
 נניח בשלילה ש-
\begin_inset Formula $M$
\end_inset

 לא זיווג חוקי, לכן קיים 
\begin_inset Formula $v\in L\cup R$
\end_inset

 כך ש-
\begin_inset Formula $2$
\end_inset

 צלעות ב-
\begin_inset Formula $M$
\end_inset

 נוגעות )מכילות( ב-
\begin_inset Formula $v$
\end_inset

.
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $v\in R$
\end_inset

 )
\begin_inset Formula $v\in L$
\end_inset

( אז יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
צלעות שנכנסות )יוצאות( ל-
\begin_inset Formula $v$
\end_inset

 ומהגדרת 
\begin_inset Formula $M$
\end_inset

 יש שתי צלעות ברשת הזרימה שנכנסות )יוצאות מ-( ל-
\begin_inset Formula $v$
\end_inset

 והזרמנו בהם זרימה בגודל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן סך הזרימה הנכנסת )היוצאת( ל-
\begin_inset Formula $v$
\end_inset

 הוא 
\begin_inset Formula $2$
\end_inset

 אבל הזרימה היוצאת )נכנסת( היא לכל היותר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בסתירה לחוק שימור החומר.
\end_layout

\begin_layout Proof

\bar under
אופטימליות
\bar default
: נניח בשלילה שקיים 
\begin_inset Formula $M'$
\end_inset

 כך ש-
\begin_inset Formula $\left|M'\right|>\left|M\right|$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Enumerate
נוכיח כי 
\begin_inset Formula $\left|M\right|=\left|f\right|$
\end_inset

.
\begin_inset Formula 
\[
\left|f\right|=\sum\limits _{u\in L}f\left(s,u\right)\overset{\left(*\right)}{=}\sum\limits _{\left(u,v\right)\in\vec{E}}f\left(u,v\right)=\sum\limits _{\left(u,v\right)\in\vec{E}:f\left(u,v\right)=1}1=\left|M\right|
\]

\end_inset

 
\begin_inset Formula $\left(*\right)$
\end_inset

 מחוק שימור החומר, כל הזרימה שעוברת ב-
\begin_inset Formula $E_{L}$
\end_inset

 חייבת לעבור דרך הצלעות ב-
\begin_inset Formula $\vec{E}$
\end_inset

.
\end_layout

\begin_layout Enumerate
נוכיח כי קיימת זרימה חוקית ברשת 
\begin_inset Formula $f'$
\end_inset

 כך ש-
\begin_inset Formula $\left|M'\right|=\left|f'\right|$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
נסמן 
\begin_inset Formula $L'\subseteq L$
\end_inset

 קבוצת הקודקודים ב-
\begin_inset Formula $L$
\end_inset

 שקיימת צלע ב-
\begin_inset Formula $M'$
\end_inset

 שנוגעת בהם ובאותו האופן 
\begin_inset Formula $R'\subseteq R$
\end_inset

.
 נגדיר 
\begin_inset Formula $\forall e\in E'$
\end_inset

,
\begin_inset Formula 
\[
f'\left(e\right)=\begin{cases}
1 & e\in M\cup\left\{ \left(s,u\right):u\in L'\right\} \cup\left\{ \left(u,t\right):v\in R'\right\} \\
0 & \textrm{otherwise}
\end{cases}
\]

\end_inset


\end_layout

\begin_layout Enumerate
נראה כי 
\begin_inset Formula $f'$
\end_inset

 זרימה חוקית ברשת.
\end_layout

\begin_deeper
\begin_layout Enumerate
אילוץ הקיבול: 
\begin_inset Formula $f'$
\end_inset

 מזרימה לכל היותר יחידת חומר אחת, לכן 
\begin_inset Formula $f'\left(e\right)\leq1=c\left(e\right)$
\end_inset

, 
\begin_inset Formula $\forall e\in E'$
\end_inset

.
\end_layout

\begin_layout Enumerate
חוק שימור החומר: לכל קודקוד 
\begin_inset Formula $v\in L'\cup R'$
\end_inset

, 
\begin_inset Formula $f'$
\end_inset

 מזרימה יחידת חומר אחת ל-
\begin_inset Formula $v$
\end_inset

 ויחידת חומר אחת מ-
\begin_inset Formula $v$
\end_inset

 ולכן חוק שימור החומר נשמר.
 
\begin_inset Formula $M'$
\end_inset

 זיווג חוקי ולכן לא קיימות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
צלעות שהזרימה הן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ושתיהן נכנסות/יוצאות מ-
\begin_inset Formula $v$
\end_inset

.
 כל קודוקד אחר 
\begin_inset Formula $f'$
\end_inset

 מזרימה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ממנו ואליו.
\end_layout

\end_deeper
\begin_layout Enumerate
נראה כי 
\begin_inset Formula $\left|f'\right|=\left|M'\right|$
\end_inset

.
\begin_inset Formula 
\[
\left|f'\right|=\sum_{u\in L}f\left(s,u\right)=\sum_{u\in L'}f\left(s,u\right)+\sum_{u\in L\backslash L'}f\left(s,u\right)=\sum_{u\in L'}1=\left|L'\right|=\left|M'\right|
\]

\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Standard
לכן 
\begin_inset Formula $\left|f'\right|=\left|M'\right|>\left|M\right|=\left|f\right|$
\end_inset

 בסתירה למקסימליות 
\begin_inset Formula $f$
\end_inset

.
\end_layout

\begin_layout Section
שבוע 
\begin_inset Formula $\mathbb{X}$
\end_inset

 | האלגוריתם של פורד פלקורסון
\end_layout

\begin_layout Subsection
הרצאה
\end_layout

\begin_layout Standard

\color lightgray
חלק א' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le101}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
האלג' הנאיבי שהצגנו לא עבד כי הוא סגר מסלולים שאולי היינו רוצים להשתמש בהם
 בהמשך.
\end_layout

\begin_layout Standard
הרעיון של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Ford & Fulkerson
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא שברגע שמזרימים זרימה בין 
\begin_inset Formula $x$
\end_inset

 ל-
\begin_inset Formula $y$
\end_inset

, פותחים צלע עם קיבול מתאים בכיוון ההפוך ברשת כדי שבמקרה הצורך נוכל להחזיר
 בה זרימה.
 על הצלעות בכיוון ההפוך אפשר לחשוב כמסמנות 
\begin_inset Quotes eld
\end_inset

כמה זרימה כבר העברנו באיטרציות קודמות
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Description
הגדרה 
\bar under
שטף של זרימה מורחבת
\bar default
 
\begin_inset Formula $f'$
\end_inset

 מוגדרת ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $\left|f'\right|=\sum\limits _{v\in V}f'\left(s,v\right)$
\end_inset

.
\end_layout

\begin_layout Description
למה
\begin_inset Formula $\;$
\end_inset


\series bold
\numeric on
1
\family roman
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תהי 
\begin_inset Formula $N$
\end_inset

 רשת זרימה רגילה ותהי 
\begin_inset Formula $f$
\end_inset

 זרימה רגילה ב-
\begin_inset Formula $N$
\end_inset

.
 תהי 
\begin_inset Formula $N'$
\end_inset

 ההרחבה של 
\begin_inset Formula $N$
\end_inset

 ו-
\begin_inset Formula $f'$
\end_inset

 ההרחבה של 
\begin_inset Formula $f$
\end_inset

 ל-
\begin_inset Formula $N'$
\end_inset

.
 אזי 
\begin_inset Formula $N'$
\end_inset

 היא רשת זרימה מורחבת ו-
\begin_inset Formula $f'$
\end_inset

 היא זרימה מורחבת ברשת זו ומתקיים 
\begin_inset Formula $\left|f'\right|=\left|f\right|$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה תהי 
\begin_inset Formula $N'=\left(V,c',s,t\right)$
\end_inset

 רשת זרימה מורחבת.
 נגדיר 
\begin_inset Formula $E=\left\{ \left(x,y\right):c'\left(x,y\right)>0\right\} $
\end_inset

, 
\begin_inset Formula $c:E\to\fldr_{+}$
\end_inset

 ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $c\left(x,y\right)=c'\left(x,y\right)$
\end_inset

, 
\begin_inset Formula $\forall\left(x,y\right)\in E$
\end_inset

.
 נגדיר 
\begin_inset Formula $N=\left(V,E,c,s,t\right)$
\end_inset

 להיות ה
\bar under
צמצום
\bar default
 של הרשת 
\begin_inset Formula $N'$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה תהי 
\begin_inset Formula $N'$
\end_inset

 רשת זרימה מורחבת ו-
\begin_inset Formula $N=\left(V,E,c,s,t\right)$
\end_inset

 הצמצום של 
\begin_inset Formula $N'$
\end_inset

.
 תהי 
\begin_inset Formula $f'$
\end_inset

 זרימה מורחבת ב-
\begin_inset Formula $N'$
\end_inset

.
 נגדיר 
\begin_inset Formula $f:E\to\fldr_{\geq0}$
\end_inset

, 
\bar under
הצמצום
\bar default
 של 
\begin_inset Formula $f'$
\end_inset

, ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $f\left(x,y\right)=\max\left\{ f'\left(x,y\right),0\right\} $
\end_inset

, 
\begin_inset Formula $\forall\left(x,y\right)\in E$
\end_inset

.
\end_layout

\begin_layout Description
למה
\begin_inset Formula $\;$
\end_inset


\series bold
\numeric on
2
\family roman
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תהי 
\begin_inset Formula $N'$
\end_inset

 רשת זרימה מורחבת ותהי 
\begin_inset Formula $f'$
\end_inset

 רשת זרימה ב-
\begin_inset Formula $N'$
\end_inset

.
 תהי 
\begin_inset Formula $N$
\end_inset

 הצמצום של 
\begin_inset Formula $N'$
\end_inset

 ו-
\begin_inset Formula $f$
\end_inset

 הצמצום של 
\begin_inset Formula $f'$
\end_inset

.
 אזי:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $N$
\end_inset

 היא רשת זרימה רגילה ו-
\begin_inset Formula $f$
\end_inset

 היא זרימה רגילה ברשת זו.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\left|f\right|=\left|f'\right|$
\end_inset

.
\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $N'$
\end_inset

 הרחבה של 
\begin_inset Formula $N$
\end_inset

 אז הצמצום של 
\begin_inset Formula $N'$
\end_inset

 הוא 
\begin_inset Formula $N$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
דוגמה נריץ את הרעיון על הדוגמה המקורית, עם המסלול שבזמנו הרס לנו את הריצה
 הנאיבית.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
begin{center} 
\backslash
begin{tikzpicture}[scale=0.2] 
\backslash
tikzstyle{every node}+=[inner sep=0pt] 
\backslash
draw [black] (34.4,-13.4) circle (3); 
\backslash
draw (34.4,-13.4) node {$x$}; 
\backslash
draw [black] (19.7,-26.6) circle (3); 
\backslash
draw (19.7,-26.6) node {$s$}; 
\backslash
draw [black] (34.4,-40.8) circle (3); 
\backslash
draw (34.4,-40.8) node {$y$}; 
\backslash
draw [black] (49.7,-26.6) circle (3); 
\backslash
draw (49.7,-26.6) node {$t$}; 
\backslash
draw [black] (21.93,-24.6) -- (32.17,-15.4); 
\backslash
fill [black] (32.17,-15.4) -- (31.24,-15.57) -- (31.91,-16.31); 
\backslash
draw (28.56,-20.49) node [below] {$10$}; 
\backslash
draw [black] (36.67,-15.36) -- (47.43,-24.64); 
\backslash
fill [black] (47.43,-24.64) -- (47.15,-23.74) -- (46.5,-24.5); 
\backslash
draw (40.54,-20.49) node [below] {$10$}; 
\backslash
draw [black] (34.4,-16.4) -- (34.4,-37.8); 
\backslash
fill [black] (34.4,-37.8) -- (34.9,-37) -- (33.9,-37); 
\backslash
draw (33.9,-27.1) node [left] {$1$}; 
\backslash
draw [black] (21.86,-28.68) -- (32.24,-38.72); 
\backslash
fill [black] (32.24,-38.72) -- (32.01,-37.8) -- (31.32,-38.52); 
\backslash
draw (25.53,-34.18) node [below] {$10$}; 
\backslash
draw [black] (36.6,-38.76) -- (47.5,-28.64); 
\backslash
fill [black] (47.5,-28.64) -- (46.57,-28.82) -- (47.25,-29.55); 
\backslash
draw (43.57,-34.19) node [below] {$10$}; 
\backslash
end{tikzpicture} 
\backslash
end{center}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
לאחר הזרמת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
דרך המסלול 
\begin_inset Formula $s,x,y,t$
\end_inset

 נקבל עם הצלעות החדשות את הגרף
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
begin{center} 
\backslash
begin{tikzpicture}[scale=0.2] 
\backslash
tikzstyle{every node}+=[inner sep=0pt] 
\backslash
draw [black] (34.4,-13.4) circle (3); 
\backslash
draw (34.4,-13.4) node {$x$}; 
\backslash
draw [black] (34.4,-40.8) circle (3); 
\backslash
draw (34.4,-40.8) node {$y$}; 
\backslash
draw [black] (49.7,-26.6) circle (3); 
\backslash
draw (49.7,-26.6) node {$t$}; 
\backslash
draw [black] (19.7,-26.6) circle (3); 
\backslash
draw (19.7,-26.6) node {$s$}; 
\backslash
draw [black] (36.67,-15.36) -- (47.43,-24.64); 
\backslash
fill [black] (47.43,-24.64) -- (47.15,-23.74) -- (46.5,-24.5); 
\backslash
draw (39.76,-20.49) node [below] {$0/10$}; 
\backslash
draw [black] (34.946,-16.35) arc (9.21367:-9.21367:67.141); 
\backslash
fill [black] (34.95,-37.85) -- (35.57,-37.14) -- (34.58,-36.98); 
\backslash
draw (36.31,-27.1) node [right] {$1/1$}; 
\backslash
draw [black] (36.276,-38.459) arc (139.89281:125.83626:61.048); 
\backslash
fill [black] (47.23,-28.3) -- (46.28,-28.36) -- (46.87,-29.17); 
\backslash
draw (39.15,-32.56) node [above] {$1/10$}; 
\backslash
draw [black] (32.65,-15.836) arc (-37.88903:-58.26588:39.284); 
\backslash
fill [black] (32.65,-15.84) -- (31.76,-16.16) -- (32.55,-16.77); 
\backslash
draw (30.18,-21.43) node [below] {$1/10$}; 
\backslash
draw [black] (21.86,-28.68) -- (32.24,-38.72); 
\backslash
fill [black] (32.24,-38.72) -- (32.01,-37.8) -- (31.32,-38.52); 
\backslash
draw (24.75,-34.18) node [below] {$0/10$}; 
\backslash
draw [black] (20.988,-23.893) arc (150.666:113.17909:22.131); 
\backslash
fill [black] (20.99,-23.89) -- (21.82,-23.44) -- (20.94,-22.95); 
\backslash
draw (23.37,-17.78) node [above] {$-1/0$}; 
\backslash
draw [black] (33.912,-37.84) arc (-171.7794:-188.2206:75.114); 
\backslash
fill [black] (33.91,-16.36) -- (33.3,-17.08) -- (34.29,-17.22); 
\backslash
draw (32.64,-27.1) node [left] {$-1/0$}; 
\backslash
draw [black] (48.151,-29.168) arc (-33.73375:-60.53718:32.595); 
\backslash
fill [black] (37.08,-39.45) -- (38.02,-39.49) -- (37.53,-38.62); 
\backslash
draw (45.34,-35.44) node [below] {$-1/0$}; 
\backslash
end{tikzpicture} 
\backslash
end{center}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
לכן עכשיו נריץ את האלג' על הרשת החדשה, 
\begin_inset Formula $N_{1}$
\end_inset

 שהיא
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
begin{center} 
\backslash
begin{tikzpicture}[scale=0.2] 
\backslash
tikzstyle{every node}+=[inner sep=0pt] 
\backslash
draw [black] (19.6,-23.9) circle (3); 
\backslash
draw (19.6,-23.9) node {$s$}; 
\backslash
draw [black] (33.8,-11) circle (3); 
\backslash
draw (33.8,-11) node {$x$}; 
\backslash
draw [black] (47.8,-23.9) circle (3); 
\backslash
draw (47.8,-23.9) node {$t$}; 
\backslash
draw [black] (33.8,-37.1) circle (3); 
\backslash
draw (33.8,-37.1) node {$y$}; 
\backslash
draw [black] (31.972,-13.378) arc (-39.43076:-56.06204:45.912); 
\backslash
fill [black] (31.97,-13.38) -- (31.08,-13.68) -- (31.85,-14.31); 
\backslash
draw (28.4,-18.69) node [below] {$9$}; 
\backslash
draw [black] (36.01,-13.03) -- (45.59,-21.87); 
\backslash
fill [black] (45.59,-21.87) -- (45.34,-20.96) -- (44.67,-21.69); 
\backslash
draw (39.28,-17.94) node [below] {$10$}; 
\backslash
draw [black] (21.8,-25.94) -- (31.6,-35.06); 
\backslash
fill [black] (31.6,-35.06) -- (31.36,-34.15) -- (30.68,-34.88); 
\backslash
draw (25.18,-30.99) node [below] {$10$}; 
\backslash
draw [black] (35.305,-34.506) arc (146.88915:119.74148:28.746); 
\backslash
fill [black] (45.12,-25.25) -- (44.18,-25.21) -- (44.68,-26.08); 
\backslash
draw (38.65,-28.81) node [above] {$9$}; 
\backslash
draw [black] (33.8,-34.1) -- (33.8,-14); 
\backslash
fill [black] (33.8,-14) -- (33.3,-14.8) -- (34.3,-14.8); 
\backslash
draw (34.3,-24.05) node [right] {$1$}; 
\backslash
draw [black] (46.184,-26.426) arc (-35.16164:-58.20773:33.6); 
\backslash
fill [black] (36.42,-35.64) -- (37.36,-35.64) -- (36.83,-34.79); 
\backslash
draw (42.78,-32.01) node [below] {$1$}; 
\backslash
draw [black] (21.258,-21.401) arc (143.84853:120.65867:33.259); 
\backslash
fill [black] (21.26,-21.4) -- (22.13,-21.05) -- (21.33,-20.46); 
\backslash
draw (24.74,-15.92) node [above] {$1$}; 
\backslash
end{tikzpicture} 
\backslash
end{center}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
נבחר את המסלול 
\begin_inset Formula $s,x,t$
\end_inset

 ונזרים דרכו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
9
\numeric off
, עכשיו הרשת המורחבת המתקבלת היא
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
begin{center} 
\backslash
begin{tikzpicture}[scale=0.2] 
\backslash
tikzstyle{every node}+=[inner sep=0pt] 
\backslash
draw [black] (17,-29.7) circle (3); 
\backslash
draw (17,-29.7) node {$s$}; 
\backslash
draw [black] (32.1,-15.5) circle (3); 
\backslash
draw (32.1,-15.5) node {$x$}; 
\backslash
draw [black] (32.1,-43.2) circle (3); 
\backslash
draw (32.1,-43.2) node {$y$}; 
\backslash
draw [black] (46.3,-29.7) circle (3); 
\backslash
draw (46.3,-29.7) node {$t$}; 
\backslash
draw [black] (19.19,-27.64) -- (29.91,-17.56); 
\backslash
fill [black] (29.91,-17.56) -- (28.99,-17.74) -- (29.67,-18.47); 
\backslash
draw (21.76,-22.12) node [above] {$10/10$}; 
\backslash
draw [black] (34.22,-17.62) -- (44.18,-27.58); 
\backslash
fill [black] (44.18,-27.58) -- (43.97,-26.66) -- (43.26,-27.37); 
\backslash
draw (41.5,-22.12) node [above] {$9/10$}; 
\backslash
draw [black] (35.065,-15.099) arc (90.28378:-0.28378:11.579); 
\backslash
fill [black] (35.06,-15.1) -- (35.87,-15.59) -- (35.86,-14.59); 
\backslash
draw (45.44,-18.01) node [above] {$-9/0$}; 
\backslash
draw [black] (19.24,-31.7) -- (29.86,-41.2); 
\backslash
fill [black] (29.86,-41.2) -- (29.6,-40.29) -- (28.93,-41.04); 
\backslash
draw (22.26,-36.94) node [below] {$0/10$}; 
\backslash
draw [black] (16.855,-26.711) arc (-184.13808:-269.38069:12.437); 
\backslash
fill [black] (16.86,-26.71) -- (17.41,-25.95) -- (16.41,-25.88); 
\backslash
draw (18.11,-18.06) node [above] {$-10/0$}; 
\backslash
draw [black] (34.27,-41.13) -- (44.13,-31.77); 
\backslash
fill [black] (44.13,-31.77) -- (43.2,-31.96) -- (43.89,-32.68); 
\backslash
draw (41.5,-36.93) node [below] {$1/10$}; 
\backslash
draw [black] (47.103,-32.58) arc (7.31813:-100.21333:10.407); 
\backslash
fill [black] (34.94,-44.15) -- (35.63,-44.78) -- (35.81,-43.8); 
\backslash
draw (46.08,-41.93) node [below] {$-1/0$}; 
\backslash
draw [black] (32.577,-18.462) arc (8.03901:-8.03901:77.858); 
\backslash
fill [black] (32.58,-40.24) -- (33.18,-39.52) -- (32.19,-39.38); 
\backslash
draw (33.84,-29.35) node [right] {$1/1$}; 
\backslash
draw [black] (31.371,-40.29) arc (-167.62117:-192.37883:51.034); 
\backslash
fill [black] (31.37,-18.41) -- (30.71,-19.08) -- (31.69,-19.3); 
\backslash
draw (29.68,-29.35) node [left] {$-1/0$}; 
\backslash
end{tikzpicture} 
\backslash
end{center}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
לכן עכשיו הרשת הרגילה החדשה היא 
\begin_inset Formula $N_{2}$
\end_inset

, שהיא
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
begin{center} 
\backslash
begin{tikzpicture}[scale=0.2] 
\backslash
tikzstyle{every node}+=[inner sep=0pt] 
\backslash
draw [black] (19.6,-23.9) circle (3); 
\backslash
draw (19.6,-23.9) node {$s$}; 
\backslash
draw [black] (33.8,-11) circle (3); 
\backslash
draw (33.8,-11) node {$x$}; 
\backslash
draw [black] (47.8,-23.9) circle (3); 
\backslash
draw (47.8,-23.9) node {$t$}; 
\backslash
draw [black] (33.8,-37.1) circle (3); 
\backslash
draw (33.8,-37.1) node {$y$}; 
\backslash
draw [black] (45.188,-22.426) arc (-121.87647:-143.44024:35.275); 
\backslash
fill [black] (45.19,-22.43) -- (44.77,-21.58) -- (44.24,-22.43); 
\backslash
draw (38.9,-18.9) node [below] {$1$}; 
\backslash
draw [black] (21.8,-25.94) -- (31.6,-35.06); 
\backslash
fill [black] (31.6,-35.06) -- (31.36,-34.15) -- (30.68,-34.88); 
\backslash
draw (25.18,-30.99) node [below] {$10$}; 
\backslash
draw [black] (35.305,-34.506) arc (146.88915:119.74148:28.746); 
\backslash
fill [black] (45.12,-25.25) -- (44.18,-25.21) -- (44.68,-26.08); 
\backslash
draw (38.65,-28.81) node [above] {$9$}; 
\backslash
draw [black] (33.8,-34.1) -- (33.8,-14); 
\backslash
fill [black] (33.8,-14) -- (33.3,-14.8) -- (34.3,-14.8); 
\backslash
draw (34.3,-24.05) node [right] {$1$}; 
\backslash
draw [black] (46.184,-26.426) arc (-35.16164:-58.20773:33.6); 
\backslash
fill [black] (36.42,-35.64) -- (37.36,-35.64) -- (36.83,-34.79); 
\backslash
draw (42.78,-32.01) node [below] {$1$}; 
\backslash
draw [black] (31.58,-13.02) -- (21.82,-21.88); 
\backslash
fill [black] (21.82,-21.88) -- (22.75,-21.71) -- (22.08,-20.97); 
\backslash
draw (25.19,-16.96) node [above] {$10$}; 
\backslash
draw [black] (36.529,-12.242) arc (62.21361:32.46968:25.987); 
\backslash
fill [black] (36.53,-12.24) -- (37,-13.06) -- (37.47,-12.17); 
\backslash
draw (43.04,-15.64) node [above] {$9$}; 
\backslash
end{tikzpicture} 
\backslash
end{center}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
נזרים דרך 
\begin_inset Formula $s,y,t$
\end_inset

 זרימה של 
\begin_inset Formula $9$
\end_inset

 ונקבל רשת מורחבת
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
begin{center} 
\backslash
begin{tikzpicture}[scale=0.2] 
\backslash
tikzstyle{every node}+=[inner sep=0pt] 
\backslash
draw [black] (34.4,-13.4) circle (3); 
\backslash
draw (34.4,-13.4) node {$x$}; 
\backslash
draw [black] (34.4,-40.8) circle (3); 
\backslash
draw (34.4,-40.8) node {$y$}; 
\backslash
draw [black] (49.7,-26.6) circle (3); 
\backslash
draw (49.7,-26.6) node {$t$}; 
\backslash
draw [black] (19.7,-26.6) circle (3); 
\backslash
draw (19.7,-26.6) node {$s$}; 
\backslash
draw [black] (36.67,-15.36) -- (47.43,-24.64); 
\backslash
fill [black] (47.43,-24.64) -- (47.15,-23.74) -- (46.5,-24.5); 
\backslash
draw (44.34,-19.51) node [above] {$9/10$}; 
\backslash
draw [black] (34.946,-16.35) arc (9.21367:-9.21367:67.141); 
\backslash
fill [black] (34.95,-37.85) -- (35.57,-37.14) -- (34.58,-36.98); 
\backslash
draw (36.31,-27.1) node [right] {$1/1$}; 
\backslash
draw [black] (36.6,-38.76) -- (47.5,-28.64); 
\backslash
fill [black] (47.5,-28.64) -- (46.57,-28.82) -- (47.25,-29.55); 
\backslash
draw (44.34,-34.19) node [below] {$0/10$}; 
\backslash
draw [black] (21.93,-24.6) -- (32.17,-15.4); 
\backslash
fill [black] (32.17,-15.4) -- (31.24,-15.57) -- (31.91,-16.31); 
\backslash
draw (24.26,-19.51) node [above] {$10/10$}; 
\backslash
draw [black] (21.86,-28.68) -- (32.24,-38.72); 
\backslash
fill [black] (32.24,-38.72) -- (32.01,-37.8) -- (31.32,-38.52); 
\backslash
draw (24.75,-34.18) node [below] {$9/10$}; 
\backslash
draw [black] (18.93,-23.711) arc (-173.31438:-282.84053:10.433); 
\backslash
fill [black] (18.93,-23.71) -- (19.33,-22.86) -- (18.34,-22.97); 
\backslash
draw (19.7,-14.25) node [above] {$-10/0$}; 
\backslash
draw [black] (33.912,-37.84) arc (-171.7794:-188.2206:75.114); 
\backslash
fill [black] (33.91,-16.36) -- (33.3,-17.08) -- (34.29,-17.22); 
\backslash
draw (32.64,-27.1) node [left] {$-1/0$}; 
\backslash
draw [black] (50.512,-29.479) arc (7.97443:-102.24535:11.062); 
\backslash
fill [black] (37.21,-41.82) -- (37.89,-42.48) -- (38.1,-41.5); 
\backslash
draw (49.71,-39.61) node [below] {$-10/0$}; 
\backslash
draw [black] (37.202,-12.355) arc (102.494:-4.06565:10.809); 
\backslash
fill [black] (37.2,-12.36) -- (38.09,-12.67) -- (37.87,-11.69); 
\backslash
draw (48.72,-14.23) node [above] {$-9/0$}; 
\backslash
draw [black] (31.598,-41.843) arc (-77.59867:-190.41898:10.718); 
\backslash
fill [black] (18.75,-29.44) -- (18.12,-30.13) -- (19.1,-30.31); 
\backslash
draw (19.72,-39.57) node [below] {$-9/0$}; 
\backslash
end{tikzpicture} 
\backslash
end{center}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
עתה הרשת הפאקטיבית החדשה 
\begin_inset Formula $N_{3}$
\end_inset

 היא
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
begin{center} 
\backslash
begin{tikzpicture}[scale=0.2] 
\backslash
tikzstyle{every node}+=[inner sep=0pt] 
\backslash
draw [black] (19.6,-23.9) circle (3); 
\backslash
draw (19.6,-23.9) node {$s$}; 
\backslash
draw [black] (33.8,-11) circle (3); 
\backslash
draw (33.8,-11) node {$x$}; 
\backslash
draw [black] (47.8,-23.9) circle (3); 
\backslash
draw (47.8,-23.9) node {$t$}; 
\backslash
draw [black] (33.8,-37.1) circle (3); 
\backslash
draw (33.8,-37.1) node {$y$}; 
\backslash
draw [black] (36.01,-13.03) -- (45.59,-21.87); 
\backslash
fill [black] (45.59,-21.87) -- (45.34,-20.96) -- (44.67,-21.69); 
\backslash
draw (39.78,-17.94) node [below] {$1$}; 
\backslash
draw [black] (21.8,-25.94) -- (31.6,-35.06); 
\backslash
fill [black] (31.6,-35.06) -- (31.36,-34.15) -- (30.68,-34.88); 
\backslash
draw (25.68,-30.99) node [below] {$1$}; 
\backslash
draw [black] (33.8,-34.1) -- (33.8,-14); 
\backslash
fill [black] (33.8,-14) -- (33.3,-14.8) -- (34.3,-14.8); 
\backslash
draw (34.3,-24.05) node [right] {$1$}; 
\backslash
draw [black] (45.62,-25.96) -- (35.98,-35.04); 
\backslash
fill [black] (35.98,-35.04) -- (36.91,-34.86) -- (36.22,-34.13); 
\backslash
draw (42.32,-30.98) node [below] {$10$}; 
\backslash
draw [black] (31.58,-13.02) -- (21.82,-21.88); 
\backslash
fill [black] (21.82,-21.88) -- (22.75,-21.71) -- (22.08,-20.97); 
\backslash
draw (25.19,-16.96) node [above] {$10$}; 
\backslash
draw [black] (36.784,-11.247) arc (78.97871:15.70459:13.645); 
\backslash
fill [black] (36.78,-11.25) -- (37.47,-11.89) -- (37.66,-10.91); 
\backslash
draw (44.44,-14.12) node [above] {$9$}; 
\backslash
draw [black] (30.818,-37.347) arc (-92.52166:-173.29802:11.849); 
\backslash
fill [black] (19.57,-26.89) -- (19.17,-27.74) -- (20.16,-27.63); 
\backslash
draw (22.26,-34.67) node [below] {$9$}; 
\backslash
end{tikzpicture} 
\backslash
end{center}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
באלג' הנאיבי כאן היינו עוצרים כי לא פתחנו צלעות חדשות.
 אבל אנחנו נוכל לבחור את המסלול 
\begin_inset Formula $s,y,x,t$
\end_inset

 ולהזרים בו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בעזרת הצלעות החדשות.
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout

 
\backslash
begin{center} 
\backslash
begin{tikzpicture}[scale=0.2] 
\backslash
tikzstyle{every node}+=[inner sep=0pt] 
\backslash
draw [black] (34.4,-13.4) circle (3); 
\backslash
draw (34.4,-13.4) node {$x$}; 
\backslash
draw [black] (34.4,-40.8) circle (3); 
\backslash
draw (34.4,-40.8) node {$y$}; 
\backslash
draw [black] (49.7,-26.6) circle (3); 
\backslash
draw (49.7,-26.6) node {$t$}; 
\backslash
draw [black] (19.7,-26.6) circle (3); 
\backslash
draw (19.7,-26.6) node {$s$}; 
\backslash
draw [black] (36.67,-15.36) -- (47.43,-24.64); 
\backslash
fill [black] (47.43,-24.64) -- (47.15,-23.74) -- (46.5,-24.5); 
\backslash
draw (44.84,-19.51) node [above] {$10/10$}; 
\backslash
draw [black] (33.857,-37.85) arc (-170.84459:-189.15541:67.561); 
\backslash
fill [black] (33.86,-37.85) -- (34.22,-36.98) -- (33.24,-37.14); 
\backslash
draw (32.5,-27.1) node [left] {$0/1$}; 
\backslash
draw [black] (36.6,-38.76) -- (47.5,-28.64); 
\backslash
fill [black] (47.5,-28.64) -- (46.57,-28.82) -- (47.25,-29.55); 
\backslash
draw (44.84,-34.19) node [below] {$10/10$}; 
\backslash
draw [black] (21.93,-24.6) -- (32.17,-15.4); 
\backslash
fill [black] (32.17,-15.4) -- (31.24,-15.57) -- (31.91,-16.31); 
\backslash
draw (24.26,-19.51) node [above] {$10/10$}; 
\backslash
draw [black] (21.86,-28.68) -- (32.24,-38.72); 
\backslash
fill [black] (32.24,-38.72) -- (32.01,-37.8) -- (31.32,-38.52); 
\backslash
draw (24.25,-34.18) node [below] {$10/10$}; 
\backslash
draw [black] (18.93,-23.711) arc (-173.31438:-282.84053:10.433); 
\backslash
fill [black] (18.93,-23.71) -- (19.33,-22.86) -- (18.34,-22.97); 
\backslash
draw (19.7,-14.25) node [above] {$-10/0$}; 
\backslash
draw [black] (34.98,-16.343) arc (9.78239:-9.78239:63.31); 
\backslash
fill [black] (34.98,-16.34) -- (34.62,-17.22) -- (35.61,-17.05); 
\backslash
draw (36.4,-27.1) node [right] {$0/0$}; 
\backslash
draw [black] (50.512,-29.479) arc (7.97443:-102.24535:11.062); 
\backslash
fill [black] (37.21,-41.82) -- (37.89,-42.48) -- (38.1,-41.5); 
\backslash
draw (49.71,-39.61) node [below] {$-10/0$}; 
\backslash
draw [black] (37.179,-12.296) arc (103.65759:-5.22924:10.72); 
\backslash
fill [black] (37.18,-12.3) -- (38.07,-12.59) -- (37.84,-11.62); 
\backslash
draw (49.33,-14.1) node [above] {$-10/0$}; 
\backslash
draw [black] (31.598,-41.843) arc (-77.59867:-190.41898:10.718); 
\backslash
fill [black] (18.75,-29.44) -- (18.12,-30.13) -- (19.1,-30.31); 
\backslash
draw (19.22,-39.57) node [below] {$-10/0$}; 
\backslash
end{tikzpicture} 
\backslash
end{center}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
ועכשיו אין יותר מסלולים ולכן נפסיק את האיטרציה ואכן אם נמצמם את הזרימה המורחבת
 ברשת המורחבת נקבל את הזרימה המקסימלית המוכרת לנו מהדוגמה מההרצאה הקודמת.
\end_layout

\end_deeper
\begin_layout Description
הערה מעתה נעבוד רק עם זרימות מורחבות ולכן נסיר את ה-' מכל הסימונים.
\end_layout

\begin_layout Standard

\size larger
הגדרות לכתיבה הפורמלית של
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
F&F
\end_layout

\begin_layout Standard
תהי 
\begin_inset Formula $N=\left(V,c,s,t\right)$
\end_inset

 רשת זרימה מורחבת, 
\begin_inset Formula $f$
\end_inset

 זרימה מורחבת על רשת מורחבת זו.
\end_layout

\begin_layout Enumerate

\bar under
הקיבול השיורי
\bar default
 הוא פ' 
\begin_inset Formula $c_{f}:V\times V\to\fldr_{\geq0}$
\end_inset

 המגודרת ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $c_{f}\left(x,y\right)=c\left(x,y\right)-f\left(x,y\right)$
\end_inset

, 
\begin_inset Formula $\forall\left(x,y\right)\in E$
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
הרשת השיורית
\bar default
 היא הרביעיה 
\begin_inset Formula $N_{f}=\left(V,c_{f},s,t\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
אוסף הצלעות השיורי
\bar default
 הוא 
\begin_inset Formula $E_{f}=\left\{ \left(x,y\right):c_{f}\left(x,y\right)>0\right\} $
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
הגרף השיורי
\bar default
 הוא 
\begin_inset Formula $G_{f}=\left(V,E_{f}\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
מסילת הרחבה
\bar default
 זו מסילה פשוטה מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $t$
\end_inset

 בגרף השיורי 
\begin_inset Formula $G_{f}$
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
הקיבול השיורי של מסילת הרחבה
\bar default
 
\begin_inset Formula $p$
\end_inset

 הוא 
\begin_inset Formula $c_{f}\left(p\right)=\min\limits _{e\in p}\left\{ c_{f}\left(e\right)\right\} $
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
הזרימה השיורית במסילת הרחבה
\bar default
 
\begin_inset Formula $p$
\end_inset

 היא פ' 
\begin_inset Formula $\Delta_{f,p}:V\times V\to\fldr$
\end_inset

 המוגדר ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $\Delta_{f,p}\left(x,y\right)=\begin{cases}
c_{f}\left(p\right) & \left(x,y\right)\in p\\
-c_{f}\left(p\right) & \left(y,x\right)\in p\\
0 & \textrm{otherwise}
\end{cases}$
\end_inset

.
\end_layout

\begin_layout Description
הערה הזרימה השיורית היא למעשה הקיבול האפקטיבי לאחר האיטרציה.
\end_layout

\begin_layout Standard

\size larger
האלגוריתם של פורד ופולקרסון למציאת זרימה אופטימלית ברשת זרימה
\end_layout

\begin_layout Description
קלט רשת זרימה רגילה 
\begin_inset Formula $\widetilde{N}$
\end_inset

.
\end_layout

\begin_layout Description
פלט זרימה אופטימלית 
\begin_inset Formula $g$
\end_inset

 ב-
\begin_inset Formula $\widetilde{N}$
\end_inset

.
\end_layout

\begin_layout Description
פסאודו-קוד
\end_layout

\begin_deeper
\begin_layout Enumerate

\bar under
הרחבה
\bar default
: נרחיב את רשת 
\begin_inset Formula $\widetilde{N}$
\end_inset

 לרשת מורחבת 
\begin_inset Formula $N$
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
אתחול
\bar default
: נאתחל את 
\begin_inset Formula $f$
\end_inset

 להיות זרימת האפס המורחבת ב-
\begin_inset Formula $N$
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
איטרציה
\bar default
: בכל שלב נמצא מסילת הרחבה 
\begin_inset Formula $p$
\end_inset

 בגרף השיורי 
\begin_inset Formula $G_{f}$
\end_inset

 ונעדכן 
\begin_inset Formula $f=f+\Delta_{f,p}$
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
עצירה
\bar default
: כאשר אין מסילות הרחבה בגרף השיורי, נעצור.
\end_layout

\begin_layout Enumerate

\bar under
צמצום
\bar default
: נצמצם את הרשת 
\begin_inset Formula $N$
\end_inset

 חזרה לרשת הרגילה 
\begin_inset Formula $\widetilde{N}$
\end_inset

 ואת הזרימה המורחבת 
\begin_inset Formula $f$
\end_inset

 לזרימה רגילה 
\begin_inset Formula $g$
\end_inset

 ברשת 
\begin_inset Formula $\widetilde{N}$
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
סיום
\bar default
: נחזיר את 
\begin_inset Formula $g$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard

\color lightgray
חלק ב' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le102}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Description
משפט )לא פורמלי( האלגוריתם של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
F&F
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מחזיר זרימה חוקית ואופטימלית.
\end_layout

\begin_layout Description
הערה אי-הפורמליות של המשפט היא שהאלג' לא בהכרח עוצר, אבל אם הוא כן אז הוא
 מחזיר זרימה חוקית ואופטימלית.
\end_layout

\begin_layout Proof

\bar under
חוקיות
\bar default
:
\end_layout

\begin_deeper
\begin_layout Description
למה תהי 
\begin_inset Formula $N$
\end_inset

 רשת זרימה )מורחבת( ותהי 
\begin_inset Formula $f$
\end_inset

 זרימה ברשת זו.
 אזי:
\end_layout

\begin_deeper
\begin_layout Enumerate
הרשת השיורית 
\begin_inset Formula $N_{f}$
\end_inset

 היא רשת זרימה )מורחבת( חוקית )כלומר שהיא אי-שלילית ומאפסת לולאות, צלעות
 הנכנסות למקור והיוצאות מהבור(.
\end_layout

\begin_layout Enumerate
הזרימה השיורית 
\begin_inset Formula $\Delta_{f,p}$
\end_inset

 היא זרימה חוקית ברשת השיורית ו-
\begin_inset Formula $\left|\Delta_{f,p}\right|=c_{f}\left(p\right)$
\end_inset

 )
\begin_inset Formula $\Delta_{f,p}$
\end_inset

 מתעלמת מכל הצלעות שלא במסלול(.
\end_layout

\begin_layout Enumerate
הזרימה 
\begin_inset Formula $f_{1}=f+\Delta_{f,p}$
\end_inset

 היא זרימה חוקית ברשת 
\begin_inset Formula $N$
\end_inset

 ו-
\begin_inset Formula $\left|f_{1}\right|=\left|f\right|+c_{f}\left(p\right)$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
\begin_inset Formula $\;$
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
מספיק לוודא כי עבור 
\begin_inset Formula $x,y\in V$
\end_inset

 מתקיים 
\begin_inset Formula $c_{f}\left(x,y\right)\geq0$
\end_inset

.
 מכיוון ש-
\begin_inset Formula $f$
\end_inset

 זרימה מורחבת חוקית הרי ש-
\begin_inset Formula $f\left(x,y\right)\leq c\left(x,y\right)$
\end_inset

 ולכן 
\begin_inset Formula $c_{f}\left(x,y\right)=c\left(x,y\right)-f\left(x,y\right)\geq0$
\end_inset

.
 שאר התכונות טריוויאליות.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\;$
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
אנטי סימטריה נובעת מההגדרה.
\end_layout

\begin_layout Itemize
אילוץ הקיבול: יהיו 
\begin_inset Formula $x,y\in V$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Itemize
אם הצלע 
\begin_inset Formula $p\ni\widetilde{e}=\left(x,y\right)$
\end_inset

.
 אזי מהגדרת הזרימה השיורית, 
\begin_inset Formula $\Delta_{f,p}\left(\widetilde{e}\right)=c_{f}\left(p\right)=\min\limits _{e\in p}\left\{ c_{f}\left(e\right)\right\} \leq c_{f}\left(\widetilde{e}\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\left(x,y\right)\notin p$
\end_inset

 אזי 
\begin_inset Formula $\Delta_{f,p}\left(x,y\right)\leq0\leq c_{f}\left(x,y\right)$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Itemize
חוק שימור החומר: יהי 
\begin_inset Formula $x\in V\backslash\left\{ s,t\right\} $
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $x$
\end_inset

 על המסילה אז בגלל ש-
\begin_inset Formula $x\neq s,t$
\end_inset

, קיים קודקוד 
\begin_inset Formula $y$
\end_inset

 הקודם ל-
\begin_inset Formula $x$
\end_inset

 על המסילה וקודקוד 
\begin_inset Formula $z$
\end_inset

 הבא אחרי 
\begin_inset Formula $x$
\end_inset

 על המסילה.
 במקרה זה יוצאות מ-
\begin_inset Formula $x$
\end_inset

 בדיוק שתי צלעות עם זרימה שיורית שונה מ-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)הזרימה השיורית שונה מאפס רק על המסילה(: 
\begin_inset Formula $\left(x,y\right),\left(x,z\right)$
\end_inset

.
 לכן
\begin_inset Formula 
\[
\sum\limits _{v\in V}\Delta_{f,p}\left(x,v\right)=\Delta_{f,p}\left(x,y\right)+\Delta_{f,p}\left(x,z\right)=\desc{-c_{f}\left(p\right)}{\text{נגד כיוון המסילה}}+\desc{c_{f}\left(p\right)}{\text{עם כיוון המסילה}}
\]

\end_inset


\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $x$
\end_inset

 לא על המסילה אז כל הצלעות היוצאות מ-
\begin_inset Formula $x$
\end_inset

 הן בעלות זרימה שיורית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן סכומן הוא גם אפס.
\end_layout

\end_deeper
\begin_layout Standard
השטף של 
\begin_inset Formula $\Delta_{f,p}$
\end_inset

: יהי 
\begin_inset Formula $x$
\end_inset

 הקודקוד על המסילה הבא אחרי קודקוד המקור 
\begin_inset Formula $s$
\end_inset

.
 אזי הצלע 
\begin_inset Formula $\left(s,x\right)$
\end_inset

 היא היחידה שיוצאת מ-
\begin_inset Formula $s$
\end_inset

 ובעלת זרימה שיורית שונה מ-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן
\begin_inset Formula 
\[
\left|\Delta_{f,p}\right|=\sum_{v\in V}\Delta_{f,p}\left(s,v\right)=\Delta_{f,p}\left(s,x\right)=c_{f}\left(p\right)
\]

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $\;$
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
אנטי סימטריה של 
\begin_inset Formula $f_{1}=f+\Delta_{f,p}$
\end_inset

.
 יהיו 
\begin_inset Formula $x,y\in V$
\end_inset

.
 אזי
\begin_inset Formula 
\[
f_{1}\left(y,x\right)=f\left(y,x\right)+\Delta_{f,p}\left(y,x\right)=\desc{-f\left(x,y\right)}{N\text{זרימה חוקית ב-}f}+\left(\desc{-\Delta_{f,p}\left(x,y\right)}{N_{f}\text{זרימה חוקית ב-}\Delta_{f,p}}\right)=-f_{1}\left(x,y\right)
\]

\end_inset


\end_layout

\begin_layout Itemize
שימור החומר של 
\begin_inset Formula $f_{1}$
\end_inset

: יהי 
\begin_inset Formula $x\in V$
\end_inset

.
\begin_inset Formula 
\[
\sum_{v\in V}f_{1}\left(x,v\right)=\sum_{v\in V}f\left(x,v\right)+\sum_{v\in V}\Delta_{f,p}\left(x,v\right)=0+0=0
\]

\end_inset


\end_layout

\begin_layout Itemize
אילוץ הקיבול: יהיו 
\begin_inset Formula $x,y\in V$
\end_inset

.
 אזי
\begin_inset Formula 
\begin{align*}
f_{1}\left(x,y\right) & =f\left(x,y\right)+\Delta_{f,p}\left(x,y\right)\\
 & \leq f\left(x,y\right)+c_{f}\left(x,y\right)\\
 & =f\left(x,y\right)+\left(c\left(x,y\right)-f\left(x,y\right)\right)=c\left(x,y\right)
\end{align*}

\end_inset


\begin_inset Formula 
\begin{align*}
\left|f_{1}\right| & =\sum_{v\in V}f_{1}\left(s,v\right)\\
 & =\sum_{v\in V}\left(f\left(s,v\right)+\Delta_{f,p}\left(s,v\right)\right)\\
 & =\sum_{v\in V}f\left(s,v\right)+\sum_{v\in V}\Delta_{f,p}\left(s,v\right)\\
 & =\left|f\right|+\left|\Delta_{f,p}\right|=\left|f\right|+c_{f}\left(p\right)
\end{align*}

\end_inset


\end_layout

\end_deeper
\end_deeper
\end_deeper
\begin_layout Description
מסקנה בכל שלב )לאחר כל איטרציה של האלג'( זורמת ברשת זרימה חוקית.
 בנוסף, כל איטרציה מעלה את שטף הזרימה ברשת.
\end_layout

\begin_layout Description
הערה זו מעיין הוכחת חוקיות באינווריאנטה.
\end_layout

\begin_layout Section
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
texorpdfstring{
\backslash
protect
\backslash
hypertarget{ta10}{תרגול}}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Description
הגדרה 
\bar under
חתך ברשת זרימה
\bar default
 הוא חלוקה של הקודקודים ל-
\numeric on
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קבוצות זרות 
\begin_inset Formula $V=S\dot{\cup}T$
\end_inset

 כך ש-
\begin_inset Formula $s\in S$
\end_inset

, 
\begin_inset Formula $t\in T$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה 
\bar under
קיבול של חתך
\bar default
 
\begin_inset Formula $\left(S,T\right)$
\end_inset

 מוגדר ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $c\left(S,T\right)=\sum\limits _{\left(u,v\right)\in E}c\left(u,v\right)$
\end_inset

.
\end_layout

\begin_layout Description
טענה כל חתך 
\begin_inset Formula $\left(S,T\right)$
\end_inset

 ברשת זרימה וכל זרימה חוקית 
\begin_inset Formula $f$
\end_inset

 ברשת מקיימים 
\begin_inset Formula $\left|f\right|\leq c\left(S,T\right)$
\end_inset

.
\end_layout

\begin_layout Description
הערה אינטואטיבית, הזרימה מתחילה מ-
\begin_inset Formula $s$
\end_inset

 ולכן מ-
\begin_inset Formula $S$
\end_inset

 ועד הסוף היא צריכה לעבור ל-
\begin_inset Formula $t$
\end_inset

, כלומר לקודקודים ב-
\begin_inset Formula $T$
\end_inset

.
 לכן לא יכול להיות שעברה יותר זרימה מאשר הקיבול של הצלעות.
\end_layout

\begin_layout Description
משפט )משפט השטף והחתך( קיים חתך 
\begin_inset Formula $\left(S,T\right)$
\end_inset

 וקיימת זרימה 
\begin_inset Formula $f$
\end_inset

 שמקיימים 
\begin_inset Formula $\left|f\right|=c\left(S,T\right)$
\end_inset

.
\end_layout

\begin_layout Description
מסקנה אם מצאנו חתך 
\begin_inset Formula $\left(S,T\right)$
\end_inset

 וזרימה חוקית 
\begin_inset Formula $f$
\end_inset

 כך שמתקיים 
\begin_inset Formula $\left|f\right|=c\left(S,T\right)$
\end_inset

 אז בהכרח ש-
\begin_inset Formula $f$
\end_inset

 זרימה מקסימלית ו-
\begin_inset Formula $\left(S,T\right)$
\end_inset

 חתך בעל קיבול מינימלי.
\end_layout

\begin_layout Description
הערה קיים אלג' שמוצא את החתך המינימלי ב-
\begin_inset Formula $\oo{\left|E\right|^{2}\left|V\right|}$
\end_inset

.
\end_layout

\begin_layout Standard

\size larger
בעיית המשקיעות והשחקנים
\end_layout

\begin_layout Description
סיפור
\begin_inset Formula $\;$
\end_inset

מסגרת רוצים להפיק סרט ומשקיעות מוכנות להשקיע את הונן אם
\begin_inset Quotes erd
\end_inset

ם כל השחקנים שהן אוהבות נמצאים בסרט.
\end_layout

\begin_layout Description
קלט 
\begin_inset Formula $A=\left\{ a_{1},\dots,a_{n}\right\} $
\end_inset

 קבוצת שחקנים כך שלכל 
\begin_inset Formula $a_{i}\in A$
\end_inset

 נתונה משכורת 
\begin_inset Formula $s_{i}$
\end_inset

 שאותה הוא דורש.
 
\begin_inset Formula $B=\left\{ b_{1},\dots,b_{k}\right\} $
\end_inset

 קבוצת המשקיעות כך שלכל 
\begin_inset Formula $b_{i}\in B$
\end_inset

 נתון סכום 
\begin_inset Formula $d_{i}$
\end_inset

 אותו היא מוכנה להשקיע רק אם כל השחקנים שהיא אוהבת 
\begin_inset Formula $A_{i}\subseteq A$
\end_inset

 משתתפים בסרט.
\end_layout

\begin_layout Description
פלט תתי קבוצות 
\begin_inset Formula $A'\subseteq A,B'\subseteq B$
\end_inset

 המקיימים:
\end_layout

\begin_deeper
\begin_layout Itemize
חוקיות: לכל 
\begin_inset Formula $b_{i}\in B$
\end_inset

 מתקיים 
\begin_inset Formula $A_{i}\subseteq A'$
\end_inset

.
\end_layout

\begin_layout Itemize
אופטימליות: הרווח על 
\begin_inset Formula $A',B'$
\end_inset

 מקסימלי כאשר הרווח מוגדר ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $P\left(A',B'\right)=\sum\limits _{b_{i}\in B'}d_{i}-\sum\limits _{a_{i}\in A'}s_{i}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
דוגמה 
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
השקעה
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
שחקנים אהובים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
משקיעה
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
100
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $A_{1}=\left\{ a_{3}\right\} $
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $b_{1}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
200
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $A_{2}=\left\{ a_{2},a_{4}\right\} $
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $b_{2}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
300
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $A_{3}=\left\{ a_{1},a_{3},a_{5}\right\} $
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $b_{3}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
עם שכר השחקנים 
\begin_inset Formula $\left(s_{1},\dots,s_{5}\right)=\left(50,150,200,80,100\right)$
\end_inset

.
 נוכל לייצג זאת כגרף דו
\begin_inset Quotes erd
\end_inset

צ:
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/player-capital.png
	scale 80

\end_inset


\end_layout

\begin_layout Standard
פעם קודמת שראינו גרף דו
\begin_inset Quotes erd
\end_inset

צ הוספנו לו צלעות כיווניות והפכנו אותו לרשת זרימה, נעשה את זה גם כאן.
\end_layout

\end_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/player-capital-flow.png
	scale 80

\end_inset


\end_layout

\begin_layout Standard
נעשה רידוקציה למציאת חתך מינימלי - כאן החתך הוא ההפסד שלנו.
 כדי להבטיח חוקיות מבחינת השחקנים של כל משקיעה, נקבע את כל הצלעות המחברות
 משקיעות לשחקנים להיות אינסוף ולכן אם המשקיעה ב-
\begin_inset Formula $S$
\end_inset

 אז ממינימליות החתך גם כל השחקנים שלה יהיו ב-
\begin_inset Formula $S$
\end_inset

.
 
\begin_inset Formula $S$
\end_inset

 היא הבחירה הסופית שלנו, זה אומר שאנחנו מחייבים את בחירת כל השחקנים של משקיעה
 אם היא נבחרה.
\end_layout

\begin_layout Standard
אם 
\begin_inset Formula $b_{i}\in S$
\end_inset

 אז 
\begin_inset Formula $c\left(s,b_{i}\right)$
\end_inset

 לא בחישוב החתך ולכן הפסדנו כסף.
 כלומר בצד שמאל נרצה כמה שיותר משקיעות ב-
\begin_inset Formula $S$
\end_inset

, שזה שקול לכמה ש
\bar under
פחות
\bar default
 צלעות מהאגף השמאלי בחתך, ואילו מימין נרצה כמה שפחות שחקנים ב-
\begin_inset Formula $S$
\end_inset

 )או יותר מדויק הזולים ביותר(, שזה שקול לכמה ש
\bar under
פחות
\bar default
 צלעות בחתך מהאגף הימני )כי אם לא בחרנו הרבה שחקנים אז הרבה שחקנים יהיו
 ב-
\begin_inset Formula $T$
\end_inset

 ואז לא שכרם לא יהיה בחתך(.
\end_layout

\begin_layout Description
פסאודו-קוד
\end_layout

\begin_deeper
\begin_layout Enumerate
נגדיר רשת זרימה 
\begin_inset Formula $N=\left(V,E,c,s,t\right)$
\end_inset

 ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $V=A\cup B\cup\left\{ s,t\right\} $
\end_inset

, 
\begin_inset Formula $E=E_{s}\cup\widetilde{E}\cup E_{t}$
\end_inset

 כאשר 
\begin_inset Formula 
\[
E_{s}=\left\{ \left(s,b_{i}\right):b_{i}\in B\right\} ,\;\widetilde{E}=\left\{ \left(b_{i},a_{j}\right):b_{i}\in B,a_{j}\in A_{i}\right\} E_{t}=\left\{ \left(a_{i},t\right):a_{i}\in A\right\} 
\]

\end_inset

וגם 
\begin_inset Formula $c\left(u,v\right)=\begin{cases}
d_{i} & u=s,v=b_{i}\\
s_{i} & u=a_{i},v=t\\
\infty & \left(u,v\right)\in\widetilde{E}
\end{cases}$
\end_inset

.
\end_layout

\begin_layout Enumerate
נריץ את האלג' למציאת חתך מינימלי ונסמנו 
\begin_inset Formula $\left(S,T\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
נגדיר 
\begin_inset Formula $A'=S\cap A,B'=S\cap B$
\end_inset

 ונחזיר את 
\begin_inset Formula $A',B'$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
משפט האלג' מחזיר פתרון חוקי ואופטימלי.
\end_layout

\begin_layout Proof

\bar under
הכנה
\bar default
: נגדיר התאמה חח
\begin_inset Quotes erd
\end_inset

ע ועל מהחתכים ברשת לתתי קבוצות 
\begin_inset Formula $A'\subseteq A,B'\subseteq B$
\end_inset

 )לא בהכרח חוקיות( באופן הבא:
\end_layout

\begin_deeper
\begin_layout Itemize
בהינתן חתך 
\begin_inset Formula $\left(S,T\right)$
\end_inset

 נגדיר 
\begin_inset Formula $A'=S\cap A,B'=S\cap B$
\end_inset

.
\end_layout

\begin_layout Itemize
בהינתן 
\begin_inset Formula $\left(A',B'\right)$
\end_inset

 נגדיר 
\begin_inset Formula $S=A'\cup B'\cup\left\{ s\right\} $
\end_inset

, 
\begin_inset Formula $T=V\backslash S$
\end_inset

.
\end_layout

\begin_layout Standard

\bar under
חוקיות
\bar default
: נראה כי 
\begin_inset Formula $\forall b_{i}\in B'$
\end_inset

 מתקיים 
\begin_inset Formula $A_{i}\subseteq A'$
\end_inset

.
\end_layout

\begin_layout Description
טענה עבור חתך 
\begin_inset Formula $\left(S,T\right)$
\end_inset

 ו-
\begin_inset Formula $A',B'$
\end_inset

 המתאימות לחתך מההתאמה הנ
\begin_inset Quotes erd
\end_inset

ל מתקיים ש-
\begin_inset Formula $A',B'$
\end_inset

 חוקיות אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $c\left(S,T\right)$
\end_inset

 סופי.
\end_layout

\begin_layout Proof
\begin_inset Formula $A',B'$
\end_inset

 חוקיות אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $\forall b_{i}\in B'$
\end_inset

 מתקיים 
\begin_inset Formula $A_{i}\subseteq A'$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $\forall b_{i}\in B$
\end_inset

 מתקיים ש-
\begin_inset Formula $A_{i}$
\end_inset

 נמצאת באותו צד של החתך אם
\begin_inset Quotes erd
\end_inset

ם אין צלע עם קיבול 
\begin_inset Formula $\infty$
\end_inset

 בחתך אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $c\left(S,T\right)$
\end_inset

 סופי.
\end_layout

\begin_layout Description
מסקנה האלג' מחזיר 
\begin_inset Formula $A',B'$
\end_inset

 שמתאימות לחתך מינימלי ברשת.
 החתך המינימלי הוא מקיבול סופי )כיוון שקיים חתך כלשהו עם קיבול סופי, למשל
 
\begin_inset Formula $S=\left\{ s\right\} ,T=V\backslash S$
\end_inset

( ולכן מהטענה הנ
\begin_inset Quotes erd
\end_inset

ל 
\begin_inset Formula $A',B'$
\end_inset

 חוקיות.
\end_layout

\begin_layout Standard

\bar under
אופטימליות
\bar default
:
\end_layout

\begin_layout Description
טענה יהי חתך מקיבול סופי 
\begin_inset Formula $\left(S,T\right)$
\end_inset

 ותתי קבוצות 
\begin_inset Formula $A',B'$
\end_inset

 שמתאימות לו אזי קיים קבוע 
\begin_inset Formula $D$
\end_inset

 כלשהו כך שמתקיים
\begin_inset Formula 
\[
c\left(S,T\right)=D-P\left(A',B'\right)
\]

\end_inset


\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
c\left(S,T\right) & =\sum_{b_{i}\notin B'}c\left(s,b_{i}\right)+\sum_{a_{i}\in A'}\left(a_{i},t\right)\\
 & =\sum_{b_{i}\notin B'}d_{i}+\sum_{a_{i}\in A'}s_{i}\\
 & =\sum_{b_{i}\in B}d_{i}-\sum_{b_{i}\in B'}d_{i}+\sum_{a_{i}\in A}s_{i}\\
 & =\desc{\sum_{b_{i}\in B}d_{i}}D-\desc{\left(\sum_{a_{i}\in A'}s_{i}-\sum_{b_{i}\in B'}d_{i}\right)}{P\left(A',B'\right)}
\end{align*}

\end_inset


\end_layout

\begin_layout Description
מסקנה 
\begin_inset Formula $P\left(A',B'\right)$
\end_inset

 מקסימלי.
\end_layout

\begin_layout Proof
נניח בשלילה ש-
\begin_inset Formula $P\left(A',B'\right)$
\end_inset

 לא מקסימלי.
 לכן קיימים 
\begin_inset Formula $A''\subseteq A,B''\subseteq B$
\end_inset

 חוקיות כך ש-
\begin_inset Formula $P\left(A'',B''\right)>P\left(A',B'\right)$
\end_inset

.
 נגדיר 
\begin_inset Formula $\left(S'',T''\right)$
\end_inset

 החתך המתאים ל-
\begin_inset Formula $A'',B''$
\end_inset

.
 מהמשפט הנ
\begin_inset Quotes erd
\end_inset

ל
\begin_inset Formula 
\[
c\left(S'',T''\right)=D-P\left(A'',B''\right)<D-P\left(A',B'\right)=c\left(S,T\right)
\]

\end_inset

סתירה.
\end_layout

\end_deeper
\begin_layout Description
זמן
\begin_inset Formula $\;$
\end_inset

ריצה
\end_layout

\begin_deeper
\begin_layout Enumerate
בניית הרשת: 
\begin_inset Formula $\oo{\left|E\right|+\left|V\right|}=\oo{nk+\left(n+k\right)}$
\end_inset

.
\end_layout

\begin_layout Enumerate
מציאת חתך מינימלי: 
\begin_inset Formula $\oo{\left|E\right|^{2}\left|V\right|}=\oo{n^{2}k^{2}\left(n+k\right)}$
\end_inset

.
\end_layout

\begin_layout Enumerate
הגדרת 
\begin_inset Formula $A',B'$
\end_inset

 והחזרתם 
\begin_inset Formula $\oo{\left|V\right|}=\oo{n+k}$
\end_inset

.
\end_layout

\begin_layout Standard
לכן סה
\begin_inset Quotes erd
\end_inset

כ קיבלנו 
\begin_inset Formula $\oo{n^{2}k^{2}\left(n+k\right)}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Section
שבוע 
\begin_inset Formula $\mathbb{XI}$
\end_inset

 | הוכחת נכונות של 
\lang english
F & F
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ושל
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
E & K
\end_layout

\begin_layout Subsection
הרצאה
\end_layout

\begin_layout Standard

\color lightgray
חלק א' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le111}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Description
הגדרה חתך 
\begin_inset Formula $\left(S,T\right)$
\end_inset

 ברשת זרימה מורחבת 
\begin_inset Formula $N=\left(V,c,s,t\right)$
\end_inset

 הוא חלוקה זרה לשתי קבוצות כך ש-
\begin_inset Formula $s\in S$
\end_inset

, 
\begin_inset Formula $t\in T$
\end_inset

.
 ה
\bar under
קיבול
\bar default
 של החתך 
\begin_inset Formula $\left(S,T\right)$
\end_inset

 הוא 
\begin_inset Formula $\sum\limits _{x\in S,y\in T}c\left(x,y\right)$
\end_inset

.
 עבור 
\begin_inset Formula $f$
\end_inset

 זרימה ברשת, ה
\bar under
זרימה בחתך
\bar default

\begin_inset space ~
\end_inset

היא 
\begin_inset Formula $f\left(S,T\right)=\sum\limits _{x\in S,y\in T}f\left(x,y\right)$
\end_inset

.
\end_layout

\begin_layout Description
טענה תהי 
\begin_inset Formula $N$
\end_inset

 רשת זרימה מורחבת, תהי 
\begin_inset Formula $f$
\end_inset

 זרימה ברשת ויהי 
\begin_inset Formula $\left(S,T\right)$
\end_inset

 חתך ברשת אזי 
\begin_inset Formula $f\left(S,T\right)=\left|f\right|$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
f\left(S,T\right) & =\sum_{x\in S,y\in T}f\left(x,y\right)\\
 & =\sum_{x\in S}\sum_{y\in T}f\left(x,y\right)\\
 & =\sum_{x\in S}\left(\sum_{v\in V}f\left(x,v\right)-\sum_{u\in S}f\left(x,u\right)\right)\\
 & =\sum_{x\in S}\sum_{v\in V}f\left(x,v\right)-\sum_{x\in S}\sum_{u\in S}f\left(x,u\right)
\end{align*}

\end_inset


\begin_inset Formula 
\[
\sum_{x\in S}\sum_{v\in V}f\left(x,v\right)=\sum_{v\in V}f\left(s,v\right)+\desc{\sum_{x\in S,x\neq s}\sum_{v\in V}f\left(x,v\right)}{\text{משימור חומר}\;0}=\left|f\right|+\sum_{x\in S,x\neq s}0=\left|f\right|
\]

\end_inset


\begin_inset Formula 
\begin{align*}
\sum_{x\in S}\sum_{u\in S}f\left(x,u\right) & =\sum_{x,u\in S}f\left(x,u\right)\\
 & =\sum_{\left\{ x,u\right\} \subseteq S}\left(f\left(x,u\right)+f\left(u,x\right)\right)\\
 & =\sum_{\left\{ x,u\right\} \subseteq S}0=0
\end{align*}

\end_inset

כלומר 
\begin_inset Formula $f\left(S,T\right)=\left|f\right|+0=\left|f\right|$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה עבור הגרף
\end_layout

\begin_layout Description
מסקנה יהי 
\begin_inset Formula $\left(S,T\right)$
\end_inset

 חתך ברשת ותהי 
\begin_inset Formula $g$
\end_inset

 זרימה ברשת.
 אזי 
\begin_inset Formula $\left|g\right|\leq c\left(S,T\right)$
\end_inset

.
\end_layout

\begin_layout Proof
מהטענה הנ
\begin_inset Quotes erd
\end_inset

ל,
\begin_inset Formula 
\[
\left|g\right|=g\left(S,T\right)=\sum\limits _{x\in S,y\in T}g\left(x,y\right)\leq\sum\limits _{x\in S,y\in T}c\left(x,y\right)=c\left(S,T\right)
\]

\end_inset


\end_layout

\begin_layout Description
משפט )
\lang english
Min Cut - Max Flow
\lang hebrew
, השטף והחתך( תהי 
\begin_inset Formula $N$
\end_inset

 רשת זרימה ותהי 
\begin_inset Formula $f$
\end_inset

 זרימה ברשת 
\begin_inset Formula $N$
\end_inset

.
 אזי שלושת התנאים הבאים שקולים זה לזה:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $f$
\end_inset

 היא זרימה אופטימלית ב-
\begin_inset Formula $N$
\end_inset

.
\end_layout

\begin_layout Enumerate
אין מסילת הרחבה בגרף השיורי 
\begin_inset Formula $G_{f}$
\end_inset

.
\end_layout

\begin_layout Enumerate
קיים חתך 
\begin_inset Formula $\left(S,T\right)$
\end_inset

 כך ש-
\begin_inset Formula $c\left(S,T\right)=\left|f\right|$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
\begin_inset Formula $\;$
\end_inset


\end_layout

\begin_layout Proof
\begin_inset Formula $\left(2\right)\Leftarrow\left(1\right)$
\end_inset

 נניח בשלילה שקיימת מסילת הרחבה 
\begin_inset Formula $p$
\end_inset

 בגרף השיורי 
\begin_inset Formula $G_{f}$
\end_inset

.
 נגדיר 
\begin_inset Formula $g=f+\Delta_{f,p}$
\end_inset

.
 ממה שהוכחנו, 
\begin_inset Formula $g$
\end_inset

 זרימה חוקית ברשת 
\begin_inset Formula $N$
\end_inset

 ולכן 
\begin_inset Formula $\left|g\right|=\left|f\right|+c_{f}\left(p\right)>\left|f\right|$
\end_inset

 בסתירה לאופטימליות 
\begin_inset Formula $f$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula $\left(1\right)\Leftarrow\left(3\right)$
\end_inset

 תהי 
\begin_inset Formula $g$
\end_inset

 זרימה ברשת 
\begin_inset Formula $N$
\end_inset

.
 מהמסקנה הקודמת 
\begin_inset Formula $\left|g\right|\leq c\left(S,T\right)=\left|f\right|$
\end_inset

 ולכן 
\begin_inset Formula $f$
\end_inset

 אופטימלית.
\end_layout

\begin_layout Proof
\begin_inset Formula $\left(3\right)\Leftarrow\left(2\right)$
\end_inset

 נגדיר 
\begin_inset Formula $S=\left\{ s\right\} \cup\left\{ G_{f}\text{בגרף השיורי}\;x\text{ל-}\;s\text{ניתן להגיע מ-}\;x\in V\right\} $
\end_inset

, 
\begin_inset Formula $T=V\backslash S$
\end_inset

.
 מכיוון שאין מסילת הרחבה בגרף השיורי, 
\begin_inset Formula $t\notin S$
\end_inset

 ולכן 
\begin_inset Formula $t\in T$
\end_inset

 ולכן זהו חתך חוקי.
\end_layout

\begin_layout Proof
יהי 
\begin_inset Formula $x\in S$
\end_inset

, 
\begin_inset Formula $y\in T$
\end_inset

.
 נוכיח כי 
\begin_inset Formula $f\left(x,y\right)=c\left(x,y\right)$
\end_inset

.
 נניח בשלילה כי 
\begin_inset Formula $f\left(x,y\right)\neq c\left(x,y\right)$
\end_inset

.
 לכן מאילוץ הקיבול 
\begin_inset Formula $f\left(x,y\right)<c\left(x,y\right)$
\end_inset

 ולכן 
\begin_inset Formula $c_{f}\left(x,y\right)>0$
\end_inset

.
 לכן 
\begin_inset Formula $\left(x,y\right)\in E_{f}$
\end_inset

, כלומר 
\begin_inset Formula $\left(x,y\right)$
\end_inset

 היא צלע בגרף השיורי 
\begin_inset Formula $G_{f}$
\end_inset

.
 נבנה מסלול מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $y$
\end_inset

 בגרף 
\begin_inset Formula $G_{f}$
\end_inset

 באופן הבא.
 נעבור על צלעות הגרף 
\begin_inset Formula $G_{f}$
\end_inset

 מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $x$
\end_inset

 )ניתן לעשות זאת כי 
\begin_inset Formula $x\in S$
\end_inset

( ונמשיך לצלע 
\begin_inset Formula $\left(x,y\right)$
\end_inset

.
 לכן מהגדרת 
\begin_inset Formula $S$
\end_inset

, 
\begin_inset Formula $y\in S$
\end_inset

 בסתירה לכך ש-
\begin_inset Formula $y\in T$
\end_inset

.
 לכן 
\begin_inset Formula $f\left(x,y\right)=c\left(x,y\right)$
\end_inset

 ולכן
\begin_inset Formula 
\[
\left|f\right|=f\left(S,T\right)=\sum_{x\in S,y\in T}f\left(x,y\right)=\sum_{x\in S,y\in T}c\left(x,y\right)=c\left(S,T\right)
\]

\end_inset


\end_layout

\begin_layout Description
מסקנה אם האלג' של פורד ופולוקרסון עוצר, הוא מחזיר זרימה אופטימלית וזה כי
 התנאי לעצירתו הוא שאין מסילות הרחבה בגרף השיורי.
\end_layout

\begin_layout Description
מסקנה נניח כי האלג' של פורד ופולקרסון עצר עם זרימה 
\begin_inset Formula $f$
\end_inset

 ונריץ 
\begin_inset Formula $BFS$
\end_inset

 על 
\begin_inset Formula $G_{f}$
\end_inset

 מקודקוד המקור ברשת וכך נגלה את כל הקודקודים שניתן להגיע אליהם מ-
\begin_inset Formula $S$
\end_inset

.
 נסמן קבוצה זו ב-
\begin_inset Formula $S$
\end_inset

.
 אזי 
\begin_inset Formula $\left(S,V\backslash S\right)$
\end_inset

 הוא חתך מינימלי ברשת.
\end_layout

\begin_layout Standard

\size larger
האלגוריתם של
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Edmonds & Karp
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
למציאת זרימה אופטימלית ברשת
\end_layout

\begin_layout Description
קלט רשת זרימה רגילה 
\begin_inset Formula $\widetilde{N}=\left(V,E,\widetilde{c},s,t\right)$
\end_inset

.
\end_layout

\begin_layout Description
פלט זרימה אופטימלית 
\begin_inset Formula $g$
\end_inset

 ברשת 
\begin_inset Formula $\widetilde{N}$
\end_inset

.
\end_layout

\begin_layout Description
פסאודו-קוד
\end_layout

\begin_deeper
\begin_layout Enumerate

\bar under
הרחבה
\bar default
: נרחיב את 
\begin_inset Formula $\widetilde{N}$
\end_inset

 לרשת מורחבת 
\begin_inset Formula $N$
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
אתחול
\bar default
: נאתחל 
\begin_inset Formula $f\equiv0$
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
איטרציה
\bar default
: כל עוד קיימת מסילת הרחבה בגרף השיורי 
\begin_inset Formula $G_{f}$
\end_inset

, נבחר )באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
BFS
\lang hebrew
( 
\begin_inset Formula $p$
\end_inset

 להיות מסילת הרחבה בעלת אורך מינימלי )מספר צלעות מינימלי( ונעדכן 
\begin_inset Formula $f=f+\Delta_{f,p}$
\end_inset

.
\end_layout

\begin_layout Enumerate
אם אין מסילות הרחבה בגרף השיורי נעצור.
\end_layout

\begin_layout Enumerate
נצמצם את 
\begin_inset Formula $N$
\end_inset

 חזרה ל-
\begin_inset Formula $\widetilde{N}$
\end_inset

 ואת 
\begin_inset Formula $f$
\end_inset

 לזרימה רגילה 
\begin_inset Formula $g$
\end_inset

 ברשת 
\begin_inset Formula $\widetilde{N}$
\end_inset

.
\end_layout

\begin_layout Enumerate
נחזיר את 
\begin_inset Formula $g$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
הערה אדמונדס וקארפ זה פשוט פורד ופולקורסון עם בחירת מסלול בעל אורך מינימלי.
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{link8}{}
\end_layout

\end_inset


\end_layout

\begin_layout Description
משפט האלגוריתם של אדמונדס וקארפ עוצר לאחר 
\begin_inset Formula $\oo{\left|V\right|\cdot\left|E\right|}$
\end_inset

 איטרציות.
\end_layout

\begin_layout Description
מסקנה זמן הריצה שלו הוא לכל היותר 
\begin_inset Formula $\oo{\left|V\right|\cdot\left|E\right|}\oo{\left|V\right|+\left|E\right|+\left|V\right|}=\oo{\left|V\right|\cdot\left|E\right|^{2}}$
\end_inset

.
\end_layout

\begin_layout Standard
נסמן לאחר כל איטרציה את הזרימה הנוכחית 
\begin_inset Formula $f_{i}$
\end_inset

.
 לכן יש לנו 
\begin_inset Formula $0\equiv f_{0},f_{1},\dots,f_{N}$
\end_inset

.
 נסמן לאחר כל איטרציה 
\begin_inset Formula $G_{f_{0}},G_{f_{1}},\dots,G_{f_{N}}$
\end_inset

 הגרף השיורי לאחריו.
\end_layout

\begin_layout Standard

\size larger
הגדרות להוכחה פורמלית של אדמונדס וקארפ
\end_layout

\begin_layout Enumerate
נסמן ב-
\begin_inset Formula $f_{i}$
\end_inset

 את הזרימה ברשת לאחר 
\begin_inset Formula $i$
\end_inset

 איטרציות של האלג' של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
EK
\lang hebrew
.
 בפרט 
\begin_inset Formula $f_{0}\equiv0$
\end_inset

.
\end_layout

\begin_layout Enumerate
נסמן ב-
\begin_inset Formula $p_{i}$
\end_inset

 את מסילת ההרחבה שהאלג' בחר באיטרציה ה-
\begin_inset Formula $i$
\end_inset

.
 לכן 
\begin_inset Formula $f_{i}=f_{i-1}+\Delta_{f_{i-1},p_{i}}$
\end_inset

.
 עבור 
\begin_inset Formula $x\in V$
\end_inset

 נסמן 
\begin_inset Formula $\delta_{i}\left(x\right)$
\end_inset

 המרחק של 
\begin_inset Formula $x$
\end_inset

 מקודקוד המקור 
\begin_inset Formula $s$
\end_inset

 בגרף השיורי 
\begin_inset Formula $G_{f_{i}}$
\end_inset

, כלומר 
\begin_inset Formula $\delta_{i}\left(x\right)$
\end_inset

 הוא האורך המינימלי של המסלול בין 
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $x$
\end_inset

 ב-
\begin_inset Formula $G_{f_{i}}$
\end_inset

, אם אין מסלול כזה נגדיר 
\begin_inset Formula $\delta_{i}\left(x\right)=\infty$
\end_inset

.
\end_layout

\begin_layout Standard

\color lightgray
חלק ב' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le112}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Description
למה
\begin_inset Formula $\;$
\end_inset


\numeric on
1
\numeric off
 לכל 
\begin_inset Formula $x\in V$
\end_inset

 ולכל 
\begin_inset Formula $i\geq0$
\end_inset

 מתקיים 
\begin_inset Formula $\delta_{i+1}\left(x\right)\geq\delta_{i}\left(x\right)$
\end_inset

.
 כלומר:
\end_layout

\begin_deeper
\begin_layout Enumerate
אם 
\begin_inset Formula $\delta_{i}\left(x\right)<\infty$
\end_inset

 אזי 
\begin_inset Formula $\delta_{i+1}\left(x\right)$
\end_inset

 הוא מספר סופי הגדול או שווה ל-
\begin_inset Formula $\delta_{i}\left(x\right)$
\end_inset

 או 
\begin_inset Formula $\delta_{i+1}\left(x\right)=\infty$
\end_inset

.
\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $\delta_{i}\left(x\right)=\infty$
\end_inset

 אז גם 
\begin_inset Formula $\delta_{i+1}\left(x\right)=\infty$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
הערה רעיון ההוכחה למקרה הראשון הוא כזה: נניח בשלילה שקיימים 
\begin_inset Formula $x$
\end_inset

 ו-
\begin_inset Formula $i$
\end_inset

 כך ש-
\begin_inset Formula $\delta_{i+1}\left(x\right)<\delta_{i}\left(x\right)<\infty$
\end_inset

.
 נבחר קודקוד 
\begin_inset Formula $x$
\end_inset

 עם תכונה זו במרחק מינימלי.
 יהי 
\begin_inset Formula $y$
\end_inset

 לפניו במסילה באורך מינימלי, לכן 
\begin_inset Formula $y$
\end_inset

 מקיים את התכונה ולכן ניתן להגיע מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $y$
\end_inset

 ב-
\begin_inset Formula $G_{f_{i}}$
\end_inset

 כי הוא ישיג ב-
\begin_inset Formula $G_{f_{i+1}}$
\end_inset

.
 אם בשלילה 
\begin_inset Formula $\left(y,x\right)$
\end_inset

 קיימת ב-
\begin_inset Formula $G_{f_{i+1}}$
\end_inset

 אז 
\begin_inset Formula $\left(x,y\right)$
\end_inset

 היא במסילת ההרחבה )כי 
\begin_inset Formula $\left(y,x\right)$
\end_inset

 לא קיימת ב-
\begin_inset Formula $G_{f_{i}}$
\end_inset

 אבל כן ב-
\begin_inset Formula $G_{f_{i+1}}$
\end_inset

 ולכן זה אומר שהזרמנו דרך מסילת ההרחבה זרם בכיוון 
\begin_inset Formula $\left(x,y\right)$
\end_inset

(.
 לכן מסילת ההרחבה 
\begin_inset Formula $p_{i}$
\end_inset

 עד 
\begin_inset Formula $x$
\end_inset

 נותנת מסלול ב-
\begin_inset Formula $G_{f_{i}}$
\end_inset

 קצר יותר מזה שיש ב-
\begin_inset Formula $G_{f_{i+1}}$
\end_inset

 בסתירה להנחה.
\end_layout

\begin_deeper
\begin_layout Standard
המקרה השני זהה לחלוטין רק שבמקום ש-
\begin_inset Formula $p_{i}$
\end_inset

 היא מסילה ב-
\begin_inset Formula $G_{f_{i}}$
\end_inset

 שקצרה מזו ב-
\begin_inset Formula $G_{f_{i+1}}$
\end_inset

, הסתירה היא ש-
\begin_inset Formula $x$
\end_inset

 ישיג ב-
\begin_inset Formula $G_{f_{i}}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
\begin_inset Formula $\;$
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
נניח בשלילה שקיימים 
\begin_inset Formula $x$
\end_inset

 ו-
\begin_inset Formula $i$
\end_inset

 כך ש-
\begin_inset Formula $\delta_{i+1}\left(x\right)<\delta_{i}\left(x\right)<\infty$
\end_inset

.יהי 
\begin_inset Formula $x$
\end_inset

 עם מרחק מינימלי מ-
\begin_inset Formula $s$
\end_inset

 ב-
\begin_inset Formula $G_{f_{i+1}}$
\end_inset

.
 נשים לב כי 
\begin_inset Formula $x\neq s$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
נתבונן במסילה בעלת אורך מינימלי בין 
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $x$
\end_inset

 ב-
\begin_inset Formula $G_{f_{i+1}}$
\end_inset

 ונסמן ב-
\begin_inset Formula $y$
\end_inset

 את הקודקוד הקודם ל-
\begin_inset Formula $x$
\end_inset

 במסילה זו.
 מתקיים
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\delta_{i+1}\left(y\right)=\delta_{i+1}\left(x\right)-1<\delta_{i+1}\left(x\right)$
\end_inset

 ולכן 
\begin_inset Formula $y$
\end_inset

 מקיים את טענת הלמה )כי אחרת זו סתירה למינימליות 
\begin_inset Formula $x$
\end_inset

( כלומר 
\begin_inset Formula $\delta_{i}\left(y\right)\leq\delta_{i+1}\left(y\right)$
\end_inset

.
\end_layout

\begin_layout Standard
נוכיח כי 
\begin_inset Formula $\left(y,x\right)\notin G_{f_{i}}$
\end_inset

.
 נניח בשלילה כי 
\begin_inset Formula $\left(y,x\right)\in G_{f_{i}}$
\end_inset

.
 לכן
\begin_inset Formula 
\[
\delta_{i}\left(x\right)\leq\delta_{i}\left(y\right)+1\leq\delta_{i+1}\left(y\right)+1=\delta_{i+1}\left(x\right)
\]

\end_inset

כלומר 
\begin_inset Formula $\delta_{i}\left(x\right)\leq\delta_{i+1}\left(x\right)$
\end_inset

 ולכן 
\begin_inset Formula $x$
\end_inset

 מקיים את טענת הלמה בסתירה לבחירת 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Standard
לכן 
\begin_inset Formula $\left(y,x\right)\notin G_{f_{i}}$
\end_inset

 ולכן 
\begin_inset Formula $c_{f_{i}}\left(y,x\right)=0$
\end_inset

 ולכן 
\begin_inset Formula $f_{i}\left(y,x\right)=c\left(y,x\right)$
\end_inset

.
\end_layout

\begin_layout Standard
מנגד, 
\begin_inset Formula $\left(y,x\right)\in G_{f_{i+1}}$
\end_inset

 )כך 
\begin_inset Formula $y$
\end_inset

 הוגדר( ולכן 
\begin_inset Formula $c_{f_{i+1}}\left(y,x\right)>0$
\end_inset

 ולכן 
\begin_inset Formula $f_{i+1}\left(y,x\right)<c\left(y,x\right)$
\end_inset

 ולכן 
\begin_inset Formula $f_{i+1}\left(y,x\right)<f_{i}\left(y,x\right)$
\end_inset

.
\end_layout

\begin_layout Standard
מדרך פעולות של האלג', זה שקול לכך ש-
\begin_inset Formula $\Delta_{f_{i},p_{i}}\left(y,x\right)<0$
\end_inset

, כלומר ש-
\begin_inset Formula $\Delta_{f_{i},p_{i}}\left(x,y\right)>0$
\end_inset

, ולכן 
\begin_inset Formula $\left(x,y\right)\in p_{i}$
\end_inset

.
\end_layout

\begin_layout Standard
מהגדרת 
\begin_inset Formula $p_{i}$
\end_inset

, הוא מסלול באורך מינימלי מ-
\begin_inset Formula $s$
\end_inset

 ל-
\begin_inset Formula $t$
\end_inset

 ב- /
\begin_inset Formula $G_{f_{i}}$
\end_inset

 ולכן מתקיים כי 
\begin_inset Formula $\delta_{i}\left(y\right)=\delta_{i}\left(x\right)+1$
\end_inset

 )
\begin_inset Formula $y$
\end_inset

 בא אחרי 
\begin_inset Formula $x$
\end_inset

 במסלול קצר ביותר( ולכן
\begin_inset Formula 
\[
\delta_{i}\left(x\right)=\delta_{i}\left(y\right)-1\leq\delta_{i+1}\left(y\right)-1=\delta_{i+1}\left(x\right)-2<\delta_{i}\left(x\right)
\]

\end_inset

סתירה.
\end_layout

\end_deeper
\begin_layout Enumerate
בשל הדמיון למקרה הראשון, נסתפק בהוכחה שלו ולרעיון ההוכחה של המקרה השני לעיל.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{nis3}{להמשך הוכחת הנכונות}
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
texorpdfstring{
\backslash
protect
\backslash
hypertarget{ta11}{תרגול}}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Description
הגדרה בהינתן בעיית תכנות לינארי בצורה הסטנדרטית 
\begin_inset Formula $\begin{array}{c}
\max c^{T}\cdot x\\
s.t\;Ax\leq b,x\geq0
\end{array}$
\end_inset

, 
\bar under
הבעיה הדואלית
\bar default
 לה מוגדרת ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $\begin{array}{c}
\min b^{T}\cdot y\\
s.t\;A^{T}y\geq c,y\geq0
\end{array}$
\end_inset


\end_layout

\begin_layout Description
הערה הבעיה הדואלית של הבעיה הדואלית נקראת הבעיה הפרימלית.
\end_layout

\begin_layout Description
טענה )דואליות חלשה( לכל פתרון חוקי 
\begin_inset Formula $x\in\fldr^{n}$
\end_inset

 )שמקיים את אילוצי הבעיה הפרימלית( ולכל פתרון חוקי 
\begin_inset Formula $y\in\fldr^{m}$
\end_inset

 )שמקיים את אילוצי הבעיה הדואלית( מתקיים
\begin_inset Formula 
\[
c^{T}x\leq b^{T}y
\]

\end_inset


\end_layout

\begin_layout Description
הערה כלומר המינימום בבעיה הדואלית 
\begin_inset Formula $\leq$
\end_inset

 מקסימום בבעיה הפרימלית.
\end_layout

\begin_layout Proof
\begin_inset Formula 
\[
c^{T}x=\sum\limits _{i=1}^{n}c_{i}x_{i}\leq\sum_{i=1}^{n}\left(A^{T}y\right)_{i}x_{i}\overset{\text{לינארית}}{=}y^{T}Ax\leq y^{T}b=b^{T}y
\]

\end_inset


\end_layout

\begin_layout Description
טענה )דואליות חזקה בבעיות תכנון לינארי( הפתרון שממקסם את הבעיה הפרימלית
 
\begin_inset Formula $x^{*}$
\end_inset

 שווה לפתרון שממזער את הבעיה הדואלית 
\begin_inset Formula $y^{*}$
\end_inset

, כלומר 
\begin_inset Formula $b^{T}y^{*}=c^{T}x^{*}$
\end_inset

.
\end_layout

\begin_layout Standard
נשים לב כי אם הבעיה היא בעיית הזרימה, אז הדואליות החזקה היא בדיוק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Min Cut Max Flow
\lang hebrew
.
\end_layout

\begin_layout Standard

\size larger
בעיית הזרימה כבעיית תכנון לינארי
\end_layout

\begin_layout Standard
תהי 
\begin_inset Formula $N=\left(V,E,c',s,t\right)$
\end_inset

 רשת זרימה.
 נסדר את הצלעות באופן שרירותי 
\begin_inset Formula $E=\left\{ e_{1},\dots,e_{\left|E\right|}\right\} $
\end_inset

.
\end_layout

\begin_layout Itemize
נגדיר 
\begin_inset Formula $x=f=\left(\begin{smallmatrix}f\left(e_{1}\right)\\
\vdots\\
f\left(e_{\left|E\right|}\right)
\end{smallmatrix}\right)$
\end_inset

.
 
\end_layout

\begin_layout Itemize
נגדיר 
\begin_inset Formula $c$
\end_inset

 באופן הבא: 
\begin_inset Formula $c\left(e\right)=\begin{cases}
1 & e=\left(s,u\right)\\
0 & \textrm{otherwise}
\end{cases}$
\end_inset

 )זה וקטור עמודה בגודל 
\begin_inset Formula $\left|E\right|$
\end_inset

, סימונים מבלבלים(.
 נקבל
\begin_inset Formula 
\[
c^{T}f=\sum_{\left(s,u\right)\in E}1\cdot f\left(s,u\right)=\left|f\right|
\]

\end_inset


\end_layout

\begin_layout Itemize
האילוץ הראשון הוא 
\begin_inset Formula $f\geq0$
\end_inset

 והוא ברירת מחדל לכל בעיית תכנון לינארי.
\end_layout

\begin_deeper
\begin_layout Standard
את אילוץ הקיבול נשיג באמצעות 
\begin_inset Formula $\left(0,\dots,\desc 1e,0,\dots,0\right)f\left(e\right)\leq c'\left(e\right)$
\end_inset

.
\end_layout

\begin_layout Standard
בחוק שימור החומר נדרוש 
\begin_inset Formula $\sum\limits _{\left(u,v\right)\in E}f\left(u,v\right)-\sum\limits _{\left(v,u\right)\in E}f\left(v,u\right)=0$
\end_inset

, 
\begin_inset Formula $\forall v\in V\backslash\left\{ s,t\right\} $
\end_inset

 אין לנו שוויון באילוצי תכנון לינארי ולכן נפצל זאת לשני אי שוויונות לינאריים
 שאנחנו יודעים לכתוב:
\begin_inset Formula 
\[
\sum\limits _{\left(u,v\right)\in E}f\left(u,v\right)-\sum\limits _{\left(v,u\right)\in E}f\left(v,u\right)\leq0,\;\;\;-\sum\limits _{\left(u,v\right)\in E}f\left(u,v\right)+\sum\limits _{\left(v,u\right)\in E}f\left(v,u\right)\leq0
\]

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
נשים לב כי אם נסיר את השיקול השני, כלומר נישאר רק עם 
\begin_inset Formula $\sum\limits _{\left(u,v\right)\in E}f\left(u,v\right)\leq\sum\limits _{\left(v,u\right)\in E}f\left(v,u\right)$
\end_inset

, נקבל בעיה דומה לבעיית הזרימה שהשינוי היחיד בה הוא שכל קודקוד משמש גם כמקור
 ומלבד הזרימה שהוא מקבל שהוא כן מחויב להוציא, הוא יכול להוסיף עוד זרימה
 נוספת אם ירצה.
 נשים לב שהגדרת השטף בבעיה המקורית וגם בוריאציה הזו זהה, כי מספיקה לנו ההבטחה
 שכל זרם שנוציא מ-
\begin_inset Formula $s$
\end_inset

 יגיע ל-
\begin_inset Formula $t$
\end_inset

, גם אם יגיע יותר מדי.
\end_layout

\begin_layout Standard
בבעייה שכזו, 
\begin_inset Formula $A=\left(\begin{array}{c}
I\\
\hline M
\end{array}\right)$
\end_inset

, כאשר 
\begin_inset Formula $I$
\end_inset

 מטריצת היחידה בגודל 
\begin_inset Formula $\left|E\right|$
\end_inset

 ואילו 
\begin_inset Formula $M\in M_{\left(\left|V\right|-2\right)\times\left|E\right|}\left(\fldr\right)$
\end_inset

 מוגדרת ע
\begin_inset Quotes erd
\end_inset

י
\begin_inset Formula 
\[
M_{v,e}=\begin{cases}
1 & \exists u\in V:e=\left(u,v\right)\\
-1 & \exists u\in V:e=\left(v,u\right)\\
0 & \textrm{otherwise}
\end{cases}
\]

\end_inset


\end_layout

\begin_layout Standard
נמצא את הבעיה הדואלית לזו.
 
\begin_inset Formula $y=\left(\begin{smallmatrix}y_{e_{1}}\\
\vdots\\
y_{e_{\left|E\right|}}\\
z_{v_{1}}\\
\vdots\\
z_{v_{\left|V\right|}}
\end{smallmatrix}\right)$
\end_inset

, נמזער את 
\begin_inset Formula $b^{T}y=\sum\limits _{e\in E}c'\left(e\right)y_{e}$
\end_inset

 )שזה ממש במקרה קיבול החתך(, כלומר אנחנו מתעלמים מ-
\begin_inset Formula $z_{v_{1}},\dots,z_{v_{\left|V\right|}}$
\end_inset

 בחישוב הזה והם ישמשו רק לשם סיפוק האילוצים.
 
\begin_inset Formula $A^{T}=\left(\begin{array}{c|c}
I & M^{T}\end{array}\right)$
\end_inset

 .
\end_layout

\begin_layout Standard
נסתכל על 
\begin_inset Formula $M$
\end_inset

.
 כל שורה בה מייצגת קודקוד 
\begin_inset Formula $v$
\end_inset

 שאינו מקור או בור, בה קוורדינטת צלע מקבלת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם היא מהצורה 
\begin_inset Formula $\left(u,v\right)$
\end_inset

, 
\begin_inset Formula $-1$
\end_inset

 אם היא מהצורה 
\begin_inset Formula $\left(v,u\right)$
\end_inset

 ו-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אחרת.
\end_layout

\begin_layout Standard
כל עמודה מייצגת צלע 
\begin_inset Formula $e=\left(u,v\right)$
\end_inset

, בה קוורדינטת קודקוד מקבלת ערך 
\begin_inset Formula $1$
\end_inset

 אם הוא 
\begin_inset Formula $u$
\end_inset

, 
\begin_inset Formula $-1$
\end_inset

 אם הוא 
\begin_inset Formula $v$
\end_inset

, ו-
\begin_inset Formula $0$
\end_inset

 אחרת.
 כל זאת עם הסייג שאם הצלע מתחילה מהמקור או מסתיימת בבור אז למעשה בעמודה
 יהיה לנו רק ערך אחד )
\begin_inset Formula $1$
\end_inset

 או 
\begin_inset Formula $-1$
\end_inset

 בהתאמה(.
\end_layout

\begin_layout Standard
כלומר הדרישות הן, לכל 
\begin_inset Formula $u\neq s,v\neq t$
\end_inset

 כך ש-
\begin_inset Formula $\left(u,v\right)\in E$
\end_inset

, שיתקיים 
\begin_inset Formula $y_{\left(u,v\right)}+z_{v}-z_{u}\geq0$
\end_inset

.
 בנוסף, 
\begin_inset Formula $\forall\left(u,t\right)\in E$
\end_inset

 שיתקיים 
\begin_inset Formula $y_{\left(u,t\right)}-z_{u}\geq0$
\end_inset

 וכן 
\begin_inset Formula $\forall\left(s,v\right)\in E$
\end_inset

, 
\begin_inset Formula $y_{\left(s,v\right)}+z_{v}\geq1$
\end_inset

.
\end_layout

\begin_layout Standard
לאינטואיציה אפשר לחשוב על 
\begin_inset Formula $z_{v}$
\end_inset

 כאינדיקטור האם 
\begin_inset Formula $v$
\end_inset

 ב-
\begin_inset Formula $S$
\end_inset

 או ב-
\begin_inset Formula $T$
\end_inset

.
 בנוסף התנאי הראשון דואג שאם 
\begin_inset Formula $y_{\left(u,v\right)}=1$
\end_inset

 כלומר 
\begin_inset Formula $\left(u,v\right)$
\end_inset

 בחתך שנובע מ-
\begin_inset Formula $y$
\end_inset

 אז 
\begin_inset Formula $u\in S$
\end_inset

 ו-
\begin_inset Formula $v\in T$
\end_inset

 והשאר עושים את אותו הדבר במקרים המיוחדים של המקור והבור.
\end_layout

\begin_layout Section
שבוע 
\begin_inset Formula $\mathbb{XII}$
\end_inset

 |
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
התמרת פורייה דיסרקטית ומהירה
\end_layout

\begin_layout Subsection
הרצאה
\end_layout

\begin_layout Standard

\color lightgray
חלק א' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le121}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Description
הגדרה נסמן ב-
\begin_inset Formula $V_{n-1}$
\end_inset

 את המרחב הוקטורי של הפולינומים ממעלה קטנה או שווה ל-
\begin_inset Formula $n-1$
\end_inset

 מעל הממשיים.
\end_layout

\begin_layout Standard

\size larger
ייצוג של פולינום לפי מקדמים
\end_layout

\begin_layout Description
הגדרה ייצוג המקדמים של הפולינום 
\begin_inset Formula $p\left(x\right)=\sum\limits _{k=0}^{n-1}a_{k}x^{k}$
\end_inset

 הוא וקטור 
\begin_inset Formula $\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)\in\fldr^{n}$
\end_inset

.
 נשים לב כי ייצוג המקדמים מגדיר איזומורפיזם בין 
\begin_inset Formula $\fldr^{n}$
\end_inset

 ו-
\begin_inset Formula $V_{n-1}$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה נגדיר פעולות על 
\begin_inset Formula $V_{n-1}$
\end_inset

 באופן ריגורוזי מדי:
\end_layout

\begin_deeper
\begin_layout Enumerate
חיבור:
\end_layout

\begin_deeper
\begin_layout Description
קלט שני פולינומים 
\begin_inset Formula $P,Q\in V_{n-1}$
\end_inset

 בייצוג המקדמים.
\end_layout

\begin_layout Description
פלט הפולינום 
\begin_inset Formula $R=P+Q\in V_{n-1}$
\end_inset

 בייצוג המקדמים.
\end_layout

\begin_layout Description
אלגוריתם יהיו 
\begin_inset Formula $\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right),\left(\begin{smallmatrix}b_{0}\\
\vdots\\
b_{n-1}
\end{smallmatrix}\right)$
\end_inset

 וקטורי ייצוג המקדמים של 
\begin_inset Formula $P$
\end_inset

 ו-
\begin_inset Formula $Q$
\end_inset

 בהתאמה.
 אז וקטור המקדמים של 
\begin_inset Formula $R$
\end_inset

 הוא
\begin_inset Newline linebreak
\end_inset


\begin_inset Formula $\left(\begin{smallmatrix}a_{0}+b_{0}\\
\vdots\\
a_{n-1}+b_{n-1}
\end{smallmatrix}\right)$
\end_inset

.
\end_layout

\begin_layout Description
זמן
\begin_inset Formula $\;$
\end_inset

ריצה 
\begin_inset Formula $\ot n$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
הצבת ערך:
\end_layout

\begin_deeper
\begin_layout Description
קלט פולינום 
\begin_inset Formula $P\in V_{n-1}$
\end_inset

 ו-
\begin_inset Formula $x_{0}\in\fldr$
\end_inset

.
\end_layout

\begin_layout Description
פלט 
\begin_inset Formula $P\left(x_{0}\right)$
\end_inset

.
\end_layout

\begin_layout Description
אלגוריתם יהי 
\begin_inset Formula $\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)$
\end_inset

 וקטור המקדמים של 
\begin_inset Formula $P$
\end_inset

.
 צריך לחשב את 
\begin_inset Formula $P\left(x_{0}\right)=\sum\limits _{k=0}^{n-1}a_{k}x_{0}^{k}$
\end_inset

.
 נחשב את סדרת החזקות של 
\begin_inset Formula $x_{0}$
\end_inset

: 
\begin_inset Formula $1,x_{0},x_{0}^{2},\dots,x_{0}^{n-1}$
\end_inset

 באמצעות 
\begin_inset Formula $x_{0}^{k+1}=x_{0}\cdot x_{0}^{k}$
\end_inset

 ומשם נחשב את 
\begin_inset Formula $P\left(x_{0}\right)$
\end_inset

.
\end_layout

\begin_layout Description
זמן
\begin_inset Formula $\;$
\end_inset

ריצה 
\begin_inset Formula $\ot n$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
כפל פולינומים:
\end_layout

\begin_deeper
\begin_layout Description
קלט שני פולינומים 
\begin_inset Formula $P,Q\in V_{n-1}$
\end_inset

 בייצוג המקדמים.
\end_layout

\begin_layout Description
פלט הפולינום 
\begin_inset Formula $R=PQ\in V_{2n-2}$
\end_inset

 בייצוג המקדמים.
\end_layout

\begin_layout Description
אלגוריתם יהיו 
\begin_inset Formula $\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right),\left(\begin{smallmatrix}b_{0}\\
\vdots\\
b_{n-1}
\end{smallmatrix}\right)$
\end_inset

 וקטורי המקדמים של 
\begin_inset Formula $P$
\end_inset

 ו-
\begin_inset Formula $Q$
\end_inset

 בהתאמה.
 יהי 
\begin_inset Formula $\left(\begin{smallmatrix}c_{0}\\
\vdots\\
c_{n-1}
\end{smallmatrix}\right)$
\end_inset

 וקטור המקדמים של 
\begin_inset Formula $R$
\end_inset

.
 מתקיים לכל 
\begin_inset Formula $0\leq m\leq2n-2$
\end_inset

, 
\begin_inset Formula $c_{m}=a_{0}b_{m}+a_{1}b_{m-1}+\dots+a_{m}b_{0}$
\end_inset

 )צריך שהחזקה תהיה 
\begin_inset Formula $m$
\end_inset

 ואלו כל הקומבניציות של מקדמים שמאפשרים זאת(.
 אם 
\begin_inset Formula $a_{k},b_{k}$
\end_inset

 לא קיימים, נחשבם כאפסים.
 יש לנו 
\begin_inset Formula $2n-2$
\end_inset

 חישובים, כל אחד לכל היותר 
\begin_inset Formula $n$
\end_inset

 פעולות בסיסיות כלומר 
\begin_inset Formula $\ot{n^{2}}$
\end_inset

.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
הערה לפי ייצוג מקדמים, פעולת הכפל היא 
\begin_inset Formula $\ot{n^{2}}$
\end_inset

 שזה יקר מדי.
 נחפש שייצוג אחר יותר זול.
\end_layout

\begin_layout Standard

\size larger
ייצוג של פולינומים לפי ערכים
\end_layout

\begin_layout Description
טענה לכל פולינום ממעלה 
\begin_inset Formula $n-1\geq$
\end_inset

 מעל 
\begin_inset Formula $\mathbb{F}$
\end_inset

 השונה מאפס יש לכל היותר 
\begin_inset Formula $n-1$
\end_inset

 שורשים שונים.
\end_layout

\begin_layout Description
מסקנה פולינום ממעלה 
\begin_inset Formula $n-1\geq$
\end_inset

 נקבע באופן יחיד ע
\begin_inset Quotes erd
\end_inset

י הערכים שלו ב-
\begin_inset Formula $n$
\end_inset

 נקודות שונות.
\end_layout

\begin_layout Proof
תהיינה 
\begin_inset Formula $x_{0},\dots,x_{n-1}$
\end_inset

 
\begin_inset Formula $n$
\end_inset

 נקודות שונות ב-
\begin_inset Formula $\mathbb{F}$
\end_inset

.
 נניח בשלילה שקיימים 
\begin_inset Formula $P\neq Q$
\end_inset

 כך ש-
\begin_inset Formula $P\left(x_{i}\right)=Q\left(x_{i}\right)$
\end_inset

.
 אזי הפולינום 
\begin_inset Formula $R=P-Q$
\end_inset

 הוא פולינום ממעלה לכל היותר 
\begin_inset Formula $n-1$
\end_inset

 המתאפס ב-
\begin_inset Formula $n$
\end_inset

 נקודות ולכן מהטענה הנ
\begin_inset Quotes erd
\end_inset

ל, 
\begin_inset Formula $R=0$
\end_inset

 ולכן 
\begin_inset Formula $P=Q$
\end_inset

 סתירה.
\end_layout

\begin_layout Standard
נקבע 
\begin_inset Formula $n$
\end_inset

 נקודות ממשיות שונות 
\begin_inset Formula $x_{0},\dots,x_{n-1}$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה ייצגו הערכים של פולינום 
\begin_inset Formula $P\in V_{n-1}$
\end_inset

 הוא וקטור הערכים 
\begin_inset Formula $\left(\begin{smallmatrix}P\left(x_{0}\right)\\
\vdots\\
P\left(x_{n-1}\right)
\end{smallmatrix}\right)$
\end_inset

.
 מהמסקנה הנ
\begin_inset Quotes erd
\end_inset

ל זה ייצוג נאמן )איזומורפיזם( של 
\begin_inset Formula $V_{n-1}$
\end_inset

.
\end_layout

\begin_layout Standard

\size larger
פעולות בייצוג ערכים
\end_layout

\begin_layout Enumerate
חיבור:
\end_layout

\begin_deeper
\begin_layout Description
קלט שני הפולינומים 
\begin_inset Formula $P,Q\in V_{n-1}$
\end_inset

 בייצוג הערכים.
\end_layout

\begin_layout Description
פלט הפולינום 
\begin_inset Formula $R=P+Q$
\end_inset

 בייצוג הערכים.
\end_layout

\begin_layout Description
אלגוריתם נחשב
\begin_inset Formula 
\[
\left(\begin{smallmatrix}R\left(x_{0}\right)\\
\vdots\\
R\left(x_{n-1}\right)
\end{smallmatrix}\right)=\left(\begin{smallmatrix}\left(P+Q\right)\left(x_{0}\right)\\
\vdots\\
\left(P+Q\right)\left(x_{n-1}\right)
\end{smallmatrix}\right)=\left(\begin{smallmatrix}P\left(x_{0}\right)\\
\vdots\\
P\left(x_{n-1}\right)
\end{smallmatrix}\right)+\left(\begin{smallmatrix}Q\left(x_{0}\right)\\
\vdots\\
Q\left(x_{n-1}\right)
\end{smallmatrix}\right)
\]

\end_inset


\end_layout

\begin_layout Description
זמן
\begin_inset Formula $\;$
\end_inset

ריצה 
\begin_inset Formula $\ot n$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
כפל:
\end_layout

\begin_deeper
\begin_layout Description
קלט שני פולינומים 
\begin_inset Formula $P,Q\in V_{n-1}$
\end_inset

 בייצוג הערכים.
\end_layout

\begin_layout Description
פלט הפולינום 
\begin_inset Formula $V_{2n-2}\ni R=PQ$
\end_inset

 בייצוג הערכים.
\end_layout

\begin_layout Description
אלגוריתם וקטור הערכים של 
\begin_inset Formula $R$
\end_inset

 הוא 
\begin_inset Formula $\left(\begin{smallmatrix}R\left(x_{0}\right)\\
\vdots\\
R\left(x_{n-1}\right)
\end{smallmatrix}\right)=\left(\begin{smallmatrix}\left(PQ\right)\left(x_{0}\right)\\
\vdots\\
\left(PQ\right)\left(x_{n-1}\right)
\end{smallmatrix}\right)=\left(\begin{smallmatrix}P\left(x_{0}\right)Q\left(x_{0}\right)\\
\vdots\\
P\left(x_{n-1}\right)Q\left(x_{0}\right)
\end{smallmatrix}\right)$
\end_inset

.
 נשים לב כי זה לא מספיק כי 
\begin_inset Formula $R$
\end_inset

 במעלה )אולי( גבוהה מ-
\begin_inset Formula $n-1$
\end_inset

 ולכן נדרוש את ערכי 
\begin_inset Formula $P$
\end_inset

 ו-
\begin_inset Formula $Q$
\end_inset

 ב-
\begin_inset Formula $2n-1$
\end_inset

 נקודות שונות 
\begin_inset Formula $x_{0},\dots,x_{2n-2}$
\end_inset

 ואז נריץ את האלג' כמו שנתון לעיל.
\end_layout

\begin_layout Description
זמן
\begin_inset Formula $\;$
\end_inset

ריצה 
\begin_inset Formula $\ot n$
\end_inset

 בהנחה שמציאת הנקודות הנוספות נעשה בזמן לינארי )הנחה נכונה כפי שנראה(.
\end_layout

\end_deeper
\begin_layout Enumerate
הצבת ערך )בעיית האינטרפולציה הפולינומית(:
\end_layout

\begin_deeper
\begin_layout Description
קלט פולינום 
\begin_inset Formula $P\in V_{n-1}$
\end_inset

 בייצוג הערכים )בנקודות 
\begin_inset Formula $x_{0},\dots,x_{n-1}$
\end_inset

( ונקודה נוספת 
\begin_inset Formula $x_{n}$
\end_inset

.
\end_layout

\begin_layout Description
פלט 
\begin_inset Formula $P\left(x_{n}\right)$
\end_inset

.
\end_layout

\begin_layout Description
האלגוריתם נציג פתרון )של לגרנז'( שרץ ב-
\begin_inset Formula $\ot{n^{2}}$
\end_inset

, אפע
\begin_inset Quotes erd
\end_inset

פ שידוע פתרון שרץ ב-
\begin_inset Formula $\ot{n\log n}$
\end_inset

.
 נגדיר 
\begin_inset Formula $n$
\end_inset

 פוליינומים
\begin_inset Newline newline
\end_inset


\begin_inset Formula $L_{0},\dots,L_{n-1}\in V_{n-1}$
\end_inset

 עם התכונה 
\begin_inset Formula $L_{m}\left(x_{k}\right)=\delta_{km}=\begin{cases}
1 & k=m\\
0 & k\neq m
\end{cases}$
\end_inset

.
 באופן מפורש,
\begin_inset Formula 
\[
L_{m}\left(x\right)=\frac{\left(x-x_{0}\right)\ldots\left(x-x_{m-1}\right)\left(x-x_{m+1}\right)\ldots\left(x-x_{n-1}\right)}{\left(x_{m}-x_{0}\right)\ldots\left(x_{m}-x_{m-1}\right)\left(x_{m}-x_{m+1}\right)\ldots\left(x_{m}-x_{n-1}\right)}
\]

\end_inset

)
\begin_inset Formula $x_{m}\neq x_{i}$
\end_inset

, 
\begin_inset Formula $i\neq m$
\end_inset

(.
 הרעיון הוא להשתמש בפוקנצינאל הלינארי 
\begin_inset Formula $\varphi_{i}$
\end_inset

 ובעזרתו להגיד איזומורפיזם של בין וקטור מספרים לפולינום )ליאנרית בקיצור(.
\end_layout

\begin_deeper
\begin_layout Description
למה לכל 
\begin_inset Formula $P\in V_{n-1}$
\end_inset

, 
\begin_inset Formula $P=\sum\limits _{m=0}^{n-1}P\left(x_{m}\right)L_{m}$
\end_inset

.
\end_layout

\begin_layout Proof
)העשרה( נסמן 
\begin_inset Formula $\tilde{P}=\sum\limits _{m=0}^{n-1}P\left(x_{m}\right)L_{m}$
\end_inset

.
 
\begin_inset Formula $\tilde{P}$
\end_inset

 הוא פולינום ממעלה 
\begin_inset Formula $n-1\geq$
\end_inset

.
 נוכיח כי 
\begin_inset Formula $P=\tilde{P}$
\end_inset

.
 לכל 
\begin_inset Formula $0\leq k\leq n-1$
\end_inset

 מתקיים 
\begin_inset Formula $P\left(x_{k}\right)=\tilde{P}\left(x_{k}\right)$
\end_inset

 ולכן 
\begin_inset Formula $P=\tilde{P}$
\end_inset

 מהמסקנה בתחילת ההרצאה.
 אכן ניתן להציב את 
\begin_inset Formula $x_{0},\dots,x_{n-1}$
\end_inset

 ולראות שמתקבל שוויון.
\end_layout

\begin_layout Description
מסקנה 
\begin_inset Formula $P\left(x_{n}\right)=\sum\limits _{m=0}^{n-1}P\left(x_{m}\right)L_{m}\left(x_{n}\right)$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
זמן
\begin_inset Formula $\;$
\end_inset

ריצה החישוב של 
\begin_inset Formula $L_{m}\left(x_{n}\right)$
\end_inset

 עולה 
\begin_inset Formula $\ot n$
\end_inset

 לכל 
\begin_inset Formula $0\leq m\leq n-1$
\end_inset

 וסה
\begin_inset Quotes erd
\end_inset

כ נקבל 
\begin_inset Formula $\ot{n^{2}}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
מסקנה בייצוג הערכים פעולות חיבור וכפל פולינומים הן יעילות )זמן לינארי( ופעולת
 הצבת הערך יקרה ב-
\begin_inset Formula $\ot{n^{2}}$
\end_inset

.
 פעולת כפל קשה בייצוג מקדמים ופעולת הצבת הערך קשה בייצוג הערכים.
\end_layout

\begin_layout Description
רעיון נוכל לעבור בין הייצוגים ולבצע כל פעולה בייצוג בו הפעולה יעילה.
 כמה עולה המעבר בין הייצוגים?
\end_layout

\begin_deeper
\begin_layout Standard
שני הייצוגים של הפולינומים הם המקדמים של פיתוח של פולינום לפי שני בסיסים
 שונים - בסיס החזקות 
\begin_inset Formula $\left\{ 1,\dots,x^{n-1}\right\} $
\end_inset

 ובייצוג המקדמים ובסיסי פולינומי לגראנז' 
\begin_inset Formula $\left\{ l_{0},\dots l_{m-1}\right\} $
\end_inset

 בייצוג הערכים.
 כדי לעבור בין הייצוגים צריך לכפול במטורצית המעבר בין הבסיסים.
\end_layout

\end_deeper
\begin_layout Description
למה יהי 
\begin_inset Formula $P\in V_{n-1}$
\end_inset

.
 יהי 
\begin_inset Formula $\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)$
\end_inset

 ייצוג המקדמים של 
\begin_inset Formula $P$
\end_inset

 ויהי 
\begin_inset Formula $\left(\begin{smallmatrix}P\left(x_{0}\right)\\
\vdots\\
P\left(x_{n-1}\right)
\end{smallmatrix}\right)$
\end_inset

 ייצוג הערכים של 
\begin_inset Formula $P$
\end_inset

 ב-
\begin_inset Formula $n$
\end_inset

 נקודות שונות 
\begin_inset Formula $x_{0},\dots,x_{n-1}$
\end_inset

 אזי 
\begin_inset Formula $\left(\begin{smallmatrix}P\left(x_{0}\right)\\
\vdots\\
P\left(x_{n-1}\right)
\end{smallmatrix}\right)=M\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)$
\end_inset

 כאשר 
\begin_inset Formula $M=\left(\begin{smallmatrix}1 & x_{0} & \cdots & x_{0}^{n-1}\\
\vdots\\
1 & x_{n-1} & \cdots & x_{n-1}^{n-1}
\end{smallmatrix}\right)$
\end_inset

 )מטריצת ון דר מונדה(.
\end_layout

\begin_layout Proof
נבדוק כי שני הוקטורים בטענת הלמה שווים בכל הקווארדינטות.
\begin_inset Formula 
\[
\left(M\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)\right)_{k}=\sum\limits _{m=0}^{n-1}M_{km}a_{m}=\sum\limits _{m=0}^{n-1}x_{k}^{m}a_{m}=P\left(x_{k}\right)
\]

\end_inset


\end_layout

\begin_layout Description
מסקנה כדי לעבור בין הייצוגים, צריך לכפול את וקטור המקדמים במטריצת ון דר
 מונדה כדי להגיע לייצוג הערכים וזה 
\begin_inset Formula $\ot{n^{2}}$
\end_inset

 ובכיוון ההפוך צריך לחשב את ההופכית ולכפול בה וזה גם 
\begin_inset Formula $\ot{n^{2}}$
\end_inset

.
\end_layout

\begin_layout Description
רעיון שימוש במספרים מרוכבים מכייון ש-
\begin_inset Formula $\fldr$
\end_inset

 הוא תת שדה של שדה המספרים המרוכבים 
\begin_inset Formula $\mathbb{C}$
\end_inset

.
 ניתן לחשוב את 
\begin_inset Formula $P\in V_{n-1}$
\end_inset

 מעל 
\begin_inset Formula $\mathbb{C}$
\end_inset

 ובפרט להציב בו מספרים מרוכבים.
 גם מעל 
\begin_inset Formula $\mathbb{C}$
\end_inset

 יש לכל היותר 
\begin_inset Formula $n-1$
\end_inset

 שורשים לכל פולינום ממעלה 
\begin_inset Formula $n-1\geq$
\end_inset

 ולכן ייצוג הערכים מעל 
\begin_inset Formula $\mathbb{C}$
\end_inset

 מוגדר היטב.
\end_layout

\begin_layout Standard
מספר מרוכב 
\begin_inset Formula $z\in\fldc$
\end_inset

 ניתן לכתיבה כ-
\begin_inset Formula $z=a+bi$
\end_inset

 כאשר 
\begin_inset Formula $a,b\in\fldr$
\end_inset

.
 ייצוג אחר של 
\begin_inset Formula $z$
\end_inset

 הוא הייצוג הפולרי, 
\begin_inset Formula $z=R\left(\cos\theta+i\sin\theta\right)$
\end_inset

.
 כאשר 
\begin_inset Formula $R=\sqrt{a^{2}+b^{2}}=\left|z\right|$
\end_inset

 ו-
\begin_inset Formula $\theta$
\end_inset

 הזווית של הוקטור המחבר את 
\begin_inset Formula $z$
\end_inset

 עם ראשית הצירים.
\begin_inset Formula 
\[
R_{1}\left(\cos\theta+i\sin\theta\right)\cdot R_{2}\left(\cos\varphi+i\sin\varphi\right)=R_{1}R_{2}\left(\cos\left(\theta+\varphi\right)+i\sin\left(\theta+\varphi\right)\right)
\]

\end_inset


\end_layout

\begin_layout Description
הגדרה 
\bar under
מעגל היחידה
\bar default
 הוא 
\begin_inset Formula $\left\{ z\in\fldc:\left|z\right|=1\right\} $
\end_inset

 כלומר כל מרוכבים עם 
\begin_inset Formula $R=1$
\end_inset

, 
\begin_inset Formula $\left\{ \cos\theta+i\sin\theta:i\in[0,2\pi)\right\} $
\end_inset

.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $1=\cos0+i\sin0$
\end_inset

, 
\begin_inset Formula $i=\sin\frac{\pi}{2}+i\sin\frac{\pi}{2}$
\end_inset

, 
\begin_inset Formula $-i=\cos\frac{3\pi}{2}+i\sin\frac{3\pi}{2}$
\end_inset

.
\end_layout

\begin_layout Standard
אנחנו נדבר רק על שורשי היחידה מסדר 
\begin_inset Formula $n$
\end_inset

, כלומר מספרים 
\begin_inset Formula $z$
\end_inset

 כך ש-
\begin_inset Formula $z^{n}=1$
\end_inset

.
\end_layout

\begin_layout Standard

\color lightgray
חלק א' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le122}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Description
מסקנה )מהגדרת מעגל היחידה( יהי 
\begin_inset Formula $z=\cos\theta+i\sin\theta$
\end_inset

.
 אז 
\begin_inset Formula $z^{k}=\cos k\theta+i\sin k\theta$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה 
\bar under
שורשי היחידה
\bar default
 מסדר 
\begin_inset Formula $n$
\end_inset

 הם 
\begin_inset Formula $\left\{ z:z^{n}=1\right\} $
\end_inset

.
\end_layout

\begin_layout Standard
נסמן 
\begin_inset Formula $\omega_{n}=\cos\frac{2\pi}{n}+i\sin\frac{2\pi}{n}$
\end_inset

.
 מתקיים
\begin_inset Formula 
\[
\omega_{n}^{n}=\cos n\frac{2\pi}{n}+i\sin n\frac{2\pi}{n}=\cos2\pi+i\sin2\pi=1
\]

\end_inset

עבור 
\begin_inset Formula $0\leq k\leq n-1$
\end_inset

, 
\begin_inset Formula $\omega_{n}^{k}=\cos\frac{2\pi k}{n}+i\sin\frac{2\pi k}{n}$
\end_inset

.
 אלה 
\begin_inset Formula $n$
\end_inset

 נקודות שונות על מעגל היחידה והן כולן שורשים מסדר 
\begin_inset Formula $n$
\end_inset

 כי
\begin_inset Formula 
\[
\left(\omega_{n}^{k}\right)^{n}=\omega_{n}^{kn}=1^{k}=1
\]

\end_inset


\end_layout

\begin_layout Description
הגדרה 
\begin_inset Formula $\omega_{n}$
\end_inset

 נקרא 
\bar under
שורש יחידה פרימיטיבי
\bar default
.
\end_layout

\begin_layout Description
דוגמה עבור 
\begin_inset Formula $n=2$
\end_inset

, שורשי היחידה הם 
\begin_inset Formula $\left\{ -1,1\right\} $
\end_inset

, עבור 
\begin_inset Formula $n=4$
\end_inset

, 
\begin_inset Formula $\omega=i$
\end_inset

 ולכן שורשי היחידה הם 
\begin_inset Formula $\left\{ 1,i,-1,-i\right\} $
\end_inset

.
\end_layout

\begin_layout Description
הגדרה יהי 
\begin_inset Formula $\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)\in\fldc^{n}$
\end_inset

.
 יהי 
\begin_inset Formula $\sum\limits _{k=0}^{n-1}a_{k}z^{k}=P\in V_{n-1}$
\end_inset

.
 אזי 
\bar under
התמרת פורייה בדידה
\bar default
 מסדר 
\begin_inset Formula $n$
\end_inset

 היא 
\begin_inset Formula $\dft\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)=\left(\begin{smallmatrix}P\left(\omega_{n}^{0}\right)\\
\vdots\\
P\left(\omega_{n}^{n-1}\right)
\end{smallmatrix}\right)$
\end_inset

.
\end_layout

\begin_layout Description
הערה התמרת פורייה 
\begin_inset Formula $\dft$
\end_inset

 הינה מעבר מייצוג המקדמים של פולינום לייצוג הערכים שלו בשורשי היחידה מסדר
 
\begin_inset Formula $n$
\end_inset

.
 ראינו כי בהינתן 
\begin_inset Formula $P=\sum\limits _{k=0}^{n-1}a_{k}z^{k}\in V_{n-1}$
\end_inset

 מתקיים שייצוג הערכים של 
\begin_inset Formula $P$
\end_inset

 בנקודות 
\begin_inset Formula $z_{0},\dots,z_{n-1}$
\end_inset

 ניתן לכתיבה כ-
\begin_inset Formula 
\[
\left(\begin{smallmatrix}P\left(z_{0}\right)\\
\vdots\\
P\left(z_{n-1}\right)
\end{smallmatrix}\right)=M\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right),\;\;M=\left(\begin{smallmatrix}1 & z_{0} & \cdots & z_{0}^{n-1}\\
\vdots\\
1 & z_{n-1} & \cdots & z_{n-1}^{n-1}
\end{smallmatrix}\right)
\]

\end_inset

אבל אצלנו מתקיים 
\begin_inset Formula $z_{k}=\em_{n}^{k}$
\end_inset

 ולכן 
\begin_inset Formula $M=\left(\begin{smallmatrix}\em_{n}^{0\cdot0} & \em_{n}^{1\cdot0} & \cdots & \em_{n}^{\left(n-1\right)0}\\
\vdots\\
\em_{n}^{0\cdot\left(n-1\right)} & \em_{n}^{1\cdot\left(n-1\right)} & \cdots & \em_{n}^{\left(n-1\right)\left(n-1\right)}
\end{smallmatrix}\right)$
\end_inset

 כלומר 
\begin_inset Formula $\left[M\right]_{ij}=\em_{n}^{ij}$
\end_inset


\end_layout

\begin_layout Description
דוגמה עבור 
\begin_inset Formula $n=4$
\end_inset

, 
\begin_inset Formula $M=\left(\begin{smallmatrix}1 & 1 & 1 & 1\\
1 & i & -1 & -i\\
1 & -1 & -1 & -1\\
1 & -i & -1 & i
\end{smallmatrix}\right)$
\end_inset

 )
\begin_inset Formula $\em_{4}=i$
\end_inset

(.
\end_layout

\begin_layout Description
הגדרה יהי 
\begin_inset Formula $\left(\begin{smallmatrix}p_{0}\\
\vdots\\
p_{n-1}
\end{smallmatrix}\right)\in\fldc^{n}$
\end_inset

.
 יהי 
\begin_inset Formula $\sum\limits _{k=0}^{n-1}a_{k}z^{k}=P\in V_{n-1}$
\end_inset

 כך ש-
\begin_inset Formula $\left(\begin{smallmatrix}P\left(\omega_{n}^{0}\right)\\
\vdots\\
P\left(\omega_{n}^{n-1}\right)
\end{smallmatrix}\right)=\left(\begin{smallmatrix}p_{0}\\
\vdots\\
p_{n-1}
\end{smallmatrix}\right)$
\end_inset

.
 
\bar under
התמרת פורייה בדידה הפוכה
\bar default
 מסדר 
\begin_inset Formula $n$
\end_inset

 היא 
\begin_inset Formula $\dftr\left(\begin{smallmatrix}p_{0}\\
\vdots\\
p_{n-1}
\end{smallmatrix}\right)=\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)$
\end_inset

, כלומר במפורש
\begin_inset Formula 
\[
\dftr\left(\begin{smallmatrix}p_{0}\\
\vdots\\
p_{n-1}
\end{smallmatrix}\right)=M^{-1}\left(\begin{smallmatrix}p_{0}\\
\vdots\\
p_{n-1}
\end{smallmatrix}\right)
\]

\end_inset


\end_layout

\begin_layout Description
הערה התמרת פורייה הפוכה היא מעבר בין ייצוג הערכים לייצוג המקדמים.
\end_layout

\begin_layout Description
למה 
\begin_inset Formula $M^{-1}=\frac{1}{n}\left(\begin{smallmatrix} & \vdots\\
\cdots & \em_{n}^{-km} & \cdots\\
 & \vdots
\end{smallmatrix}\right)$
\end_inset

.
\end_layout

\begin_layout Description
משפט )משפט ה-
\lang english
FFT
\lang hebrew
( יהי 
\begin_inset Formula $n$
\end_inset

 חזקה של 
\begin_inset Formula $2$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Enumerate
לכל 
\begin_inset Formula $\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)\in\fldc^{n-1}$
\end_inset

 ניתן לחשב את 
\begin_inset Formula $\dft\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)$
\end_inset

 בזמן 
\begin_inset Formula $\oo{n\log n}$
\end_inset

.
\end_layout

\begin_layout Enumerate
לכל 
\begin_inset Formula $\left(\begin{smallmatrix}p_{0}\\
\vdots\\
p_{n-1}
\end{smallmatrix}\right)\in\fldc^{n-1}$
\end_inset

 ניתן לחשב את 
\begin_inset Formula $\dftr\left(\begin{smallmatrix}p_{0}\\
\vdots\\
p_{n-1}
\end{smallmatrix}\right)$
\end_inset

 בזמן 
\begin_inset Formula $\oo{n\log n}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Subsection
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
texorpdfstring{
\backslash
protect
\backslash
hypertarget{ta12}{תרגול}}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Description
משפט )משפט האינטרפולציה של לגראנז'( לכל 
\begin_inset Formula $n$
\end_inset

 נקודות 
\begin_inset Formula $\left(x_{0},y_{0}\right),\ldots,\left(x_{n-1},y_{n-1}\right)$
\end_inset

 כך ש-
\begin_inset Formula $i\neq j\Rightarrow x_{i}\neq x_{j}$
\end_inset

 קיים פולינום יחיד מדרגה 
\begin_inset Formula $n-1\geq$
\end_inset

 כך ש-
\begin_inset Formula $P\left(x_{i}\right)=y_{i}$
\end_inset

.
\end_layout

\begin_layout Standard

\size larger
כפל פולינומים מהיר
\end_layout

\begin_layout Description
קלט 
\begin_inset Formula $a=\left(a_{0},\dots,a_{n-1}\right)^{T},b=\left(b_{0},\dots,b_{n-1}\right)^{T}$
\end_inset

 ייצוג המקדמים של 
\begin_inset Formula $P,Q$
\end_inset

.
\end_layout

\begin_layout Description
פלט 
\begin_inset Formula $c=\left(c_{0},\dots,c_{n-1}\right)^{T}$
\end_inset

 ייצוג המקדמים של 
\begin_inset Formula $PQ$
\end_inset

.
\end_layout

\begin_layout Description
אלגוריתם 
\end_layout

\begin_deeper
\begin_layout Enumerate
נסמן את 
\begin_inset Formula $m=\min\left\{ k:2^{k}\geq2n-2\right\} $
\end_inset

 ונרפד באפסים 
\begin_inset Formula $a=\left(a_{0},\dots,a_{n-1},0,\dots,0\right)^{T}\in\fldr^{m}$
\end_inset

 וכך גם עבור 
\begin_inset Formula $b$
\end_inset

.
 
\begin_inset Formula $\ot n$
\end_inset


\end_layout

\begin_layout Enumerate
נחשב 
\begin_inset Formula $a'=\fft\left(a\right),b'=\fft\left(b\right)$
\end_inset

 )כאשר 
\begin_inset Formula $\fft$
\end_inset

 הוא אלג' לחישוב 
\begin_inset Formula $\dft$
\end_inset

 שנראה בהרצאה(.
 
\begin_inset Formula $\ot{n\log n}$
\end_inset


\end_layout

\begin_layout Enumerate
נחשב 
\begin_inset Formula $r'=a'\cdot b'$
\end_inset

 )איבר איבר(.
 
\begin_inset Formula $\ot n$
\end_inset


\end_layout

\begin_layout Enumerate
נחשב את 
\begin_inset Formula $R=\fft^{-1}\left(r'\right)$
\end_inset

 ונחזיר את 
\begin_inset Formula $R$
\end_inset

.
 
\begin_inset Formula $\ot{n\log n}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
זמן
\begin_inset Formula $\;$
\end_inset

ריצה 
\begin_inset Formula $\ot{n\log n}$
\end_inset

.
\end_layout

\begin_layout Description
הערה האלגוריתם היה נכון גם אילו הפולינומים היו בדרגות שונות, כי היינו מרפדים
 עד לקבלת דרגה שווה.
\end_layout

\begin_layout Description
הגדרה יהיו 
\begin_inset Formula $a=\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right),b=\left(\begin{smallmatrix}b_{0}\\
\vdots\\
b_{n-1}
\end{smallmatrix}\right)$
\end_inset

.
 ה
\bar under
קונבולוציה
\bar default
 שלהם היא 
\begin_inset Formula $c=a*b=\left(\begin{smallmatrix}c_{0}\\
\vdots\\
c_{n-1}
\end{smallmatrix}\right)$
\end_inset

 כאשר 
\begin_inset Formula $c_{i}=\sum\limits _{j=0}^{i}a_{j}b_{i-j}$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $a=\left(5,7,3,2,1,5,0,7\right)^{T},b=\left(1,1,6,2\right)^{T}$
\end_inset

.
 
\begin_inset Formula $c=a*b$
\end_inset

.
 
\begin_inset Formula $c_{0}=a_{0}b_{0}$
\end_inset

, 
\begin_inset Formula $c_{6}=a_{0}0+a_{1}0+a_{2}0+a_{3}b_{3}+a_{4}b_{2}+a_{5}b_{1}+a_{6}b_{0}$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
במובן הזה, אפשר לחשוב על הקונבולוציה כעל ריצה מלמעלה בוקטור אחד ומלמטה בוקטור
 האחר, אבל יש עוד דרך.
\end_layout

\begin_layout Standard
אם נחשוב על שני הוקטורים כפסים רצים מרופדים באפסים, אז האיבר ה-
\begin_inset Formula $i$
\end_inset

 בקונבולוציה היא הזזה של 
\begin_inset Formula $i$
\end_inset

 צעדים את אחד הוקטורים אל עבר האחר וחישוב המכ
\begin_inset Quotes erd
\end_inset

פ שלהם.
\end_layout

\end_deeper
\begin_layout Description
הערה חישוב קונבולוציה שקול לחישוב המקדמים של פולינום המכפלה הנוצר מהסתכלות
 על וקטורי הקלט כפולינום בייצוג מקדמים.
\end_layout

\begin_layout Standard

\size larger
בעיית התאמת המחרוזות
\end_layout

\begin_layout Description
קלט 
\begin_inset Formula $S=\left(s_{0},\dots,s_{n-1}\right)\in\left\{ \pm1\right\} ^{n}$
\end_inset

, 
\begin_inset Formula $P=\left(p_{0},\dots,p_{m-1}\right)\in\left\{ \pm1\right\} ^{m}$
\end_inset

.
 עם 
\begin_inset Formula $m\leq n$
\end_inset

.
\end_layout

\begin_layout Description
פלט 
\begin_inset Formula $d$
\end_inset

 אוסף כל האינדקסים כך ש-
\begin_inset Formula $k\in D$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם קיימת הופעה רציפה של 
\begin_inset Formula $p$
\end_inset

 החלק מהאינדקס 
\begin_inset Formula $k$
\end_inset

 ב-
\begin_inset Formula $S$
\end_inset

, כלומר
\begin_inset Formula 
\[
D=\left\{ k\in\left\{ 0,\dots,n-m-1\right\} :p_{i}=s_{k+i},\forall i\in\left\{ 0,m-1\right\} \right\} 
\]

\end_inset


\end_layout

\begin_layout Description
הערה האלגוריתם הנאיבי של מעבר על כל האינדקסים דורש 
\begin_inset Formula $\oo{nm}$
\end_inset

 שזה מיותר, כי אפשר לעשות יותר טוב עם קונבולוציה.
\end_layout

\begin_layout Standard
נשים לב כי 
\begin_inset Formula $p_{i}=s_{k+i}\iff p_{i}s_{k+i}=1$
\end_inset

 ולכן 
\begin_inset Formula $\sum p_{i}s_{k+i}=m$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם יש מופע של 
\begin_inset Formula $p$
\end_inset

 ב-
\begin_inset Formula $s$
\end_inset

 החל מ-
\begin_inset Formula $k$
\end_inset

.
\end_layout

\begin_layout Description
אלגוריתם 
\end_layout

\begin_deeper
\begin_layout Enumerate
נבנה 
\begin_inset Formula $p^{R}$
\end_inset

 ע
\begin_inset Quotes erd
\end_inset

י היפוך התווים של 
\begin_inset Formula $P$
\end_inset

, כלומר 
\begin_inset Formula $p_{i}^{R}=p_{m-i-1}$
\end_inset

.
 
\begin_inset Formula $\oo m$
\end_inset


\end_layout

\begin_layout Enumerate
נחשב 
\begin_inset Formula $c=p^{R}*s$
\end_inset

.
 
\begin_inset Formula $\oo{n\log n}$
\end_inset


\end_layout

\begin_layout Enumerate
נחזיר 
\begin_inset Formula $D=\left\{ k-\left(m-1\right):c_{k}=m\right\} $
\end_inset

.
 
\begin_inset Formula $\oo m$
\end_inset


\end_layout

\end_deeper
\begin_layout Description
זמן
\begin_inset Formula $\;$
\end_inset

ריצה 
\begin_inset Formula $\oo{n\log n}$
\end_inset

 שזה עדיף על האלג' הנאיבי אלא אם 
\begin_inset Formula $m=\oo{\log n}$
\end_inset

.
\end_layout

\begin_layout Description
הערה הסיבה לחיסור האינדקס היא משום שבחישוב הקונבולוציה אנחנו מתחילים 
\begin_inset Formula $m$
\end_inset

 צעדים קדימה.
 
\end_layout

\begin_layout Description
למה 
\begin_inset Formula $c_{k}=m$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם קיים מופע רציף של 
\begin_inset Formula $P$
\end_inset

 ב-
\begin_inset Formula $S$
\end_inset

 החל מ-
\begin_inset Formula $k-\left(m-1\right)$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם קיים מופע של 
\begin_inset Formula $P$
\end_inset

 ב-
\begin_inset Formula $S$
\end_inset

 שמסתיים באינדקס 
\begin_inset Formula $k$
\end_inset

.
\end_layout

\begin_layout Proof
נזכור כי 
\begin_inset Formula $p_{i}=s_{k+i}$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $p_{i}s_{k+i}=1$
\end_inset

 ולכן קיים מופע רציף של 
\begin_inset Formula $P$
\end_inset

 ב-
\begin_inset Formula $S$
\end_inset

 שמתחיל ב-
\begin_inset Formula $k'$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $m=\sum\limits _{i=0}^{m-1}p_{i}s_{k'+i}$
\end_inset

.
\begin_inset Formula 
\begin{align*}
c_{k} & =\sum_{j=0}^{k}p_{j}^{R}s_{k-j}\\
 & =\sum_{j=0}^{k}p_{m-1-j}s_{k-j}\\
 & \overset{i=m-1-j}{=}\sum_{i=m-1-k}^{m-1}p_{i}s_{k-\left(m-1-i\right)}
\end{align*}

\end_inset

אם 
\begin_inset Formula $k<m-1$
\end_inset

 אז 
\begin_inset Formula $i>0$
\end_inset

 תמיד ולכן סכום לעולם לא יהיה שווה ל-
\begin_inset Formula $m$
\end_inset

 )פחות מ-
\begin_inset Formula $m$
\end_inset

 נסכמים שהם 
\begin_inset Formula $\pm1$
\end_inset

(.
 אם 
\begin_inset Formula $m-1\leq k$
\end_inset

 אז 
\begin_inset Formula $i\leq0$
\end_inset

 ואז
\begin_inset Formula 
\begin{align*}
c_{k} & =\desc{\sum_{i=m-1-k}^{0}p_{i}s_{k-\left(m-1\right)+i}}{\text{מריפוד באפסים}\;0}+\sum_{i=0}^{m-1}p_{i}s_{k-\left(m-1\right)+i}\\
 & =\sum_{i=0}^{m-1}p_{i}s_{k-\left(m-1\right)+i}
\end{align*}

\end_inset

ומההבחנה בהתחלה 
\begin_inset Formula $c_{k}=m$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם מתקיים התנאי בלמה.
\end_layout

\begin_layout Section
שבוע 
\begin_inset Formula $\mathbb{XIII}$
\end_inset

 |
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 משפט ה-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FFT
\lang hebrew
, קריפטוגרפיה ואלגוריתמים על מספרים
\end_layout

\begin_layout Subsection
הרצאה
\end_layout

\begin_layout Standard

\color lightgray
חלק א' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le131}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Description
הערה הסדטונטית המשקיעה תוכיח כי אם 
\begin_inset Formula $\dft\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)=\left(\begin{smallmatrix}p_{0}\\
\vdots\\
p_{n-1}
\end{smallmatrix}\right)$
\end_inset

 ונסמן 
\begin_inset Formula $Q=\sum\limits _{k=0}^{n-1}p_{k}z^{k}$
\end_inset

 אז
\begin_inset Formula 
\[
\dftr\left(\begin{smallmatrix}p_{0}\\
\vdots\\
p_{n-1}
\end{smallmatrix}\right)=\frac{1}{n}\left(\begin{smallmatrix}Q\left(\em_{n}^{-0}\right)\\
\vdots\\
Q\left(\em_{n}^{-\left(n-1\right)}\right)
\end{smallmatrix}\right)
\]

\end_inset


\end_layout

\begin_layout Description
משפט )
\lang english
FFT
\lang hebrew
( יהי 
\begin_inset Formula $n$
\end_inset

 חזקה של 
\begin_inset Formula $2$
\end_inset

.
 לכל 
\begin_inset Formula $\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)\in\fldc^{n}$
\end_inset

 ניתן לחשב את 
\begin_inset Formula $\dft\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)$
\end_inset

 בזמן 
\begin_inset Formula $\oo{n\log n}$
\end_inset

.
\end_layout

\begin_layout Description
למה
\begin_inset Formula $\;$
\end_inset


\series bold
\numeric on
1
\family roman
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יהי 
\begin_inset Formula $n$
\end_inset

 מספר זוגי ו-
\begin_inset Formula $P\left(z\right)=\sum\limits _{k=0}^{n-1}a_{k}z^{k}$
\end_inset

.
 נגדיר 
\begin_inset Formula $P_{0}\left(y\right)=\sum\limits _{j=0}^{\frac{n}{2}-1}a_{2j}y^{j}$
\end_inset

, 
\begin_inset Formula $P_{1}\left(y\right)=\sum\limits _{l=0}^{\frac{n}{2}-1}a_{2l+1}y^{l}$
\end_inset

 אזי 
\begin_inset Formula $P\left(z\right)=P_{0}\left(z^{2}\right)+zP_{1}\left(z^{2}\right)$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $P\left(z\right)=z^{3}-7z^{2}-3z+1$
\end_inset

.
\begin_inset Formula 
\[
P\left(z\right)=\left(-7z^{2}+1\right)+\left(z^{3}-3z\right)=\left(-7z^{2}\right)+z\left(z^{2}-3\right)=P_{0}\left(z^{2}\right)+zP_{1}\left(z^{2}\right)
\]

\end_inset


\end_layout

\begin_layout Proof
\begin_inset Formula 
\[
P_{0}\left(z^{2}\right)+zP_{1}\left(z^{2}\right)=\sum\limits _{j=0}^{\frac{n}{2}-1}a_{2j}z^{2j}+z\sum\limits _{l=0}^{\frac{n}{2}-1}a_{2l+1}z^{2l}=\sum\limits _{k=0}^{n-1}a_{k}z^{k}=P\left(z\right)
\]

\end_inset


\end_layout

\begin_layout Description
למה
\begin_inset Formula $\;$
\end_inset


\series bold
\numeric on
2
\family roman
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יהי 
\begin_inset Formula $n$
\end_inset

 מספר זוגי.
 לכל 
\begin_inset Formula $0\leq j\leq\frac{n}{2}-1$
\end_inset

 מתקיים 
\begin_inset Formula $\left(\em_{n}^{\frac{n}{2}+j}\right)^{2}=\left(\em_{n}^{j}\right)^{2}=\em_{\frac{n}{2}}^{j}$
\end_inset

, כלומר כשמעלים בריבוע את שורשי היחידה מסדר 
\begin_inset Formula $n$
\end_inset

 מקבלים )פעמיים( את שורשי היחידה מסדר 
\begin_inset Formula $\frac{n}{2}$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $n=4$
\end_inset

, 
\begin_inset Formula $\em_{n}=i$
\end_inset

.
 
\begin_inset Formula 
\begin{align*}
 & 1,i,-1,-i\\
 & 1^{2},i^{2},\left(-1\right)^{2},\left(-i\right)^{2}\\
= & 1,-1,1,-1
\end{align*}

\end_inset

כלומר פעמיים שורשי היחידה מסדר 
\begin_inset Formula $2$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula $\em_{\frac{n}{2}}=\cos\frac{4\pi}{n}+i\sin\frac{4\pi}{n}$
\end_inset

 וגם 
\begin_inset Formula $\em_{n}=\cos\frac{2\pi}{n}+i\sin\frac{2\pi}{n}$
\end_inset

.
 נשים לב כי 
\begin_inset Formula $\em_{n}^{2}=\em_{\frac{n}{2}}$
\end_inset

 )אפשר להציב פשוט( ולכן
\begin_inset Formula 
\[
\left(\em_{n}^{j}\right)^{2}=\em_{n}^{2j}=\left(\em_{n}^{2}\right)^{j}=\em_{\frac{n}{2}}^{j}
\]

\end_inset

ובאותו האופן
\begin_inset Formula 
\[
\left(\em_{n}^{\frac{n}{2}+j}\right)^{2}=\em_{n}^{n+2j}=\em_{n}^{n}\em_{n}^{2j}=\left(\em_{n}^{2}\right)^{j}=\em_{\frac{n}{2}}^{j}
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Separator plain
\end_inset


\end_layout

\begin_layout Proof
)של משפט ה-
\lang english
FFT
\lang hebrew
( מלמה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, ניתן לרשום את 
\begin_inset Formula $P\left(z\right)=P_{0}\left(z^{2}\right)+zP_{1}\left(z^{2}\right)$
\end_inset

 ולכן 
\begin_inset Formula 
\begin{align*}
\dft\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right) & =\left(\begin{smallmatrix}P\left(\em_{n}^{0}\right)\\
\vdots\\
P\left(\em_{n}^{n-1}\right)
\end{smallmatrix}\right)\\
 & =\left(\begin{smallmatrix}P_{0}\left(\left(\em_{n}^{0}\right)^{2}\right)+\em_{n}^{0}P_{1}\left(\left(\em_{n}^{0}\right)^{2}\right)\\
\vdots\\
P_{0}\left(\left(\em_{n}^{\frac{n}{2}-1}\right)^{2}\right)+\em_{n}^{\frac{n}{2}-1}P_{1}\left(\left(\em_{n}^{\frac{n}{2}-1}\right)^{2}\right)\\
\hline P_{0}\left(\left(\em_{n}^{\frac{n}{2}}\right)^{2}\right)+\em_{n}^{\frac{n}{2}}P_{1}\left(\left(\em_{n}^{\frac{n}{2}}\right)^{2}\right)\\
\vdots\\
P_{0}\left(\left(\em_{n}^{n-1}\right)^{2}\right)+\em_{n}^{n-1}P_{1}\left(\left(\em_{n}^{n-1}\right)^{2}\right)
\end{smallmatrix}\right)\\
 & \stackrel[\left(*\right)]{2\;\text{למה}}{=}\left(\begin{smallmatrix}P_{0}\left(\em_{\frac{n}{2}}^{0}\right)\\
\vdots\\
P_{0}\left(\em_{\frac{n}{2}}^{\frac{n}{2}-1}\right)\\
\hline P_{0}\left(\em_{\frac{n}{2}}^{0}\right)\\
\vdots\\
P_{0}\left(\em_{\frac{n}{2}}^{\frac{n}{2}-1}\right)
\end{smallmatrix}\right)+\left(\begin{smallmatrix}\em_{n}^{0}\\
\vdots\\
\em_{n}^{\frac{n}{2}-1}\\
\em_{n}^{\frac{n}{2}}\\
\vdots\\
\em_{n}^{n-1}
\end{smallmatrix}\right)\left(\begin{smallmatrix}P_{1}\left(\em_{\frac{n}{2}}^{0}\right)\\
\vdots\\
P_{1}\left(\em_{\frac{n}{2}}^{\frac{n}{2}-1}\right)\\
\hline P_{1}\left(\em_{\frac{n}{2}}^{0}\right)\\
\vdots\\
P_{1}\left(\em_{\frac{n}{2}}^{\frac{n}{2}-1}\right)
\end{smallmatrix}\right)
\end{align*}

\end_inset


\begin_inset Formula $\left(*\right)$
\end_inset

 מכפלת הוקטורים היא איבר איבר.
\end_layout

\begin_layout Proof
נזכור כי 
\begin_inset Formula $P_{0}\left(y\right)=\sum\limits _{j=0}^{\frac{n}{2}-1}a_{2j}y^{j}$
\end_inset

 הוא פולינום ב-
\begin_inset Formula $V_{\frac{n}{2}-1}$
\end_inset

 ולכן מהגדרת התמרת פורייה בדידה מתקיים 
\begin_inset Formula 
\[
\left(\begin{smallmatrix}P_{0}\left(\em_{\frac{n}{2}}^{0}\right)\\
\vdots\\
P_{0}\left(\em_{\frac{n}{2}}^{\frac{n}{2}-1}\right)
\end{smallmatrix}\right)=\textrm{DFT}_{\frac{n}{2}}\left(\begin{smallmatrix}a_{0}\\
a_{2}\\
\vdots\\
a_{n-2}
\end{smallmatrix}\right)
\]

\end_inset

באופן דומה 
\begin_inset Formula $\left(\begin{smallmatrix}P_{1}\left(\em_{\frac{n}{2}}^{0}\right)\\
\vdots\\
P_{1}\left(\em_{\frac{n}{2}}^{\frac{n}{2}-1}\right)
\end{smallmatrix}\right)=\textrm{DFT}_{\frac{n}{2}}\left(\begin{smallmatrix}a_{1}\\
a_{3}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)$
\end_inset

.
 לכן
\begin_inset Formula 
\[
\dft\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)=\left(\begin{array}{c}
\textrm{DFT}_{\frac{n}{2}}\left(\begin{smallmatrix}a_{0}\\
a_{2}\\
\vdots\\
a_{n-2}
\end{smallmatrix}\right)\\
\hline \textrm{DFT}_{\frac{n}{2}}\left(\begin{smallmatrix}a_{0}\\
a_{2}\\
\vdots\\
a_{n-2}
\end{smallmatrix}\right)
\end{array}\right)+\left(\begin{smallmatrix}\em_{n}^{0}\\
\vdots\\
\em_{n}^{n-1}
\end{smallmatrix}\right)\left(\begin{array}{c}
\textrm{DFT}_{\frac{n}{2}}\left(\begin{smallmatrix}a_{1}\\
a_{3}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)\\
\hline \textrm{DFT}_{\frac{n}{2}}\left(\begin{smallmatrix}a_{1}\\
a_{3}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)
\end{array}\right)
\]

\end_inset

כאשר המכפלה היא שוב איבר איבר.
 המשוואה הנ
\begin_inset Quotes erd
\end_inset

ל נותנת דרך ריקורסיבית לחישוב 
\begin_inset Formula $\dft\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)$
\end_inset

: נחשב את 
\begin_inset Formula $\textrm{DFT}_{\frac{n}{2}}\left(\begin{smallmatrix}a_{0}\\
a_{2}\\
\vdots\\
a_{n-2}
\end{smallmatrix}\right)$
\end_inset

 ואת 
\begin_inset Formula $\textrm{DFT}_{\frac{n}{2}}\left(\begin{smallmatrix}a_{1}\\
a_{3}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right)$
\end_inset

 ונשתמש בזהות הנ
\begin_inset Quotes erd
\end_inset

ל.
\end_layout

\begin_layout Proof
זמן הריצה: נסמן ב-
\begin_inset Formula $T\left(n\right)$
\end_inset

 את זמן הריצה לחישוב 
\begin_inset Formula $\dft$
\end_inset

 ונקבל 
\begin_inset Formula $T\left(n\right)\leq2T\left(\frac{n}{2}\right)+3n$
\end_inset

 )
\begin_inset Formula $n$
\end_inset

 פעולות העתקה, 
\begin_inset Formula $n$
\end_inset

 פעולות חיבור ו-
\begin_inset Formula $n$
\end_inset

 פעולות כפל( ולכן ממשפט האב 
\begin_inset Formula $T\left(n\right)=\oo{n\log n}$
\end_inset

.
\end_layout

\begin_layout Standard

\size larger
אלגוריתם יעיל לכפל פולינומים בייצוג המקדמים
\end_layout

\begin_layout Description
קלט שני פולינומים 
\begin_inset Formula $P,Q\in V_{n-1}$
\end_inset

 בייצוג המקדמים.
\end_layout

\begin_layout Description
פלט הפולינום 
\begin_inset Formula $V_{2n-2}\ni R=PQ$
\end_inset

 בייצוג המקדמים.
\end_layout

\begin_layout Standard
נסמן ב-
\begin_inset Formula $\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}
\end{smallmatrix}\right),\left(\begin{smallmatrix}b_{0}\\
\vdots\\
b_{n-1}
\end{smallmatrix}\right),\left(\begin{smallmatrix}c_{0}\\
\vdots\\
c_{2n-2}
\end{smallmatrix}\right)$
\end_inset

 ייצוגי המקדמים של 
\begin_inset Formula $P,Q,R$
\end_inset

 ו-
\begin_inset Formula $m$
\end_inset

 החזקה של 
\begin_inset Formula $2$
\end_inset

 הקטנה ביותר שגדולה מ-
\begin_inset Formula $2n-2$
\end_inset

 )כדי שיהיו מספיק נתונים, 
\begin_inset Formula $n-1$
\end_inset

 לא מספיק(.
\end_layout

\begin_layout Description
אלגוריתם
\end_layout

\begin_deeper
\begin_layout Enumerate
נגדיר 
\begin_inset Formula $\left(\begin{smallmatrix}p_{0}\\
\vdots\\
p_{m-1}
\end{smallmatrix}\right)=\textrm{DFT}_{m}\left(\begin{smallmatrix}a_{0}\\
\vdots\\
a_{n-1}\\
0\\
\vdots\\
0
\end{smallmatrix}\right)$
\end_inset

 ובאופן דומה 
\begin_inset Formula $\left(\begin{smallmatrix}q_{0}\\
\vdots\\
q_{m-1}
\end{smallmatrix}\right)=\textrm{DFT}_{m}\left(\begin{smallmatrix}b_{0}\\
\vdots\\
b_{n-1}\\
0\\
\vdots\\
0
\end{smallmatrix}\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
נחשב 
\begin_inset Formula $\left(\begin{smallmatrix}\tilde{c_{0}}\\
\vdots\\
\tilde{c}_{m-1}
\end{smallmatrix}\right)=\textrm{DFT}_{m}^{-1}\left(\begin{smallmatrix}p_{0}q_{0}\\
\vdots\\
p_{m-1}q_{m-1}
\end{smallmatrix}\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
נחזיר את 
\begin_inset Formula $\left(\begin{smallmatrix}\tilde{c_{0}}\\
\vdots\\
\tilde{c}_{2n-2}
\end{smallmatrix}\right)$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
טענה 
\end_layout

\begin_deeper
\begin_layout Enumerate
האלגוריתם מחזיר את הוקטור 
\begin_inset Formula $\left(\begin{smallmatrix}c_{0}\\
\vdots\\
c_{2n-2}
\end{smallmatrix}\right)$
\end_inset

 כלומר את וקטור המקדמים של 
\begin_inset Formula $R$
\end_inset

.
\end_layout

\begin_layout Enumerate
זמן הריצה של האלג' הוא 
\begin_inset Formula $\oo{n\log n}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
\begin_inset Formula $\;$
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
יהי 
\begin_inset Formula $\em_{n}$
\end_inset

 שורש היחידה הפרימיטיבי מסדר 
\begin_inset Formula $m$
\end_inset

.
 נסמן 
\begin_inset Formula $z_{k}=\em_{m}^{k}$
\end_inset

 לכל 
\begin_inset Formula $k$
\end_inset

.
 לכן מההגדרה של 
\begin_inset Formula $\textrm{DFT}_{m}$
\end_inset

 מתקיים
\begin_inset Formula 
\[
\left(\begin{smallmatrix}q_{0}\\
\vdots\\
q_{m-1}
\end{smallmatrix}\right)=\left(\begin{smallmatrix}Q\left(z_{0}\right)\\
\vdots\\
Q\left(z_{m-1}\right)
\end{smallmatrix}\right),\;\;\left(\begin{smallmatrix}p_{0}\\
\vdots\\
p_{m-1}
\end{smallmatrix}\right)=\left(\begin{smallmatrix}P\left(z_{0}\right)\\
\vdots\\
P\left(z_{m-1}\right)
\end{smallmatrix}\right)
\]

\end_inset

ולכן 
\begin_inset Formula $\left(\begin{smallmatrix}p_{0}q_{0}\\
\vdots\\
p_{m-1}q_{m-1}
\end{smallmatrix}\right)=\left(\begin{smallmatrix}R\left(z_{0}\right)\\
\vdots\\
R\left(z_{m-1}\right)
\end{smallmatrix}\right)$
\end_inset

 מהטענה שראינו )ומכך ש-
\begin_inset Formula $m\ge2n-2$
\end_inset

( מתקיים ש-
\begin_inset Formula $R$
\end_inset

 הוא הפולינום היחיד ממעלה 
\begin_inset Formula $m-1\geq$
\end_inset

 המקבל את הערכים 
\begin_inset Formula $\left(\begin{smallmatrix}p_{0}q_{0}\\
\vdots\\
p_{m-1}q_{m-1}
\end{smallmatrix}\right)$
\end_inset

 ולכן 
\begin_inset Formula $\textrm{DFT}_{m}^{-1}\left(\begin{smallmatrix}p_{0}q_{0}\\
\vdots\\
p_{m-1}q_{m-1}
\end{smallmatrix}\right)=\left(\begin{smallmatrix}c_{0}\\
\vdots\\
c_{2n-2}\\
0\\
\vdots\\
0
\end{smallmatrix}\right)$
\end_inset

 ולכן בצעד השלישי של האלג' נחזיר את הוקטור 
\begin_inset Formula $\left(\begin{smallmatrix}c_{0}\\
\vdots\\
c_{2n-2}
\end{smallmatrix}\right)=\left(\begin{smallmatrix}\tilde{c_{0}}\\
\vdots\\
\tilde{c}_{2n-2}
\end{smallmatrix}\right)$
\end_inset

 שהוא וקטור המקדמים של 
\begin_inset Formula $R$
\end_inset

.
\end_layout

\begin_layout Enumerate
לפי משפט ה-
\lang english
FFT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 זמן הריצה של האלג' הוא 
\begin_inset Formula $\oo{m\log m}$
\end_inset

.
 נשים לב כי מתקיים 
\begin_inset Formula $\frac{m}{2}\leq2n-2$
\end_inset

 ממינימליות 
\begin_inset Formula $m$
\end_inset

 ולכן 
\begin_inset Formula $m\leq4n-4$
\end_inset

 ולכן זמן הריצה הוא 
\begin_inset Formula $\oo{n\log n}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
הצפנה
\end_layout

\begin_layout Standard
נתונים שני אנשים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
A(lice), B(ob)
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שרוצים לתקשר אחד עם השני בלי שאחרים יוכלו לפענח אותה את ההודעות שלהם בדרך.
 פורמלית, 
\begin_inset Formula $A$
\end_inset

 שולחת ל-
\begin_inset Formula $B$
\end_inset

 הודעה 
\begin_inset Formula $m$
\end_inset

, מצפינה אותה להודעה 
\begin_inset Formula $m'$
\end_inset

 ו-
\begin_inset Formula $B$
\end_inset

 מפענח אותה בחזרה ל-
\begin_inset Formula $m$
\end_inset

.
\end_layout

\begin_layout Standard
ההצפנה הקלאסית היא להצפין באמצעות מפתחות הצפנה ופענוח סודיים המגדירים פ'
 הצפנה ופענוח סודיות 
\begin_inset Formula $f_{E}:M\to M'$
\end_inset

 ממרחב ההודעות להצפנות ו-
\begin_inset Formula $f_{D}:M'\to M$
\end_inset

 כך שלכל 
\begin_inset Formula $m\in M$
\end_inset

 מתקיים 
\begin_inset Formula $f_{D}\left(f_{E}\left(m\right)\right)=m$
\end_inset

.
 זה נקרא הצפנה סימטרית.
\end_layout

\begin_layout Standard
דוגמה לכך היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
OTP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\lang english
One Time Pad
\lang hebrew
(, כלומר הגרלת סדרת ביטים אקראיית שמבצעים לה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
XOR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם ההודעה להצפנה )וגם לפענוח(.
\end_layout

\begin_layout Standard
רעיון ההצפנה הפומבית הוצע לראשונה ב-
\numeric on
1977
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ע
\begin_inset Quotes erd
\end_inset

י
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Diffie & Hellman
\lang hebrew
, כאשר אלו הציבו דרישות להצפנה פומבית: לכל משתמש יש מפתח הצפנה פומבי )ולכן
 פ' הצפנה פומבית( ומפתח הצפנה סודי )המתאים לפ' פענוח סודית(.
 כולם יכולים לשלוח ל-
\begin_inset Formula $B$
\end_inset

 הודעות מוצפנות שרק 
\begin_inset Formula $B$
\end_inset

 יודע לפענח.
 נרצה גם ש-
\begin_inset Formula $M=M'$
\end_inset

 ולכן הפ' 
\begin_inset Formula $f_{E}:M\to M$
\end_inset

 היא פ' חח
\begin_inset Quotes erd
\end_inset

ע ושיתקיים 
\begin_inset Formula $f_{E}\left(f_{D}\left(m\right)\right)=f_{D}\left(f_{E}\left(m\right)\right)=m$
\end_inset

.
\end_layout

\begin_layout Standard
ב-
\numeric on
1978
\numeric off
 
\lang english
RSA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הציעו את שיטת ההצפנה הפומבית הפופולרית ביותר כיום.
 יש מעט מאוד שיטות להצפנה פומבית ואף אחת מהן לא הוכחה באופן פורמלי ומתבססות
 על היוריסטיקה )הנחה בלתי מוכחת שטרם הופרכה(.
\end_layout

\begin_layout Standard

\size larger
שימושים להצפנה פומבית
\end_layout

\begin_layout Enumerate
\begin_inset Quotes eld
\end_inset

ספר טלפונים
\begin_inset Quotes erd
\end_inset

 של מפתחות פומביים.
 כל משתמש מכניס לרשימה את מפתח ההצפנה הפומבי שלו.
 כולם יכולים לשלוח לכולם הודעות מוצפנות.
\end_layout

\begin_layout Enumerate
\begin_inset Quotes eld
\end_inset

חתימה דיגיטלית
\begin_inset Quotes erd
\end_inset

.
 אם 
\begin_inset Formula $A$
\end_inset

 רוצה לחתום על הודעה 
\begin_inset Formula $m$
\end_inset

 היא מפרסמת את הזוג 
\begin_inset Formula $\left(m,f_{D}\left(m\right)\right)$
\end_inset

.
 כולם יכולים לוודא ש-
\begin_inset Newline newline
\end_inset


\begin_inset Formula $f_{E}\left(f_{D}\left(m\right)\right)=m$
\end_inset

 אבל רק 
\begin_inset Formula $A$
\end_inset

 יכולה לחתום.
\end_layout

\begin_layout Standard
נניח ש-
\begin_inset Formula $M=\left\{ 0\leq m\leq2^{1000}-1\right\} $
\end_inset

 )כל המספרים באורך 
\begin_inset Formula $1000$
\end_inset

 ביטים(.
 נרצה 
\begin_inset Formula $f_{E}:M\to M$
\end_inset

 קלה לחישוב אך קשה להיפוך.
\end_layout

\begin_layout Description
דוגמה עבור 
\begin_inset Formula $N\sim2^{1000}$
\end_inset

, 
\begin_inset Formula $f_{E}\left(m\right)=m^{2}\mod N$
\end_inset

 היא פ' קשה להיפוך שהוצעה על ידי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Rabbin
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 )שעבד בהמשך גם עם 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Karp
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על אלג'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Rabbin-Karp
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- כמה מקורי - למציאת מחרוזות ברצף מחרוזות בדומה לזה שראינו בתרגיל( אבל זה
 לא תפס.
\end_layout

\begin_layout Standard

\size larger
שיטת ההצפנה הפומבית של
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RSA
\end_layout

\begin_layout Description
אלגוריתם
\end_layout

\begin_deeper
\begin_layout Enumerate
נגריל מספרים ראשוניים 
\begin_inset Formula $p,q\sim2^{500}$
\end_inset

 ונגדיר 
\begin_inset Formula $N=pq$
\end_inset

 ו-
\begin_inset Formula $M=\left\{ 0,\dots,N-1\right\} $
\end_inset

.
\end_layout

\begin_layout Enumerate
נמצא 
\begin_inset Formula $e$
\end_inset

 הזר ל-
\begin_inset Formula $\left(p-1\right)\left(q-1\right)$
\end_inset

 )שיהיה יחסית קטן, 
\begin_inset Formula $e\sim\textrm{polylog}N$
\end_inset

 כלומר פולינומיאלי ב-
\begin_inset Formula $\log N$
\end_inset

(.
\end_layout

\begin_layout Enumerate
נמצא 
\begin_inset Formula $d=e^{-1}\mod\left(p-1\right)\left(q-1\right)$
\end_inset

 כלומר 
\begin_inset Formula $0\leq d\leq N-1$
\end_inset

 כך ש-
\begin_inset Formula $de=1\mod\left(p-1\right)\left(q-1\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
נפרסם את 
\begin_inset Formula $\left(N,e\right)$
\end_inset

 כמפתח הצפנה פומבי ונשמור את 
\begin_inset Formula $d$
\end_inset

 כמפתח פענוח סודי.
\end_layout

\end_deeper
\begin_layout Description
שימוש פ' ההצפנה היא 
\begin_inset Formula $f_{E}\left(e\right)=x^{e}\mod N$
\end_inset

 ופ' הפענוח היא 
\begin_inset Formula $f_{D}\left(y\right)=y^{d}\mod N$
\end_inset

.
\end_layout

\begin_layout Description
הערה הקושי בהפיכת 
\begin_inset Formula $f_{E}$
\end_inset

 טמון בכך שתוקף לא יודע מה הם 
\begin_inset Formula $p,q$
\end_inset

 כי מאוד קשה לפענח מה הם מ-
\begin_inset Formula $N$
\end_inset

.
 מחשב קוואנטי כן יכול לפרוץ זאת כי הוא יודע לכפול וקטור במטריצה אורתוגנולית
 
\begin_inset Formula $n\times n$
\end_inset

 ב-
\begin_inset Formula $\ot{\log n}$
\end_inset

 )ממש יעיל( ואילו האלג' של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Shor
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לפירוק לגורמים ראשוניים משתמש במטריצה אורתוג' כנ
\begin_inset Quotes erd
\end_inset

ל.
\end_layout

\begin_layout Standard

\color lightgray
חלק ב' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le132}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size larger
שאלות מתמטיות
\end_layout

\begin_layout Enumerate
למה קיימים 
\begin_inset Formula $p,q$
\end_inset

 כאלה?
\end_layout

\begin_layout Enumerate
למה קיים 
\begin_inset Formula $e$
\end_inset

 כזה?
\end_layout

\begin_layout Enumerate
למה קיים 
\begin_inset Formula $d$
\end_inset

 כזה )ולמה הוא יחיד(?
\end_layout

\begin_layout Enumerate
למה לכל 
\begin_inset Formula $x\in M$
\end_inset

 מתקיים 
\begin_inset Formula $f_{E}\left(f_{D}\left(x\right)\right)=f_{D}\left(f_{E}\left(x\right)\right)=x$
\end_inset

?
\end_layout

\begin_layout Standard

\size larger
שאלות אלגוריתמיות
\end_layout

\begin_layout Enumerate
איך ניתן למצוא 
\begin_inset Formula $p,q$
\end_inset

 באופן יעיל ואיך נוודא שהמספרים שמצאנו ראשוניים )אלגוריתם מילר-רבין(.
\end_layout

\begin_layout Enumerate
איך ניתן למצוא 
\begin_inset Formula $e$
\end_inset

 באופן יעיל?
\end_layout

\begin_layout Enumerate
איך ניתן למצוא 
\begin_inset Formula $d$
\end_inset

 באופן יעיל?
\end_layout

\begin_layout Enumerate
האם ניתן לחשב את 
\begin_inset Formula $f_{E},f_{D}$
\end_inset

 באופן יעיל?
\end_layout

\begin_layout Standard
החלק המתמטי מבוסס על תורת המספרים האלמנטרית )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1knUB1k7hoIr5ZG8GStGic3AcuFvgE9sh/view?usp=sh
aring}{סיכום שלי ברמה נמוכה מאוד}
\end_layout

\end_inset

( ברובה ובעיקר על אריתמטיקה מודולרית.
\end_layout

\begin_layout Standard

\end_layout

\begin_layout Description
טענה )חילוק עם שארית( בהינתן שני מספרים טבעיים 
\begin_inset Formula $a,b$
\end_inset

 כך ש-
\begin_inset Formula $b\neq0$
\end_inset

, ניתן לחלק את 
\begin_inset Formula $a$
\end_inset

 ב-
\begin_inset Formula $b$
\end_inset

 עם שארית, כלומר לרשום 
\begin_inset Formula $a=qb+r$
\end_inset

 כאשר 
\begin_inset Formula $0\leq r<b$
\end_inset

.
 הדרך לרשום היא יחידה.
 
\begin_inset Formula $q$
\end_inset

 נקראת המנה ו-
\begin_inset Formula $r$
\end_inset

 השארית.
\end_layout

\begin_layout Description
הגדרה בהינתן 
\begin_inset Formula $b\geq2$
\end_inset

, נגדיר 
\begin_inset Formula $\mod b:\mathbb{N}\to\left\{ 0,\dots,b-1\right\} $
\end_inset

 באופן הבא: עבור 
\begin_inset Formula $a\in\mathbb{N}$
\end_inset

 נחלק את 
\begin_inset Formula $a$
\end_inset

 ב-
\begin_inset Formula $b$
\end_inset

 עם שארית 
\begin_inset Formula $a=qb+r$
\end_inset

 ונגדיר 
\begin_inset Formula $\left(\textrm{mod}\;b\right)\left(a\right)=r$
\end_inset

.
 מסיבות הסיטוריות נרשום 
\begin_inset Formula $a\mod b=r$
\end_inset

.
\end_layout

\begin_layout Standard
בהינתן 
\begin_inset Formula $a$
\end_inset

 ו-
\begin_inset Formula $b$
\end_inset

 ניתן לחשב את 
\begin_inset Formula $a\mod b$
\end_inset

 באופן יעיל )בזמן פולינומיאלי באורכי הייצוגים של 
\begin_inset Formula $a$
\end_inset

 ו-
\begin_inset Formula $b$
\end_inset

(.
\end_layout

\begin_layout Description
סימון נרשום 
\begin_inset Formula $a\equiv c\mod b$
\end_inset

 כדי להגיד ש-
\begin_inset Formula $a\mod b=c\mod b$
\end_inset

.
\end_layout

\begin_layout Description
טענה 
\begin_inset Formula $a\equiv c\mod b$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם 
\begin_inset Formula $a-c$
\end_inset

 מתחלק ב-
\begin_inset Formula $b$
\end_inset

.
\end_layout

\begin_layout Standard

\size larger
תכונות מודולו
\end_layout

\begin_layout Standard
יהיו 
\begin_inset Formula $a,b,c$
\end_inset

 כאשר 
\begin_inset Formula $b\neq0$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\left(a+c\right)\mod b=\left(a\mod b+c\mod b\right)\mod b$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $ac\mod b=\left(a\mod b\cdot c\mod b\right)\mod b$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $\left(2022\right)^{22}\overset{\left(*\right)}{\equiv}9^{22}=81^{11}\equiv4^{11}=4\cdot16^{5}\equiv4\cdot5^{5}=\ldots$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Formula $\left(*\right)$
\end_inset

 
\begin_inset Formula $2000=20\cdot100\equiv9\mod9$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
הגדרות מתורת המספרים האלמנטרית
\end_layout

\begin_layout Description
הגדרה 
\bar under
המחלק המשותף המקסימלי
\bar default

\begin_inset space ~
\end_inset

של 
\begin_inset Formula $a,b$
\end_inset

 הוא המספר הגדול ביותר המחלק גם את 
\begin_inset Formula $a$
\end_inset

 וגם את 
\begin_inset Formula $b$
\end_inset

.
 נסמן אותו ב-
\begin_inset Formula $\gcd\left(a,b\right)$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $\gcd\left(24,16\right)=8$
\end_inset

.
\end_layout

\begin_layout Standard
ניתן לחשב את 
\begin_inset Formula $\gcd\left(a,b\right)$
\end_inset

 באופן יעיל, כלומר בזמן פולינומיאלי באורכי הייצוגים )באמצעות אלג' אוקלידס(.
\end_layout

\begin_layout Description
הגדרה 
\begin_inset Formula $a,b$
\end_inset

 נקראים 
\bar under
זרים
\bar default
 אם 
\begin_inset Formula $\gcd\left(a,b\right)=1$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $\gcd\left(40,21\right)=1$
\end_inset

 ולכן הם זרים.
\end_layout

\begin_layout Description
הגדרה 
\begin_inset Formula $p$
\end_inset

 הוא 
\bar under
ראשוני
\bar default
 אם 
\begin_inset Formula $p$
\end_inset

 מתחלק רק בעצמו וב-
\begin_inset Formula $1$
\end_inset

.
\end_layout

\begin_layout Description
טענה )המשפט היסודי של האריתמטיקה( לכל 
\begin_inset Formula $a\in\mathbb{N}$
\end_inset

 ניתן להציג את 
\begin_inset Formula $a$
\end_inset

 כמכפלת חזקות של מספרים ראשוניים 
\begin_inset Formula $a=p_{1}^{s_{1}}\cdot\ldots p_{k}^{s_{k}}$
\end_inset

 כאשר 
\begin_inset Formula $p_{i}$
\end_inset

 ראשוניים ו-
\begin_inset Formula $s_{i}$
\end_inset

 טבעיים.
\end_layout

\begin_layout Description
טענה 
\begin_inset Formula $a,b$
\end_inset

 זרים זה לזה אם אין מספר ראשוני המשותף בפירוק של שניהם לגורמים ראשוניים.
\end_layout

\begin_layout Description
דוגמה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $21=3\cdot7,40=2^{3}\cdot5$
\end_inset

.
\end_layout

\begin_layout Description
משפט )התפלגות הראשוניים, צ'בישב( לכל 
\begin_inset Formula $a\in\mathbb{N}$
\end_inset

, נגדיר 
\begin_inset Formula $\pi\left(a\right)=\left|\left\{ 2\leq p\leq a:\text{ראשוני}\;p\right\} \right|\sim\frac{a}{\log a}$
\end_inset

 כלומר 
\begin_inset Formula $\lim\limits _{a\to\infty}\frac{\pi\left(a\right)}{\frac{a}{\log a}}=1$
\end_inset

.
\end_layout

\begin_layout Standard
על סמך המשפט נוכל לבצע את השלב הראשון באלג' של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RSA
\lang hebrew
.
 נגריל מספר בן 
\begin_inset Formula $k$
\end_inset

 ביטים )ע
\begin_inset Quotes erd
\end_inset

י הגרלת 
\begin_inset Formula $k$
\end_inset

 ביטים באופן ב
\begin_inset Quotes erd
\end_inset

ת( ונבדוק באמצעות משפט מילר-רבין האם המספר שהגרלנו ראשוני.
 לפי המשפט הסיכוי להגריל ראשוני הוא 
\begin_inset Formula $\frac{1}{\log2^{k}}=\frac{1}{k\log2}$
\end_inset

 ולכן אחרי 
\begin_inset Formula $\oo k$
\end_inset

 נסיונות נקבל ראשוני בסיכוי גדול.
\end_layout

\begin_layout Description
הערה הסיכוי שהמספר יהיה גדול הוא גבוה כי כדי שהוא לא יהיה, נדרש שכל הביטים
 הגבוהים שלו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וזה קורה בהסת' נמוכה.
\end_layout

\begin_layout Standard
נוכל לבצע גם את השלב השני באלג'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RSA
\lang hebrew
.
 נגריל 
\begin_inset Formula $e$
\end_inset

 ונבדוק האם הוא ראשוני.
 אחרי 
\begin_inset Formula $\oo k$
\end_inset

 נסיונות נמצא ראשוני בסיכוי גבוה.
 בסיכוי גבוה הוא לא יחלק את 
\begin_inset Formula $\left(p-1\right)\left(q-1\right)$
\end_inset

 ולכן יהיה זר לו )מספר המספרים הראשוניים שלא זרים ל-
\begin_inset Formula $\left(p-1\right)\left(q-1\right)$
\end_inset

 הוא מספר הגורמים הראשוניים השונים בפירוק לגורמים, שזה מעט מאוד יחסית לסדרי
 הגודל שלנו(.
\end_layout

\begin_layout Subsection
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
texorpdfstring{
\backslash
protect
\backslash
hypertarget{ta13}{תרגול}}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
במהלך רוב התרגול, נניח כי 
\begin_inset Formula $0\in\mathbb{N}$
\end_inset

.
\end_layout

\begin_layout Standard

\size larger
פעולות על מספרים
\end_layout

\begin_layout Enumerate
חיבור - 
\begin_inset Formula $\oo k$
\end_inset


\end_layout

\begin_layout Enumerate
כפל וחילוק )ארוך( - 
\begin_inset Formula $\oo{k^{2}}$
\end_inset

.
\end_layout

\begin_layout Enumerate
חישוב מודולו )
\begin_inset Formula $a\mod b=a-\lfloor\frac{a}{b}\rfloor b$
\end_inset

( - 
\begin_inset Formula $\oo{k^{2}}$
\end_inset


\end_layout

\begin_layout Enumerate
העלאה בחזקה.
 נחשב את 
\begin_inset Formula $a\mod b$
\end_inset

, 
\begin_inset Formula $a^{2}\mod b=\left(a\mod b\right)\left(a\mod b\right)\mod b$
\end_inset

 ושאר חזקות של חזקות של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
.
 מכאן נכפיל את 
\begin_inset Formula $a^{2^{i}}$
\end_inset

 לכל 
\begin_inset Formula $i$
\end_inset

 שעבורו הביט ה-
\begin_inset Formula $i$
\end_inset

 הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
 לדוגמה 
\begin_inset Formula $2^{11}=2^{8}2^{2}2^{1}$
\end_inset

.
 
\begin_inset Formula $\oo{k^{3}}$
\end_inset

 )מבצעים 
\begin_inset Formula $k$
\end_inset

 פעולות כפל, ואז שוב עוד לכל היותר 
\begin_inset Formula $k$
\end_inset

 פעולות כפל(.
\end_layout

\begin_layout Description
הגדרה בהינתן 
\begin_inset Formula $a,b\in\fldn$
\end_inset

, נאמר כי 
\begin_inset Formula $b$
\end_inset

 
\bar under
מחלק
\bar default
 את 
\begin_inset Formula $a$
\end_inset

 ונסמן 
\begin_inset Formula $b\mid a$
\end_inset

 אם קיים 
\begin_inset Formula $k\in\fldn$
\end_inset

 כך ש-
\begin_inset Formula $kb=a$
\end_inset

.
\end_layout

\begin_layout Standard
סקרנו הגדרות נוספות שהופיעו בחלק ב' של ההרצאה.
\end_layout

\begin_layout Description
הערה 
\begin_inset Formula $0$
\end_inset

 מתחלק בכל מספר שלם אבל אף מספר )אולי פרט ל-
\numeric on
0
\numeric off
( אינו מתחלק ב-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן 
\begin_inset Formula $\gcd\left(a,0\right)=a$
\end_inset

, 
\begin_inset Formula $\forall a\geq0$
\end_inset

 ו-
\begin_inset Formula $\gcd\left(0,0\right)=\text{לא מוגדר}$
\end_inset

.
\end_layout

\begin_layout Description
טענה לכל 
\begin_inset Formula $a\geq b\in\fldn$
\end_inset

, 
\begin_inset Formula $\gcd\left(a,b\right)=\gcd\left(b,a\mod b\right)$
\end_inset

.
\end_layout

\begin_layout Description
הערה את כל ההוכחות הקרובות אנחנו סתם מוכיחים בריגורוזיות בלתי קריאה, אנחנו
 בעצם משתמשים כל הזמן בתכונה שאם 
\begin_inset Formula $d\mid x,y$
\end_inset

 אז 
\begin_inset Formula $d\mid x+y$
\end_inset

.
\end_layout

\begin_layout Proof
נסמן 
\begin_inset Formula $d=\gcd\left(a,b\right)$
\end_inset

, 
\begin_inset Formula $d'=\gcd\left(b,a\mod b\right)$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
נוכיח כי 
\begin_inset Formula $d\mid a\mod b$
\end_inset

.
 קיימים 
\begin_inset Formula $k_{1},k_{2}$
\end_inset

 כך ש-
\begin_inset Formula $k_{1}d=a,k_{2}d=b$
\end_inset

 ולכן
\begin_inset Formula 
\[
a\mod b=a-\lfloor\frac{a}{b}\rfloor b=dk_{1}-\lfloor\frac{a}{b}\rfloor dk_{2}=d\left(k_{1}-\lfloor\frac{a}{b}\rfloor k_{2}\right)
\]

\end_inset

ולכן 
\begin_inset Formula $d\mid a\mod b$
\end_inset

.
 לכן 
\begin_inset Formula $d\leq d'$
\end_inset

 )
\begin_inset Formula $d'$
\end_inset

 מחלק משותף מקסימלי של 
\begin_inset Formula $a,a\mod b$
\end_inset

 ו-
\begin_inset Formula $d$
\end_inset

 סתם מחלק אותם(.
\end_layout

\begin_layout Standard
נוכיח כי 
\begin_inset Formula $d'\mid a$
\end_inset

.
\end_layout

\begin_layout Standard
קיימים 
\begin_inset Formula $k_{3},k_{4}$
\end_inset

 כך ש-
\begin_inset Formula $k_{3}d'=b$
\end_inset

, 
\begin_inset Formula $k_{4}d'=a\mod b$
\end_inset

 ולכן
\begin_inset Formula 
\begin{align*}
a & =a\mod b+\lfloor\frac{a}{b}\rfloor b=k_{4}d'+\lfloor\frac{a}{b}\rfloor k_{3}d'\\
 & =d'\left(k_{4}+\lfloor\frac{a}{b}\rfloor k_{3}\right)
\end{align*}

\end_inset

ולכן 
\begin_inset Formula $d'\mid a$
\end_inset

.
 לכן 
\begin_inset Formula $d'\leq d$
\end_inset

 )
\begin_inset Formula $d'$
\end_inset

 מחלק משותף מקסימלי של 
\begin_inset Formula $a,b$
\end_inset

 ו-
\begin_inset Formula $d$
\end_inset

 סתם מחלק אותם(.
\end_layout

\begin_layout Standard
לכן לסיכום 
\begin_inset Formula $d=d'$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
טענה יהיו 
\begin_inset Formula $a,b\in\fldn$
\end_inset

.
 
\begin_inset Formula $S=\left\{ ax+by:x,y\in\mathbb{Z},ax+by\geq1\right\} $
\end_inset

 אזי 
\begin_inset Formula $\gcd\left(a,b\right)=\min S$
\end_inset

.
\end_layout

\begin_layout Proof
נסמן 
\begin_inset Formula $t=\gcd\left(a,b\right)$
\end_inset

 וכן 
\begin_inset Formula $z=\min S$
\end_inset

.
\end_layout

\begin_layout Proof
נוכיח כי 
\begin_inset Formula $t\leq z$
\end_inset

.
 לשם כך נראה כי 
\begin_inset Formula $t\mid z$
\end_inset

.
 קיימים 
\begin_inset Formula $k_{5},k_{6}$
\end_inset

 כך ש-
\begin_inset Formula $a=k_{5}t,b=k_{6}t$
\end_inset

.
 נשים לב כי 
\begin_inset Formula $z$
\end_inset

 מהצורה 
\begin_inset Formula $ax+by$
\end_inset

 עבור 
\begin_inset Formula $x,y\in\mathbb{Z}$
\end_inset

 כלשהם ולכן 
\begin_inset Formula 
\[
z=ax+by=k_{5}tx+k_{6}ty=t\left(k_{5}x+k_{6}y\right)
\]

\end_inset


\end_layout

\begin_layout Proof
נוכיח כי 
\begin_inset Formula $z\leq t$
\end_inset

.
 לשם כך נראה כי 
\begin_inset Formula $z$
\end_inset

 מחלק משותף של 
\begin_inset Formula $a,b$
\end_inset

, וממקסימליות 
\begin_inset Formula $t$
\end_inset

 ינבע כי 
\begin_inset Formula $z\leq t$
\end_inset

.
\end_layout

\begin_layout Proof
ברור כי 
\begin_inset Formula $z\leq a$
\end_inset

 )
\begin_inset Formula $a\cdot1+b\cdot0\in S$
\end_inset

 ו-
\begin_inset Formula $z$
\end_inset

 מינימלי(.
 נחלק את 
\begin_inset Formula $a$
\end_inset

 ב-
\begin_inset Formula $z$
\end_inset

 עם שארית, 
\begin_inset Formula $a=kz+r$
\end_inset

, 
\begin_inset Formula $r<z$
\end_inset

.
 נוכיח כי 
\begin_inset Formula $r=0$
\end_inset

 ונסיים.
\end_layout

\begin_layout Proof
נניח בשלילה כי 
\begin_inset Formula $r>0$
\end_inset

, כלומר 
\begin_inset Formula $r\geq1$
\end_inset

,
\begin_inset Formula 
\[
r=a-kz=a-\left(ax+by\right)k=a\left(1-kx\right)+b\left(-yk\right)\in S
\]

\end_inset

ולכן 
\begin_inset Formula $r\in S$
\end_inset

 כי 
\begin_inset Formula $r\geq1$
\end_inset

 ומהצורה 
\begin_inset Formula $ax'+by'$
\end_inset

 אבל 
\begin_inset Formula $r<z$
\end_inset

 בסתירה למינימליות ולכן 
\begin_inset Formula $z\mid a$
\end_inset

.
\end_layout

\begin_layout Proof
באותו האופן ניתן להוכיח כי 
\begin_inset Formula $z\mid b$
\end_inset

 ולכן 
\begin_inset Formula $z\leq t$
\end_inset

.
\end_layout

\begin_layout Proof
לסיכום 
\begin_inset Formula $z=t$
\end_inset

.
\end_layout

\begin_layout Standard

\size larger
אלגוריתם אוקלידס המורחב )
\lang english
EE
\lang hebrew
(
\end_layout

\begin_layout Description
קלט 
\begin_inset Formula $a\leq b\in\fldn$
\end_inset

.
\end_layout

\begin_layout Description
פלט 
\begin_inset Formula $\left(g,x,y\right)$
\end_inset

 כך ש-
\begin_inset Formula $g=\gcd\left(a,b\right)=ax+by$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה יהיו 
\begin_inset Formula $a,n\in\fldn$
\end_inset

 מספרים זרים.
 אז ה
\bar under
הופכי הכפלי
\bar default
 של 
\begin_inset Formula $a$
\end_inset

 מודולו 
\begin_inset Formula $n$
\end_inset

 הוא מספר 
\begin_inset Formula $p\in\fldn$
\end_inset

 כך ש-
\begin_inset Formula $ap\mod n=1$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $a=4,n=7$
\end_inset

 אז 
\begin_inset Formula $p=2$
\end_inset

.
 אם 
\begin_inset Formula $a=0,n=20$
\end_inset

 אז 
\begin_inset Formula $p=9$
\end_inset

.
 אם 
\begin_inset Formula $a=6,n=9$
\end_inset

 אז אין 
\begin_inset Formula $p$
\end_inset

 כזה.
\end_layout

\begin_layout Description
הערה אם 
\begin_inset Formula $a,n$
\end_inset

 זרים אזי 
\begin_inset Formula $1=\gcd\left(a,n\right)=ax+ny$
\end_inset

.
 
\begin_inset Formula $x$
\end_inset

 הוא ההופכי הכפלי של 
\begin_inset Formula $a$
\end_inset

 מודולו 
\begin_inset Formula $n$
\end_inset

 כי 
\begin_inset Formula $ax\mod n=ax+ny\mod n=1$
\end_inset

.
\end_layout

\begin_layout Description
פסאודו-קוד
\end_layout

\begin_deeper
\begin_layout Enumerate
אם 
\begin_inset Formula $b=0$
\end_inset

 נחזיר 
\begin_inset Formula $\left(a,1,0\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
אחרת נחשב 
\begin_inset Formula $\left(g',x',y'\right)=\textrm{EE}\left(b,a\mod b\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
נחזיר 
\begin_inset Formula $\left(g',y',x'-\lfloor\frac{a}{b}\rfloor y'\right)$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
דוגמה 
\begin_inset Formula 
\[
\begin{array}{cccc}
EE\left(117,91\right) & = & \left(13,-3,1-\left(-3\right)\lfloor\frac{117}{91}\rfloor\right) & =\left(13,-3,4\right)\\
\downarrow\\
EE\left(91,26\right) &  & \left(13,1,0-1\cdot\lfloor\frac{91}{26}\rfloor\right) & =\left(13,1,-3\right)\\
\downarrow\\
EE\left(26,13\right) & = & \left(13,0,1-0\cdot\lfloor\frac{26}{13}\rfloor\right) & =\left(13,0,1\right)\\
\downarrow\\
EE\left(13,0\right) & = & \left(13,1,0\right)
\end{array}
\]

\end_inset

ולכן 
\begin_inset Formula $\gcd\left(117,91\right)=13=-3\cdot117+4\cdot91$
\end_inset

.
\end_layout

\begin_layout Description
משפט
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
EE
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מחזיר 
\begin_inset Formula $\left(g,x,y\right)$
\end_inset

 כרצוי.
\end_layout

\begin_layout Proof
באינדוקציה שלמה על 
\begin_inset Formula $b$
\end_inset

:
\end_layout

\begin_layout Proof
בסיס )
\begin_inset Formula $b=0$
\end_inset

(: 
\begin_inset Formula $\gcd\left(a,b\right)=\gcd\left(a,0\right)=a\cdot1+b\cdot0$
\end_inset

 ואכן 
\begin_inset Formula $\left(a,1,0\right)$
\end_inset

.
\end_layout

\begin_layout Proof
צעד )
\begin_inset Formula $0,\dots,b-1\to b$
\end_inset

(:
\begin_inset Formula 
\begin{align*}
\gcd\left(a,b\right) & =\gcd\left(b,a\mod b\right)=g'\\
 & \overset{\text{ה"א}}{=}bx'+\left(a\mod b\right)y'\\
 & =bx'+\left(a-\lfloor\frac{a}{b}\rfloor\right)y'
\end{align*}

\end_inset

ולכן 
\begin_inset Formula $\left(g,x,y\right)=\left(g'y',x'-\lfloor\frac{a}{b}\rfloor y'\right)$
\end_inset

 כמוחזר באלג'.
\end_layout

\begin_layout Description
טענה האלג'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
EE
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מבצע לכל היותר 
\begin_inset Formula $2\log b$
\end_inset

 קריאות ריקורסיביות.
\end_layout

\begin_layout Proof
נחלק ל-
\begin_inset Formula $2$
\end_inset

 מקרים:
\end_layout

\begin_deeper
\begin_layout Enumerate
אם 
\begin_inset Formula $b>\frac{a}{2}$
\end_inset

 אז 
\begin_inset Formula $a\mod b=a-\lfloor\frac{a}{b}\rfloor b\leq a-b<\frac{a}{2}$
\end_inset

 )השארית קטנה מ-
\begin_inset Formula $a\mod b$
\end_inset

(
\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $b\leq\frac{a}{2}$
\end_inset

 אז 
\begin_inset Formula $a\mod b<b\leq\frac{a}{2}$
\end_inset

.
 כלומר אחרי קריאה אחת 
\begin_inset Formula $a$
\end_inset

 קטן פי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואחרי 
\begin_inset Formula $k$
\end_inset

 קריאות הוא קטן פי 
\begin_inset Formula $2^{k}$
\end_inset

 ולכן אחרי לכל היותר 
\begin_inset Formula $2\log b$
\end_inset

 קריאות, 
\begin_inset Formula $b$
\end_inset

 יהיה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
\end_layout

\end_deeper
\begin_layout Description
מסקנה אם 
\begin_inset Formula $a,b$
\end_inset

 מיוצגים ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Formula $k$
\end_inset

 ביטים,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
EE
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מבצע 
\begin_inset Formula $\oo k$
\end_inset

 קריאות ריקורסיביות ובכל קריאה פעולות כפל וחילוק שדורשות 
\begin_inset Formula $\oo{k^{2}}$
\end_inset

, כלומר הוא רץ ב-
\begin_inset Formula $\oo{k^{3}}$
\end_inset

.
\end_layout

\begin_layout Section
שבוע 
\begin_inset Formula $\mathbb{XIV}$
\end_inset

 |
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 הוכחת נכונות 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RSA
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואלגוריתם מילר-רבין
\end_layout

\begin_layout Subsection
הרצאה
\end_layout

\begin_layout Standard

\color lightgray
חלק א' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le141}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Description
למה
\begin_inset Formula $\;$
\end_inset


\numeric on
1
\numeric off
 
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $b$
\end_inset

 מתחלק ב-
\begin_inset Formula $a$
\end_inset

 אם
\begin_inset Quotes erd
\end_inset

ם כל גורם ראשוני שמופיע בפירוק של 
\begin_inset Formula $a$
\end_inset

 לגורמים ראשוניים מופיע גם בפירוק של 
\begin_inset Formula $b$
\end_inset

, והוא מופיע בפירוק של 
\begin_inset Formula $b$
\end_inset

 בחזקה גדולה או שווה לזו בה הוא מופיע בפירוק של 
\begin_inset Formula $a$
\end_inset

.
\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $a,b$
\end_inset

 זרים ל-
\begin_inset Formula $c$
\end_inset

 אז גם 
\begin_inset Formula $a\cdot b$
\end_inset

 זר ל-
\begin_inset Formula $c$
\end_inset

 וגם 
\begin_inset Formula $ab\mod c$
\end_inset

 זר ל-
\begin_inset Formula $c$
\end_inset

 )לכל אחד מהמספרים בנפרד אין גורמים משותפים ל-
\begin_inset Formula $c$
\end_inset

 ולכן גם ל-
\begin_inset Formula $a\cdot b$
\end_inset

 אין(.
\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $a$
\end_inset

 זר ל-
\begin_inset Formula $c$
\end_inset

 ו-
\begin_inset Formula $a\cdot b$
\end_inset

 מתחלק ב-
\begin_inset Formula $c$
\end_inset

 אז 
\begin_inset Formula $b$
\end_inset

 מתחלק ב-
\begin_inset Formula $c$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
מסקנה יהיו 
\begin_inset Formula $a,b$
\end_inset

 מספרים טבעיים כך ש-
\begin_inset Formula $a$
\end_inset

 זר ל-
\begin_inset Formula $b$
\end_inset

.
 נניח כי 
\begin_inset Formula $1\leq c,d\leq b-1$
\end_inset

 כך ש-
\begin_inset Formula $a\cdot c\equiv a\cdot d\mod b$
\end_inset

 אזי 
\begin_inset Formula $c=d$
\end_inset

.
\end_layout

\begin_layout Proof
מכיוון ש-
\begin_inset Formula $ac\equiv ad\mod b$
\end_inset

 הרי ש-
\begin_inset Formula $b\mid ac-ad$
\end_inset

 ולכן 
\begin_inset Formula $b\mid a\left(c-d\right)$
\end_inset

 אבל 
\begin_inset Formula $a$
\end_inset

 זר ל-
\begin_inset Formula $b$
\end_inset

 ולכן מסעיף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של למה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 מתקבל כי 
\begin_inset Formula $b\mid c-d$
\end_inset

 ולכן מהיות 
\begin_inset Formula $1\leq c,d\le b-1$
\end_inset

, 
\begin_inset Formula $\left|c-d\right|<b$
\end_inset

 אזי 
\begin_inset Formula $c-d=0$
\end_inset

 ולכן 
\begin_inset Formula $c=d$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה יהי 
\begin_inset Formula $n$
\end_inset

 מספר טבעי, נגדיר 
\begin_inset Formula $\fldz_{n}=\left\{ 0,\dots,n-1\right\} $
\end_inset

 )זוהי חבורה ביחס לפעולת החיבור(.
\end_layout

\begin_layout Description
הגדרה נגדיר 
\begin_inset Formula $\fldz_{n}^{*}=\left\{ 0<a<n:\gcd\left(a,n\right)=1\right\} $
\end_inset

 )זוהי חבורה כפלית ביחס לפעולת הכפל(.
\end_layout

\begin_layout Description
הגדרה 
\bar under
פונקציית אוילר
\bar default
 היא 
\begin_inset Formula $\varphi\left(n\right)=\left|\fldz_{n}^{*}\right|$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $n=12$
\end_inset

, 
\begin_inset Formula $\fldz_{12}=\left\{ 0,\dots,12\right\} $
\end_inset

 ואילו 
\begin_inset Formula $\fldz_{12}^{*}=\left\{ 1,5,7,11\right\} $
\end_inset

 ולכן 
\begin_inset Formula $\varphi\left(12\right)=4$
\end_inset

.
\end_layout

\begin_layout Description
למה
\end_layout

\begin_deeper
\begin_layout Enumerate
אם 
\begin_inset Formula $p$
\end_inset

 ראשוני אז 
\begin_inset Formula $\varphi\left(p\right)=p-1$
\end_inset

.
\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $p,q$
\end_inset

 ראשוניים שונים אזי 
\begin_inset Formula $\varphi\left(pq\right)=\left(p-1\right)\left(q-1\right)$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
הערה 
\begin_inset Formula $\varphi$
\end_inset

 היא פ' כפלית ככלל, כלומר אם 
\begin_inset Formula $\gcd\left(a,b\right)=1$
\end_inset

 אזי 
\begin_inset Formula $\varphi\left(ab\right)=\varphi\left(a\right)\varphi\left(b\right)$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula $\;$
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
אם 
\begin_inset Formula $p$
\end_inset

 ראשוני אזי 
\begin_inset Formula $\fldz_{p}^{*}=\left\{ 1,\dots,p-1\right\} $
\end_inset

 ולכן 
\begin_inset Formula $\varphi\left(p\right)=p-1$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\fldz_{pq}^{*}=\left\{ 1\leq a\leq pq-1:\gcd\left(a,pq\right)=1\right\} $
\end_inset

.
 נביט ב
\begin_inset Formula 
\[
B=\left\{ 1,\dots,pq-1\right\} \backslash\fldz_{pq}^{*}=\left\{ 1\leq a\leq pq-1:\gcd\left(a,pq\right)\neq1\right\} 
\]

\end_inset

אזי 
\begin_inset Formula $B$
\end_inset

 מכיל את כל המספרים בין 
\begin_inset Formula $1$
\end_inset

 ל-
\begin_inset Formula $pq-1$
\end_inset

 המתחלקים ב-
\begin_inset Formula $p$
\end_inset

 או 
\begin_inset Formula $q$
\end_inset

 )בלעדי - אם הוא מתחלק בשניהם הוא או אפס או מכפלה של 
\begin_inset Formula $pq$
\end_inset

 וזה לא ייתכן בשל הטווח שלו(.
\begin_inset Formula 
\[
B=\left\{ p,2p,\ldots,\left(q-1\right)p\right\} \dot{\bigcup}\left\{ q,2q,\dots,\left(p-1\right)q\right\} 
\]

\end_inset

ולכן 
\begin_inset Formula $\left|B\right|=\left(q-1\right)+\left(p-1\right)$
\end_inset

 ולכן
\begin_inset Formula 
\[
\varphi\left(pq\right)=\left|\fldz_{pq}^{*}\right|=\left(pq-1\right)-\left|B\right|=pq-p-q+1=\left(p-1\right)\left(q-1\right)
\]

\end_inset


\end_layout

\end_deeper
\begin_layout Description
הגדרה יהי 
\begin_inset Formula $n$
\end_inset

 מספר טבעי ויהי 
\begin_inset Formula $a$
\end_inset

 זר ל-
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_layout Standard
נוודא כי לכל 
\begin_inset Formula $b\in\fldz_{n}^{*}$
\end_inset

 מתקיים כי גם 
\begin_inset Formula $ab\mod n=c$
\end_inset

 שייך ל-
\begin_inset Formula $\fldz_{n}^{*}$
\end_inset

: אכן 
\begin_inset Formula $0\leq c\leq n-1$
\end_inset

 ומהיות 
\begin_inset Formula $a,b$
\end_inset

 זרים ל-
\begin_inset Formula $n$
\end_inset

 הרי שמחלק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של למה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 גם 
\begin_inset Formula $c$
\end_inset

 זר ל-
\begin_inset Formula $n$
\end_inset

.
 לכן 
\begin_inset Formula $c\in\fldz_{n}^{*}$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה נגדיר פ' 
\begin_inset Formula $f_{a}:\fldz_{n}^{*}\to\fldz_{n}^{*}$
\end_inset

 באופן הבא: לכל 
\begin_inset Formula $b\in\fldz_{n}^{*}$
\end_inset

, 
\begin_inset Formula $f_{a}\left(b\right)=ab\mod n$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $n=12$
\end_inset

, 
\begin_inset Formula $a=5$
\end_inset

,
\begin_inset Formula 
\begin{align*}
f_{a}\left(1\right) & =5\\
f_{a}\left(5\right) & =1\\
f_{a}\left(7\right) & =11\\
f_{a}\left(11\right) & =7
\end{align*}

\end_inset


\end_layout

\begin_layout Description
למה
\begin_inset Formula $\;$
\end_inset


\numeric on
2
\numeric off
 יהי 
\begin_inset Formula $a$
\end_inset

 זר ל-
\begin_inset Formula $n$
\end_inset

.
 אזי 
\begin_inset Formula $f_{a}$
\end_inset

 היא חחע
\begin_inset Quotes erd
\end_inset

ל 
\begin_inset Formula $\fldz_{n}^{*}$
\end_inset

.
\end_layout

\begin_layout Proof
מספיק להוכיח כי 
\begin_inset Formula $f_{a}$
\end_inset

 חח
\begin_inset Quotes erd
\end_inset

ע.
 נניח כי עבור 
\begin_inset Formula $c,d\in\fldz_{n}^{*}$
\end_inset

 מתקיים 
\begin_inset Formula $f_{a}\left(c\right)=f_{a}\left(d\right)$
\end_inset

 ונוכיח כי 
\begin_inset Formula $c=d$
\end_inset

.
\end_layout

\begin_layout Proof
מההגדרה, 
\begin_inset Formula $ac\equiv ad\mod n$
\end_inset

 ואילו 
\begin_inset Formula $a$
\end_inset

 זר ל-
\begin_inset Formula $n$
\end_inset

 ולכן מהמסקנה הנ
\begin_inset Quotes erd
\end_inset

ל, 
\begin_inset Formula $c=d$
\end_inset

.
\end_layout

\begin_layout Description
מסקנה יהי 
\begin_inset Formula $e\in\fldz_{\left(p-1\right)\left(q-1\right)}^{*}$
\end_inset

 אזי קיים 
\begin_inset Formula $d\in\fldz_{\left(p-1\right)\left(q-1\right)}^{*}$
\end_inset

 כך ש-
\begin_inset Formula $de\equiv1\mod\left(p-1\right)\left(q-1\right)$
\end_inset

.
\end_layout

\begin_layout Proof
נתבונן בפ' 
\begin_inset Formula $f_{e}$
\end_inset

 שהגדרנו למעלה.
 מלמה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
, 
\begin_inset Formula $f_{e}$
\end_inset

 היא על 
\begin_inset Formula $\fldz_{\left(p-1\right)\left(q-1\right)}^{*}$
\end_inset

.
 מהיות 
\begin_inset Formula $1\in\fldz_{\left(p-1\right)\left(q-1\right)}^{*}$
\end_inset

 )כי 
\begin_inset Formula $1\cdot1\equiv1\mod\left(p-1\right)\left(q-1\right)$
\end_inset

( אזי קיים 
\begin_inset Formula $d\in\fldz_{\left(p-1\right)\left(q-1\right)}^{*}$
\end_inset

 כך ש-
\begin_inset Formula $f_{e}\left(d\right)=1$
\end_inset

, כלומר 
\begin_inset Formula $de\equiv1\mod\left(p-1\right)\left(q-1\right)$
\end_inset

.
\end_layout

\begin_layout Description
משפט )אוילר( יהיו 
\begin_inset Formula $a,n$
\end_inset

 מספרים זרים.
 אזי 
\begin_inset Formula $a^{\varphi\left(n\right)}\equiv1\mod n$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $n=12$
\end_inset

, 
\begin_inset Formula $a=5$
\end_inset

, 
\begin_inset Formula $\varphi\left(12\right)=4$
\end_inset

 ואכן 
\begin_inset Formula $5^{4}=25^{2}\equiv1^{2}=1\mod12$
\end_inset

.
\end_layout

\begin_layout Proof
מלמה 
\begin_inset Formula $2$
\end_inset

, 
\begin_inset Formula $f_{a}$
\end_inset

 מוגדרת הנ
\begin_inset Quotes erd
\end_inset

ל היא חח
\begin_inset Quotes erd
\end_inset

ע ולכן 
\begin_inset Formula 
\begin{align*}
\left(\prod\limits _{x\in\fldz_{n}^{*}}f_{a}\left(x\right)\right)\mod n & =\left(\prod\limits _{x\in\fldz_{n}^{*}}ax\mod n\right)\mod n\\
 & =\left(\prod_{x\in\fldz_{n}^{*}}ax\right)\mod n\\
 & =\left(a^{\varphi\left(n\right)}\prod_{x\in\fldz_{n}^{*}}x\right)\mod n\\
 & =a^{\varphi\left(n\right)}\mod n\left(\prod_{x\in\fldz_{n}^{*}}x\right)\mod n
\end{align*}

\end_inset

ולכן עבור 
\begin_inset Formula $A=a^{\varphi\left(n\right)}\mod n$
\end_inset

, 
\begin_inset Formula $B=\left(\prod\limits _{x\in\fldz_{n}^{*}}x\right)\mod n$
\end_inset

 נקבל 
\begin_inset Formula $1\cdot B=B=A\cdot B\mod n$
\end_inset

 ונשים לב כי 
\begin_inset Formula $B$
\end_inset

 זר ל-
\begin_inset Formula $n$
\end_inset

 מחלק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של למה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וגם 
\begin_inset Formula $1\leq1,A\leq n-1$
\end_inset

 ולכן מהמסקנה מהלמה, 
\begin_inset Formula $A=1$
\end_inset

, כלומר 
\begin_inset Formula $a^{\varphi\left(n\right)}\equiv1\mod n$
\end_inset

.
\end_layout

\begin_layout Standard

\color lightgray
חלק ב' של ה
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{le142}{הרצאה}
\end_layout

\end_inset


\end_layout

\begin_layout Description
מסקנה )ממשפט אוילר, נקרא משפט פרמה הקטן( יהי 
\begin_inset Formula $p$
\end_inset

 מספר ראשוני ו-
\begin_inset Formula $a$
\end_inset

 כך ש-
\begin_inset Formula $a$
\end_inset

 לא מתחלק ב-
\begin_inset Formula $p$
\end_inset

.
 אזי 
\begin_inset Formula $a^{p-1}\equiv1\mod p$
\end_inset

.
\end_layout

\begin_layout Description
משפט יהי 
\begin_inset Formula $x\in M$
\end_inset

 אזי 
\begin_inset Formula $f_{E}\left(f_{D}\left(x\right)\right)=f_{D}\left(f_{E}\left(x\right)\right)=x$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
f_{D}\left(f_{E}\left(x\right)\right) & =\left(x^{e}\mod n\right)^{d}\mod n\\
 & =x^{ed}\mod n\\
 & =x^{de}\mod n\\
 & \overset{\text{בדומה}}{=}f_{E}\left(f_{D}\left(x\right)\right)
\end{align*}

\end_inset

נותר להוכיח כי 
\begin_inset Formula $x^{de}\equiv x\mod N$
\end_inset

.
 מבחירת 
\begin_inset Formula $e,d$
\end_inset

, מתקיים 
\begin_inset Formula $de\equiv1\mod\left(p-1\right)\left(q-1\right)$
\end_inset

 כלומר 
\begin_inset Formula $de=a\left(p-1\right)\left(q-1\right)+1$
\end_inset

 כאשר 
\begin_inset Formula $a\in\fldn$
\end_inset

.
 נוכיח כי 
\begin_inset Formula $x^{a\left(p-1\right)\left(q-1\right)+1}\equiv x\mod N$
\end_inset

.
 נחלק למקרים
\end_layout

\begin_deeper
\begin_layout Enumerate

\bar under
\begin_inset Formula $x$
\end_inset

 זר ל-
\begin_inset Formula $N$
\end_inset


\bar default
 - ממשפט אוילר, 
\begin_inset Formula $x^{\varphi\left(N\right)}\equiv1\mod N$
\end_inset

 ואילו 
\begin_inset Formula $\varphi\left(N\right)=\left(p-1\right)\left(q-1\right)$
\end_inset

 ולכן 
\begin_inset Formula $x^{\left(p-1\right)\left(q-1\right)}\equiv1\mod N$
\end_inset

 ולכן
\begin_inset Formula 
\[
x^{a\left(p-1\right)\left(q-1\right)+1}=x\cdot\left(x^{\left(p-1\right)\left(q-1\right)}\right)^{a}\equiv x\cdot1^{a}=x\mod N
\]

\end_inset


\end_layout

\begin_layout Enumerate

\bar under
\begin_inset Formula $x$
\end_inset

 מתחלק ב-
\begin_inset Formula $p$
\end_inset

 אבל לא ב-
\begin_inset Formula $q$
\end_inset


\bar default
 - מפרמה הקטן, מתקיים 
\begin_inset Formula $x^{q-1}\equiv1\mod q$
\end_inset

 ולכן מפרמה הקטן
\begin_inset Formula 
\[
x^{a\left(p-1\right)\left(q-1\right)+1}=x\cdot x^{a\left(p-1\right)\left(q-1\right)}=x\left(x^{q-1}\right)^{a\left(p-1\right)}\equiv x\cdot1^{a\left(p-1\right)}=x\mod q
\]

\end_inset

ולכן 
\begin_inset Formula $q\mid x^{a\left(p-1\right)\left(q-1\right)+1}-x$
\end_inset

.
 מצד שני 
\begin_inset Formula $x$
\end_inset

 מתחלק ב-
\begin_inset Formula $p$
\end_inset

 ולכן 
\begin_inset Formula $x^{a\left(p-1\right)\left(q-1\right)+1}$
\end_inset

 מתחלק ב-
\begin_inset Formula $p$
\end_inset

 ולכן 
\begin_inset Formula $p\mid x^{a\left(p-1\right)\left(q-1\right)+1}-x$
\end_inset

 ולכן 
\begin_inset Formula $N\mid x^{a\left(p-1\right)\left(q-1\right)+1}-x$
\end_inset

 שזה בדיוק 
\begin_inset Formula $x^{a\left(p-1\right)\left(q-1\right)+1}\equiv x\mod N$
\end_inset

.
\end_layout

\begin_layout Enumerate

\bar under
\begin_inset Formula $x$
\end_inset

 מתחלק ב-
\begin_inset Formula $q$
\end_inset

 אבל לא ב-
\begin_inset Formula $p$
\end_inset


\bar default
 - אותו הדבר כמו המקרה הקודם.
\end_layout

\begin_layout Enumerate

\bar under
\begin_inset Formula $x$
\end_inset

 מתחלק ב-
\begin_inset Formula $p$
\end_inset

 וב-
\begin_inset Formula $q$
\end_inset


\bar default
 - מהיות 
\begin_inset Formula $x\in M$
\end_inset

, הרי ש-
\begin_inset Formula $x\in\left\{ 0,\dots,N-1\right\} $
\end_inset

 אבל 
\begin_inset Formula $N\mid x$
\end_inset

 ולכן 
\begin_inset Formula $x=0$
\end_inset

 ולכן גם 
\begin_inset Formula $N\mid x^{a\left(p-1\right)\left(q-1\right)+1}-x=0$
\end_inset

.
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{link20}{}
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard

\size larger
האלגוריתם של מילר ורבין לבדיקת ראשוניות
\end_layout

\begin_layout Description
קלט מספר טבעי 
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_layout Description
פלט 
\begin_inset Quotes eld
\end_inset


\begin_inset Formula $n$
\end_inset

 ראשוני
\begin_inset Quotes erd
\end_inset

 או 
\begin_inset Quotes eld
\end_inset


\begin_inset Formula $n$
\end_inset

 אינו ראשוני
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Description
הערה זו בעיית הערכה ולא אופטימיזציה.
\end_layout

\begin_layout Description
הערה האלג' אמור לרוץ ב-
\begin_inset Formula $\oo{\textrm{polylog}\left(n\right)}$
\end_inset

 כלומר יעיל באורך הייצוג של 
\begin_inset Formula $n$
\end_inset

.
 
\end_layout

\begin_layout Description
פסאודו-קוד
\end_layout

\begin_deeper
\begin_layout Enumerate
נבחר 
\begin_inset Formula $a$
\end_inset

 מקרי ב-
\begin_inset Formula $\left\{ 1,\dots,n-1\right\} $
\end_inset

.
\end_layout

\begin_layout Enumerate
נחשב 
\begin_inset Formula $f=a^{n-1}\mod n$
\end_inset


\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $f\not\neq1$
\end_inset

 נעצור ונחזיר 
\begin_inset Quotes eld
\end_inset

לא ראשוני
\begin_inset Quotes erd
\end_inset

, אחרת נמשיך לאיטרציה הבאה.
\end_layout

\begin_layout Enumerate
אם בכל ה-
\begin_inset Formula $t$
\end_inset

 איטרציות קיבלנו 
\begin_inset Formula $f=1$
\end_inset

, נחזיר 
\begin_inset Quotes eld
\end_inset

ראשוני
\begin_inset Quotes erd
\end_inset


\end_layout

\end_deeper
\begin_layout Standard

\size larger
הערות לגבי האלגוריתם של מילר-רבין
\end_layout

\begin_layout Enumerate
לפי המשפט הקטן של פרמה, אם 
\begin_inset Formula $n$
\end_inset

 באמת ראשוני אז השוויון תמיד יתקיים.
\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $n$
\end_inset

 לא ראשוני, אז נוכיח שבהסת' לפחות חצי השוויון לא מתקיים, כלומר 
\begin_inset Formula $a^{n-1}\not\equiv1\mod n$
\end_inset

 )זה נכון לכל מספר שאינו מספר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Carmichael
\lang hebrew
, אבל יש ממש קצת כאלה והאלג' המלא של מילר-רבין מטפל גם בהם(.
\end_layout

\begin_deeper
\begin_layout Standard
לכן אם נחזור על הצעד הבסיסי 
\begin_inset Formula $t$
\end_inset

 פעמים אז:
\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $n$
\end_inset

 ראשוני נענה )תמיד( 
\begin_inset Quotes eld
\end_inset

כן ראשוני
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $n$
\end_inset

 אינו ראשוני נטעה )נענה 
\begin_inset Quotes eld
\end_inset

כן ראשוני
\begin_inset Quotes erd
\end_inset

( לכל היותר בסיכוי 
\begin_inset Formula $\frac{1}{2^{t}}$
\end_inset

.
\end_layout

\begin_layout Standard
לסיכום השגיאה היחידה שיכולה להיות היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
false positive
\lang hebrew
, כלומר שאנחנו טוענים שלא ראשוני הוא ראשוני )שזה רע(.
 לכן זהו אלג' הסת' שמחזיר פתרון נכון בהסת' לפחות 
\begin_inset Formula $1-\frac{1}{2^{t}}$
\end_inset

 )אלא אם זה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Carmichael
\lang hebrew
, כאמור(.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{nis4}{להמשך הניתוח}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
סוף.
\end_layout

\end_body
\end_document
