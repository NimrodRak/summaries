#LyX 2.3 created this file. For more info see http://www.lyx.org/
\lyxformat 544
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass heb-article
\begin_preamble
\usepackage{dsfont}
\usepackage{polynom}
\usepackage[nottoc]{tocbibind}
\setcounter{page}{1}
\usepackage{qtree}
\usepackage{color}
\newcommand*{\defeq}{\stackrel{\mathsmaller{\mathsf{def}}}{=}}
\usepackage{tikz}
\usepackage[pdfpagelabels]{hyperref}
\hypersetup{
    linktoc=all,
    colorlinks,
	linkcolor=teal,
    bookmarksopen=true,         
    bookmarksopenlevel=1
}
\definecolor{darkgreen}{RGB}{0,100,0}
\definecolor{realbrown}{RGB}{80,60,0}
\end_preamble
\use_default_options true
\maintain_unincluded_children false
\language hebrew
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "default" "David"
\font_sans "default" "Arial"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts true
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\use_microtype false
\use_dash_ligatures true
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing double
\use_hyperref false
\pdf_bookmarks true
\pdf_bookmarksnumbered false
\pdf_bookmarksopen false
\pdf_bookmarksopenlevel 1
\pdf_breaklinks true
\pdf_pdfborder false
\pdf_colorlinks true
\pdf_backref false
\pdf_pdfusetitle true
\papersize default
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date true
\justification true
\use_refstyle 1
\use_minted 0
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 2.1cm
\topmargin 2.1cm
\rightmargin 2.1cm
\bottommargin 2.1cm
\secnumdepth 2
\tocdepth 3
\paragraph_separation skip
\defskip medskip
\is_math_indent 0
\math_numbering_side default
\quotes_style english
\dynamic_quotes 1
\papercolumns 1
\papersides 1
\paperpagestyle default
\listings_params "keywordstyle={\color{red}},stringstyle={\color{darkgreen}},commentstyle={\color{realbrown}},identifierstyle={\color{blue}},mathescape=true"
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title

\size giant
קריפטוגרפיה ואבטחת מידע |
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
67392
\numeric off

\begin_inset VSpace 40bp
\end_inset


\begin_inset Newline newline
\end_inset


\size default
הרצאות | פרופ' גיל שגב
\size giant

\begin_inset VSpace 30bp
\end_inset


\begin_inset Newline newline
\end_inset


\size larger
כתיבה | נמרוד רק
\size giant

\begin_inset VSpace 30bp
\end_inset


\size default

\begin_inset Newline newline
\end_inset


\size large
תשפ
\begin_inset Quotes erd
\end_inset

ב סמסטר ב'
\end_layout

\begin_layout Standard
\paragraph_spacing single
\noindent

\size giant
\begin_inset VSpace 30bp
\end_inset


\begin_inset Newpage newpage
\end_inset


\size default
בתחילת כל תרגול או חלק של הרצאה מופיע קישור לסרטון המקורי של חלק זה.
 תרגולים לפי מר ליאור רותם.
\end_layout

\begin_layout Standard
\paragraph_spacing single
\noindent
תוקנו כמה שגיאות בעזרת סיכומם של דויד קיסר-שמידט ודניאל דייצ'ב.
 
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Standard
\paragraph_spacing single
\noindent
\begin_inset FormulaMacro
\newcommand{\desc}[2]{\underset{#2}{\underline{#1}}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\oh}{\mathcal{O}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\oo}[1]{\oh\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\om}[1]{\Omega\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\ot}[1]{\Theta\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\fldr}{\mathbb{R}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\ip}[2]{\left\langle #1\mid#2\right\rangle }
\end_inset


\begin_inset FormulaMacro
\newcommand{\fldc}{\mathbb{C}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\em}{\omega}
\end_inset


\begin_inset FormulaMacro
\newcommand{\k}{\mathcal{K}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\c}{\mathcal{C}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\m}{\mathcal{M}}
\end_inset


\end_layout

\begin_layout Standard
\paragraph_spacing single
\noindent
\begin_inset FormulaMacro
\newcommand{\fldn}{\mathbb{N}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\fldz}{\mathbb{Z}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\mez}[1]{\mathds{#1}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\boxo}[1]{\begin{array}{|c|}
\hline #1\\\hline \end{array}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\var}[1]{\textrm{var}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\renewcommand{\ip}[2]{\left\langle #1\mid#2\right\rangle }
\end_inset


\begin_inset FormulaMacro
\newcommand{\norm}[1]{\left\Vert #1\right\Vert }
\end_inset


\begin_inset FormulaMacro
\newcommand{\xy}[2]{\left(\begin{smallmatrix}#1\\
 #2 
\end{smallmatrix}\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\la}{\lambda}
\end_inset


\begin_inset FormulaMacro
\newcommand{\corr}[1]{\textrm{corr}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\bin}[1]{\textrm{Bin}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\ber}[1]{\textrm{Ber}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\geo}[1]{\textrm{Geo}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\unif}[1]{\textrm{Unif}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\dx}{\;\textrm{dx}}
{\textrm{dx}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\dt}{\;\textrm{dt}}
{\textrm{dt}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\a}{\mathcal{A}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\ift}{\mathbb{\mathcal{\int\limits _{-\infty}^{\infty}}}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\enc}[1]{\textrm{Enc}_{k}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\dec}[1]{\textrm{Dec}_{k}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\kg}[1]{\textrm{KegGen}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\dect}{\textrm{Dec}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\enct}{\textrm{Enc}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\kgt}{\textrm{KegGen}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\enck}[2]{\textrm{Enc}_{#1}\left(#2\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\deck}[2]{\textrm{Dec}_{#1}\left(#2\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\d}{\mathcal{D}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\pp}{\textrm{PPT}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\pr}{\textrm{PRG}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\inr}{\leftarrow}
\end_inset


\begin_inset FormulaMacro
\newcommand{\ind}[1]{\textrm{IND}_{\Pi,\a}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\xor}{\oplus}
\end_inset


\begin_inset FormulaMacro
\newcommand{\fro}{\leftarrow}
\end_inset


\begin_inset FormulaMacro
\newcommand{\cpa}[1]{\textrm{IND}_{\Pi,\a}^{\textrm{CPA}}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\cpah}[1]{\textrm{IND}_{\Pi_{h},\a}^{\textrm{CPA}}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\cpaf}[1]{\textrm{IND}_{\Pi_{F},\a}^{\textrm{CPA}}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\prf}{\textrm{PRF}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\func}{\textrm{Func}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\o}{\mathcal{O}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\des}{\textrm{DES}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\aes}{\textrm{AES}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\b}{\mathcal{B}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\im}{\textrm{Im}\,}
\end_inset


\begin_inset FormulaMacro
\newcommand{\indt}{\textrm{IND}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\vr}[1]{\textrm{Vrfy}_{k}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\mac}[1]{\textrm{Mac}_{k}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\q}{\mathcal{Q}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\ta}{{\color{green}{\color{red}{\rm tainated}}}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\macf}[1]{\textrm{MacForge}_{\Pi,\a}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\macft}{\textrm{MacForge}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\haco}[1]{\textrm{HashColl}_{\Phi,\a}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\gent}{\textrm{Gen}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\gen}[1]{\textrm{Gen}\left(#1\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\mact}{\textrm{Mac}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\vrt}{\textrm{Vrfy}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\hacot}{\textrm{HashColl}}
\end_inset


\begin_inset FormulaMacro
\newcommand{\p}[2]{\underset{#1}{P}\left(#2\right)}
\end_inset


\begin_inset FormulaMacro
\newcommand{\on}{\left\{  0,1\right\}  }
\end_inset


\begin_inset FormulaMacro
\newcommand{\unt}{{\color{red}{\color{green}{\rm untainated}}}}
\end_inset


\end_layout

\begin_layout Standard
\paragraph_spacing single
\noindent
\begin_inset Note Comment
status open

\begin_layout Plain Layout
שבוע -
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\numeric off
, הרצאה/תרגול
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
-
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
8
\numeric off
, מסקנות -
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
7
\end_layout

\end_inset


\begin_inset Note Note
status open

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{I
\backslash
;
\backslash
; נושאים מאוד חשובים}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\size largest
הרצאה
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\paragraph_spacing single
\noindent
\begin_inset Note Note
status open

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsubsection}{א' | נושא חשוב אחד}
\end_layout

\end_inset


\color lightgray
חלק א' של ההרצאה
\end_layout

\end_inset


\lang english

\begin_inset Note Note
status open

\begin_layout Plain Layout
\noindent
\align center

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

int main() {
\end_layout

\begin_layout Plain Layout

	hallo(
\begin_inset Quotes xld
\end_inset

no
\begin_inset Quotes xrd
\end_inset

)
\end_layout

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\end_inset


\lang hebrew

\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{סקירה כללית של הקורס}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
סקירה כללית של הקורס
\end_layout

\begin_layout Standard

\color lightgray
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1p84pgR92T8nc3rNpyhszPn8FHJvl6RaP/view?usp=sh
aring}{קישור}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
הקורס מספק מבוא לקריפטוגרפיה ולאבטחת מידע, שהם שני תחומים שונים, אך בעלי
 זיקה חזקה ביניהם.
\end_layout

\begin_layout Standard

\size larger
קריפטוגרפיה
\end_layout

\begin_layout Standard
נלמד על כלים ומערכות קריפטוגרפיות, לרבות כיצד להוכיח את בטיחותן וכיצד להשתמש
 בהן נכון ונחלק את החלק הזה לשני סוגים שונים של הצפנה:
\end_layout

\begin_layout Itemize
הצפנה סימטרית עם מפתחות סודיים )שבוע ~
\numeric on
1-5
\numeric off
(.
\end_layout

\begin_layout Itemize
הצפנה א-סימטרית עם שילוב של מפתחות סודיים ופומביים )שבוע ~
\numeric on
13-14
\numeric off
(.
\end_layout

\begin_layout Standard
בכל אחד מהנושאים נעמיק בשני מאפיינים חשובים שלהם - סודיות )
\lang english
Secrecy
\lang hebrew
( ואמיתות )
\lang english
Integrity
\lang hebrew
(.
\end_layout

\begin_layout Standard

\size larger
אבטחת
\size default
 
\size larger
תוכנה
\end_layout

\begin_layout Standard
נלמד )שבוע ~
\numeric on
6-12
\numeric off
( את יסודות אבטחת התוכנה, ובכלל זה כיצד לנצל פירצות אבטחה וכיצד להימנע מהן
 ולמגרן.
 לחלק זה שלושה פרקים:
\end_layout

\begin_layout Itemize
מתקפות ומגננות ברמה נמוכה )
\lang english
Low Level
\lang hebrew
(, לדוגמה השמה עקיפה וזדונית של ערכים בריצת קוד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
C
\lang hebrew
.
\end_layout

\begin_layout Itemize
אבטחת רשת, לדוגמה ניצול פרצות בשפת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SQL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 לניהול מסדי נתונים.
\end_layout

\begin_layout Itemize

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
בדיקה אוטומטית של קוד וניצול וכיצד לבדוק האם קוד הוא פגיע לפרצות אבטחה באמצעות
 שיטות שונות, לדוגמה ניתוח סטטי, 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Fuzzing
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והרצה סימבולית.
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{part}{הצפנה סימטרית}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{I
\backslash
;
\backslash
; מבוא לקריפטוגרפיה מודרנית}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{I}$
\end_inset

 | מבוא לקריפטוגרפיה מודרנית
\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{א | קריפטוגרפיה קלאסית מול מודרנית}
\end_layout

\end_inset


\color lightgray
חלק א' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1y_3Yv_X9HTWGvYtDZqy9EgnPsRIx9ZfG/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
מהי קריפטגרפיה? בעבר הייתה אמנות עתיקה שמטרתה יצירת ערוץ תקשורת סודית בין
 שני גורמים.
 בטרמינולוגיה קלאסית )שבה נשתמש במשך כל הקורס(,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series bold
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
A
\series default
lice
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\series bold
\lang english
B
\series default
ob
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 רוצים לתקשר )בסודיות( ו-
\family default
\series bold
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
E
\series default
ve
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)הרמז ל-
\lang english
Evil
\lang hebrew
( מאזינה לערוץ התקשורת שלהם.
 בעבר קריפטגורפיה שומשה רק לצבאות וארגוני מודיעין גדולים.
 בנוסף, קריפטו' קלאסי התמקד ביצירתיות ויכולת אישית ולא בכלי מדעיים.
 עובדה זו גרמה לכך שקריפטו' עד המאה ה-
\numeric on
20
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היה מעגל אינסופי
\begin_inset Formula 
\[
\cdots\leftarrow\text{תיקון}\leftarrow\text{שבירה}\leftarrow\text{תיקון}\leftarrow\text{שבירה}\leftarrow\text{תכנון}
\]

\end_inset

למי שיש זמן איכשהו בסמסטר הקרוב, מוזמנים/ות לקרוא 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://www.amazon.com/Codebreakers-Comprehensive-History-Communication-Inter
net/dp/0684831309}{ספר מאוד מעניין}
\end_layout

\end_inset

 על שימושים של קריפטו בעת החדשה, בדגש על מלחמת העולם השנייה.
\end_layout

\begin_layout Standard
לקראת סוף שנות ה-
\numeric on
70
\numeric off
, אירע שינוי קיצוני בקריפטוגרפיה והיא החלה להתבסס על מדע יציב ומשמשת להרבה
 יותר מתקשורת סודית )לדוגמה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NFT
\lang hebrew
-ים, לצערנו(.
 קריפטו' זמינה לכולנו כיום, ולא נחלתם של צבא ארה
\begin_inset Quotes xrd
\end_inset

ב בלבד.
\end_layout

\begin_layout Standard
במשפט אחד, קריפטוגרפיה היא העיסוק המדעי בשיטות לתכנון מערכות שעמידות בפני
 התנהגות עוינת.
 המשפט הזה מכיל מידע סמוי - מה היא מערכת? מה היא התנהגות עוינת?
\end_layout

\begin_layout Standard
התנהגות עוינת היא כל התנהגות שמתכנן המערכת לא הגדיר כהתנהגות רגילה או מכוונת.
 מערכת היא כל אובייקט שעבורו הגדרנו התנהגות קלט-פלט או התנהגות מסוימת לאורך
 זמן )לא באמת מגודר היטב(.
 מערכות אלו כוללות הצפנה וחתימה דיגיטלית אבל גם מערכות זיהוי ביומטרי, שירותי
 בנקאות וכיוצ
\begin_inset Quotes xrd
\end_inset

ב.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ב | הגדרה פורמלית של הצפנה סימטרית וצפנים
 היסטוריים}
\end_layout

\end_inset


\color lightgray
חלק ב' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1ZXZk1j_xJVKWxZip3q7Xy8J75ZYUxJ8I/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
מערכת הצפנה סימטרית מאפשרת לשני אנשים לתקשר בצורה סודית אפילו אם גורם שלישי
 מאזין לערוץ התקושרת.
 לעתה, נניח כי איב רק מאזינה לערוץ, כלומר שהיא פסיבית.
 במערכת כזו נצטרך לשבור את הסימטריה בין אליס ובוב לבין איב, כי אחרת כל דבר
 שהם יכולים לעשות גם היא יכולה.
 מכאן, מגיעה ההנחה הבסיסית בקריפטוגרפיה סימטרית והיא שלאליס ובוב יש מפתח
 סודי שרק שניהם יודעים, והוא משמש גם להצפנה וגם לפענוח.
 הנחה זו אינה טריוויאלית שכן לעתים קשה להגיע למצב כזה.
\end_layout

\begin_layout Standard
מערכת הצפנה סימטרית מורכבת מהצפנה סימטרית:
\end_layout

\begin_layout Itemize
פונקציית יצור מפתחות:
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
KeyGen
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)אלג' הסתברותי( שפולטת מפתח 
\begin_inset Formula $k\in\k$
\end_inset

 )לדוגמה מגרילה באופן אחיד על מחרוזות באורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1024
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביטים(, כאשר 
\begin_inset Formula $\k$
\end_inset

 הוא אוסף כל המפתחות האפשריים.
\end_layout

\begin_layout Itemize
אלגוריתם ההצפנה:
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Enc
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)אלג' דטרמיניסטי או הסתברותי( המקבל 
\begin_inset Formula $k\in\k$
\end_inset

 ו-
\begin_inset Formula $m\in\m$
\end_inset

 ופולט הודעה מוצפנת 
\begin_inset Formula $c\in\c$
\end_inset

 כאשר 
\begin_inset Formula $\m$
\end_inset

 אוסף כל ההודעות האפשריות )
\lang english
plaintext
\lang hebrew
( ו-
\begin_inset Formula $\c$
\end_inset

 הוא אוסף כל ההודעות המוצפנות האפשריות )
\lang english
ciphertext
\lang hebrew
(.
 אם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Enc
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הסת' אז יש אוסף הודעות מוצפנות שכל הודעה רגילה יכולה להיות מוצפנת אליהן.
\end_layout

\begin_layout Itemize
אלגוריתם הפענוח:
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Dec
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 )אלג' דטרמיניסטי( המקבל 
\begin_inset Formula $k\in\k$
\end_inset

 ו-
\begin_inset Formula $c\in\c$
\end_inset

 ופולט הודעה מפוענחת 
\begin_inset Formula $m\in\m$
\end_inset

.
\end_layout

\begin_layout Standard
מעיצוב זה אנו מבינים את משמעות ה
\begin_inset Quotes xrd
\end_inset

סימטריה
\begin_inset Quotes xrd
\end_inset

 - גם ההצפנה וגם הפענוח מתבססים על אותו מפתח, את יכולות לבצע פעולות שונות
 כמובן.
\end_layout

\begin_layout Standard
מעתה נשתמש בשני סימונים להשמה: 
\begin_inset Formula $"="$
\end_inset

 עבור השמה 
\bar under
דטרמיניסטית
\bar default
, לדוגמה 
\begin_inset Formula $m=\dec c$
\end_inset

 ו-
\begin_inset Formula $"\leftarrow"$
\end_inset

 עבור השמה 
\bar under
הסתברותית
\bar default
, לדוגמה 
\begin_inset Formula $k\leftarrow\kg{}$
\end_inset

 או 
\begin_inset Formula $c\leftarrow\enc m$
\end_inset

.
\end_layout

\begin_layout Standard
יש כמה דרישות על מערכת הצפנה סימטרית:
\end_layout

\begin_layout Itemize
נכונות: 
\begin_inset Formula $\forall k\in\k,m\in\m$
\end_inset

, מתקיים 
\begin_inset Formula $\dec{\enc m}=m$
\end_inset

.
\end_layout

\begin_layout Itemize
סודיות )נדון בהמשך(.
\end_layout

\begin_layout Standard
בניתוח הסודיות של המערכת, נניח ש-
\begin_inset Formula $\textrm{KeyGen},\textrm{Enc},\text{Dec}$
\end_inset

 ידועות בפומבי, והדבר היחיד שסודי הוא המפתח 
\begin_inset Formula $k$
\end_inset

 )זהו עקרון קרקהופס, שמתבסס למעשה על המציאות(.
\end_layout

\begin_layout Standard

\size larger
הצפנות היסטוריות
\end_layout

\begin_layout Itemize
צופן היסט )צופן קיסר(.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Formula $\kgt$
\end_inset

 דוגם באופן אחיד 
\begin_inset Formula $k\leftarrow\left\{ 0,\ldots,25\right\} $
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Formula $\m=\left\{ a,\ldots,z\right\} ^{\ell},\c=\left\{ A,\ldots,Z\right\} ^{\ell}$
\end_inset

,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $\enct$
\end_inset

 מסיטה כל אות 
\begin_inset Formula $k$
\end_inset

 פעמים קדימה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)כאשר אם עברנו את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Z
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נחזור חזרה ל-
\lang english
A
\lang hebrew
(.
 
\begin_inset Formula $\dect$
\end_inset

 מסיטה חזרה כל אות.
\end_layout

\begin_layout Standard
הצופן הזה אינו בטוח כלל בגלל שיש רק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
26
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 אפשרויות למפתחות ומעבר על כולן בוודאי יחשוף את ההודעה המקורית בשל המבנה
 התחבירי של משפטים באנגלית ואוצר המילים המוגבל למשפט באנגלית.
\end_layout

\begin_layout Standard
הנה עיקרון חשוב ככלל - אסור שאוסף המפתחות 
\begin_inset Formula $\k$
\end_inset

 יאפשר מעבר על כל המפתחות בזמן סביר!
\end_layout

\end_deeper
\begin_layout Itemize
צופן החלפה.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Formula $\kgt$
\end_inset

 דוגם באופן אחיד על פרמוטציות על 
\begin_inset Formula $\left\{ a,\ldots,z\right\} $
\end_inset

, 
\begin_inset Formula $\m=\left\{ a,\ldots,z\right\} ^{\ell}$
\end_inset

 וכן 
\begin_inset Formula $\c=\left\{ A,\ldots,Z\right\} ^{\ell}$
\end_inset

.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\begin_inset Formula $\enct$
\end_inset

 עובר אות אות ומחליף כל אות באות המתאימה לה מהתמורה 
\begin_inset Formula $k$
\end_inset

, כלומר 
\begin_inset Formula $c\left[i\right]=k\left(m\left[i\right]\right)$
\end_inset

.
 
\begin_inset Formula $\dect$
\end_inset

 מחליף כל אות בערך שלה בפרמוטציה ההופכית 
\begin_inset Formula $k^{-1}$
\end_inset

.
\end_layout

\begin_layout Standard
כאן, גודל אוסף המפתחות הוא 
\begin_inset Formula $26!\approx2^{88}$
\end_inset

 שזה לא פרקטי מבחינת מעבר על כל המפתחות )מה גם שיש כמה פרמוטציות שיתנו מפתחות
 הגיוניים(.
\end_layout

\begin_layout Standard
עם זאת, בשל ההחלפה הקבועה של אותיות, היא משמרת לחלוטין את ההתפלגות של השימוש
 באותיות באנגלית וכך ניתן יחסית בקלות לפצח את הצופן.
\end_layout

\end_deeper
\begin_layout Itemize
צופן ויז'נר.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Formula $\kgt$
\end_inset

 דוגם וקטור מספרים 
\begin_inset Formula $k=k_{0}\ldots k_{t-1}\leftarrow\left\{ 0,\ldots,25\right\} ^{t}$
\end_inset

, 
\begin_inset Formula $\m=\left\{ a,\ldots,z\right\} ^{\ell}$
\end_inset

 ו-
\begin_inset Formula $\c=\left\{ A,\ldots,Z\right\} ^{\ell}$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Formula $\enct$
\end_inset

 מסיט את האות ה-
\begin_inset Formula $i$
\end_inset

 ב-
\begin_inset Formula $k_{i\mod t}$
\end_inset

 צעדים קדימה.
 
\begin_inset Formula $\dect$
\end_inset

 מסיט אחורה באותו היסט.
\end_layout

\begin_layout Standard
לדוגמה, 
\begin_inset Formula $k=1,2,3$
\end_inset

, 
\begin_inset Formula $\enc{\textrm{hello}}=\textrm{IGOMQ}$
\end_inset

 )כי צעד אחד קדימה מ-
\begin_inset Formula $h$
\end_inset

 זה 
\begin_inset Formula $i$
\end_inset

, שני צעדים מ-
\begin_inset Formula $l$
\end_inset

 זה 
\begin_inset Formula $M$
\end_inset

 כי 
\begin_inset Formula $k_{4\mod3}=2$
\end_inset

 וכיוצ
\begin_inset Quotes xrd
\end_inset

ב(.
\end_layout

\begin_layout Standard
כאן אי אפשר לעבור על כל אוסף המפתחות ואין מתקפה סטטיסטית ישירה, אבל עם מספיק
 התחכמות כן אפשר לפצח את זה.
\end_layout

\end_deeper
\begin_layout Standard
לסיכום, למדנו שאוסף המפתחות צריך להיות מאוד גדול וגם שאי אפשר לעשות פרמוטציה
 קבועה על אותיות, אבל שני אלה הם תנאים הכרחיים אבל לא מספיקים.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ג | עקרונות יסוד בקריפטוגרפיה מודרנית}
\end_layout

\end_inset


\color lightgray
חלק ג' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1rSzsqNwuY7F92ufGhOAs7kTvEAW7861J/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
לקריפטוגרפיה המודרנית שלושה עקורונת בסיסיים בעת בניית מערכת:
\end_layout

\begin_layout Enumerate
יש לפרמל במדויק את ההגדרה של בטיחות, אחרת לא נוכל לדעת האם השגנו אותה בכלל
 או לא.
 הגדרה זו דורשת שני חלקים:
\end_layout

\begin_deeper
\begin_layout Itemize
תיאור של ההתקפות מפניהן אנו מגנים, לרבות אופן הגישה של התוקפים למידע בהתקפות
 אלו.
\end_layout

\begin_layout Itemize
תיאור של מה נחשב בעינינו כפריצת הבטיחות.
 מצד אחד באופן ליברלי ניתן להגדיר זאת כתוקף שהשיג את המפתח הסודי ומהצד השמרני
 כתוקף שהשיג כל מידע לא טריוויאלי על ההודעה, לדוגמה הביט השביעי.
\end_layout

\begin_layout Standard
חשוב לחשוב על על שני רכיבים אלו כי רק אז נוכל להתאים את הדרישות שלנו ליישום
 המערכת, לדוגמה מערכת פשוטה לא דורשת הצפנה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
overkill
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וזה יכול לבוא על חשבון יעילות.
\end_layout

\end_deeper
\begin_layout Enumerate
יש לתאר את ההנחות הבסיסיות עליהן אנו מסתמכים, לדוגמה שאי אפשר לפרק מספר
 גדול לגורמיו הראשונים בזמן סביר.
\end_layout

\begin_deeper
\begin_layout Standard
החשיבות של תיאור זה היא שההנחות לפעמים מוכחות כלא נכונות, ולכן חשוב לפרסם
 את ההנחות בפומבי כדי לתת למומחים בנושא לבחון אותן לעומק ולקבוע את נכונותן
 )בסבירות גבוהה(.
 יתרון נוסף של כך הוא השוואה של מערכות אחת לשנייה, וכך להגיע לאיזון של הגדרת
 הבטיחות עם יעילות וכו'.
\end_layout

\end_deeper
\begin_layout Enumerate
יש להוכיח שבהינתן ההנחות בעיקרון השני, לא ניתן לבצע מתקפות כפי שהוגדרו בעיקרון
 הראשון.
\end_layout

\begin_layout Standard
עתה קיבלנו כי מצד אחד הוכחנו מתמטית שהמערכת בטוחה אבל מצד שני מערכות כן
 נשברות - מוזר מאוד.
 עם זאת, פרדיגמה זאת מאפשרת לנו לנתח מדוע המערכת נשברה:
\end_layout

\begin_layout Enumerate
הגדרת הבטיחות לא הייתה מספיק חזקה ולכן נרצה לחזק אותה.
\end_layout

\begin_layout Enumerate
אחת ההנחות מהעיקרון השני הופרכה, לדוגמה אם נמצא אלגוריתם יעיל לפירוק מספר
 לגורמים ראשוניים.
\end_layout

\begin_layout Enumerate
הוא שההנחות וההגדרות נכונות אבל שהמערכת פשוט לא מומשה כמו שצריך, ועל כך
 נדון בחלק אבטחת התוכנה בקורס.
\end_layout

\begin_layout Standard
תכנון כזה של מערכות משפר את השיטה הקלאסית של קריפטו', שכן עתה יש לנו הכוונה
 מדוע מערכת נשברה, ולא סתם לתקנה באופן בלתי פורמלי ואולי לא אפקטיבי.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ד | סודיות מושלמת ומגבלותיה}
\end_layout

\end_inset


\color lightgray
חלק ד' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1po04zwNq3RpxzZ26d85QkWPEcp1pP5Kw/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
נרצה לפרמל את העיקרון שאם איב רואה הודעה מוצפנת, היא לא לומדת שום דבר חדש
 על ההודעה המקורית.
\end_layout

\begin_layout Description
הגדרה עבור מערכת ההצפנה הסימטריה 
\begin_inset Formula $\left(\kgt,\enct,\dect\right)$
\end_inset

 עם מפתח משותף 
\begin_inset Formula $k\leftarrow\kg{}$
\end_inset

.
 נגדיר 
\begin_inset Formula $K$
\end_inset

 המ
\begin_inset Quotes xrd
\end_inset

מ המייצג את התפלגות המפתח.
\end_layout

\begin_layout Description
דוגמה עבור צופן קיסר, 
\begin_inset Formula $K\sim\unif{\left\{ 0,\ldots,26\right\} }$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה נסמן ב-
\begin_inset Formula $M$
\end_inset

 המ
\begin_inset Quotes xrd
\end_inset

מ של התפלגות ההודעות 
\begin_inset Formula $\m$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $P\left(M=\textrm{"Attack now"}\right)=0.75$
\end_inset

, 
\begin_inset Formula $P\left(M=\textrm{"Attack later"}\right)=0.25$
\end_inset

.
\end_layout

\begin_layout Standard
נניח שאיב יודעת מהו 
\begin_inset Formula $M$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה 
\begin_inset Formula $K,M$
\end_inset

 מגדירים התפלגות על ההודעות המוצפנות, נסמנה 
\begin_inset Formula $C=\enck KM$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה נאמר כי 
\begin_inset Formula $\Pi=\left(\kgt,\enct,\dect\right)$
\end_inset

 היא 
\bar under
סודית מושלמת
\bar default
 אם לכל התפלגות 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $\m$
\end_inset

 ולכל 
\begin_inset Formula $m\in\m$
\end_inset

 ולכל 
\begin_inset Formula $c\in\c$
\end_inset

 עם
\begin_inset Newline newline
\end_inset


\begin_inset Formula $P\left(C=c\right)>0$
\end_inset

 מתקיים
\begin_inset Formula 
\[
P\left(M=m\mid C=c\right)=P\left(M=m\right)
\]

\end_inset

כלומר, בהינתן שהצופן הוא 
\begin_inset Formula $c$
\end_inset

, לא נודע שום דבר חדש על התפלגות 
\begin_inset Formula $M$
\end_inset

 )ומכאן מהי 
\begin_inset Formula $m$
\end_inset

(.
\end_layout

\begin_layout Description
מסקנה למעשה, 
\begin_inset Formula $\Pi$
\end_inset

 היא סודית מושלמת אם
\begin_inset Quotes xrd
\end_inset

ם 
\begin_inset Formula $M,C$
\end_inset

 ב
\begin_inset Quotes xrd
\end_inset

ת.
\end_layout

\begin_layout Description
טענה צופן ההסטה וההחלפה אינן סודיות מושלמת לכל 
\begin_inset Formula $\ell=1$
\end_inset

.
\end_layout

\begin_layout Proof
)עבור צופן ההסטה, זה דומה לשאר המערכות( כדי להוכיח שמערכת אינה סודית מושלמת,
 נצטרך למצוא 
\begin_inset Formula $M,m,c$
\end_inset

 כך שהמשוואה לא מתקיימת.
 לדוגמה, עבור 
\begin_inset Formula $M\sim\unif{\textrm{"aa"},\textrm{"ab}"}$
\end_inset

 מתקיים 
\begin_inset Formula $P\left(M=\textrm{"aa"}\mid C=\textrm{"AB"}\right)=0$
\end_inset

 שכן אף הסטה לא מקיימת זאת אבל 
\begin_inset Formula $P\left(M=\textrm{"aa"}\right)=\frac{1}{2}$
\end_inset

.
 כלומר, בהינתן הצופן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
AB
\lang hebrew
, יכולנו לשלול לחלוטין את ההודעה המוקרית 
\begin_inset Formula $\textrm{aa}$
\end_inset

 שזה דבר שאנחנו לא רוצים שיקרה.
\end_layout

\begin_layout Description
הגדרה מערכת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
One Time Pad
\lang hebrew
 מוגדרת באופן הבא: 
\begin_inset Formula $\k=\m=\c=\left\{ 0,1\right\} ^{\ell}$
\end_inset

, 
\begin_inset Formula $\kgt$
\end_inset

 דוגם אחיד 
\begin_inset Formula $k\leftarrow\left\{ 0,1\right\} ^{\ell}$
\end_inset

 )
\begin_inset Formula $P\left(K=k\right)=\frac{1}{2^{\ell}}$
\end_inset

(.
 
\begin_inset Formula $\enc m=m\oplus k$
\end_inset

 וכן 
\begin_inset Formula $\dec c=c\oplus k$
\end_inset

.
\end_layout

\begin_layout Description
טענה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
OTP
\lang hebrew
 היא מערכת נכונה.
\end_layout

\begin_layout Proof
\begin_inset Formula $\oplus$
\end_inset

 )פעולת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
XOR
\lang hebrew
( היא סימטרית ולכן 
\begin_inset Formula $\dec{\enc m}=m\oplus k\oplus k=m$
\end_inset

.
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{link38}{}
\end_layout

\end_inset


\end_layout

\begin_layout Description
משפט
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
OTP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא סודית מושלמת עבור הודעות באורך 
\begin_inset Formula $\ell$
\end_inset

.
\end_layout

\begin_layout Proof
תהי 
\begin_inset Formula $M$
\end_inset

 התפלגות על 
\begin_inset Formula $\m$
\end_inset

, 
\begin_inset Formula $m\in\m$
\end_inset

 ו-
\begin_inset Formula $c\in\c$
\end_inset

.
\begin_inset Formula 
\begin{align*}
P\left(C=c\right) & =\sum_{\em\in\m}P\left(M=\em\right)P\left(C=c\mid M=\em\right)\\
C=c\iff K=c\oplus M\qquad & =\sum_{\em\in\m}P\left(M=\em\right)P\left(K=c\oplus\em\mid M=\em\right)\\
 & \overset{\text{ב"ת}}{=}\sum_{\em\in\m}P\left(M=\em\right)P\left(K=c\oplus\em\right)\\
 & =\frac{1}{2^{\ell}}\desc{\sum_{\em\in\m}P\left(M=\em\right)}{=1}\\
 & =\frac{1}{2^{\ell}}
\end{align*}

\end_inset


\begin_inset Formula 
\begin{align*}
P\left(M=m\mid C=c\right) & \overset{\text{כלל בייס}}{=}\frac{P\left(C=c\mid M=m\right)P\left(M=m\right)}{P\left(C=c\right)}\\
\text{כך מוגדרת ההצפנה} & =\frac{P\left(K=c\oplus m\right)P\left(M=m\right)}{P\left(C=c\right)}\\
\text{זה מה שהראנו למעלה} & =\frac{\frac{1}{2^{\ell}}P\left(M=m\right)}{\frac{1}{2^{\ell}}}\\
 & =P\left(M=m\right)
\end{align*}

\end_inset

כלומר 
\begin_inset Formula $P\left(M=m\mid C=c\right)=P\left(M=m\right)$
\end_inset

 שזו בדיוק ההגדרה של סודיות מושלמת.
\end_layout

\begin_layout Description
הערה ל-
\lang english
OTP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יש כמה חסרונות: 
\end_layout

\begin_deeper
\begin_layout Itemize
אורך המפתח חייב להיות זהה לאורך ההודעה, שזו בעיה כשמדובר בהודעות ארוכות
 )לדוגמה קובץ וידאו של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
\lang english
MB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שהוא באורך מיליון בייטים(.
\end_layout

\begin_layout Itemize

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\begin_inset Formula $ $
\end_inset


\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
OTP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מצפינה הודעה אחת בלבד.
 עבור שתי הודעות, נניח כי 
\begin_inset Formula $c=\enc m,c'=\enc m'$
\end_inset

 מתקיים 
\begin_inset Formula $c\oplus c'=m\oplus m'$
\end_inset

 שזו הדלפת מידע חמורה מאוד.
\end_layout

\begin_layout Itemize
)
\lang english
Chosen Plaintext Attack
\lang hebrew
( אם ידועה ההודעה 
\begin_inset Formula $m$
\end_inset

 לתוקף, וגם 
\begin_inset Formula $c$
\end_inset

, אז 
\begin_inset Formula $k=m\oplus c$
\end_inset

 משיג את המפתח בקלות.
\end_layout

\end_deeper
\begin_layout Description
הערה נרצה אם כן לעצב מערכת שמספקת את הגדרה הסודיות המושלמת אבל עושה שימוש
 במפתחות קצרים יותר, האם זה אפשרי?
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
OTP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא המערכת 
\begin_inset Quotes xld
\end_inset

הכי טובה
\begin_inset Quotes xrd
\end_inset

 שמקיימת את הסודיות המושלמת, ולכן קל וחומר שכל מערכת אחרת שהיא סודית מושלמת
 יהיו לה גם את אותן החסרונות, לכן התשובה היא לא.
\end_layout

\begin_layout Description
משפט תהי 
\begin_inset Formula $\Pi$
\end_inset

 מערכת הצפנה סימטרית עם אוסף מפתחות 
\begin_inset Formula $\k$
\end_inset

 והודעות 
\begin_inset Formula $\m$
\end_inset

.
 אם 
\begin_inset Formula $\Pi$
\end_inset

 סודית מושלמת אזי 
\begin_inset Formula $\left|\k\right|\geq\left|\m\right|$
\end_inset

.
\end_layout

\begin_layout Proof
נניח בשלילה כי 
\begin_inset Formula $\left|\k\right|<\left|\m\right|$
\end_inset

 ונגיע לסתירה.
 תהי 
\begin_inset Formula $M$
\end_inset

 ההתפלגות האחידה על 
\begin_inset Formula $\m$
\end_inset

, הודעה 
\begin_inset Formula $m\in\m$
\end_inset

 ו-
\begin_inset Formula $c\in\c$
\end_inset

 כך שקיים מפתח עבורו 
\begin_inset Formula $\enc m=k$
\end_inset

.
 נגדיר
\begin_inset Formula 
\[
\m\left(c\right)=\left\{ \hat{m}:\hat{m}=\deck{\hat{k}}c,\hat{k}\in\k\right\} 
\]

\end_inset

כלומר אוסף ההודעות שניתנות כפענוח של 
\begin_inset Formula $c$
\end_inset

 עבור מפתח כלשהו.
 מתקיים 
\begin_inset Formula $\left|\m\left(c\right)\right|\leq\left|\k\right|$
\end_inset

 לכן מההנחה 
\begin_inset Formula $\left|\m\left(c\right)\right|<\left|\m\right|$
\end_inset

.
 כלומר, קיים 
\begin_inset Formula $m^{*}\in\m$
\end_inset

 כך ש-
\begin_inset Formula $m^{*}\notin\m\left(c\right)$
\end_inset

.
 כלומר אין אף מפתח שמפענח את ההצפנה 
\begin_inset Formula $c$
\end_inset

 ל-
\begin_inset Formula $m^{*}$
\end_inset

.
 לכן
\begin_inset Formula 
\[
P\left(M=m^{*}\mid C=c\right)=0\neq\frac{1}{\left|\m\right|}=P\left(M=m^{*}\right)
\]

\end_inset

בסתירה להגדרת הסודיות המושלמת.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1d48aXnB-RpBIc_k6oCPXWmZbzYPLTBsr/view?usp=sh
aring}{קישור}
\end_layout

\end_inset


\end_layout

\begin_layout Description
שאלה תהי 
\begin_inset Formula $\Pi$
\end_inset

 מערכת הצפנה.
 הוכיחו כי 
\begin_inset Formula $\Pi$
\end_inset

 היא בעלת סודיות מושלמת אם
\begin_inset Quotes xrd
\end_inset

ם לכל התפלגות 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $\m$
\end_inset

 ולכל 
\begin_inset Formula $m_{0},m_{1}\in\m$
\end_inset

 המתקבלות בהסת' חיובית לפי 
\begin_inset Formula $M$
\end_inset

 ולכל 
\begin_inset Formula $c\in\c$
\end_inset

 מתקיים
\begin_inset Formula 
\[
P\left(C=c\mid M=m_{0}\right)=P\left(C=c\mid M=m_{1}\right)
\]

\end_inset

כלומר ש-
\begin_inset Formula $\Pi$
\end_inset

 סודית מושלמת אם
\begin_inset Quotes xrd
\end_inset

ם בהינתן הודעה מוצפנת 
\begin_inset Formula $c$
\end_inset

, לא נבחין בין המקרה בו זה 
\begin_inset Formula $m_{0}$
\end_inset

 למקרה בו זה 
\begin_inset Formula $m_{1}$
\end_inset

 יותר משיכולנו לפני.
\end_layout

\begin_layout Description
פתרון 
\begin_inset Formula $:\Leftarrow$
\end_inset

 תהי 
\begin_inset Formula $M$
\end_inset

 התפלגות על מרחב ההודעות 
\begin_inset Formula $\m$
\end_inset

.
 נוכיח ראשית כי 
\begin_inset Formula $\forall m\in\m$
\end_inset

 המתקבלת בהסת' חיובית ולכל הצפנה 
\begin_inset Formula $c\in\c$
\end_inset

 מתקיים 
\begin_inset Formula $P\left(C=c\mid M=m\right)=P\left(C=c\right)$
\end_inset

.
 אם 
\begin_inset Formula $P\left(C=c\right)=0$
\end_inset

 אז 
\begin_inset Formula $P\left(C=c\mid M=m\right)=0$
\end_inset

 כרצוי.
 אחרת,
\begin_inset Formula 
\begin{align*}
P\left(C=c\mid M=m\right) & \overset{\text{בייס}}{=}\frac{P\left(M=m\mid C=c\right)P\left(C=c\right)}{P\left(M=m\right)}\\
\text{סודיות מושלמת} & =\frac{P\left(M=m\right)P\left(C=c\right)}{P\left(M=m\right)}\\
 & =P\left(C=c\right)
\end{align*}

\end_inset

עבור 
\begin_inset Formula $m_{0},m_{1}\in\m$
\end_inset

 המתקבלות בהסת' חיובית ו-
\begin_inset Formula $c\in\c$
\end_inset

 מתקיים 
\begin_inset Formula $P\left(C=c\mid M=m_{0}\right)=P\left(C=c\right)=P\left(C=c\mid M=m_{1}\right)$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Formula $:\Rightarrow$
\end_inset

 נוכיח סודיות מושלמת.
 תהי 
\begin_inset Formula $M$
\end_inset

 התפלגות על 
\begin_inset Formula $\m$
\end_inset

.
 נוכיח ראשית כי 
\begin_inset Formula $P\left(C=c\right)=P\left(C=c\mid M=m\right)$
\end_inset

, 
\begin_inset Formula $\forall m\in\m,c\in\c$
\end_inset

 כאשר 
\begin_inset Formula $m$
\end_inset

 מתקבלת בהסת' חיוביות,
\begin_inset Formula 
\begin{align*}
P\left(C=c\right) & \overset{\text{הסת' שלמה}}{=}\sum_{m'\in\m}P\left(C=c\mid M=m'\right)P\left(M=m'\right)\\
\text{הנחת הטענה} & =\sum_{m'\in\m}P\left(C=c\mid M=m\right)P\left(M=m'\right)\\
 & =P\left(C=c\mid M=m\right)\desc{\sum_{m'\in\m}P\left(M=m'\right)}{=1}\\
 & =P\left(C=c\mid M=m\right)
\end{align*}

\end_inset


\begin_inset Formula $\forall m\in\m$
\end_inset

 המתקבלת בהסת' חיובית ו-
\begin_inset Formula $\forall c\in\c$
\end_inset

 המתקבלת בהסת' חיובית מתקיים 
\begin_inset Formula 
\begin{align*}
P\left(M=m\mid C=c\right) & \overset{\text{בייס}}{=}\frac{P\left(C=c\mid M=m\right)P\left(M=m\right)}{P\left(C=c\right)}\\
\text{הוכחנו למעלה} & =\frac{P\left(C=c\mid M=m\right)P\left(M=m\right)}{P\left(C=c\mid M=m\right)}\\
 & =P\left(M=m\right)
\end{align*}

\end_inset

שזו בדיוק הגדרת הסודיות המושלמת )עבור 
\begin_inset Formula $m\in\m$
\end_inset

 עם הסת'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ברור שמתקיים השוויון של הסודיות המושלמת(.
\end_layout

\end_deeper
\begin_layout Description
שאלה הוכיחו/הפריכו: לכל מערכת הצפנה 
\begin_inset Formula $\Pi$
\end_inset

 בעלת סודיות מושלמת, לכל התפלגות 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $\m$
\end_inset

 ולכל זוג הצפנות 
\begin_inset Formula $c_{0},c_{1}\in\c$
\end_inset

 המתקבלות בהסת' חיובית מתקיים 
\begin_inset Formula $P\left(C=c_{0}\right)=P\left(C=c_{1}\right)$
\end_inset

.
\end_layout

\begin_layout Description
פתרון לא נכון! תהי 
\begin_inset Formula $\Pi$
\end_inset

 מערכת הצפנה בעלת סודיות מושלמת, נגדיר 
\begin_inset Formula $\Pi'=\left(\kgt,\enct',\dect'\right)$
\end_inset

 באופן הבא: 
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Formula $\enct_{k}^{'}\left(m\right)=\enc m||b$
\end_inset

 כאשר 
\begin_inset Formula $b\sim\ber{\frac{3}{4}}$
\end_inset

 )כלומר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהסת' 
\begin_inset Formula $\frac{3}{4}$
\end_inset

 ו-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהסת' 
\begin_inset Formula $\frac{1}{4}$
\end_inset

(.
 האופרטור 
\begin_inset Formula $||$
\end_inset

 מייצג הצמדה של מחרוזות.
 כלומר מצפינים ומצמידים ביט לא הוגן.
\end_layout

\begin_layout Standard
\begin_inset Formula $\dect'$
\end_inset

 מתעלם מהביט האחרון בהצפנה ומפענח את השאר עם 
\begin_inset Formula $\dect$
\end_inset

.
\end_layout

\begin_layout Standard
תהי 
\begin_inset Formula $M$
\end_inset

 התפלגות על 
\begin_inset Formula $\m$
\end_inset

 ונסמן 
\begin_inset Formula $C,B,C'$
\end_inset

 את המ
\begin_inset Quotes xrd
\end_inset

מ המתאימים להצפנה של 
\begin_inset Formula $\enct$
\end_inset

, לביט שנדגם ב-
\begin_inset Formula $\enct'$
\end_inset

 ולהצפנה של 
\begin_inset Formula $\enct'$
\end_inset

 בהתאמה.
 תהי 
\begin_inset Formula $c\in\c$
\end_inset

 הצפנה המתקבלת בהסת' חיובית על ידי 
\begin_inset Formula $\Pi$
\end_inset

 ונתבונן בהצפנות 
\begin_inset Formula $c_{0}=c||0,c_{1}=c||1$
\end_inset

.
 
\begin_inset Formula $P\left(C'=c_{0}\right),P\left(C'=c_{1}\right)>0$
\end_inset

 אבל 
\begin_inset Formula $B$
\end_inset

 לא הוגן ולכן 
\begin_inset Formula $P\left(C'=c_{1}\right)\neq P\left(C'=c_{0}\right)$
\end_inset

 כלומר תנאי הטענה לא מתקיים.
\end_layout

\begin_layout Standard
נותר להוכיח כי 
\begin_inset Formula $\Pi'$
\end_inset

 סודית מושלמת.
 לכל 
\begin_inset Formula $m\in\m$
\end_inset

, 
\begin_inset Formula $c\in\c$
\end_inset

 המתקבלת בהסת' חיובית ולכל 
\begin_inset Formula $b\in\left\{ 0,1\right\} $
\end_inset

 מתקיים
\begin_inset Formula 
\begin{align*}
P\left(M=m\mid C'=c||b\right) & \overset{\text{בייס}}{=}\frac{P\left(C'=c||b\mid M=m\right)P\left(M=m\right)}{P\left(C'=c||b\right)}\\
 & =\frac{P\left(C=c\land B=b\mid M=m\right)P\left(M=m\right)}{P\left(C=c\land B=b\right)}\\
\c,\m\;\text{ב"ת ב-}\;B & =\frac{P\left(C=c\mid M=m\right)P\left(B=b\right)P\left(M=m\right)}{P\left(C=c\right)P\left(B=b\right)}\\
 & =\frac{P\left(C=c\mid M=m\right)P\left(M=m\right)}{P\left(C=c\right)}\\
\text{סודית מושלמת}\;\Pi' & =\frac{P\left(C=c\right)P\left(M=m\right)}{P\left(C=c\right)}\\
 & =P\left(M=m\right)
\end{align*}

\end_inset

כלומר 
\begin_inset Formula $\Pi'$
\end_inset

 בעלת סודיות מושלמת.
\end_layout

\end_deeper
\begin_layout Description
שאלה כשמשתמשים ב-
\lang english
OTP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם 
\begin_inset Formula $k=0^{\ell}$
\end_inset

 מתקיים 
\begin_inset Formula $\enc m=k\oplus m=m$
\end_inset

 כלומר ההודעה נשלחת כמו שהיא שזה לא טוב.
 עבור המערכת 
\begin_inset Formula $\Pi'$
\end_inset

 שזהה ל-
\lang english
OTP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
רק שהיא דוגמת אחיד על 
\begin_inset Formula $\left\{ 0,1\right\} ^{\ell}\backslash0^{\ell}$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
הוכיחו/הפריכו: 
\begin_inset Formula $\Pi'$
\end_inset

 היא סודית מושלמת.
\end_layout

\end_deeper
\begin_layout Description
פתרון לא נכון! תהי 
\begin_inset Formula $M$
\end_inset

 התפלגות אחידה על 
\begin_inset Formula $\m=\left\{ 0,1\right\} ^{\ell}$
\end_inset

 ותהי 
\begin_inset Formula $m\in\m$
\end_inset

.
 אזי עבור 
\begin_inset Formula $C=m$
\end_inset

,
\begin_inset Formula 
\[
P\left(M=m\mid C=m\right)=P\left(K=0^{\ell}\right)=0\neq\frac{1}{\left|\m\right|}=P\left(M=m\right)
\]

\end_inset

בסתירה להגדרת הסודיות המושלמת.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{II
\backslash
;
\backslash
; הגדרות בטיחות חישוביות ומחוללים פסאודו-אקראיים}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{II}$
\end_inset

 | הגדרות בטיחות חישוביות ומחוללים פסאודו-אקראיים
\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{א | גישות לבטיחות ופרמטר הבטיחות}
\end_layout

\end_inset


\color lightgray
חלק א' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1LSxEaM0W2zYGGehA-aBGLN2_ZkUI6Liu/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
סודיות מושלמת מוגבלת להצפנה של הודעה ארוכה כאורך המפתח ורק הודעה אחת, נרצה
 למצוא הגדרה מעט חלשה יותר שתהיה יותר שימושית.
\end_layout

\begin_layout Standard
סודיות חישובית מתייחסת למצב יותר פרקטי, לפיו לתוקף יש איזושהי מגבלה חישובית
 על התוקף, ומוגדרת ע
\begin_inset Quotes xrd
\end_inset

י הצפנה שלא קביל חישובית לגלות מידע שימושי באמצעותה על ההודעה המקורית.
\end_layout

\begin_layout Standard

\size larger
הקלות מציאותיות
\end_layout

\begin_layout Enumerate
המתקפה ממנה אנו מגנים מוגבלת בכוח החישוב, לדוגמה כזו שמתמשת במחשב העל המתקדם
 ביותר כיום שרצה למשך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2000
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שנה.
\end_layout

\begin_layout Enumerate
המתקפה ממנה אנו מגנים תצליח בהסת' זניחה, כמו פעם ב-
\begin_inset Formula $10,000$
\end_inset

 בממוצע, דבר שלמעשה לא פוגע באמת בבטיחות ההצפנה.
\end_layout

\begin_layout Description
הגדרה לפי ה
\bar under
גישה הקונקרטית
\bar default
, סכמה היא 
\begin_inset Formula $\left(t,\epsilon\right)$
\end_inset

-בטוחה אם לכל תוקף שרץ בזמן 
\begin_inset Formula $t$
\end_inset

 יש הסת' 
\begin_inset Formula $\epsilon$
\end_inset

 לשבור את ההצנה.
\end_layout

\begin_layout Description
דוגמה כיום משתמשים 
\begin_inset Formula $t=2^{60}$
\end_inset

, 
\begin_inset Formula $\epsilon=2^{-60}$
\end_inset

.
\end_layout

\begin_layout Standard
שיטה זו מאוד שימושית משום שאפשר להתאימה לאבטחה מספקת עבור מערכת ספציפית.
 מכאן בא גם חסרונה, שהוא שככלל שהטכולוגיה משתפרת, הפרמטרים צריכים גם הם
 לגדול כל הזמן, והשיטה הקונקרטית מגבילה אותנו במובן זה כי היא תלויה בטכנולוגיה
 הנוכחית.
 יריבים שרצים בזמן יותר מ-
\begin_inset Formula $t$
\end_inset

 יכולים אולי לשבור את ההצפנה בהסת' גבוהה הרבה מ-
\begin_inset Formula $\epsilon$
\end_inset

.
\end_layout

\begin_layout Description
הגדרה לפי ה
\bar under
גישה האסימפטוטית
\bar default
, סכמה היא בטוחה אם כל יריב הסתברותי פולינומיאלי שובר את ההצפנה בהסת' זניחה.
\end_layout

\begin_layout Description
הגדרה אלג' 
\begin_inset Formula $A$
\end_inset

 נקרא 
\bar under
הסתברותי פולינומיאלי
\bar default
 אם קיים פולינום כך שלכל קלט 
\begin_inset Formula $x\in\left\{ 0,1\right\} ^{*}$
\end_inset

 וסדרת ערכים אקראיים 
\begin_inset Formula $r\in\left\{ 0,1\right\} ^{*}$
\end_inset

, זמן החישוב של 
\begin_inset Formula $A\left(x;r\right)$
\end_inset

 נגמר לאחר 
\begin_inset Formula $p\left(\left|x\right|\right)$
\end_inset

 )האלג' זז ימינה ושמאלה על הקלט בהסתמך על הערכים ב-
\begin_inset Formula $r$
\end_inset

(.
\end_layout

\begin_layout Standard
האלג' בו משתמש התוקף לא בהכרח מוגדר באופן מפורש באופן פורמלי, ולכן נכניס
 פרמטר חדש שיעזור לנו לכמת את הקלט הזה.
\end_layout

\begin_layout Description
הגדרה 
\bar under
פרמטר הבטיחות
\bar default
 
\begin_inset Formula $n$
\end_inset

 הוא מספר שמאפשר לנו לקבוע את רמת הבטיחות של הסכמה שלנו.
 באופן פורמלי, 
\begin_inset Formula $\kgt$
\end_inset

 מקבל כפרמט את 
\begin_inset Formula $1^{n}$
\end_inset

 )וכך אורך הקלט הוא 
\begin_inset Formula $n$
\end_inset

( ופולט מפתח באורך 
\begin_inset Formula $n$
\end_inset

 ביטים, 
\begin_inset Formula $k\in\k_{n}$
\end_inset

.
 המפתח שהוא פולט אמור להגן מפני מתקפה שרצה בזמן פולינומיאלי ב-
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_layout Description
הערה שלל האוספים שלנו מתחלקים עתה לרמות בטיחות - 
\begin_inset Formula $\m=\bigcup\limits _{n\in\fldn}\m_{n}$
\end_inset

 וכיוצ
\begin_inset Quotes xrd
\end_inset

ב.
\end_layout

\begin_layout Description
הגדרה תהי 
\begin_inset Formula $f:\fldn\to\fldr^{+}$
\end_inset

.
 נאמר כי 
\begin_inset Formula $f$
\end_inset

 
\bar under
זניחה
\bar default
 אם לכל פולינום 
\begin_inset Formula $p$
\end_inset

 קיים 
\begin_inset Formula $N\in\fldn$
\end_inset

 כך ש- 
\begin_inset Formula $\forall n\geq N$
\end_inset

, 
\begin_inset Formula $f\left(n\right)<\frac{1}{p\left(n\right)}$
\end_inset

, כלומר שהפונקציה דועכת יותר מהר מכל פולינום מתישהו.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $2^{-n},2^{-\sqrt{n}}$
\end_inset

 ו-
\begin_inset Formula $2^{-\log^{2}n}$
\end_inset

 הן פ' זניחות ואילו 
\begin_inset Formula $\frac{1}{2},\frac{1}{\log^{2}n}$
\end_inset

 ו-
\begin_inset Formula $\frac{1}{n^{5}}$
\end_inset

 אינן זניחות.
\end_layout

\begin_layout Description
דוגמה חזרה להגדרה המקורית, באלג' בטוח לפי הגישה האסימפטוטית, אלג' שרץ בזמן
 
\begin_inset Formula $\oo{n^{1232143}}$
\end_inset

 ישבור את ההצפנה בהסת' זניחה כלשהי.
\end_layout

\begin_layout Description
טענה )סגירות זניחות לסכום וכפל בפולינום( אם 
\begin_inset Formula $\nu_{1},\nu_{2}$
\end_inset

 פ' זניחות ו-
\begin_inset Formula $p$
\end_inset

 פולינום אזי 
\begin_inset Formula $p\left(\nu_{1}+\nu_{2}\right)$
\end_inset

 גם פ' זניחה.
\end_layout

\begin_layout Description
הערה הבחירה להניח שהאלג' פולינומיאלי ושהסת' זניחה היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אחד חלקי פולינומיאלית מבחינתנו היא לא טריוויאלית ויכולנו לבחור דברים אחרים
 כגון שהסת' זניחה היא אחד חלקי אקספוננציאלית וכו'.
\end_layout

\begin_deeper
\begin_layout Standard
הבחירה הזו נותנת לנו תכונות אינטואיטיביות כי מכפלת פולינומים היא פולינום
 ומכפלת פולינום ופ' זניחה היא עדיין זניחה שזה הגיוני מבחינת המציאות.
 כלומר הפעלת אלג' פולינומיאלי מספר פולינומיאלי של פעמים עדיין מכוסה תחת
 הבטיחות שלנו והיריב עדיין יפרוץ את האבטחה בהסת' זניחה.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ב | מערכות עם הצפנות בלתי ניתנות להבחנה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\color lightgray
חלק ב' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1LSxEaM0W2zYGGehA-aBGLN2_ZkUI6Liu/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Description
הגדרה הצפנה תקרא 
\bar under
בלתי ניתנת להבחנה
\bar default
 אם כל שתי הצפנות לא ניתנות להבחנה, אך התוקף עדיין רואה רק הודעה אחת.
 כלומר,
\begin_inset Formula 
\[
\enc{m_{0}}\approx\enc{m_{1}}
\]

\end_inset


\end_layout

\begin_layout Description
ניסוי תהי 
\begin_inset Formula $\Pi=\left(\kgt,\enct,\dect\right)$
\end_inset

 ויריב 
\begin_inset Formula $\mathcal{A}$
\end_inset

.
 נגדיר את הניסוי 
\begin_inset Formula $\textrm{IND}_{\Pi,\mathcal{A}}\left(n\right)$
\end_inset

 באופן הבא:
\end_layout

\begin_deeper
\begin_layout Enumerate
ניצור 
\begin_inset Formula $k\leftarrow\kg{1^{n}}$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\mathcal{A}\left(1^{n}\right)$
\end_inset

 ייתן לנו שתי הודעות, 
\begin_inset Formula $m_{0},m_{1}$
\end_inset

.
\end_layout

\begin_layout Enumerate
נחזיר לו את ההצפנה של אחת ההודעות בהתפלגות שווה ונראה האם הוא מצליח לקבוע
 האם הצפנו את 
\begin_inset Formula $m_{0}$
\end_inset

 או 
\begin_inset Formula $m_{1}$
\end_inset

.
 נעשה זאת פורמלית ע
\begin_inset Quotes xrd
\end_inset

י הגרלה של 
\begin_inset Formula $b\leftarrow\left\{ 0,1\right\} $
\end_inset

 וחישוב ושליחת 
\begin_inset Formula $c^{*}\leftarrow\enc{m_{b}}$
\end_inset

.
\end_layout

\begin_layout Enumerate
היריב יחזיר 
\begin_inset Formula $b'$
\end_inset

, הקביעה שלו האם זוהי 
\begin_inset Formula $m_{0}$
\end_inset

 או 
\begin_inset Formula $m_{1}$
\end_inset

 שהוצפנה.
\end_layout

\begin_layout Standard
נקבע את ערך הניסוי להיות 
\begin_inset Formula $\textrm{IND}_{\Pi,\mathcal{A}}\left(n\right)=\begin{cases}
1 & b'=b\\
0 & \text{אחרת}
\end{cases}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
הגדרה 
\begin_inset Formula $\Pi$
\end_inset

 תקרא 
\bar under
בעלת הצפנות בלתי ניתנות להבחנה
\bar default
 אם כל יריב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PPT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)פולינומיאלי הסת'( קיימת פ' זניחה 
\begin_inset Formula $\nu$
\end_inset

 כך ש-
\begin_inset Formula 
\[
P\left(\textrm{IND}_{\Pi,\mathcal{A}}\left(n\right)=1\right)\leq\frac{1}{2}+\nu\left(n\right)
\]

\end_inset

כאשר החלק ההסת' הוא 
\begin_inset Formula $r$
\end_inset

 של 
\begin_inset Formula $\mathcal{A}$
\end_inset

 והטלת המטבע 
\begin_inset Formula $b$
\end_inset

.
\end_layout

\begin_layout Description
הערה המשמעות האינטואיטיבית היא שהיריב בקושי יכול להבחין יותר מהסת' עיוורת
 )
\begin_inset Formula $\frac{1}{2}$
\end_inset

( איזו הודעה הוצפנה.
\end_layout

\begin_layout Description
טענה סודיות מושלמת גוררת בטיחות בלתי ניתנת להבחנה )בתרגיל(.
\end_layout

\begin_layout Standard
נרצה למצוא דרך להבטיח בטיחות חישובית ברמת בטיחות בלתי ניתנת להבחנה באמצעות
 מטבעות קצרים.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ג | מחוללים פסאודו-אקראיים}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\color lightgray
חלק ג' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/19cRuhNAHalQIvtaCIvFjDlRfqsHHFzjX/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
נרצה בהינתן קלט קצר ואקראי )
\lang english
seed
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מעתה(, להרחיב אותו לערך ארוך יותר שנראה אקראי גם, פ' מהצורה 
\begin_inset Formula $G:\left\{ 0,1\right\} ^{*}\to\left\{ 0,1\right\} ^{*}$
\end_inset

 שתקרא מחולל פסאודו אקראי.
 ערך נראה אקראי אם הוא בלתי ניתן להבחנה מהתפלגות אחידה אמיתית.
 נרצה לשם הפשטה להכפיל את אורך המחרוזת המתקבלת, כלומר 
\begin_inset Formula $\left\{ 0,1\right\} ^{n}\mapsto\left\{ 0,1\right\} ^{2n}$
\end_inset

.
 בשל הפרשי העוצמות, לא נקבל באמת התפלגות אחידה שכן לא נמפה ללפחות 
\begin_inset Formula $2^{n}$
\end_inset

 ערכים ב-
\begin_inset Formula $\left\{ 0,1\right\} ^{2n}$
\end_inset

 אבל עדיין נרצה שלא נוכל להבדיל ביניהן.
\end_layout

\begin_layout Description
הגדרה תהי 
\begin_inset Formula $G:\left\{ 0,1\right\} ^{*}\to\left\{ 0,1\right\} ^{*}$
\end_inset

 פ' המחושבת בזמן פולינומיאלי ויהי 
\begin_inset Formula $\ell$
\end_inset

 פולינום כך שלכל קלט 
\begin_inset Formula $s\in\left\{ 0,1\right\} ^{n}$
\end_inset

, 
\begin_inset Formula $G\left(s\right)\in\left\{ 0,1\right\} ^{\ell\left(n\right)}$
\end_inset

.
 
\begin_inset Formula $G$
\end_inset

 הוא 
\bar under
מחולל פסאודו אקראי
\bar default
 אם:
\end_layout

\begin_deeper
\begin_layout Enumerate
הרחבה: 
\begin_inset Formula $\ell\left(n\right)>n$
\end_inset

.
\end_layout

\begin_layout Enumerate
פסאודו אקראיות, לכל מבדיל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PPT
\lang hebrew
 
\begin_inset Formula $\mathcal{D}$
\end_inset

, קיימת פ' זניחה 
\begin_inset Formula $\nu$
\end_inset

 כך ש-
\begin_inset Formula 
\[
\left|\underset{s\leftarrow\left\{ 0,1\right\} ^{n}}{P}\left(\mathcal{D}\left(G\left(s\right)\right)=1\right)-\underset{r\leftarrow\left\{ 0,1\right\} ^{\ell\left(n\right)}}{P}\left(\mathcal{D}\left(r\right)=1\right)\right|\leq\nu\left(n\right)
\]

\end_inset

כלומר שהפער בין ההתנהגות של המבדיל על התפלגות אקראית ועל התמונה של המחולל
 היא זהה.
\end_layout

\end_deeper
\begin_layout Description
הערה הגדרת הבטיחות של מחולל פסאודו אקראי, היא שכל מבדיל הסת' פולינמיאלי
 יבחין בהסת' זניחה בין שני העולמות )
\begin_inset Formula $\left\{ 0,1\right\} ^{2n}$
\end_inset

 ו-
\begin_inset Formula $G\left(\left\{ 0,1\right\} ^{n}\right)$
\end_inset

(, כלומר 
\begin_inset Formula $G$
\end_inset

 הוא טוב כאקראי.
\end_layout

\begin_layout Description
סימון נקבע שערך החזרה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ממבדיל משמעו 
\begin_inset Quotes xld
\end_inset

לדעתי זה מ-
\begin_inset Formula $G$
\end_inset


\begin_inset Quotes xrd
\end_inset

 ואילו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
משמעו 
\begin_inset Quotes xld
\end_inset

לדעתי זה מהתפלגות אחידה
\begin_inset Quotes xrd
\end_inset

.
\end_layout

\begin_layout Standard
האם קיימים באמת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PRG
\lang hebrew
-ים? קיימים כיום כאלה, שמתבססים על ההבנה המדעית כיום של הפעולה שלהם ועומדים
 על הנחות בטיחות סבירות.
\end_layout

\begin_layout Standard
ננסה לקבל אינטואציה ל-
\lang english
PRG
\lang hebrew
.
 ננסה לבנות מחולל שמוסיף ביט אחד.
\end_layout

\begin_layout Description
דוגמה עבור מחרוזת 
\begin_inset Formula $s=s_{1}\cdots s_{n}\in\left\{ 0,1\right\} ^{n}$
\end_inset

, נגדיר 
\begin_inset Formula $G\left(s\right)=s_{1}\cdots s_{n}||0$
\end_inset

.
 האם זוהי מחרוזת שניתנת להבחנה מהתפלגות אקראית? כמובן שכן, הרי שברגע שהביט
 האחרון הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ברור שזוהי ההתפלגות המקורית ונקבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כזה בהסת' חצי וזה לא זניח.
 המבדיל שלנו יהיה 
\begin_inset Formula $\mathcal{D}\left(r\right)=\begin{cases}
1 & r_{n+1}=0\\
0 & r_{n+1}=1
\end{cases}$
\end_inset

.
\end_layout

\begin_layout Description
דוגמה נגדיר עתה 
\begin_inset Formula $G\left(s\right)=s_{1}\cdots s_{n}||s_{1}$
\end_inset

.
 האם ניתן להבחין עתה בין התפלגות אחידה לבין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
G
\lang hebrew
? עדיין כן, כי בהתפלגות רגילה 
\begin_inset Formula $r_{1},r_{n+1}$
\end_inset

 ב
\begin_inset Quotes xrd
\end_inset

ת ובהסת' חצי שונים זה מזה ואילו כאן הם תמיד שווים.
 המחולל הוא 
\begin_inset Formula $\mathcal{D}\left(r\right)=\begin{cases}
1 & r_{1}=r_{n+1}\\
0 & \text{אחרת}
\end{cases}$
\end_inset

 בעולם המחולל המבדיל יחזיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהסת'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ובהתפלגות האחידה יחזיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהסת' חצי.
\end_layout

\begin_layout Description
דוגמה נגדיר 
\begin_inset Formula $G\left(s\right)=s_{1}\cdots s_{n}||z$
\end_inset

 כאשר 
\begin_inset Formula $z=s_{1}\oplus\ldots\oplus s_{n}$
\end_inset

, האם זהו מחולל פסאודו אקראי? עדיין לא! בעולם של 
\begin_inset Formula $G$
\end_inset

 בהסת'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתקיים 
\begin_inset Formula $r_{1}\oplus\ldots\oplus r_{n+1}=0$
\end_inset

 בעוד בהתפלגות אחידה זה קורה בהסת' חצי - זהו יתרון לא הוגן עבור המבדיל.
\end_layout

\begin_layout Standard
קשה מאוד לבנות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PRG
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ועצם הקיום של אחד 
\begin_inset Quotes xld
\end_inset

טהור
\begin_inset Quotes xrd
\end_inset

 כזה מוכיחה ש-
\begin_inset Formula $P\neq NP$
\end_inset

 שזו בעיה חישובית שטרם נפתרה.
 עם זאת, בהסתמך על הנחות חישוביות מסוימות אפשר למצוא פונקציות שמתנהגות מאוד
 קרוב ל-
\lang english
PRG
\lang hebrew
.
\end_layout

\begin_layout Description
טענה כל תכונה של התפלגות אחידה מתקיימת גם עבור הפלט של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PRG
\lang hebrew
.
\end_layout

\begin_layout Description
מסקנה בדיקת כל תכונה סטטיסטית שניתנת לבדיקה בזמן יעיל יכולה לשמש כמבדיל.
\end_layout

\begin_layout Description
דוגמה אם 
\begin_inset Formula $G$
\end_inset

 הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PRG
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אז קיימת פ' זניחה כך ש-
\begin_inset Formula 
\[
\underset{s\leftarrow\left\{ 0,1\right\} ^{n}}{P}\left(G\left(s\right)\text{מספר האחדות ב-}<\frac{1}{4}\right)\leq\nu\left(n\right)
\]

\end_inset


\end_layout

\begin_layout Description
הערה כדי להוכיח טענות על מערכות עם הצפנות בלתי ניתנות להבחנה ו-
\begin_inset Formula $\pr$
\end_inset

-ים, לרוב נניח בשלילה שתכונה אחת לא מתקיימת ונבנה אובייקט שסותר את ההגדרה
 השנייה.
\end_layout

\begin_layout Description
הערה בקצרה יחסית, מערכת עם הצפנות בלתי ניתנות להבחנה אומרת שכל תוקף מנבא
 בהסת' גדולה מחצי באופן זניח איזו הודעה הוצפנה עבורו.
\end_layout

\begin_deeper
\begin_layout Standard
פונקציה היא 
\begin_inset Formula $\pr$
\end_inset

 אם כל מבדיל קובע שמחרוזת היא אקראית טהורה או שהיא פלט של הפ' בהפרש זניח.
\end_layout

\begin_layout Standard
ברגע שזוכרים את ההפרדה הזו הרבה יותר קל לעקוב אחר הוכחות גם אם הן ארוכות.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ד | שימוש במחולל פסאודו-אקראיי לבניית מערכת
 הצפנה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\color lightgray
חלק ד' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/18PKag9BEBRef7ljrsjpP874kVqAxy0mI/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
נשתמש ב-
\lang english
OTP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יחד עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PRG
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כדי להצפין הודעות ארוכות.
\end_layout

\begin_layout Standard
יהי 
\begin_inset Formula $G$
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PRG
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם הרחבה 
\begin_inset Formula $\ell\left(n\right)$
\end_inset

.
 
\begin_inset Formula $\k_{n}=\left\{ 0,1\right\} ^{n}$
\end_inset

 וכן 
\begin_inset Formula $\m_{n}=\c_{n}=\left\{ 0,1\right\} ^{\ell\left(n\right)}$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\kg{1^{n}}$
\end_inset

 דוגם 
\begin_inset Formula $k\leftarrow\left\{ 0,1\right\} ^{n}$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\enc m=m\oplus G\left(k\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\dec c=c\oplus G\left(k\right)$
\end_inset

.
\end_layout

\begin_layout Description
הערה אם 
\begin_inset Formula $\ell\left(n\right)=2n$
\end_inset

, 
\begin_inset Formula $\left|\k_{n}\right|=2^{n}$
\end_inset

 אז גודל ההודעות שניתן להצפין הוא 
\begin_inset Formula $\left|\m_{n}\right|=2^{2n}$
\end_inset

 כלומר גדול באופן קספוננציאלי.
\end_layout

\begin_layout Description
משפט אם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
G
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PRG
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אז למערכת יש הצפנות בלתי ניתנות להבחנה.
\end_layout

\begin_layout Proof
נשתמש בשיטה שתחזור על עצמה בקורס - רידוקציה.
 נניח בשלילה שהמערכת מחזירה צפנים ניתנים להבחנה על ידי תוקף 
\begin_inset Formula $\mathcal{A}$
\end_inset

 ונבנה באמצעות 
\begin_inset Formula $\mathcal{A}$
\end_inset

 מבדיל 
\begin_inset Formula $\mathcal{D}$
\end_inset

 שיפריך את היות 
\begin_inset Formula $G$
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PRG
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בסתירה להנחה.
 בנוסף, נקשור את הפולינומיאליות של 
\begin_inset Formula $\mathcal{D}$
\end_inset

 לזו של 
\begin_inset Formula $\mathcal{A}$
\end_inset

.
\end_layout

\begin_layout Proof
מההנחה בשלילה, קיים יריב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PPT
\lang hebrew
 
\begin_inset Formula $\mathcal{A}$
\end_inset

 ופולינום 
\begin_inset Formula $p\left(n\right)$
\end_inset

 כך ש-
\begin_inset Formula 
\[
P\left(\textrm{IND}_{\Pi,\mathcal{A}}\left(n\right)=1\right)\geq\frac{1}{2}+\frac{1}{p\left(n\right)}
\]

\end_inset

באופן שכיח )עבור אינסוף 
\begin_inset Formula $n$
\end_inset

-ים(.
\end_layout

\begin_layout Proof
נוכיח כי קיים מבדיל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PPT
\lang hebrew
 
\begin_inset Formula $\d$
\end_inset

 ופולינום 
\begin_inset Formula $q\left(n\right)$
\end_inset

 כך ש-
\begin_inset Formula 
\[
\left|\underset{s\inr\left\{ 0,1\right\} ^{n}}{P}\left(\d\left(G\left(s\right)\right)=1\right)-\underset{r\inr\left\{ 0,1\right\} ^{\ell\left(n\right)}}{P}\left(\d\left(r\right)=1\right)\right|\geq\frac{1}{q\left(n\right)}
\]

\end_inset


\end_layout

\begin_layout Proof
נתכנן את 
\begin_inset Formula $\d\left(z\right)$
\end_inset

:
\end_layout

\begin_deeper
\begin_layout Enumerate
בהינתן קלט 
\begin_inset Formula $z$
\end_inset

, נקרא ל-
\begin_inset Formula $\a$
\end_inset

 עם 
\begin_inset Formula $z$
\end_inset

 ונקבל ממנו שתי הודעות 
\begin_inset Formula $m_{0},m_{1}$
\end_inset

 )
\begin_inset Formula $\a$
\end_inset

 חושב שהוא בתוך הניסוי 
\begin_inset Formula $\textrm{IND}$
\end_inset

 ולכן יפעל כמוהו(.
\end_layout

\begin_layout Enumerate
נדגום 
\begin_inset Formula $b\inr\left\{ 0,1\right\} $
\end_inset

 ונחזיר ל-
\begin_inset Formula $\a$
\end_inset

 את ההודעה המוצפנת 
\begin_inset Formula $c^{*}=z\oplus m_{b}$
\end_inset

 כלומר נשתמש ב-
\begin_inset Formula $z$
\end_inset

 כמפתח האפקטיבי.
\end_layout

\begin_layout Enumerate
נפלוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם
\begin_inset Quotes xrd
\end_inset

ם 
\begin_inset Formula $b'=b$
\end_inset

, כלומר אם
\begin_inset Quotes xrd
\end_inset

ם היריב צדק.
\end_layout

\begin_layout Standard
זמן הריצה הוא פולינומיאלי כי כל הפעולות הן על קלטים באורך פולינומיאלי וכן
 
\begin_inset Formula $\a$
\end_inset

 פולינומיאלי ולכן 
\begin_inset Formula $\d$
\end_inset

 הוא 
\begin_inset Formula $\pp$
\end_inset

.
\end_layout

\begin_layout Standard
ננתח את 
\begin_inset Formula $\d$
\end_inset

 לפי מקרים על 
\begin_inset Formula $z$
\end_inset

:
\end_layout

\begin_layout Enumerate
\begin_inset Formula $z\inr\left\{ 0,1\right\} ^{\ell\left(n\right)}$
\end_inset

 )ההודעה באמת מהתפלגות אחידה(.
 במקרה זה, הקביעה של 
\begin_inset Formula $\a$
\end_inset

 ב
\begin_inset Quotes xrd
\end_inset

ת ב-
\begin_inset Formula $b$
\end_inset

 כי הוא מקבל את 
\begin_inset Formula $c^{*}$
\end_inset

 והוא מורכב מ-
\begin_inset Formula $\oplus$
\end_inset

 עם 
\begin_inset Formula $z$
\end_inset

, אבל 
\begin_inset Formula $z$
\end_inset

 מתפלג אחיד ולכן גם 
\begin_inset Formula $c^{*}$
\end_inset

 ולכן כל קביעה שלו ב
\begin_inset Quotes xrd
\end_inset

ת ב-
\begin_inset Formula $b$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
לכן, 
\begin_inset Formula $\underset{z\inr\left\{ 0,1\right\} ^{\ell\left(n\right)}}{P}\left(\d\left(z\right)=1\right)=\frac{1}{2}$
\end_inset

 כלומר ההסת' שהקביעה של 
\begin_inset Formula $\a$
\end_inset

 בתוך 
\begin_inset Formula $\d$
\end_inset

 היא נכונה היא 
\begin_inset Formula $\frac{1}{2}$
\end_inset

.
\end_layout

\begin_layout Standard
נוח לחשוב על זה כך: 
\begin_inset Formula $\d$
\end_inset

 כבר החזיר איזושהי תשובה 
\begin_inset Formula $b'$
\end_inset

 שלא קשורה ל-
\begin_inset Formula $b$
\end_inset

 )שכן החלטתו ב
\begin_inset Quotes xrd
\end_inset

ת ב-
\begin_inset Formula $b$
\end_inset

 כי הוא לא יודע עליו כלום כאמור(.
 עכשיו בודקים האם הערך הזה שווה ל-
\begin_inset Formula $b$
\end_inset

, שמוגרל אחיד, וההסת' שזה יקרה היא בוודאי חצי.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $z=G\left(k\right)$
\end_inset

 כאשר 
\begin_inset Formula $k\inr\left\{ 0,1\right\} ^{n}$
\end_inset

 )ההודעה מה-
\begin_inset Formula $\pr$
\end_inset

(.
 במקרה זה, התהליך זהה לחלוטין לניסוי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $\textrm{IND}_{\Pi,\a}$
\end_inset

 שכן ההצפנה של 
\begin_inset Formula $m_{0}$
\end_inset

 או 
\begin_inset Formula $m_{1}$
\end_inset

 היא בדיוק 
\begin_inset Formula $G\left(k\right)\xor m_{b}=z\xor m_{b}$
\end_inset

.
 מההנחה בשלילה ש-
\begin_inset Formula $\a$
\end_inset

 יריב שיכול להבחין בין הודעות בהסת' לא זניחה, מתקיים
\begin_inset Formula 
\[
\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(\d\left(G\left(k\right)\right)=1\right)=P\left(\textrm{IND}_{\Pi,\a}\left(n\right)=1\right)\geq\frac{1}{2}+\frac{1}{p\left(n\right)}
\]

\end_inset

אם נחליף את שמות 
\begin_inset Formula $z,k$
\end_inset

 ל-
\begin_inset Formula $r,s$
\end_inset

 בהתאמה, נקבל כי מצאנו מבדיל 
\begin_inset Formula $\pp$
\end_inset

 
\begin_inset Formula $\d$
\end_inset

 המקיים
\begin_inset Formula 
\[
\left|\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(\d\left(G\left(s\right)\right)=1\right)-\underset{z\inr\left\{ 0,1\right\} ^{\ell\left(n\right)}}{P}\left(\d\left(z\right)=1\right)\right|\geq\frac{1}{p\left(n\right)}
\]

\end_inset

בסתירה להגדרת ה-
\begin_inset Formula $\pr$
\end_inset

!
\end_layout

\end_deeper
\begin_layout Description
הערה הבטיחות של 
\begin_inset Formula $\Pi$
\end_inset

 מתקיימת עדיין רק להודעה אחת, ולא יותר.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ה | המשך הצפנה בלתי ניתנת להבחנה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\color lightgray
חלק ה' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1wOEGn94St4z2XXBVb2mDLP88IeIy2VqF/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
נרצה בהינתן מערכת עם הצפנות בלתי ניתנות להבחנה לקבוע איזו אינפורמציה כן
 אפשר ללמוד על 
\begin_inset Formula $m$
\end_inset

 מ-
\begin_inset Formula $\enc m$
\end_inset

.
\end_layout

\begin_layout Description
טענה תהי 
\begin_inset Formula $\Pi$
\end_inset

 מערכת עם הצפנות בנ
\begin_inset Quotes xrd
\end_inset

ל )נמאס כבר לכתוב בלתי ניתנות להבחנה(.
 אזי לכל יריב 
\begin_inset Formula $\pp$
\end_inset

 
\begin_inset Formula $\mathcal{B}$
\end_inset

, קיימת פ' זניחה 
\begin_inset Formula $\nu$
\end_inset

 כך ש-
\begin_inset Formula 
\[
P\left(\mathcal{B}\left(1^{n},\enc m\right)=\textrm{LSB}\left(m\right)\right)\leq\frac{1}{2}+\nu\left(n\right)
\]

\end_inset

כאשר 
\begin_inset Formula $m\inr\left\{ 0,1\right\} ^{\ell\left(n\right)}$
\end_inset

.
 כלומר לאף תוקף אין יתרון לא זניח על ידיעת 
\begin_inset Formula $m$
\end_inset

 בהניתן ההצפנה.
\end_layout

\begin_layout Proof
נוכיח ברידוקציה.
 נניח בשלילה שקיים יריב 
\begin_inset Formula $\pp$
\end_inset

 
\begin_inset Formula $\mathcal{B}$
\end_inset

 ופולינום 
\begin_inset Formula $p\left(n\right)$
\end_inset

 כך ש-
\begin_inset Formula 
\[
P\left(\mathcal{B}\left(1^{n},\enc m\right)=\textrm{LSB}\left(m\right)\right)>\frac{1}{2}+\frac{1}{p\left(n\right)}
\]

\end_inset

נמצא יריב 
\begin_inset Formula $\pp$
\end_inset

 
\begin_inset Formula $\a$
\end_inset

 ופולינום 
\begin_inset Formula $q$
\end_inset

 כך ש- 
\begin_inset Formula $P\left(\ind n=1\right)>\frac{1}{2}+\frac{1}{q\left(n\right)}$
\end_inset

 בואפן שכיח, כלומר ש-
\begin_inset Formula $\Pi$
\end_inset

 אינה עם הבנ
\begin_inset Quotes xrd
\end_inset

ל.
\end_layout

\begin_layout Proof
נצטרך לעשות כאן שלושה דברים: להגדיר את 
\begin_inset Formula $\a$
\end_inset

, לנתח את זמן הריצה שלו ולנתח את היתרון שלו על פני ניחוש עיוור.
\end_layout

\begin_layout Proof
הרעיון הבסיסי של הגדרת 
\begin_inset Formula $\a$
\end_inset

 הוא ש-
\begin_inset Formula $\mathcal{B}$
\end_inset

 יודע לקבוע בהסת' לא זניחה מה הביט הראשון של 
\begin_inset Formula $m$
\end_inset

 בהינתן ההצפנה, ולכן אם 
\begin_inset Formula $\a$
\end_inset

 יבקש להבדיל בין שתי הודעות שהוא יודע שיש להן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
LSB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שונה )
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\begin_inset Formula $m_{0}$
\end_inset

 ו-
\begin_inset Formula $1$
\end_inset

 ל-
\begin_inset Formula $m_{1}$
\end_inset

(, משם יוכל להסיק בהסת' לא זניחה האם 
\begin_inset Formula $m_{0}$
\end_inset

 או 
\begin_inset Formula $m_{1}$
\end_inset

 היא שהוצפנה ובכך להבחין בסתירה להיות 
\begin_inset Formula $\Pi$
\end_inset

 עם הבנ
\begin_inset Quotes xrd
\end_inset

ל.
\end_layout

\begin_layout Proof
עבור 
\begin_inset Formula $\sigma\in\left\{ 0,1\right\} $
\end_inset

 נסמן 
\begin_inset Formula $I_{\sigma}\subseteq\left\{ 0,1\right\} ^{\ell}$
\end_inset

 אוסף ההודעות עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
LSB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שווה ל-
\begin_inset Formula $\sigma$
\end_inset

.
 נתכנן את 
\begin_inset Formula $\a$
\end_inset

:
\end_layout

\begin_deeper
\begin_layout Enumerate
בהינתן קלט 
\begin_inset Formula $1^{n}$
\end_inset

, נדגום 
\begin_inset Formula $m_{0}\inr I_{0}$
\end_inset

 ו-
\begin_inset Formula $m_{1}\inr I_{1}$
\end_inset

 באופן אחיד וב
\begin_inset Quotes xrd
\end_inset

ת.
\end_layout

\begin_layout Enumerate
בהינתן ההצפנה מ-
\begin_inset Formula $\Pi$
\end_inset

 
\begin_inset Formula $c^{*}$
\end_inset

, נפלוט 
\begin_inset Formula $b'=\mathcal{B}\left(1^{n},c^{*}\right)$
\end_inset

.
\end_layout

\begin_layout Standard
כלומר ביקשנו הודעות עם ביטים ראשונים ידועים מראש ונקבע על פי דעת 
\begin_inset Formula $\mathcal{B}$
\end_inset

 את התשובה של 
\begin_inset Formula $\a$
\end_inset

.
\end_layout

\begin_layout Standard
ברור שהסיבוכיות של הכל היא פולינומיאלית.
\end_layout

\begin_layout Standard
מתקיים באופן שכיח
\begin_inset Formula 
\begin{align*}
P\left(\ind n=1\right) & =P\left(\mathcal{B}\left(1^{n},\enc{m_{b}}\right)=b\right)\\
\text{הסת' שלמה} & =\frac{1}{2}\underset{m_{0}\inr I_{0}}{P}\left(\mathcal{B}\left(1^{n},\enc{m_{0}}\right)=0\right)+\frac{1}{2}\underset{m_{1}\inr I_{1}}{P}\left(\mathcal{B}\left(1^{n},\enc{m_{1}}\right)=1\right)\\
 & =\underset{m\inr\left\{ 0,1\right\} ^{\ell}}{P}\left(\mathcal{B}\left(1^{n},\enc m\right)=\textrm{LSB}\left(m\right)\right)\\
\text{ההנחה} & \geq\frac{1}{2}+\frac{1}{p\left(n\right)}
\end{align*}

\end_inset

בסתירה להיות 
\begin_inset Formula $\Pi$
\end_inset

 עם הבנ
\begin_inset Quotes xrd
\end_inset

ל!.
\end_layout

\end_deeper
\begin_layout Description
הגדרה מערכת היא בעלת 
\bar under
בטיחות סמנטית
\bar default
 אם כל דבר שאפשר לחשב באופן יעיל בהינתן ההצפנה, אפשר לחשב גם בלי לקבל את
 ההצפנה בכלל.
\end_layout

\begin_deeper
\begin_layout Standard
פורמלית, 
\begin_inset Formula $\Pi$
\end_inset

 נקראת 
\bar under
בטוחה סמנטית
\bar default
 אם לכל תוקף 
\begin_inset Formula $\pp$
\end_inset

 
\begin_inset Formula $\a$
\end_inset

, קיים 
\begin_inset Quotes xld
\end_inset

סימולטור
\begin_inset Quotes xrd
\end_inset

 
\begin_inset Formula $\pp$
\end_inset

 
\begin_inset Formula $\mathcal{S}$
\end_inset

 כך שלכל התפלגות שניתנת לדגימה ביעילות 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $\m_{n}$
\end_inset

 ולכל פונקציות שניתנות לחישוב בזמן יעיל 
\begin_inset Formula $f,h$
\end_inset

, קיימת פ' זניחה 
\begin_inset Formula $\nu$
\end_inset

 כך ש-
\begin_inset Formula 
\[
\left|P\left(\a\left(1^{n},\enc m,h\left(m\right)\right)=f\left(m\right)\right)-P\left(\mathcal{S}\left(1^{n},h\left(m\right)\right)=f\left(m\right)\right)\right|\leq\nu\left(n\right)
\]

\end_inset

כאשר 
\begin_inset Formula $k\inr\kg{1^{n}}$
\end_inset

 ו-
\begin_inset Formula $m\inr M_{n}$
\end_inset

.
 
\end_layout

\begin_layout Standard
כלומר לכל תוקף 
\begin_inset Formula $\a$
\end_inset

 שרוצה ללמוד מהו 
\begin_inset Formula $f\left(m\right)$
\end_inset

 שידוע לו נתון על ההודעה 
\begin_inset Formula $h\left(m\right)$
\end_inset

 וההצפנה של 
\begin_inset Formula $m$
\end_inset

, יש סימולטור 
\begin_inset Formula $\mathcal{S}$
\end_inset

 שלא מקבל את ההצפנה אבל כן את 
\begin_inset Formula $h\left(m\right)$
\end_inset

 שיכול לחשב את 
\begin_inset Formula $f\left(m\right)$
\end_inset

 כמעט טוב כמו 
\begin_inset Formula $\a$
\end_inset

 )עד כדי הפרש זניח(.
\end_layout

\begin_layout Standard
במילים אחרות, יש אלג' שלא יודע את ההצפנה שעושה את אותו הדבר שהתוקף עושה
 כשיש לו את 
\begin_inset Formula $\a$
\end_inset

 ולכן ההצפנה לא עזרה בחישוב בכלל.
\end_layout

\end_deeper
\begin_layout Description
הערה ההבדל בין זה לבין סודיות מושלמת היא שמדובר בדברים שאפשר לחשב באופן
 יעיל )פולינומיאלי(.
 למעשה, זוהי ההגדרה הכי קרובה שיש בבטיחות חישובית לסודיות מושלמת.
\end_layout

\begin_layout Description
משפט 
\begin_inset Formula $\Pi$
\end_inset

 היא בטוחה סמנטית אם
\begin_inset Quotes xrd
\end_inset

ם היא עם הבנ
\begin_inset Quotes xrd
\end_inset

ל.
\end_layout

\begin_layout Standard
בטיחות סמנטית היא הגדרה אינטואיטיבית לבטיחות של מערכת אבל לא נוחה לשימוש
 פורמלי ואילו מערכות עם הצפנות בלתי ניתנות להבחנה היא הגדרה נוחה לשימוש
 )ששקולה לבטיחות סמנטית(.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1NnYYnDrrqbz73d8f83716UghN3D-M9vS/view?usp=sh
aring}{קישור}
\end_layout

\end_inset


\end_layout

\begin_layout Description
שאלה יהי 
\begin_inset Formula $G$
\end_inset

 
\begin_inset Formula $\pr$
\end_inset

 עם הרחבה 
\begin_inset Formula $\ell\left(n\right)$
\end_inset

.
 הראו כי קיימת פ' זניחה 
\begin_inset Formula $\nu$
\end_inset

 כך ש-
\begin_inset Formula 
\[
\frac{1}{8}-\nu\left(n\right)\leq\underset{s\inr\left\{ 0,1\right\} ^{n}}{P}\left(G\left(s\right)\;\textrm{starts with}\;000\right)\leq\frac{1}{8}+\nu\left(n\right)
\]

\end_inset


\begin_inset Formula $\forall n\geq N$
\end_inset

 עבור 
\begin_inset Formula $N$
\end_inset

 כלשהו.
\end_layout

\begin_layout Description
פתרון נניח בשלילה שהטענה לא מתקימת.
 לכן קיים פולינום 
\begin_inset Formula $p$
\end_inset

 כך ש-
\begin_inset Formula 
\[
\left(2\right)\;\;\frac{1}{8}-\frac{1}{p\left(n\right)}>\underset{s\inr\left\{ 0,1\right\} ^{n}}{P}\left(G\left(s\right)\;\textrm{starts with}\;000\right)\;\;\;\text{\textbf{או}}\;\;\;\underset{s\inr\left\{ 0,1\right\} ^{n}}{P}\left(G\left(s\right)\;\textrm{starts with}\;000\right)>\frac{1}{8}+\frac{1}{p\left(n\right)}\;\;\left(1\right)
\]

\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
באופן שכיח.
 בפרט אחד הא
\begin_inset Quotes xrd
\end_inset

ש מתקיים באופן שכיח.
 בה
\begin_inset Quotes xrd
\end_inset

כ 
\begin_inset Formula $\left(1\right)$
\end_inset

 מתקיים באופן שכיח, כלומר ש-
\begin_inset Formula $G$
\end_inset

 מחזיר בהסת' לא זניחה מעל למצופה מחרוזות שמתחילות ב-
\begin_inset Formula $000$
\end_inset

.
\end_layout

\begin_layout Standard
נבנה מבחין 
\begin_inset Formula $\d$
\end_inset

 
\begin_inset Formula $\pp$
\end_inset

 שסותר את הגדרת 
\begin_inset Formula $G$
\end_inset

 כ-
\begin_inset Formula $\pr$
\end_inset

 באופן הבא: 
\begin_inset Formula $\d\left(y\right)=\begin{cases}
1 & y_{1}y_{2}y_{3}=000\\
0 & \text{אחרת}
\end{cases}$
\end_inset

 כלומר אם מתחילים ב-
\begin_inset Formula $000$
\end_inset

 מנחשים שזה 
\begin_inset Formula $G$
\end_inset

.
\end_layout

\begin_layout Standard
ברור ש-
\begin_inset Formula $\d$
\end_inset

 פולינומיאלי.
 נחלק למקרים על הקלט:
\end_layout

\begin_layout Enumerate
\begin_inset Formula $r\inr\left\{ 0,1\right\} ^{\ell\left(n\right)}$
\end_inset

.
 הביטים מוגרלים באופן אחיד וב
\begin_inset Quotes xrd
\end_inset

ת ולכן 
\begin_inset Formula $\underset{r\inr\left\{ 0,1\right\} ^{\ell\left(n\right)}}{P}\left(r\;\textrm{starts with}\;000\right)=\frac{1}{2}\cdot\frac{1}{2}\cdot\frac{1}{2}=\frac{1}{8}$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $r\inr G\left(k\right)$
\end_inset

, 
\begin_inset Formula $k\inr\kg{1^{n}}$
\end_inset

.
 מהגדרת 
\begin_inset Formula $\d$
\end_inset

 מההנחה בשלילה מתקיים 
\begin_inset Formula $\underset{s\inr\left\{ 0,1\right\} ^{\ell n}}{P}\left(G\left(s\right)\;\textrm{starts with}\;000\right)>\frac{1}{8}+\frac{1}{p\left(n\right)}$
\end_inset

 ולכן
\begin_inset Formula 
\begin{align*}
\left|\underset{s\inr\left\{ 0,1\right\} ^{n}}{P}\left(G\left(s\right)\;\textrm{starts with}\;000\right)-\underset{r\inr\left\{ 0,1\right\} ^{\ell\left(n\right)}}{P}\left(r\;\textrm{starts with}\;000\right)\right| & >\left|\frac{1}{8}+\frac{1}{p\left(n\right)}-\frac{1}{8}\right|\\
 & =\frac{1}{p\left(n\right)}
\end{align*}

\end_inset

בסתירה להגדרת ה-
\begin_inset Formula $\pr$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
מסקנה השתמשנו כאן בכך שהביטים בהתפלגות אחידה מוגרלים באקראי ושאפשר לבדוק
 את התכונה הנ
\begin_inset Quotes xrd
\end_inset

ל באופן יעיל, ולכן נכליל כי כל תכונה שניתן לחשב ביעילות מקיימת עבור פלטי
 
\begin_inset Formula $\pr$
\end_inset

 באותה הסת' כמו בהתפלגות אחידה עד כדי הפרש זניח.
\end_layout

\begin_layout Description
שאלה יהיו 
\begin_inset Formula $G_{1},G_{2}$
\end_inset

 
\begin_inset Formula $\pr$
\end_inset

.
 נגדיר 
\begin_inset Formula $G\left(s\right)=G_{1}\left(s\right)||G_{2}\left(s\right)$
\end_inset

, 
\begin_inset Formula $\forall s\in\left\{ 0,1\right\} ^{*}$
\end_inset

.
 האם 
\begin_inset Formula $G$
\end_inset

 הוא בהכרח 
\begin_inset Formula $\pr$
\end_inset

?
\end_layout

\begin_layout Description
פתרון 
\begin_inset Formula $G$
\end_inset

 לא בהכרח 
\begin_inset Formula $\pr$
\end_inset

, נביט במקרה שבו 
\begin_inset Formula $G_{1}=G_{2}=H$
\end_inset

 כאשר 
\begin_inset Formula $H$
\end_inset

 
\begin_inset Formula $\pr$
\end_inset

.
 ברור שהחצי הימני שווה לחצי השמאלי של הפלט של 
\begin_inset Formula $G$
\end_inset

 ואילו במחרוזת מהתפלגות אחידה על 
\begin_inset Formula $\left\{ 0,1\right\} ^{2\ell\left(n\right)}$
\end_inset

 תקיים תכונה זו בהסת' זניחה.
\end_layout

\begin_deeper
\begin_layout Standard
פורמלית, נגדיר מבחין 
\begin_inset Formula $\pp$
\end_inset

 
\begin_inset Formula $\d\left(r\right)$
\end_inset

 שמחזיר 
\begin_inset Formula $1$
\end_inset

 אם
\begin_inset Quotes xrd
\end_inset

ם החצי הימני של 
\begin_inset Formula $r$
\end_inset

 שווה לחצי השמאלי שלו.
 מתקיים
\begin_inset Formula 
\begin{align*}
\left|\underset{s\inr\left\{ 0,1\right\} ^{n}}{P}\left(\d\left(G\left(s\right)\right)=1\right)-\underset{r\inr\left\{ 0,1\right\} ^{2\ell\left(n\right)}}{P}\left(\d\left(r\right)=1\right)\right| & =\left|\underset{s\inr\left\{ 0,1\right\} ^{n}}{P}\left(G_{1}\left(s\right)=G_{2}\left(s\right)\right)-\underset{r\inr\left\{ 0,1\right\} ^{2\ell\left(n\right)}}{P}\left(\d\left(r\right)=1\right)\right|\\
G_{1}=H=G_{2}\;\; & =\left|1-\underset{r\inr\left\{ 0,1\right\} ^{2\ell\left(n\right)}}{P}\left(\d\left(r\right)=1\right)\right|\\
\text{מגיע מהתפלגות אחידה}\;r\;\; & =1-\frac{1}{2^{\ell\left(n\right)}}
\end{align*}

\end_inset

וזה בטח לא זניח, בסתירה להגדרת 
\begin_inset Formula $G$
\end_inset

 כ-
\begin_inset Formula $\pr$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard
חישבו, האם עבור 
\begin_inset Formula $G_{1}\neq G_{2}$
\end_inset

 כן מקבלים 
\begin_inset Formula $\pr$
\end_inset

? אם כן, נא לעדכן אותי כי אין לי מושג.
\end_layout

\begin_layout Description
שאלה יהי 
\begin_inset Formula $G$
\end_inset

 
\begin_inset Formula $\pr$
\end_inset

 עם הרחבה 
\begin_inset Formula $\ell\left(n\right)$
\end_inset

.
 נגדיר מערכת 
\begin_inset Formula $\Pi=\left(\kgt,\enct,\dect\right)$
\end_inset

 באופן הבא:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $\kg{1^{n}}$
\end_inset

 מגריל אחיד 
\begin_inset Formula $k\leftarrow\left\{ 0,1\right\} ^{n}$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\enc m=G\left(k\right)\xor m$
\end_inset

 )במקרה זה 
\begin_inset Formula $m\in\left\{ 0,1\right\} ^{\ell\left(n\right)}=\m=\c$
\end_inset

(.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\dec m=c\xor G\left(k\right)$
\end_inset

.
\end_layout

\begin_layout Standard
נתון כי 
\begin_inset Formula $\Pi$
\end_inset

 היא עם הבנ
\begin_inset Quotes xrd
\end_inset

ל )כלומר שורדת את ניסוי 
\begin_inset Formula $\textrm{IND}$
\end_inset

( האם 
\begin_inset Formula $G$
\end_inset

 בהכרח 
\begin_inset Formula $\pr$
\end_inset

?
\end_layout

\end_deeper
\begin_layout Description
הערה הוכחה בהרצאה את הכיוון האחר, כלומר אם משתמשים ב-
\begin_inset Formula $\pr$
\end_inset

 כמרחיב מפתחות ל-
\begin_inset Formula $\textrm{OTP}$
\end_inset

 אז המערכת היא עם הבנ
\begin_inset Quotes xrd
\end_inset

ל.
\end_layout

\begin_layout Description
פתרון כן! נניח בשלילה שלא, כלומר שקיים מבדיל 
\begin_inset Formula $\d$
\end_inset

 
\begin_inset Formula $\pp$
\end_inset

 ו-
\begin_inset Formula $p$
\end_inset

 כך ש-
\begin_inset Formula 
\[
\left|\underset{s\inr\left\{ 0,1\right\} ^{n}}{P}\d\left(G\left(s\right)=1\right)-\underset{r\inr\left\{ 0,1\right\} ^{\ell\left(n\right)}}{P}\left(\d\left(r\right)=1\right)\right|>\frac{1}{p\left(n\right)}
\]

\end_inset

באופן שכיח.
 בה
\begin_inset Quotes xrd
\end_inset

כ הא
\begin_inset Quotes xrd
\end_inset

ש מתקיים באופן שכיח גם בלי הערך המוחלט )בסוף ההוכחה נראה כיצד להתאים זאת
 למקרה ההפוך(.
 כלומר, ש-
\begin_inset Formula $\d$
\end_inset

 מחזיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהסת' יותר גבוהה כהוא מקבל קלט מ-
\begin_inset Formula $G$
\end_inset

 ולא בהתפלגות אחידה.
\end_layout

\begin_deeper
\begin_layout Standard
נתכנן 
\begin_inset Formula $\a$
\end_inset

 שישבור את הניסוי 
\begin_inset Formula $\ind n$
\end_inset

 באמצעות השימוש במבדיל בכך שנגיש לו את ערך ה-
\begin_inset Formula $G\left(k\right)$
\end_inset

 עצמו וערך בהתפלגות שווה )שקיבלנו כהודעות מוצפנות(, ומהיות מבדיל בהסת' לא
 זניחה הוא ישים לב האם זוהי תוצאה מ-
\begin_inset Formula $G$
\end_inset

 או לא וכך יבדיל בין ההצפנות:
\end_layout

\begin_layout Enumerate
נבקש להצפין את 
\begin_inset Formula $m_{0}\inr\left\{ 0,1\right\} ^{\ell\left(n\right)}$
\end_inset

 או את 
\begin_inset Formula $m_{1}=0^{\ell\left(n\right)}$
\end_inset

.
\end_layout

\begin_layout Enumerate
בהינתן ההצפנה 
\begin_inset Formula $c^{*}$
\end_inset

 של 
\begin_inset Formula $m_{b}$
\end_inset

, נריץ את 
\begin_inset Formula $\d\left(c^{*}\right)$
\end_inset

 ונחזיר את תוצאתו.
\end_layout

\begin_layout Standard
זמן הריצה שלו פולינומיאלי כמובן.
 נחלק למקרים עבור ערך ההחזרה:
\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $b=0$
\end_inset

, ההצפנה היא 
\begin_inset Formula $c^{*}=G\left(k\right)\xor m_{0}$
\end_inset

 והיא מתפלגת אחיד על 
\begin_inset Formula $\left\{ 0,1\right\} ^{\ell\left(n\right)}$
\end_inset

 ולכן
\begin_inset Formula 
\begin{align*}
P\left(\ind n=1\mid b=0\right) & =1-\underset{r\inr\left\{ 0,1\right\} ^{\ell\left(n\right)}}{P}\left(\d\left(r\right)=1\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $b=1$
\end_inset

, ההצפה היא 
\begin_inset Formula $c^{*}=G\left(k\right)\xor0=G\left(k\right)$
\end_inset

 כאשר 
\begin_inset Formula $k$
\end_inset

 מתפלג אחיד על 
\begin_inset Formula $\left\{ 0,1\right\} ^{n}$
\end_inset

 ולכן
\begin_inset Formula 
\[
P\left(\ind n=1\mid b=1\right)=\underset{s\inr\left\{ 0,1\right\} ^{n}}{P}\left(\d\left(G\left(s\right)\right)=1\right)
\]

\end_inset


\end_layout

\begin_layout Standard
יחד נקבל כי
\begin_inset Formula 
\begin{align*}
P\left(\ind n=1\right) & \overset{\text{הסת' שלמה}}{=}P\left(\ind n=1\mid b=0\right)P\left(b=0\right)+P\left(\ind n=1\mid b=1\right)P\left(b=1\right)\\
\text{עתה חישבנו}\;\; & =\frac{1}{2}\left(1-\underset{r\inr\left\{ 0,1\right\} ^{\ell\left(n\right)}}{P}\left(\d\left(r\right)=1\right)+\underset{s\inr\left\{ 0,1\right\} ^{n}}{P}\left(\d\left(G\left(s\right)\right)=1\right)\right)\\
 & =\frac{1}{2}+\frac{1}{2}\left(\underset{s\inr\left\{ 0,1\right\} ^{n}}{P}\left(\d\left(G\left(s\right)\right)=1\right)-\underset{r\inr\left\{ 0,1\right\} ^{\ell\left(n\right)}}{P}\left(\d\left(r\right)=1\right)\right)\\
\text{ההנחה}\;\; & \geq\frac{1}{2}+\frac{1}{2}\cdot\frac{1}{p\left(n\right)}
\end{align*}

\end_inset

בסתירה להיות 
\begin_inset Formula $\Pi$
\end_inset

 מערכת עם הבנ
\begin_inset Quotes xrd
\end_inset

ל.
\end_layout

\begin_layout Standard
אם הא
\begin_inset Quotes xrd
\end_inset

ש מתחילת ההוכחה מתקיים עם מינוס באופן שכיח, הרי ש-
\begin_inset Formula $\d$
\end_inset

 מחזיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהסת' יותר גבוה כשזה לא מ-
\begin_inset Formula $G$
\end_inset

 ולכן האלג' 
\begin_inset Formula $\a$
\end_inset

 יחזיר את הביט ההפוך ממה ש-
\begin_inset Formula $\d\left(c^{*}\right)$
\end_inset

 יחזיר והשאר עובד באותו האופן.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{III
\backslash
;
\backslash
; פונקציות פסאודו-אקראיות ו-CPA}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{III}$
\end_inset

 | פונקציות פסאודו-אקראיות ו-
\lang english
CPA
\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{א | ארגומנט היברידי}
\end_layout

\end_inset


\color lightgray
חלק א' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1NP7UmeJHr9lbTW8QF7IHUTU2yOn8WEda/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Description
הגדרה נאמר כי 
\begin_inset Formula $X=\left\{ X_{n}\right\} _{n\in\fldn},Y=\left\{ Y_{n}\right\} _{n\in\fldn}$
\end_inset

 
\bar under
בלתי ניתנות להבחנה מבחינה חישובית
\bar default
 אם אין אלג' יעיל שיכול להבחין ביניהם ונסמן 
\begin_inset Formula $X\approx^{c}Y$
\end_inset


\end_layout

\begin_deeper
\begin_layout Standard
כלומר, 
\begin_inset Formula $X,Y$
\end_inset

 בנ
\begin_inset Quotes xrd
\end_inset

ל חישובית אם לכל אלג' 
\begin_inset Formula $\d$
\end_inset

 
\begin_inset Formula $\pp$
\end_inset

, קיימת 
\begin_inset Formula $\nu$
\end_inset

 זניחה כך ש
\begin_inset Formula 
\[
\left|\underset{x\inr X_{n}}{P}\left(\d\left(1^{n},x\right)=1\right)-\underset{y\inr Y_{n}}{P}\left(\d\left(1^{n},y\right)=1\right)\right|\leq\nu\left(n\right)
\]

\end_inset


\end_layout

\end_deeper
\begin_layout Description
הערה אם 
\begin_inset Formula $X,Y$
\end_inset

 בנ
\begin_inset Quotes xrd
\end_inset

ל חישובית אפשר להשתמש בהם לאותה המטרה לסירוגין.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $X_{n}=G\left(s\right),s\leftarrow\left\{ 0,1\right\} ^{n}$
\end_inset

, 
\begin_inset Formula $Y_{n}=\textrm{Unif}\left(\left\{ 0,1\right\} ^{\ell\left(n\right)}\right)$
\end_inset

 הם בנ
\begin_inset Quotes xrd
\end_inset

ל חישובית.
\end_layout

\begin_layout Description
דוגמה 
\begin_inset Formula $X_{n}=\enc{000},k\leftarrow\kg{1^{n}}$
\end_inset

 וכן 
\begin_inset Formula $Y_{n}=\enc{101},k\leftarrow\kg{1^{n}}$
\end_inset

 כאשר 
\begin_inset Formula $\Pi$
\end_inset

 בעלת הודעות בנ
\begin_inset Quotes xrd
\end_inset

ל.
\end_layout

\begin_layout Description
הגדרה נאמר כי התפלגות היא פסאודו אקראית אם היא בנ
\begin_inset Quotes xrd
\end_inset

ל חישובית מהתפלגות אחידה.
\end_layout

\begin_layout Description
משפט יהי 
\begin_inset Formula $G:\left\{ 0,1\right\} ^{n}\to\left\{ 0,1\right\} ^{4n}$
\end_inset

 
\begin_inset Formula $\pr$
\end_inset

, נגדיר 
\begin_inset Formula $H\left(s_{1}||s_{2}\right)=G\left(s_{1}\right)||G\left(s_{2}\right)$
\end_inset

 )מחלקים את הקלט לשני חצאים(.
 אזי 
\begin_inset Formula $H$
\end_inset

 
\begin_inset Formula $\pr$
\end_inset

.
\end_layout

\begin_layout Proof
נוכיח ברידוקציה באמצעות ארגומנט היברידי.
 הרידוקציה תהיה, בהינתן מבדיל 
\begin_inset Formula $\d$
\end_inset

 ל-
\begin_inset Formula $H$
\end_inset

 נבנה מבדיל 
\begin_inset Formula $\a$
\end_inset

 ל-
\begin_inset Formula $G$
\end_inset

.
\end_layout

\begin_layout Proof
נניח שיש ל-
\begin_inset Formula $\d$
\end_inset

 יתרון 
\begin_inset Formula $\epsilon$
\end_inset

 על פני 
\begin_inset Formula $G\left(s_{1}\right)||G\left(s_{2}\right)$
\end_inset

 ו-
\begin_inset Formula $r_{1}||r_{2}$
\end_inset

.
 נכניס פנימה עוד שחקן - הארגומנט ההיברידי - 
\begin_inset Formula $G\left(s_{1}\right)||r_{2}$
\end_inset

.
 נטען כי 
\begin_inset Formula $\d$
\end_inset

 יכול להבדיל בלפחות 
\begin_inset Formula $\frac{\epsilon}{2}$
\end_inset

 או בין 
\begin_inset Formula $G\left(s_{1}\right)||G\left(s_{2}\right)$
\end_inset

 והארגומנט ההיברידי, או בין הארגומנט ההיברידי לבין 
\begin_inset Formula $r_{1}||r_{2}$
\end_inset

.
\end_layout

\begin_layout Proof
פורמלית, מתקיים 
\begin_inset Formula 
\begin{align*}
\epsilon & \leq\left|P\left(\d\left(G\left(s_{1}\right)||G\left(s_{2}\right)\right)=1\right)-P\left(\d\left(r_{1}||r_{2}\right)=1\right)\right|\\
 & \leq\left|P\left(\d\left(G\left(s_{1}\right)||G\left(s_{2}\right)\right)=1\right)-P\left(\d\left(G\left(s_{1}\right)||r_{2}\right)=1\right)+P\left(\d\left(G\left(s_{1}\right)||r_{2}\right)=1\right)P\left(\d\left(r_{1}||r_{2}\right)=1\right)\right|\\
 & \overset{\triangle}{\leq}\left|P\left(\d\left(G\left(s_{1}\right)||G\left(s_{2}\right)\right)=1\right)-P\left(\d\left(G\left(s_{1}\right)||r_{2}\right)=1\right)\right|\\
 & \;\;+\left|P\left(\d\left(G\left(s_{1}\right)||r_{2}\right)=1\right)P\left(\d\left(r_{1}||r_{2}\right)=1\right)\right|
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
נמצא מבחין לכל אחד מהמקרים ונוכיח את הרידוקציה
\end_layout

\begin_layout Itemize
נניח כי היתרון של 
\begin_inset Formula $\d$
\end_inset

 הוא בין 
\begin_inset Formula $G\left(s_{1}\right)||G\left(s_{2}\right)$
\end_inset

 ו-
\begin_inset Formula $G\left(s_{1}\right)||r_{2}$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
נגדיר מבדיל 
\begin_inset Formula $\a$
\end_inset

 שמקבל קלט 
\begin_inset Formula $z\in\left\{ 0,1\right\} ^{4n}$
\end_inset

, מגריל 
\begin_inset Formula $s_{1}\inr\left\{ 0,1\right\} ^{n}$
\end_inset

 ופולט 
\begin_inset Formula $\d\left(G\left(s_{1}\right)||z\right)$
\end_inset

.
\end_layout

\begin_layout Standard
בגלל של-
\begin_inset Formula $\d$
\end_inset

 יתרון 
\begin_inset Formula $\frac{\epsilon}{2}$
\end_inset

 על קלטים בדיוק מהצורה הזו, כך גם ל-
\begin_inset Formula $\a$
\end_inset

.
 ברור שזה 
\begin_inset Formula $\pp$
\end_inset

 ולכן הוא מקיים את התנאים הנדרשים, בסתירה לכך ש-
\begin_inset Formula $G$
\end_inset

 
\begin_inset Formula $\pr$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Itemize
נניח כי היתרון של 
\begin_inset Formula $\d$
\end_inset

 הוא בין 
\begin_inset Formula $G\left(s_{1}\right)||r_{2}$
\end_inset

 ו-
\begin_inset Formula $r_{1}||r_{2}$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
באותו האופן, המבדיל מקבלט 
\begin_inset Formula $z\in\left\{ 0,1\right\} ^{4n}$
\end_inset

, מגריל 
\begin_inset Formula $r_{2}\inr\left\{ 0,1\right\} ^{4n}$
\end_inset

 ומחזיר 
\begin_inset Formula $D\left(z||r_{2}\right)$
\end_inset

.
\end_layout

\begin_layout Standard
בדומה, היתרון מורש מ-
\begin_inset Formula $\d$
\end_inset

 וזהו אלג' 
\begin_inset Formula $\pp$
\end_inset

, בסתירה להיות 
\begin_inset Formula $G$
\end_inset

 
\begin_inset Formula $\pr$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ב | מתקפות CPA}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\color lightgray
חלק ב' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1zozBgQ-qNTodmIm8iDnrJbC83jg-O13K/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
נזכור כי בהצפנות עם הבנ
\begin_inset Quotes xrd
\end_inset

ל הניסוי המחשבתי היה קבלת הודעות להצפנה, החזרת הצפנה אקראית וקבלת תשובה
 מהיריב.
 בניסוי הזה, ההנחה כאן היא שהיריב מקבל רק הודעה אחת, שהיא אינה ריאליסטית
 שכן במציאות ליריב יהיו כמה הודעות, ולעתים יוכל אפילו לקבוע אותן בעצמו.
\end_layout

\begin_layout Description
הגדרה נגדיר את הניסוי של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Chosen Plaintext Attack
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם מערכת הצפנה 
\begin_inset Formula $\Pi$
\end_inset

 ויריב 
\begin_inset Formula $\a$
\end_inset

 
\begin_inset Formula $\pp$
\end_inset

, 
\begin_inset Formula $\cpa n$
\end_inset

.נבנה אותו מעל ניסוי ההבחנה בין הצפנות: נאפשר לאלג' לבקש הצפנה של כמה הודעות
 שהוא רק רוצה לפני שליחת 
\begin_inset Formula $m_{0},m_{1}$
\end_inset

 ואחרי השליחה אך לפני מתן ההבחנה )
\begin_inset Formula $b'$
\end_inset

(.
 כלומר, יש ליריב גישה לאורקל הצפנה, שנסמנו 
\begin_inset Formula $\a^{\enc{\cdot}}$
\end_inset

.
 תוצאת הניסוי היא 
\begin_inset Formula $\cpa n=\begin{cases}
1 & b'=b\\
0 & \text{אחרת}
\end{cases}$
\end_inset

.
\end_layout

\begin_layout Description
הערה בגלל שהיריב הוא 
\begin_inset Formula $\pp$
\end_inset

, הוא יכול לבקש מספר פולינומיאלי לכל היותר של הודעות להצפנה.
\end_layout

\begin_layout Description
הגדרה נאמר כי 
\begin_inset Formula $\Pi$
\end_inset

 בעלת הבנ
\begin_inset Quotes xrd
\end_inset

ל תחת מתקפת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPA
\lang hebrew
, או בקיצור 
\begin_inset Formula $\Pi$
\end_inset

 היא בטוחה-
\lang english
CPA
\lang hebrew
, אם לכל יריב 
\begin_inset Formula $\pp$
\end_inset

 
\begin_inset Formula $\a$
\end_inset

 קיימת פ' זניחה 
\begin_inset Formula $\nu$
\end_inset

 כך ש-
\begin_inset Formula $P\left(\cpa n=1\right)\leq\frac{1}{2}+\nu\left(n\right)$
\end_inset

.
\end_layout

\begin_layout Description
הערה נדמה שכל הצפנה היא לא בטוחה-
\lang english
CPA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי היריב יכול לבקש להצפין את 
\begin_inset Formula $m_{0}$
\end_inset

, אם ההצפנה שהתקבלה שווה ל-
\begin_inset Formula $c^{*}$
\end_inset

 להחזיר 
\begin_inset Formula $b'=0$
\end_inset

 ואחרת 
\begin_inset Formula $b=1$
\end_inset

.
 עם זאת, יש כאן הנחה סמויה - שאלג' ההצפנה הוא דטרמיניסטי )לדוגמה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
OTP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
OTP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם 
\begin_inset Formula $\pr$
\end_inset

(, אך זוהי הנחה שלא תמיד מתקיימת.
 לשם הגנה מפני
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPA
\lang hebrew
, נצטרך אלג' הצפנה הסת'.
\end_layout

\begin_layout Description
הערה נדמה שזו הגדרה מאוד חזקה, שכן אנחנו מניחים שבהינתן שהאלג' קיבל כל הצפנה
 מלבד ההודעה עצמה.
 אנחנו מניחים כאן שיריב יכול לדעת, להשפיע ולקבוע את ההודעות המוצפנות.
 זוהי הנחה יחסית ריאליסטית ורוב המתקפות הן באמת כזו.
\end_layout

\begin_layout Description
דוגמה בקרב על האי מידווי במלחמת העולם הראשונה, השתמשו האמריקאים ב-
\lang english
CPA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כדי לגלות שהאי האמור הוא אכן יעד של היפנים, ולמעשה האניגמה נפרצה באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPA
\lang hebrew
.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ג | פונקציות פסאודו-אקראיות}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\color lightgray
חלק ג' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1jNfac2nEBqfeHpHF0gg-KDiX7zdxHBj2/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
הרעיון של פ' פסאודו אקראית, היא שהיא פ' רגילה, פסאודו אקראית, אך שהיא נראת
 כמו פ' אקראית לגמרי.
\end_layout

\begin_layout Standard
פ' אקראית לחלוטין היא פ' שנדגמת אחיד מ-
\begin_inset Formula $\func_{n\to\ell}=\left\{ f:f:\left\{ 0,1\right\} ^{n}\to\left\{ 0,1\right\} ^{\ell}\right\} $
\end_inset

 שזה שקול לכך שלכל 
\begin_inset Formula $x\in\left\{ 0,1\right\} ^{n}$
\end_inset

, 
\begin_inset Formula $h\left(x\right)\in\left\{ 0,1\right\} ^{\ell}$
\end_inset

 נדגם אחיד וב
\begin_inset Quotes xrd
\end_inset

ת משאר ה-
\begin_inset Formula $x$
\end_inset

-ים.
\end_layout

\begin_layout Description
הערה מתקיים 
\begin_inset Formula $\left|\func_{n\to\ell}\right|=\left|\left\{ 0,1\right\} ^{\ell}\right|^{\left|\left\{ 0,1\right\} ^{n}\right|}=2^{\ell\cdot2^{n}}$
\end_inset

.
\end_layout

\begin_layout Standard
שמירת טבלת הערכים של הפ' היא לא פרקטית, ולכן נצטרך לשמור מפתח שייצג אותה.
\end_layout

\begin_layout Description
הגדרה 
\bar under
פונקציה פסאודו-אקראית
\bar default
 היא פ' המחושבת בזמן פולינימיאלית 
\begin_inset Formula $F:\left\{ 0,1\right\} ^{n}\times\left\{ 0,1\right\} ^{n}\to\left\{ 0,1\right\} ^{\ell}$
\end_inset

 )הקלט הראשון הוא המפתח( הבלתי ניתנת להבחנה מפ' אקראית באמת.
 כלומר, לכל מבחין 
\begin_inset Formula $\d$
\end_inset

 
\begin_inset Formula $\pp$
\end_inset

 קיימת 
\begin_inset Formula $\nu$
\end_inset

 זניחה כך ש-
\begin_inset Formula 
\[
\left|P\left(\d^{F_{k}\left(\cdot\right)}\left(1^{n}\right)=1\right)-P\left(\d^{h\left(\cdot\right)}\left(1^{n}\right)=1\right)\right|\leq\nu\left(n\right)
\]

\end_inset

כאשר 
\begin_inset Formula $k\inr\left\{ 0,1\right\} ^{n}$
\end_inset

 ו-
\begin_inset Formula $h\leftarrow\func_{n\to\ell}$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
או במפורש, אם מבחין 
\begin_inset Formula $\pp$
\end_inset

 מקבל מאורקל ערכים של פ' מוגרלת אחיד מ-
\begin_inset Formula $\func_{n\to\ell}$
\end_inset

ואז מקבל מאורקל ערכים של 
\begin_inset Formula $F_{k}$
\end_inset

, ההסת' שיענה 
\begin_inset Formula $0$
\end_inset

 או 
\begin_inset Formula $1$
\end_inset

 תהיה בערך שווה בשני המקרים.
\end_layout

\end_deeper
\begin_layout Description
הערה ההבדל המרכזי מול הגדרת ה-
\begin_inset Formula $\pr$
\end_inset

 הוא שכאן יש גישה לאורקל, ולא רק הודעה אחת מכל מקור.
 זה רומז כבר על השימוש שלנו בו - במקום להשתמש בזה כדי להרחיב מפתחות, נשתמש
 בזה כדי להצפין הרבה הודעות כך שנהיה מוגנים מ-
\lang english
CPA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בסופו של דבר.
\end_layout

\begin_layout Description
הערה אנחנו מניחים כאן שהקלט הראשון, המפתח, נדגם באופן אקראי על 
\begin_inset Formula $\left\{ 0,1\right\} ^{n}$
\end_inset

, עם זאת, אפשר באמצעות כל אלג' 
\begin_inset Formula $\pp$
\end_inset

 
\begin_inset Formula $\kgt$
\end_inset

 לקבל את אותה התכונה.
\end_layout

\begin_layout Standard
הוכחת הבטיחות של כל מערכת עם 
\begin_inset Formula $\prf$
\end_inset

 מורכבת משני חלקים: ראשית, נבצע ניסוי מחשבתי בו נחליף את הפ' הפסאודו-האקראית
 לפ' אקראית באמת ונוכיח בשני שלבים:
\end_layout

\begin_layout Enumerate
נוכיח כי היריב לא מצליח להפר את הבטיחות כשמדובר בפ' אקראית באמת
\end_layout

\begin_layout Enumerate
נוכיח שהיריב לא מסוגל להבחין בין 
\begin_inset Formula $\Pi$
\end_inset

 עם הפ' האקראית לבין 
\begin_inset Formula $\Pi$
\end_inset

 עם הפ' הפסאודו-אקראית.
\end_layout

\begin_deeper
\begin_layout Standard
נוכיח זאת בהנחה בשלילה ונגיע לסתירה לכך שהפ' היא אכן פסאודו אקראית באמצעות
 בניית מבחין.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ד | בטיחות CPA}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\color lightgray
חלק ד' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1D-5bQtxQuYyAsMQOaRipjDqIP17fvW8n/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
נגדיר מערכת הצפנה עמידה בפני
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPA
\lang hebrew
, 
\begin_inset Formula $\Pi_{F}$
\end_inset

, בהינתן 
\begin_inset Formula $F$
\end_inset

 פ' פסאודו-אקראית.
\end_layout

\begin_layout Itemize
אלג' ה-
\begin_inset Formula $\kgt$
\end_inset

 דוגם 
\begin_inset Formula $k\inr\left\{ 0,1\right\} ^{n}$
\end_inset

.
\end_layout

\begin_layout Itemize
אלג' 
\begin_inset Formula $\enct$
\end_inset

: בהינתן מפתח 
\begin_inset Formula $k\in\left\{ 0,1\right\} ^{n}$
\end_inset

 ומפתח 
\begin_inset Formula $m\in\left\{ 0,1\right\} ^{\ell}$
\end_inset

, נדגום 
\begin_inset Formula $r\inr\left\{ 0,1\right\} ^{n}$
\end_inset

 ונחזיר 
\begin_inset Formula $c=\left(r,F_{k}\left(r\right)\oplus m\right)$
\end_inset

 )כלומר אנחנו מחזירים זוג סדור, בו אנו שקופים בנוגע לקלט ל-
\begin_inset Formula $\prf$
\end_inset

(.
\end_layout

\begin_layout Itemize
אלג' 
\begin_inset Formula $\dect$
\end_inset

: בהינתן מפתח 
\begin_inset Formula $k\in\left\{ 0,1\right\} ^{n}$
\end_inset

 והצפנה 
\begin_inset Formula $c=\left(r,s\right)$
\end_inset

, נחזיר 
\begin_inset Formula $m=F_{k}\left(r\right)\xor s$
\end_inset

.
\end_layout

\begin_layout Description
הערה למעשה אלג' ההצפנה והפענוח הם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
OTP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם ה-
\begin_inset Formula $\prf$
\end_inset

 כמפתח, רק שעתה ה-
\begin_inset Formula $\prf$
\end_inset

 הוא הסת' ולא קבוע עבור 
\begin_inset Formula $k$
\end_inset

 קבוע.
\end_layout

\begin_layout Description
משפט אם 
\begin_inset Formula $F$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

 אזי 
\begin_inset Formula $\Pi_{F}$
\end_inset

 בטוחה-
\lang english
CPA
\lang hebrew
.
\end_layout

\begin_layout Proof
נסמן 
\begin_inset Formula $\Pi_{h}$
\end_inset

 אותה המערכת רק עם 
\begin_inset Formula $h$
\end_inset

 במקום 
\begin_inset Formula $F$
\end_inset

.
\end_layout

\begin_layout Proof
יהי 
\begin_inset Formula $\a$
\end_inset

 יריב 
\begin_inset Formula $\pp$
\end_inset

 המשתתף ב-
\begin_inset Formula $\cpa n$
\end_inset

.
\begin_inset Formula 
\begin{align*}
P\left(\cpaf n=1\right) & \leq P\left(\cpah n=1\right)-P\left(\cpah n=1\right)+P\left(\cpah n=1\right)\\
\text{עכשיו נוכיח} & \leq\frac{1}{2}+\left(\frac{q\left(n\right)}{2^{n}}+\nu\left(n\right)\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
נוכיח כי 
\begin_inset Formula $\left(\cpah n=1\right)-P\left(\cpah n=1\right)\leq\nu\left(n\right)$
\end_inset

 עם 
\begin_inset Formula $\nu$
\end_inset

 זניחה, כלומר שאי אפשר להבדיל בין מערכות ההצפנה.
\end_layout

\begin_layout Proof
נניח בשלילה שקיים 
\begin_inset Formula $\a$
\end_inset

 עם יתרון לא זניח )יותר מ-
\begin_inset Formula $\frac{1}{p\left(n\right)}$
\end_inset

 באופן שכיח, 
\begin_inset Formula $p$
\end_inset

 פולינום( ונבנה 
\begin_inset Formula $\d$
\end_inset

 מבחין על 
\begin_inset Formula $F$
\end_inset

.
 ל-
\begin_inset Formula $\d$
\end_inset

 יש גישה לאורקל 
\begin_inset Formula $\o$
\end_inset

 שהוא או 
\begin_inset Formula $F_{k}$
\end_inset

 או 
\begin_inset Formula $h$
\end_inset

.
 
\begin_inset Formula $\d^{\o}$
\end_inset

 מוגדר באופן הבא:
\end_layout

\begin_layout Enumerate
נקרא ל-
\begin_inset Formula $\a$
\end_inset

 ונקבל שתי הודעות 
\begin_inset Formula $m_{0},m_{1}$
\end_inset

.
\end_layout

\begin_layout Enumerate
נדגום 
\begin_inset Formula $b\inr\left\{ 0,1\right\} $
\end_inset

 ו-
\begin_inset Formula $r\inr\left\{ 0,1\right\} ^{n}$
\end_inset

 ונחזיר ל-
\begin_inset Formula $\a$
\end_inset

 את 
\begin_inset Formula $c^{*}=\left(r,\o\left(r\right)\xor m_{b}\right)$
\end_inset

 )נבקש מהאורקל לחשב לנו את הערך(.
\end_layout

\begin_layout Enumerate
נפלוט את האם 
\begin_inset Formula $\a$
\end_inset

 צדק, כלומר האם 
\begin_inset Formula $b'=b$
\end_inset

.
 
\end_layout

\begin_layout Standard
ברור ש-
\begin_inset Formula $\d$
\end_inset

 הוא 
\begin_inset Formula $\pp$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\o$
\end_inset

 הוא 
\begin_inset Formula $F_{k}$
\end_inset

 כאשר 
\begin_inset Formula $k$
\end_inset

 נדגם אחיד, 
\begin_inset Formula $\a$
\end_inset

 חושב שהוא בדיוק משתתף בניסוי ה-
\begin_inset Formula $\textrm{IND}$
\end_inset

עם 
\begin_inset Formula $\Pi_{F}$
\end_inset

, או פורמלית 
\begin_inset Formula $P\left(\d^{F_{k}}\left(1^{n}\right)=1\right)=P\left(\cpaf n=1\right)$
\end_inset

 )מההגדרה(.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\o$
\end_inset

 הוא 
\begin_inset Formula $h$
\end_inset

 כאשר 
\begin_inset Formula $h$
\end_inset

 אקראית נדגמת אחיד, 
\begin_inset Formula $\a$
\end_inset

 בדיוק משתתף בניסוי 
\begin_inset Formula $\cpah n$
\end_inset

, כלומר 
\begin_inset Formula $P\left(\d^{h}\left(1^{n}\right)=1\right)=P\left(\cpah n=1\right)$
\end_inset

.
\end_layout

\begin_layout Standard
לכן היתרון של 
\begin_inset Formula $\a$
\end_inset

 להבדיל בין 
\begin_inset Formula $\Pi_{F},\Pi_{h}$
\end_inset

 מושרה ליתרון של 
\begin_inset Formula $\d$
\end_inset

 להבדיל בין 
\begin_inset Formula $F_{k}$
\end_inset

 ל-
\begin_inset Formula $h$
\end_inset

, בסתירה להיותו 
\begin_inset Formula $\prf$
\end_inset

.
\end_layout

\begin_layout Standard
נוכיח כי 
\begin_inset Formula $P\left(\cpah n=1\right)\leq\frac{1}{2}+\frac{q\left(n\right)}{2^{n}}$
\end_inset

 כאשר 
\begin_inset Formula $q\left(n\right)$
\end_inset

 מספר הבקשות להצפנה ש-
\begin_inset Formula $\a$
\end_inset

 ביקש מהאורקל.
\end_layout

\begin_layout Standard
הניסוי הוא כזה: 
\begin_inset Formula $\a$
\end_inset

 מבצע קריאות לאורקל, מבקש להצפין את 
\begin_inset Formula $m_{0}',m_{1}'$
\end_inset

 ומקבל תשובה 
\begin_inset Formula $c^{*}=\left(r^{*},h\left(r^{*}\right)\xor m_{b}\right)$
\end_inset

, מבצע קריאות לאורקל ומחזיר 
\begin_inset Formula $b'$
\end_inset

.
\end_layout

\begin_layout Standard
לכל 
\begin_inset Formula $i\in\left[q\left(n\right)\right]$
\end_inset

 נסמן 
\begin_inset Formula $m_{i}$
\end_inset

 ההודעה שהוצפנה כ-
\begin_inset Formula $\left(r_{i},h\left(r_{i}\right)\xor m_{i}\right)$
\end_inset

 והוחזרה ל-
\begin_inset Formula $\a$
\end_inset

.
 הסיכוי שאירעה חזרה, כלומר שקיים 
\begin_inset Formula $i$
\end_inset

 עבורו 
\begin_inset Formula $r^{*}=r_{i}$
\end_inset

, הוא לכל היותר 
\begin_inset Formula $\frac{q\left(n\right)}{2^{n}}$
\end_inset

 )
\begin_inset Formula $\frac{1}{2^{n}}$
\end_inset

 ש-
\begin_inset Formula $r^{*}=r_{i}$
\end_inset

 עבור אחד ספציפי ויש לנו 
\begin_inset Formula $q\left(n\right)$
\end_inset

 דגימות אז מחסם האיחוד מקבלים את הביטוי הזה(.
\begin_inset Formula 
\[
P\left(\cpah n=1\right)\overset{\text{הסת' שלמה}}{\leq}P\left(\cpah n=1\mid\text{חזרה}\right)+P\left(\text{חזרה}\right)\leq\frac{1}{2}+\frac{q\left(n\right)}{2^{n}}
\]

\end_inset


\end_layout

\begin_layout Description
הערה לסיכום מה שאנחנו יודעים על אובייקטים פרימיטיביים בקריפטו עד כה, ראו
 איור
\begin_inset Formula 
\[
\begin{array}{ccc}
\prf & \longrightarrow & \pr\\
\downarrow &  & \downarrow\\
\textrm{CPA-}\text{מוגנות} & \longrightarrow & \textrm{IND-}\text{מוגנות}
\end{array}
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ה | צופני בלוקים}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\color lightgray
חלק ה' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/10nnmHAAHq-j5EH2h7cwkJvL1iaJZ_oRw/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
צופן בלוקים מיועד להוות פרמוטציה פסאודו-אקראי שניתן לחשב בזמן פולינומיאלי
 ולהשתמש בו כהצפנה.
 הוא מבוסס על איזושהי 
\begin_inset Formula $\prf$
\end_inset

 ביסודו אך הוא עצמו אינו כזה.
 מדובר בפ' 
\begin_inset Formula $F:\left\{ 0,1\right\} ^{n}\times\left\{ 0,1\right\} ^{\ell}\to\left\{ 0,1\right\} ^{\ell}$
\end_inset

 עם קלט ראשון שהוא מפתח.
\end_layout

\begin_layout Standard
נרצה כאן במקום בטיחות אסימפטוטית, דווקא בטיחות קונקרטית, לדוגמה עבור מפתח
 בגודל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
256
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביטים - צופן בלוקים הוא היוריסטיקה פרקטית, כלומר משהו שאנחנו מניחים שעובד
 בלי הוכחה שאנחנו רוצים להשתמש בו במציאות.
 הבטיחות שלנו תסופק אם המתקפה הטובה ביותר על מערכת ההצפנה היא בערך 
\begin_inset Formula $2^{n}$
\end_inset

, כלומר ברוט פורס.
\end_layout

\begin_layout Description
הערה לא נוכל להגדיר את זה פורמלית )זהו החסרון המרכזי של בטיחות קונקרטית(,
 אבל אינטואיטיבית זה מספיק.
\end_layout

\begin_layout Standard
צופן הבלוקים הראשון שאומץ באופן נרחב הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DES
\lang hebrew
, ב-
\numeric on
1977
\numeric off
, שעוצב ע
\begin_inset Quotes xrd
\end_inset

י ה-
\lang english
NSA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
IBM
\lang hebrew
, שמשתמש במפתח באורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
56
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ובלוקים באורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
64
\numeric off
.
 הוא מערבל הרבה ביטים בתקווה שזה יעזור, עם זאת בשנות התשעים הוא נשבר בקלות
 על ידי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
distributed.net
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולאחר מכן אפילו יותר מהר ע
\begin_inset Quotes xrd
\end_inset

י ה-
\lang english
EFF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)ארגון שעושה עבודה מעולה בתחום אבטחת המידע, הפרטיות וזכויות אדם בתחום הזה(,
 ולקח הרבה זמן לרשויות ולפינטק לשחרר ממנו עד שעברו לגרסה מעודכנת שלו:
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
3DES
\lang hebrew
.
 הבעיה היא לא שיש מתקפה שאינה ברוט-פורס, אלא שברוט פורס הוא לא קשה מדי כשמספר
 האפשרויות הוא 
\begin_inset Formula $2^{56}$
\end_inset

.
\end_layout

\begin_layout Standard
ב-
\numeric on
3
\numeric off
\lang english
DES
\lang hebrew
, מחשבים 
\begin_inset Formula $3\des_{k_{1},k_{2},k_{3}}\left(x\right)=\des_{k_{1}}\left(\des_{k_{2}}^{-1}\left(\des_{k_{3}}\left(x\right)\right)\right)$
\end_inset

, כאשר המפתח הוא באורך 
\begin_inset Formula $168=3\times56$
\end_inset

.
 זה אולי נראה בטיחותי, אבל בגלל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Meet in the Middle
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 ומתקפות אחרות )ראו ויקיפדיה למעוניינים(, הבטיחות היא רק 
\begin_inset Formula $2\times56$
\end_inset

, שזה עדיין לא מספיק טוב.
 עם זאת, פינטק משתמשים באופן אובססיבי ב-
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
\lang english
DES
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
במקום לעבור לאלג' חדשים הרבה יותר בטוחים, בין היתר באמצעות האפשרות ל-
\lang english
Backwards Compatibility
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמתקבלת עבור 
\begin_inset Formula $k_{2}=k_{3}$
\end_inset

 )ואז זה סתם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DES
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
רגיל עם 
\begin_inset Formula $k_{1}$
\end_inset

(.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
3DES
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
גם ממש איטי.
\end_layout

\begin_layout Standard
ב-
\numeric on
1997
\numeric off
, מכון התקנים האמריקאי קיים תחרות למציאת אלג' חדש.
 ב-
\numeric on
2000
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוכרז האלג' של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Rijndael
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)איחוד שמות של בלגי ועוד מישהו( כמנצח, והאלג' שלהם הוכתר כ-
\lang english
AES
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הרשמי שכולם משתמשים בו )ראוי שישתמשו לפחות( - מהצבא האמריקאי ועד האתר ללחוח
 צרפתי של השכנה מהרחוב.
 גודל הבלוק שלו הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
128
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביטים ויש לו גרסאות למפתחות באורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $128/192/256$
\end_inset

.
 כבר המפתח הקצר ביותר מספק בטיחות מאוד מאוד גבוהה והשיפור מעבר לזה הוא לא
 כל כך דרסטי, כאשר שני אורכי המפתחות האחרים קיימים רק כי צבא ארה
\begin_inset Quotes xrd
\end_inset

ב דורש שלוש רמות בטיחות שונות פורמלית, גם אם אין שום הבדל מהותי ביניהן והראשונה
 כבר מספיק טובה להכל.
\end_layout

\begin_layout Description
דוגמה נוכל להצפין הודעות כמו שראינו בעבר, בהינתן ש-
\begin_inset Formula $\aes_{k}$
\end_inset

 היא 
\begin_inset Formula $\prf$
\end_inset

, 
\begin_inset Formula $\enc{m;r}=\left(r,\aes_{k}\left(r\right)\xor m\right)$
\end_inset

.
\end_layout

\begin_layout Standard
הדוגמה הנ
\begin_inset Quotes xrd
\end_inset

ל עובדת רק על בלוק אחד - איך נעשה את זה על הודעות ארוכות?
\end_layout

\begin_layout Standard

\size larger
\begin_inset Formula $\,$
\end_inset


\lang english
Modes of Operation
\end_layout

\begin_layout Enumerate
נאיבי: נוכל לחשב 
\begin_inset Formula 
\begin{align*}
\enc{m_{1}||\ldots||m_{\ell};r_{1}||\ldots||r_{\ell}} & =\left(r_{1},F_{k}\left(r_{1}\right)\xor m_{1}\right)||\ldots||\left(r_{\ell},F_{k}\left(r_{\ell}\right)\oplus m_{\ell}\right)
\end{align*}

\end_inset

הבעיה עם שיטה זו היא שהיא מאריכה את ההודעה באופן דרסטי, לדוגמה עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
AES
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם מפתח באורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
128
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביטים, הכפלנו את אורך ההודעה בעת ההצפנה.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\,$
\end_inset


\lang english
Counter Mode (CTR)
\lang hebrew
: נחשב
\begin_inset Formula 
\[
\enc{m_{1}\ldots m_{\ell};r}=\left(r,F_{k}\left(r+1\right)\xor m_{1},F_{k}\left(r+2\right)\oplus m_{2},\ldots,F_{k}\left(r+\ell\right)\xor m_{\ell}\right)
\]

\end_inset

וכך נוסיף רק אורך קבוע להצפנה ולא משהו מהותי.
 אפשר להוכיח שהצפנה זו היא אכן בטוחה-
\lang english
CPA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהינתן ש-
\begin_inset Formula $F$
\end_inset

 היא 
\begin_inset Formula $\prf$
\end_inset

.
 תוואי ההוכחה הוא כזה: נבצע את הניסוי המחשבתי של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPA
\lang hebrew
.
 נניח שכל ההודעות המוצפנת ע
\begin_inset Quotes xrd
\end_inset

י האורקל הן ב-
\begin_inset Formula $\ell$
\end_inset

 בלוקים,.
 מתקיים כי 
\begin_inset Formula $s_{i}=\left(r_{i},F_{k}\left(r_{i}+1\right),\ldots,F_{k}\left(r_{i}+\ell\right)\right)$
\end_inset

 )בה אנו משתמשים להצפנה ההודעה ה-
\begin_inset Formula $i$
\end_inset

( היא פסאודו אקראית וכל 
\begin_inset Formula $s_{i},s_{i'}$
\end_inset

 הן ב
\begin_inset Quotes xrd
\end_inset

ת אלא אם 
\begin_inset Formula $r_{i}+j=r_{i'}+j'$
\end_inset

.
 משם משתמשים בארגומנט היברידי ומסיימים את ההוכחה.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\,$
\end_inset


\lang english
Electronic CodeBook (ECB)
\lang hebrew
: נצפין 
\begin_inset Formula $\enc{m_{1},\ldots,m_{\ell}}=\left(F_{k}\left(m_{1}\right),\ldots,F_{k}\left(m_{\ell}\right)\right)$
\end_inset

.
 זהו צופן מאוד גרוע, לא רק כי הוא לא עמיד בפני
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)בדומה לצופן דטרמיניסטי רגיל(, אלא שכשיש כמה הודעות אין לו אפילו הודעות
 הבנ
\begin_inset Quotes xrd
\end_inset

ל, לדוגמה אם מבחין מבקש הצפנה של 
\begin_inset Formula $0^{n}0^{n}$
\end_inset

 ו-
\begin_inset Formula $1^{n}0^{n}$
\end_inset

 יוכל בקלות לגלות מי זו מי.
\end_layout

\begin_deeper
\begin_layout Standard
בנוסף, הצפנה של תמונה לדוגמה אולי תשנה את הצבעים אבל תשמר את הצורה ולא תשיג
 את המטרה באמת.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/12duf8IGivA8k-qzkO_EZa1G21BET_s2w/view?usp=sh
aring}{קישור}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\noindent
\align center

\series bold
\size larger
אזהרה
\end_layout

\begin_layout Standard
\noindent
\align center

\size large
בתרגול הזה ובזה שאחריו, חשוב לא לטבוע בחול הטובעני שהוא הוכחות חורשות של
 טענות.
 בכל פעם, כל מה שאנחנו עושים זה להניח בשלילה שמשהו הוא לא בלתי ניתן להבחנה
 )בין אם התלפגויות, 
\begin_inset Formula $\prf$
\end_inset

 או כל דבר אחר(, בונים באמצעות המבחין מבחין חדש שסותר תכונה נתונה ומגיעים
 לסתירה.
 הבניה היא כמעט טריוויאלית אבל לעתים קשה לתפוס את התמונה הכללית.
 לכן, וודאו שבכל טענה אתם מבינים את הלך הדברים הכללי, שכן הוא חשוב על אחת
 כמה וכמה על פני היכולת לדקלם אינדקסציה על פ' הסת'.
 סעו לאט!
\end_layout

\begin_layout Description
שאלה יהיו 
\begin_inset Formula $G_{1},G_{2}$
\end_inset

 
\begin_inset Formula $\pr$
\end_inset

.
 נגדיר 
\begin_inset Formula $G\left(s_{1}||s_{2}\right)=G_{1}\left(s_{1}\right)||G_{2}\left(s_{2}\right)$
\end_inset

 לכל 
\begin_inset Formula $s_{1},s_{2}\in\left\{ 0,1\right\} ^{*}$
\end_inset

 עבורם 
\begin_inset Formula $\left|s_{1}\right|\in\left\{ \left|s_{2}\right|,\left|s_{2}\right|+1\right\} $
\end_inset

.
 האם 
\begin_inset Formula $G$
\end_inset

 בהכרח 
\begin_inset Formula $\pr$
\end_inset

? )זו הכללה של טענה שהוכחנו בתרגיל(.
\end_layout

\begin_layout Description
פתרון כן.
 
\begin_inset Formula $G$
\end_inset

 הוא 
\begin_inset Formula $\pp$
\end_inset

 כי 
\begin_inset Formula $G_{1},G_{2}$
\end_inset

 הם 
\begin_inset Formula $\pp$
\end_inset

.
 נניח כי 
\begin_inset Formula $G_{1}$
\end_inset

 מעתיק ממחרוזות באורך 
\begin_inset Formula $n$
\end_inset

 ל-
\begin_inset Formula $\ell_{1}$
\end_inset

 ו-
\begin_inset Formula $G_{2}$
\end_inset

 מ-
\begin_inset Formula $n$
\end_inset

 ל-
\begin_inset Formula $\ell_{2}$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
נניח בשלילה כי 
\begin_inset Formula $G$
\end_inset

 אינו 
\begin_inset Formula $\pr$
\end_inset

, כלומר קיים מבחין 
\begin_inset Formula $\pp$
\end_inset

 
\begin_inset Formula $\d$
\end_inset

 ופולינום 
\begin_inset Formula $p\left(n\right)$
\end_inset

 כך שמתקיים באופן שכיח
\begin_inset Formula 
\[
\left|\underset{s\inr\left\{ 0,1\right\} ^{n}}{P}\left(D\left(G\left(s\right)\right)=1\right)-\underset{r\inr\left\{ 0,1\right\} ^{\ell_{1}\left(\lceil\frac{n}{2}\rceil\right)+\ell_{2}\left(\lceil\frac{n}{2}\rceil\right)}}{P}\left(D\left(r\right)=1\right)\right|>\frac{1}{p\left(n\right)}
\]

\end_inset

בגלל שהא
\begin_inset Quotes xrd
\end_inset

ש מתקיים באופן שכיח, הוא מתקיים באופן שכיח או על זוגיים או על אי-זוגיים,
 נניח בה
\begin_inset Quotes xrd
\end_inset

כ כי זה העל זוגיים.
 כלומר, מתקיים כמעט תמיד
\begin_inset Formula 
\[
\left|\underset{s\inr\left\{ 0,1\right\} ^{2n}}{P}\left(D\left(G\left(s\right)\right)=1\right)-\underset{r\inr\left\{ 0,1\right\} ^{\ell_{1}\left(n\right)+\ell_{2}\left(n\right)}}{P}\left(D\left(r\right)=1\right)\right|>\frac{1}{p\left(2n\right)}
\]

\end_inset

מתקיים
\begin_inset Formula 
\begin{align*}
\frac{1}{p\left(2n\right)} & <\left|\underset{s\inr\left\{ 0,1\right\} ^{2n}}{P}\left(D\left(G\left(s\right)\right)=1\right)-\underset{r\inr\left\{ 0,1\right\} ^{\ell_{1}\left(n\right)+\ell_{2}\left(n\right)}}{P}\left(D\left(r\right)=1\right)\right|\\
 & =\left|\underset{s_{1},s_{2}\inr\left\{ 0,1\right\} ^{n}}{P}\left(D\left(G_{1}\left(s_{1}\right)||G_{2}\left(s_{2}\right)\right)=1\right)-\underset{r_{1}\inr\left\{ 0,1\right\} ^{\ell_{1}\left(n\right)},r_{2}\inr\left\{ 0,1\right\} ^{\ell_{2}\left(n\right)}}{P}\left(D\left(r_{1}||r_{2}\right)=1\right)\right|\\
\text{ארגומנט היברידי} & \overset{\Delta}{\leq}\left|\desc{\underset{s_{1},s_{2}\inr\left\{ 0,1\right\} ^{n}}{P}\left(D\left(G_{1}\left(s_{1}\right)||G_{2}\left(s_{2}\right)\right)=1\right)-\underset{r_{1}\inr\left\{ 0,1\right\} ^{\ell_{1}\left(n\right)},s_{2}\inr\left\{ 0,1\right\} ^{n}}{P}\left(D\left(r_{1}||G_{2}\left(s_{2}\right)\right)=1\right)}{\text{הבחנה בין היצרן לבין הארגומנט ההיברידי}\;,\alpha}\right|\\
 & \,\,+\left|\desc{\underset{r_{1}\inr\left\{ 0,1\right\} ^{\ell_{1}\left(n\right)},s_{2}\inr\left\{ 0,1\right\} ^{n}}{P}\left(D\left(r_{1}||G_{2}\left(s_{2}\right)\right)=1\right)-\underset{r_{1}\inr\left\{ 0,1\right\} ^{\ell_{1}\left(n\right)},r_{2}\inr\left\{ 0,1\right\} ^{\ell_{2}\left(n\right)}}{P}\left(D\left(r_{1}||r_{2}\right)=1\right)}{\text{הבחנה בין הארגומנט ההיברידי לבין הערכים האקראיים באמת}\;,\beta}\right|
\end{align*}

\end_inset

ולכן או ש-
\begin_inset Formula $\alpha>\frac{1}{2p\left(2n\right)}$
\end_inset

 או ש-
\begin_inset Formula $\beta>\frac{1}{2p\left(2n\right)}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $\alpha>\frac{1}{2p\left(2n\right)}$
\end_inset

, נגדיר מבחין 
\begin_inset Formula $\d_{1}$
\end_inset

 באופן הבא: בהינתן קלט 
\begin_inset Formula $z_{1}\in\left\{ 0,1\right\} ^{\ell_{1}\left(n\right)}$
\end_inset

, דוגם 
\begin_inset Formula $s_{2}\inr\left\{ 0,1\right\} ^{n}$
\end_inset

 ומחזיר את הפלט של החישוב 
\begin_inset Formula $D\left(z_{1}||G_{2}\left(s_{2}\right)\right)$
\end_inset

, ברור שזה 
\begin_inset Formula $\pp$
\end_inset

.
 מתקיים
\begin_inset Formula 
\begin{align*}
 & \left|\underset{s\inr\left\{ 0,1\right\} ^{2n}}{P}\left(D\left(G\left(s\right)\right)=1\right)-\underset{r_{1}\inr\left\{ 0,1\right\} ^{\ell_{1}\left(n\right)}}{P}\left(D\left(r_{1}\right)=1\right)\right|\\
 & =\left|\underset{s_{1},s_{2}\inr\left\{ 0,1\right\} ^{n}}{P}\left(D\left(G_{1}\left(s_{1}\right)||G_{2}\left(s_{2}\right)\right)=1\right)-\underset{r_{1}\inr\left\{ 0,1\right\} ^{\ell_{1}\left(n\right)},s_{2}\inr\left\{ 0,1\right\} ^{n}}{P}\left(D\left(r_{1}||G_{2}\left(s_{2}\right)\right)=1\right)\right|\\
 & >\frac{1}{2p\left(2n\right)}
\end{align*}

\end_inset

באופן שכיח בסתירה להיות 
\begin_inset Formula $G_{1}$
\end_inset

 
\begin_inset Formula $\pr$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\beta>\frac{1}{2p\left(2n\right)}$
\end_inset

, באותו האופן נגדיר 
\begin_inset Formula $\d_{2}$
\end_inset

 מבחין שמקבל 
\begin_inset Formula $z_{2}\inr\left\{ 0,1\right\} ^{\ell_{2}\left(n\right)}$
\end_inset

, דוגם 
\begin_inset Formula $r_{1}\inr\left\{ 0,1\right\} ^{\ell_{1}\left(n\right)}$
\end_inset

 ומחזיר 
\begin_inset Formula $D\left(r_{1}||z_{2}\right)$
\end_inset

.
 מתקיים באופן שכיח
\begin_inset Formula 
\begin{align*}
 & \left|\underset{s_{2}\inr\left\{ 0,1\right\} ^{n}}{P}\left(D_{2}\left(G_{2}\left(s_{2}\right)\right)=1\right)-\underset{r_{2}\inr\left\{ 0,1\right\} ^{\ell_{2}\left(n\right)}}{P}\left(D_{2}\left(r_{2}\right)=1\right)\right|\\
 & =\left|\underset{r_{1}\inr\left\{ 0,1\right\} ^{\ell_{1}\left(n\right)},s_{2}\inr\left\{ 0,1\right\} ^{n}}{P}\left(D_{2}\left(r_{1}||G_{2}\left(s_{2}\right)\right)=1\right)-\underset{r_{1}\inr\left\{ 0,1\right\} ^{\ell_{1}\left(n\right)},r_{2}\inr\left\{ 0,1\right\} ^{\ell_{2}\left(n\right)}}{P}\left(D_{2}\left(G_{1}\left(s_{1}\right)||r_{2}\right)=1\right)\right|\\
 & >\frac{1}{2p\left(2n\right)}
\end{align*}

\end_inset

בסתירה להיות 
\begin_inset Formula $G_{2}$
\end_inset

 
\begin_inset Formula $\pr$
\end_inset

.
\end_layout

\begin_layout Description
שאלה תהיינה 
\begin_inset Formula $\Pi_{1},\Pi_{2}$
\end_inset

 מערכות הצפנה.
 ידוע כי לפחות אחת מהן היא בעלת הבנ
\begin_inset Quotes xrd
\end_inset

ל, אך לא ידוע איזו מהן.
 בנו מערכת הצפנה בעלת הבנ
\begin_inset Quotes xrd
\end_inset

ל על בסיסן.
\end_layout

\begin_layout Description
פתרון נגדיר 
\begin_inset Formula $\Pi=\left(\kgt,\enct,\dect\right)$
\end_inset

 באופן הבא:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\kg{1^{n}}$
\end_inset

 דוגם 
\begin_inset Formula $k_{1}\inr\kgt_{1}\left(1^{n}\right),k_{2}\inr\kgt_{2}\left(1^{n}\right)$
\end_inset

 ומחזיר 
\begin_inset Formula $k=\left(k_{1},k_{2}\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
בהינתן המפתח 
\begin_inset Formula $k=\left(k_{1},k_{2}\right)$
\end_inset

 והודעה 
\begin_inset Formula $m$
\end_inset

, נצפין 
\begin_inset Formula $\enc m=\enct_{2,k_{2}}\left(\enct_{1,k_{1}}\left(m\right)\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
בהינתן מפתח 
\begin_inset Formula $k=\left(k_{1},k_{2}\right)$
\end_inset

 והצפנה 
\begin_inset Formula $c$
\end_inset

, נפענח 
\begin_inset Formula $\dec c=\dect_{1,k_{1}}\left(\dect_{2,k_{2}}\left(c\right)\right)$
\end_inset

.
\end_layout

\begin_layout Standard
מנכונות 
\begin_inset Formula $\Pi_{1},\Pi_{2}$
\end_inset

, 
\begin_inset Formula $\Pi$
\end_inset

 גם כן נכונה.
 נוכיח כי 
\begin_inset Formula $\Pi$
\end_inset

 בעלת הבנ
\begin_inset Quotes xrd
\end_inset

ל.
 נניח בשלילה שקיים יריב 
\begin_inset Formula $\pp$
\end_inset

 
\begin_inset Formula $\a$
\end_inset

 ופולינום 
\begin_inset Formula $p$
\end_inset

 כך שמתקיים באופן שכיח 
\begin_inset Formula $P\left(\ind n=1\right)>\frac{1}{2}+\frac{1}{p\left(n\right)}$
\end_inset

.
\end_layout

\begin_layout Standard
נבנה אלג' הסת' 
\begin_inset Formula $\b_{1},\b_{2}$
\end_inset

 
\begin_inset Formula $\pp$
\end_inset

 שישברו את הבטיחות של 
\begin_inset Formula $\Pi_{1},\Pi_{2}$
\end_inset

 בהתאמה ונגיע לסתירה לכך שאחת מהן בעלת הבנ
\begin_inset Quotes xrd
\end_inset

ל.
\end_layout

\begin_layout Standard
נגדיר 
\begin_inset Formula $\b_{1}$
\end_inset

 שמשתתף בניסוי 
\begin_inset Formula $\indt_{\Pi_{1},\b_{1}}\left(n\right)$
\end_inset

 באופן הבא:
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\b_{1}$
\end_inset

 מגריל מפתח 
\begin_inset Formula $k_{2}\inr\kgt_{2}\left(1^{n}\right)$
\end_inset

 ומחשב 
\begin_inset Formula $\a\left(1^{n}\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\b_{1}$
\end_inset

 מעביר הלאה את ההודעות 
\begin_inset Formula $m_{0},m_{1}$
\end_inset

 שהוא מקבל מ-
\begin_inset Formula $\a$
\end_inset

.
\end_layout

\begin_layout Enumerate
בקבלת הצפנה 
\begin_inset Formula $c^{*}$
\end_inset

 של 
\begin_inset Formula $\Pi_{1}$
\end_inset

 את אחת ההודעות 
\begin_inset Formula $m_{0},m_{1}$
\end_inset

, הוא מחשב 
\begin_inset Formula $c\inr\enct_{2,k_{2}}\left(c^{*}\right)$
\end_inset

 ומעביר ל-
\begin_inset Formula $\a$
\end_inset

 את 
\begin_inset Formula $c$
\end_inset

.
\end_layout

\begin_layout Enumerate
כש-
\begin_inset Formula $\a$
\end_inset

 מחזיר 
\begin_inset Formula $b'$
\end_inset

, 
\begin_inset Formula $\b_{1}$
\end_inset

 מחזיר גם כן את 
\begin_inset Formula $b'$
\end_inset

.
\end_layout

\begin_layout Standard
נשים לב כי בניסוי 
\begin_inset Formula $\indt_{\Pi_{1},\b_{1}}\left(n\right)$
\end_inset

, 
\begin_inset Formula $\a$
\end_inset

 מבצע בדיוק את הניסוי 
\begin_inset Formula $\ind n$
\end_inset

 )
\begin_inset Formula $c$
\end_inset

 הוא פשוט 
\begin_inset Formula $\enc{m_{b}}$
\end_inset

( ובנוסף ההסת' ש-
\begin_inset Formula $\a$
\end_inset

 מנחש נכון היא ההסת' ש-
\begin_inset Formula $\b_{1}$
\end_inset

 מנחש נכון איזו הודעה הוצפנה, כלומר מתקיים באופן שכיח
\begin_inset Formula 
\[
P\left(\indt_{\Pi_{1},\b_{1}}\left(n\right)=1\right)=P\left(\ind n=1\right)>\frac{1}{2}+\frac{1}{p\left(n\right)}
\]

\end_inset


\end_layout

\begin_layout Standard
נגדיר 
\begin_inset Formula $\b_{2}$
\end_inset

 שמשתתף ב-
\begin_inset Formula $\indt_{\Pi_{2},\b_{2}}\left(n\right)$
\end_inset

 באופן הבא:
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\b_{2}$
\end_inset

 מגריל מפתח 
\begin_inset Formula $k_{1}\inr\kgt_{1}\left(1^{n}\right)$
\end_inset

 ומחשב 
\begin_inset Formula $\a\left(1^{n}\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
כשהוא מקבל 
\begin_inset Formula $m_{0},m_{1}$
\end_inset

 מ-
\begin_inset Formula $\a$
\end_inset

, 
\begin_inset Formula $\b_{1}$
\end_inset

 מעביר הלאה את 
\begin_inset Formula $m_{0}'\inr\enct_{1,k_{1}}\left(m_{0}\right),m_{1}'\inr\enct_{1,k_{1}}\left(m_{0}\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
בקבלת הצפנה 
\begin_inset Formula $c^{*}$
\end_inset

 של 
\begin_inset Formula $\Pi_{2}$
\end_inset

 את אחת ההודעות 
\begin_inset Formula $m_{0}',m_{1}'$
\end_inset

, הוא מעביר ל-
\begin_inset Formula $\a$
\end_inset

 את 
\begin_inset Formula $c^{*}$
\end_inset

.
\end_layout

\begin_layout Enumerate
כש-
\begin_inset Formula $\a$
\end_inset

 מחזיר 
\begin_inset Formula $b'$
\end_inset

, 
\begin_inset Formula $\b_{2}$
\end_inset

 מחזיר גם כן את 
\begin_inset Formula $b'$
\end_inset

.
\end_layout

\begin_layout Standard
נשים לב כי בניסוי 
\begin_inset Formula $\indt_{\Pi_{2},\b_{2}}\left(n\right)$
\end_inset

, 
\begin_inset Formula $\a$
\end_inset

 בדיוק משתתף ב-
\begin_inset Formula $\ind n$
\end_inset

 )
\begin_inset Formula $c^{*}$
\end_inset

 הוא הצפנה של 
\begin_inset Formula $\Pi_{2}$
\end_inset

 הודעה מוצפנת של 
\begin_inset Formula $\Pi_{1}$
\end_inset

, כלומר הצפנה של 
\begin_inset Formula $\Pi$
\end_inset

( וההסת' ש-
\begin_inset Formula $\a$
\end_inset

 צודק שווה לזו של 
\begin_inset Formula $\b_{2}$
\end_inset

, כלומר
\begin_inset Formula 
\[
P\left(\indt_{\Pi_{2},\b_{2}}\left(n\right)=1\right)=P\left(\ind n=1\right)>\frac{1}{2}+\frac{1}{p\left(n\right)}
\]

\end_inset

באופן שכיח.
\end_layout

\begin_layout Standard
כלומר לא 
\begin_inset Formula $\Pi_{1}$
\end_inset

 ולא 
\begin_inset Formula $\Pi_{2}$
\end_inset

 בעלות הבנ
\begin_inset Quotes xrd
\end_inset

ל, בסתירה לנתון.
 לכן 
\begin_inset Formula $\Pi$
\end_inset

 כן בעלת הבנ
\begin_inset Quotes xrd
\end_inset

ל.
\end_layout

\end_deeper
\begin_layout Description
טענה תהיינה 
\begin_inset Formula $X=\left\{ X_{n}\right\} _{n\in\fldn},y=\left\{ Y_{n}\right\} _{n\in\fldn}$
\end_inset

 התפלגויות בנ
\begin_inset Quotes xrd
\end_inset

ל חישובית ו-
\begin_inset Formula $f$
\end_inset

 פ' חשיבה ביעילות )ודטרמיניסטית(, אזי ההתפלגויות 
\begin_inset Formula $f\left(X\right),f\left(Y\right)$
\end_inset

 הן בנ
\begin_inset Quotes xrd
\end_inset

ל חישובית.
\end_layout

\begin_layout Proof
נניח בשלילה שקיימת פ' חשיבה ביעילות עבורה 
\begin_inset Formula $f\left(X\right),f\left(Y\right)$
\end_inset

 ניתנות להבחנה חישובית.
 כלומר, קיים מבחין 
\begin_inset Formula $\a$
\end_inset

 
\begin_inset Formula $\pp$
\end_inset

 ופולינום 
\begin_inset Formula $p$
\end_inset

 כך שמתקיים באופן שכיח
\begin_inset Formula 
\[
\left|\underset{x\inr X_{n}}{P}\left(\a\left(1^{n},f\left(x\right)\right)=1\right)-\underset{y\inr Y_{n}}{P}\left(\a\left(1^{n},f\left(y\right)\right)=1\right)\right|>\frac{1}{p\left(n\right)}
\]

\end_inset

נבנה מבחין 
\begin_inset Formula $\d$
\end_inset

 באופן הבא: בהינתן 
\begin_inset Formula $\left(1^{n},z\right)$
\end_inset

, החזר את הפלט של 
\begin_inset Formula $\a\left(1^{n},f\left(z\right)\right)$
\end_inset

.
 
\begin_inset Formula $\a$
\end_inset

 
\begin_inset Formula $\pp$
\end_inset

 ו-
\begin_inset Formula $f$
\end_inset

 חשיבה ביעילות ולכן 
\begin_inset Formula $\d$
\end_inset

 הוא 
\begin_inset Formula $\pp$
\end_inset

.
 בנוסף, מתקיים
\begin_inset Formula 
\begin{align*}
\underset{x\inr X_{n}}{P}\left(\d\left(1^{n},x\right)=1\right) & =\underset{x\inr X_{n}}{P}\left(\a\left(1^{n},f\left(x\right)\right)=1\right)\\
\underset{y\inr Y_{n}}{P}\left(\d\left(1^{n},y\right)=1\right) & =\underset{y\inr Y_{n}}{P}\left(\a\left(1^{n},f\left(y\right)\right)=1\right)
\end{align*}

\end_inset

לכל 
\begin_inset Formula $n\in\fldn$
\end_inset

 מההגדרה, ולכן באופן שכיח מתקיים
\begin_inset Formula 
\[
\left|\underset{x\inr X_{n}}{P}\left(\d\left(1^{n},x\right)=1\right)-\underset{y\inr Y_{n}}{P}\left(\d\left(1^{n},y\right)=1\right)\right|>\frac{1}{p\left(n\right)}
\]

\end_inset

ולכן 
\begin_inset Formula $\d$
\end_inset

 הוא 
\begin_inset Formula $\pp$
\end_inset

 שמבחין עם יתרון לא זניח באופן שכיח בין שתי התפלגויות בנ
\begin_inset Quotes xrd
\end_inset

ל חישובית, סתירה.
\end_layout

\begin_layout Description
שאלה האם הטענה הנ
\begin_inset Quotes xrd
\end_inset

ל נכונה גם עבור 
\begin_inset Formula $f$
\end_inset

 לא חשיבה ביעילות?
\end_layout

\begin_layout Description
פתרון לא! יהי 
\begin_inset Formula $G$
\end_inset

 
\begin_inset Formula $\pr$
\end_inset

 שמעתיק 
\begin_inset Formula $n$
\end_inset

 ל-
\begin_inset Formula $n+1$
\end_inset

 ונבנה דוגמה נגדית:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $X_{n}$
\end_inset

 היא 
\begin_inset Formula $G\left(s\right)$
\end_inset

 כאשר 
\begin_inset Formula $s\inr\left\{ 0,1\right\} ^{n}$
\end_inset

 נדגם אחיד.
\end_layout

\begin_layout Itemize
\begin_inset Formula $Y_{n}$
\end_inset

 היא 
\begin_inset Formula $r$
\end_inset

 כאשר 
\begin_inset Formula $r\inr\left\{ 0,1\right\} ^{n+1}$
\end_inset

 נדגם אחיד.
\end_layout

\begin_layout Itemize
נגדיר לכל 
\begin_inset Formula $y\in\left\{ 0,1\right\} ^{n+1}$
\end_inset

, 
\begin_inset Formula $f\left(y\right)=\mez 1_{\im\left(G\right)}$
\end_inset

 כלומר האם קיים 
\begin_inset Formula $x\in\left\{ 0,1\right\} ^{n}$
\end_inset

 עבורו 
\begin_inset Formula $G\left(x\right)=y$
\end_inset

.
\end_layout

\begin_layout Standard
בגלל ש-
\begin_inset Formula $G$
\end_inset

 
\begin_inset Formula $\pr$
\end_inset

, 
\begin_inset Formula $X_{n},Y_{n}$
\end_inset

 הן בנ
\begin_inset Quotes xrd
\end_inset

ל חישובית )יחסית ישיר(.
 נוכיח כי 
\begin_inset Formula $f\left(X\right),f\left(Y\right)$
\end_inset

 ניתנות להבחנה חישובית.
 נגדיר אלג' מבחין 
\begin_inset Formula $\d$
\end_inset

 שמקבל ביט 
\begin_inset Formula $b$
\end_inset

 )הערך של 
\begin_inset Formula $f$
\end_inset

 על 
\begin_inset Formula $y$
\end_inset

 למעשה( ומחזיר את 
\begin_inset Formula $b$
\end_inset

.
 מתקיים 
\begin_inset Formula $\forall n\in\fldn$
\end_inset


\begin_inset Formula 
\begin{align*}
 & \left|\underset{x\inr X_{n}}{P}\left(\d\left(1^{n},f\left(x\right)\right)=1\right)-\underset{y\inr Y_{n}}{P}\left(\d\left(1^{n},f\left(y\right)\right)=1\right)\right|\\
 & =\left|\underset{s\inr\left\{ 0,1\right\} ^{n}}{P}\left(\d\left(1^{n},f\left(G\left(s\right)\right)\right)=1\right)-\underset{r\in\left\{ 0,1\right\} ^{n+1}}{P}\left(\d\left(1^{n},f\left(r\right)\right)=1\right)\right|\\
\text{הסת' שלמה} & =\left|\begin{array}{cc}
\underset{s\inr\left\{ 0,1\right\} ^{n}}{P}\left(\d\left(1^{n},f\left(G\left(s\right)\right)\right)=1\right) & -\underset{r\in\left\{ 0,1\right\} ^{n+1}}{P}\left(\d\left(1^{n},f\left(r\right)\right)=1\mid r\in\im\left(G\right)\right)\underset{r\in\left\{ 0,1\right\} ^{n+1}}{P}\left(r\in\im\left(G\right)\right)\\
 & -\desc{\underset{r\in\left\{ 0,1\right\} ^{n+1}}{P}\left(\d\left(1^{n},f\left(r\right)\right)=1\mid r\notin\im\left(G\right)\right)}{=0}\underset{r\in\left\{ 0,1\right\} ^{n+1}}{P}\left(r\notin\im\left(G\right)\right)
\end{array}\right|\\
 & =\left|1-\underset{r\in\left\{ 0,1\right\} ^{n+1}}{P}\left(\d\left(1^{n},f\left(r\right)\right)=1\mid r\in\im\left(G\right)\right)\underset{r\in\left\{ 0,1\right\} ^{n+1}}{P}\left(r\in\im\left(G\right)\right)\right|\\
 & =\left|1-\frac{\im G}{2^{n+1}}\right|\\
\left|\im G\right|\leq\left|\left\{ 0,1^{n}\right\} \right|\;\text{כי}\; & \geq\frac{1}{2}
\end{align*}

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{IV
\backslash
;
\backslash
; פונקציות פסאודו-אקראיות לעומק}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{IV}$
\end_inset

 | פונקציות פסאודו-אקראיות לעומק 
\size default

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1JPBW90jdkCTqexDoDxUB8MfvjEeq7IGC/view?usp=sh
aring}{קישור}
\end_layout

\end_inset


\end_layout

\begin_layout Description
טענה תהיינה 
\begin_inset Formula $F,G$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

 כך שעבור מפתחות באורך 
\begin_inset Formula $n$
\end_inset

, 
\begin_inset Formula $F_{k}$
\end_inset

 מעתיקה מ-
\begin_inset Formula $n$
\end_inset

 ל-
\begin_inset Formula $\ell\left(n\right)$
\end_inset

 וכך גם 
\begin_inset Formula $G_{k}$
\end_inset

 כאשר 
\begin_inset Formula $\ell$
\end_inset

 פ' כלשהי.
 אזי לכל מבחין 
\begin_inset Formula $\d$
\end_inset

 
\begin_inset Formula $\pp$
\end_inset

 קיימת פ' זניחה 
\begin_inset Formula $\nu$
\end_inset

 כך ש-
\begin_inset Formula 
\[
\left|\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(D^{F_{k}}\left(1^{n}\right)=1\right)-\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(D^{G_{k}}\left(1^{n}\right)=1\right)\right|\leq\nu\left(n\right)
\]

\end_inset

כמעט תמיד.
 כלומר, שלא ניתן להבחין חישובית בין 
\begin_inset Formula $F_{k}$
\end_inset

 ו-
\begin_inset Formula $G_{k}$
\end_inset

.
\end_layout

\begin_layout Proof
עקרונית כל אלג' 
\begin_inset Formula $\pp$
\end_inset

 עם גישה לאורקל לא יכול להבדיל בין 
\begin_inset Formula $F$
\end_inset

 לפ' אקראית באמת וגם לא בין 
\begin_inset Formula $G$
\end_inset

 לבין פ' אקראית ולכן גם לא ביניהם ישירות.
\end_layout

\begin_layout Proof
יהי 
\begin_inset Formula $\d$
\end_inset

 
\begin_inset Formula $\pp$
\end_inset

 אזי כמעט תמיד מתקיים
\begin_inset Formula 
\begin{align*}
 & \left|\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(D^{F_{k}}\left(1^{n}\right)=1\right)-\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(D^{G_{k}}\left(1^{n}\right)=1\right)\right|\\
\text{ארגומנט היברידי} & \overset{\Delta}{\leq}\left|\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(D^{F_{k}}\left(1^{n}\right)=1\right)-\underset{h\inr\func_{n\to\ell\left(n\right)}}{P}\left(D^{h}\left(1^{n}\right)=1\right)\right|\\
 & \,\,+\left|\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(D^{G_{k}}\left(1^{n}\right)=1\right)-\underset{h\inr\func_{n\to\ell\left(n\right)}}{P}\left(D^{h}\left(1^{n}\right)=1\right)\right|\\
\prf\;\text{הן}\;G_{k},F_{k} & \le\nu_{1}\left(n\right)+\nu_{2}\left(n\right)\\
\text{סגירות לחיבור של זניחות} & =\nu\left(n\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Description
טענה תהי 
\begin_inset Formula $F$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

 המעתיקה 
\begin_inset Formula $n$
\end_inset

 ל-
\begin_inset Formula $n$
\end_inset

 עם מפתחות באורך 
\begin_inset Formula $n$
\end_inset

.
 נגדיר 
\begin_inset Formula $H_{k}\left(x\right)=F_{F_{k}\left(0^{n}\right)}\left(x\right)||F_{k}\left(x\right)$
\end_inset

, לכל 
\begin_inset Formula $n\in\fldn$
\end_inset

, 
\begin_inset Formula $k,x\in\left\{ 0,1\right\} ^{n}$
\end_inset

.
 אזי 
\begin_inset Formula $H$
\end_inset

 אינה 
\begin_inset Formula $\prf$
\end_inset

.
\end_layout

\begin_layout Proof
נמצא מבחין 
\begin_inset Formula $\pp$
\end_inset

 
\begin_inset Formula $\d$
\end_inset

 עם יתרון לא זניח.
 ננסה לנצל את התלות בין המפתחות של החצאים.
 נגדיר 
\begin_inset Formula $D$
\end_inset

 באופן הבא:
\end_layout

\begin_deeper
\begin_layout Enumerate
בהינתן 
\begin_inset Formula $1^{n}$
\end_inset

 וגישת אורקל ל-
\begin_inset Formula $\o$
\end_inset

 )או 
\begin_inset Formula $H_{k}$
\end_inset

 או 
\begin_inset Formula $h$
\end_inset

(, חשב את 
\begin_inset Formula $\alpha_{0}||\beta=\o\left(0^{n}\right)\in\left\{ 0,1\right\} ^{2n}$
\end_inset

 באמצעות האורקל כאשר 
\begin_inset Formula $\alpha_{0},\beta\in\left\{ 0,1\right\} ^{n}$
\end_inset

.
\end_layout

\begin_layout Enumerate
חשב את הערך 
\begin_inset Formula $\alpha_{1}=F_{\beta}\left(0^{n}\right)\in\left\{ 0,1\right\} ^{n}$
\end_inset

 )לא דרך האורקל, 
\begin_inset Formula $F$
\end_inset

 ידוע לנו בלי קשר כי הוא לא חלק מהניסוי(.
\end_layout

\begin_layout Enumerate
החזר 
\begin_inset Formula $b'=\begin{cases}
1 & \alpha_{0}=\alpha_{1}\\
0 & \alpha_{0}\neq\alpha_{1}
\end{cases}$
\end_inset

.
\end_layout

\begin_layout Itemize
אם האורקל הוא 
\begin_inset Formula $H_{k}$
\end_inset

 עם 
\begin_inset Formula $k\inr\left\{ 0,1\right\} ^{n}$
\end_inset

 אזי 
\begin_inset Formula $\alpha_{0}=F_{F_{k}\left(0^{n}\right)}\left(x\right)$
\end_inset

 וכן 
\begin_inset Formula $\beta=F_{k}\left(0^{n}\right)$
\end_inset

.
 לכן 
\begin_inset Formula $\alpha_{0}=\alpha_{1}$
\end_inset

 מההגדרה תמיד נכון 
\begin_inset Formula $\d$
\end_inset

 תמיד מחזיר 
\begin_inset Formula $1$
\end_inset

.
\end_layout

\begin_layout Itemize
אם האורקל הוא 
\begin_inset Formula $h$
\end_inset

 אקראית מתוך 
\begin_inset Formula $\func_{n\to2n}$
\end_inset

 אז 
\begin_inset Formula $\alpha_{0},\beta$
\end_inset

 מתפלגים אחיד וב
\begin_inset Quotes xrd
\end_inset

ת ולכן 
\begin_inset Formula $D$
\end_inset

 מחזיר 
\begin_inset Formula $1$
\end_inset

 בהסת' 
\begin_inset Formula $\frac{1}{2^{n}}$
\end_inset

 )ההסת' שההודעה המוצפנת שווה לערך אקראי וב
\begin_inset Quotes xrd
\end_inset

ת(.
\end_layout

\begin_layout Standard
סה
\begin_inset Quotes xrd
\end_inset

כ נקבל
\begin_inset Formula 
\begin{align*}
\left|\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(D^{H_{k}}\left(1^{n}\right)=1\right)-\underset{h\inr\func_{n\to2n}}{P}\left(D^{h}\left(1^{n}\right)=1\right)\right| & =\left|\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(F_{F_{k}\left(0^{n}\right)}\left(0^{n}\right)=F_{F_{k}\left(0^{n}\right)}\left(0^{n}\right)\right)-\underset{\alpha_{0},\beta\inr\left\{ 0,1\right\} ^{n}}{P}\left(\alpha_{0}=F_{\beta}\left(0^{n}\right)\right)\right|\\
 & =\left|1-\frac{1}{2^{n}}\right|=1-\frac{1}{2^{n}}
\end{align*}

\end_inset

שזה בוודא יתרון לא זניח של 
\begin_inset Formula $\d$
\end_inset

 על פני 
\begin_inset Formula $H_{k}$
\end_inset

, כלומר 
\begin_inset Formula $H_{k}$
\end_inset

 אינה 
\begin_inset Formula $\prf$
\end_inset

.
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hypertarget{link5}{}
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Description
שאלה תהי 
\begin_inset Formula $F$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

 שמעתיקה 
\begin_inset Formula $n$
\end_inset

 ל-
\begin_inset Formula $n$
\end_inset

 עם מפתחות באורך 
\begin_inset Formula $n$
\end_inset

.
 נגדיר 
\begin_inset Formula $W_{k_{1},k_{2}}\left(x\right)=F_{F_{k_{1}}\left(0^{n}\right)}\left(x\right)||F_{k_{2}}\left(x\right)$
\end_inset

 לכל 
\begin_inset Formula $\left(k_{1},k_{2}\right)\in\left\{ 0,1\right\} ^{2n}$
\end_inset

 ו-
\begin_inset Formula $x\in\left\{ 0,1\right\} ^{n}$
\end_inset

 האם 
\begin_inset Formula $W$
\end_inset

 היא בהכרח 
\begin_inset Formula $W$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

?
\end_layout

\begin_layout Description
פתרון כן! השינוי לעומת הפעם הקודמת הוא שעכשיו המפתחות של החצאים ב
\begin_inset Quotes xrd
\end_inset

ת וכמעט אחידים )עד כדי 
\begin_inset Formula $\prf$
\end_inset

(.
\end_layout

\begin_deeper
\begin_layout Description
טענה תהי 
\begin_inset Formula $W_{t_{1},t_{2}}\left(x\right)=H_{t_{1}}\left(x\right)||F_{t_{2}}\left(x\right)$
\end_inset

 לכל 
\begin_inset Formula $t_{1},t_{2}\in\left\{ 0,1\right\} ^{n}$
\end_inset

 כאשר 
\begin_inset Formula $F_{t_{1}},H_{t_{2}}$
\end_inset

 מעתיקות מ-
\begin_inset Formula $n$
\end_inset

 ל-
\begin_inset Formula $n$
\end_inset

 עם מפתחות באורך 
\begin_inset Formula $n$
\end_inset

.
 אזי 
\begin_inset Formula $W$
\end_inset

 היא 
\begin_inset Formula $\prf$
\end_inset

.
\end_layout

\begin_layout Proof
נניח בשלילה שאינה 
\begin_inset Formula $\prf$
\end_inset

, לכן קיים 
\begin_inset Formula $\d$
\end_inset

 
\begin_inset Formula $\pp$
\end_inset

 ופולינום 
\begin_inset Formula $p\left(n\right)$
\end_inset

 עבורם מתקיים באופן שכיח
\begin_inset Formula 
\[
\left|\underset{t_{1},t_{2}\in\left\{ 0,1\right\} ^{n}}{P}\left(\d^{W_{t_{1},t_{2}}}\left(1^{n}\right)=1\right)-\underset{w\leftarrow\func_{n\to2n}}{P}\left(\d^{w}\left(1^{n}\right)=1\right)\right|>\frac{1}{p\left(n\right)}
\]

\end_inset

נוכל לכתוב 
\begin_inset Formula $w=h||f$
\end_inset

 כאשר 
\begin_inset Formula $h,f$
\end_inset

 מעתיקות 
\begin_inset Formula $n$
\end_inset

 ל-
\begin_inset Formula $n$
\end_inset

 ונדגמות אחיד ב
\begin_inset Quotes xrd
\end_inset

ת, כי כל ערך של 
\begin_inset Formula $h$
\end_inset

 ב
\begin_inset Quotes xrd
\end_inset

ת באחר.
\end_layout

\begin_deeper
\begin_layout Standard
נבנה אורקל היברידי שחציו השמאלי 
\begin_inset Formula $h\inr\func_{n\to n}$
\end_inset

 וחציו הימני 
\begin_inset Formula $F_{t_{2}}$
\end_inset

.
\begin_inset Formula 
\begin{align*}
\frac{1}{p\left(n\right)} & <\left|\underset{t_{1},t_{2}\in\left\{ 0,1\right\} ^{n}}{P}\left(\d^{H_{t_{1}}||F_{t_{2}}}\left(1^{n}\right)=1\right)-\underset{h,f\leftarrow\func_{n\to n}}{P}\left(\d^{h||f}\left(1^{n}\right)=1\right)\right|\\
\text{ארגומנט היברידי} & \overset{\Delta}{\leq}\left|\desc{\underset{t_{1},t_{2}\in\left\{ 0,1\right\} ^{n}}{P}\left(\d^{H_{t_{1}}||F_{t_{2}}}\left(1^{n}\right)=1\right)-\underset{h\leftarrow\func_{n\to n},t_{2}\in\left\{ 0,1\right\} ^{n}}{\d}\left(\d^{h||F_{t_{2}}}\left(1^{n}\right)=1\right)}{\text{הבחנה בין W לבין הארגומנט ההיברידי}\,,\alpha}\right|\\
 & \;\;+\left|\desc{\underset{h\leftarrow\func_{n\to n},t_{2}\in\left\{ 0,1\right\} ^{n}}{P}\left(\d^{h||F_{t_{2}}}\left(1^{n}\right)=1\right)-\underset{h,f\leftarrow\func_{n\to n}}{\d}\left(\d^{h||f}\left(1^{n}\right)=1\right)}{\text{הבחנה בין הארגומנט ההיברידי לבין הפ' האקראית באמת}\,,\beta}\right|
\end{align*}

\end_inset


\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\alpha>\frac{1}{2p\left(n\right)}$
\end_inset

: נוכיח כי 
\begin_inset Formula $H$
\end_inset

 לא 
\begin_inset Formula $\prf$
\end_inset

.
 נבנה 
\begin_inset Formula $\a$
\end_inset

 
\begin_inset Formula $\pp$
\end_inset

 המבחין בגישת אורקל בין 
\begin_inset Formula $H_{t_{1}}$
\end_inset

 לבין 
\begin_inset Formula $h$
\end_inset

:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\a$
\end_inset

 דוגם 
\begin_inset Formula $t_{2}\inr\left\{ 0,1\right\} ^{n}$
\end_inset

 ומריץ את 
\begin_inset Formula $\d$
\end_inset

.
\end_layout

\begin_layout Enumerate
בכל פעם ש-
\begin_inset Formula $\d$
\end_inset

 מבקש ערך חישוב על ערך 
\begin_inset Formula $x$
\end_inset

 מאורקל 
\begin_inset Formula $\o$
\end_inset

, נחשב 
\begin_inset Formula $\o'\left(x\right)||F_{t_{2}}$
\end_inset

 כאשר 
\begin_inset Formula $\o'\in\left\{ h,H_{t_{1}}\right\} $
\end_inset

 ונעביר ל-
\begin_inset Formula $\d$
\end_inset

 )כדי שיבדיל בין 
\begin_inset Formula $h||F_{t_{2}},H_{t_{1}}||F_{t_{2}}$
\end_inset

(.
\end_layout

\begin_layout Enumerate
נחזיר את הפלט של 
\begin_inset Formula $\a$
\end_inset

.
\end_layout

\begin_layout Standard
מתקיים מכך שערך ההחזרה של 
\begin_inset Formula $\a$
\end_inset

 זהה לזה של 
\begin_inset Formula $\d$
\end_inset

 כי
\begin_inset Formula 
\begin{align*}
\underset{t_{1}\inr\left\{ 0,1\right\} ^{n}}{P}\left(\a^{H_{t_{1}}}\left(1^{n}\right)=1\right) & =\underset{t_{1},t_{2}\inr\left\{ 0,1\right\} ^{n}}{P}\left(\d^{H_{t_{1}}||F_{t_{2}}}\left(1^{n}\right)=1\right)\\
\underset{h\inr\func_{n\to n}}{P}\left(\a^{h}\left(1^{n}\right)=1\right) & =\underset{h\inr\func_{n\to n},t_{2}\inr\left\{ 0,1\right\} ^{n}}{P}\left(\d^{h||F_{t_{2}}}\left(1^{n}\right)=1\right)
\end{align*}

\end_inset

ולכן מתקיים באופן שכיח
\begin_inset Formula 
\[
\left|\underset{t_{1}\inr\left\{ 0,1\right\} ^{n}}{P}\left(\a^{H_{t_{1}}}\left(1^{n}\right)=1\right)-\underset{h\inr\func_{n\to n}}{P}\left(\a^{h}\left(1^{n}\right)=1\right)\right|=\alpha>\frac{1}{2p\left(n\right)}
\]

\end_inset

בסתירה להיות 
\begin_inset Formula $H_{t_{1}}$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $\beta>\frac{1}{2p\left(n\right)}$
\end_inset

: נוכיח כי 
\begin_inset Formula $F$
\end_inset

 אינה 
\begin_inset Formula $\prf$
\end_inset

.
 נבנה 
\begin_inset Formula $\b$
\end_inset

 
\begin_inset Formula $\pp$
\end_inset

 שמבחין בגישת אורקל בין 
\begin_inset Formula $F_{t_{2}}$
\end_inset

 לבין 
\begin_inset Formula $f$
\end_inset

 )נדגמת אחיד(.
 הפעם נדגום 
\begin_inset Formula $t_{1}\inr\left\{ 0,1\right\} ^{n}$
\end_inset

, נריץ את 
\begin_inset Formula $\d$
\end_inset

 ובכל פעם שיבקש ערך מהאורקל שלו 
\begin_inset Formula $\o$
\end_inset

, ניתן לו את 
\begin_inset Formula $H_{t_{1}}||\o'\left(x\right)$
\end_inset

 כך שיבדיל בין 
\begin_inset Formula $H_{t_{1}}||F_{t_{2}},H_{t_{1}}||f$
\end_inset

.
 באותו האופן כמו לפני, בגלל ש-
\begin_inset Formula $\b$
\end_inset

 מבצע סימולציה מושלמת של הבחנת 
\begin_inset Formula $\d$
\end_inset

 בין 
\begin_inset Formula $H_{t_{1}}||F_{t_{2}},H_{t_{1}},f$
\end_inset

, מגיעים לסתירה להיות 
\begin_inset Formula $F_{t_{2}}$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

 )הסטודנטית המשקיעה תוכיח זאת באופן מלא(.
\end_layout

\end_deeper
\begin_layout Description
טענה תהי 
\begin_inset Formula $F$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

 המעתיקה 
\begin_inset Formula $n$
\end_inset

 ל-
\begin_inset Formula $n$
\end_inset

 עם מפתחות באורך 
\begin_inset Formula $n$
\end_inset

 ו-
\begin_inset Formula $H_{k}\left(x\right)=F_{F_{k}\left(0^{n}\right)}\left(x\right)$
\end_inset

 לכל 
\begin_inset Formula $k,x\in\left\{ 0,1\right\} ^{n}$
\end_inset

, אזי 
\begin_inset Formula $H$
\end_inset

 היא 
\begin_inset Formula $\prf$
\end_inset

.
\end_layout

\begin_layout Proof
נניח בשלילה ש-
\begin_inset Formula $H$
\end_inset

 אינה 
\begin_inset Formula $\prf$
\end_inset

, לכן קיים 
\begin_inset Formula $\d$
\end_inset

 מבחין 
\begin_inset Formula $\pp$
\end_inset

 ופולינום 
\begin_inset Formula $p$
\end_inset

 כך שמתקיים באופן שכיח
\begin_inset Formula 
\[
\left|\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(\d^{H_{k}}\left(1^{n}\right)=1\right)-\underset{h\inr\func_{n\to n}}{P}\left(\d^{h}\left(1^{n}\right)=1\right)\right|>\frac{1}{p\left(n\right)}
\]

\end_inset

נשתמש בארגומנט היברידי בין 
\begin_inset Formula $H_{k}$
\end_inset

 ל-
\begin_inset Formula $h$
\end_inset

 שיהיה 
\begin_inset Formula $F_{f\left(0^{n}\right)}$
\end_inset

 כאשר 
\begin_inset Formula $f$
\end_inset

 מתפלגת אחיד.
 כלומר,
\begin_inset Formula 
\begin{align*}
\frac{1}{p\left(n\right)} & <\left|\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(\d^{H_{k}}\left(1^{n}\right)=1\right)-\underset{h\inr\func_{n\to n}}{P}\left(\d^{h}\left(1^{n}\right)=1\right)\right|\\
\text{ארגומנט היברידי} & \overset{\Delta}{\leq}\left|\desc{\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(\d^{H_{k}}\left(1^{n}\right)=1\right)-\underset{f\inr\func_{n\to n}}{P}\left(\d^{F_{f\left(0^{n}\right)}}\left(1^{n}\right)=1\right)}{\alpha}\right|\\
 & \;\;+\left|\desc{\underset{f\inr\func_{n\to n}}{P}\left(\d^{F_{f\left(0^{n}\right)}}\left(1^{n}\right)=1\right)-\underset{h\inr\func_{n\to n}}{P}\left(\d^{h}\left(1^{n}\right)=1\right)}{\beta}\right|
\end{align*}

\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $\alpha>\frac{1}{2p\left(n\right)}$
\end_inset

: כלומר 
\begin_inset Formula $\d$
\end_inset

 מצליח להבחין בין 
\begin_inset Formula $F_{F_{k}\left(0^{n}\right)},F_{f\left(0^{n}\right)}$
\end_inset

 ביתרון לא זניח.
 נבנה 
\begin_inset Formula $\a$
\end_inset

 שמבחין בהסת' לא זניחה בגישת אורקל בין 
\begin_inset Formula $F_{k}$
\end_inset

 ובין 
\begin_inset Formula $f$
\end_inset

 וכך נגיע לסתירה כי 
\begin_inset Formula $F$
\end_inset

 הוא 
\begin_inset Formula $\prf$
\end_inset

.
 תהיה לו גישה לאורקל 
\begin_inset Formula $\o'\in\left\{ F_{k},f\right\} $
\end_inset

 כדי לסמלץ עבור 
\begin_inset Formula $\d$
\end_inset

 גישה לאורקל 
\begin_inset Formula $\o\in\left\{ F_{F_{k}\left(0^{n}\right)},F_{f\left(0^{n}\right)}\right\} $
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
בהינתן 
\begin_inset Formula $1^{n}$
\end_inset

 וגישה ל-
\begin_inset Formula $\o'$
\end_inset

, 
\begin_inset Formula $\a$
\end_inset

 מבקש את 
\begin_inset Formula $t=\o'\left(0^{n}\right)$
\end_inset

, מריץ את 
\begin_inset Formula $\d$
\end_inset

 עם סימלוץ אורקל 
\begin_inset Formula $F_{t}$
\end_inset

 )שבהתאם ל-
\begin_inset Formula $\o'$
\end_inset

 יהיה או הארגומנט ההיברידי או 
\begin_inset Formula $H_{k}$
\end_inset

( ומחזיר את הערך של 
\begin_inset Formula $\d$
\end_inset

.
\end_layout

\begin_layout Standard
מתקיים מהיות 
\begin_inset Formula $\a$
\end_inset

 סימולציה מושלמת של 
\begin_inset Formula $\d$
\end_inset

 עם האורקל 
\begin_inset Formula $\o$
\end_inset

 האמור,
\begin_inset Formula 
\begin{align*}
\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(\a^{F_{k}}\left(1^{n}\right)=1\right) & =\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(\d^{F_{F_{k}\left(0^{n}\right)}}\left(1^{n}\right)=1\right)\\
\underset{f\inr\func_{n\to n}}{P}\left(\a^{f}\left(1^{n}\right)=1\right) & =\underset{f\inr\func_{n\to n}}{P}\left(\d^{F_{f\left(0^{n}\right)}}\left(1^{n}\right)=1\right)
\end{align*}

\end_inset

ולכן
\begin_inset Formula 
\[
\left|\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(A^{F_{k}}\left(1^{n}\right)=1\right)-\underset{f\inr\func_{n\to n}}{P}\left(\a^{f}\left(1^{n}\right)=1\right)\right|=\alpha>\frac{1}{2p\left(n\right)}
\]

\end_inset

כלומר 
\begin_inset Formula $F$
\end_inset

 ניתנת להבחנה ביתרון לא זניח מפ' אקראית באמת, כלומר היא אינה 
\begin_inset Formula $\prf$
\end_inset

 - סתירה.
\end_layout

\end_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $\beta>\frac{1}{2p\left(n\right)}$
\end_inset

: 
\begin_inset Formula $f$
\end_inset

 מתפלגת אחיד ולכן 
\begin_inset Formula $f\left(0^{n}\right)\in\left\{ 0,1\right\} ^{n}$
\end_inset

 מתפלג גם כן אחיד.
 לכן מתקיים
\begin_inset Formula 
\[
\underset{f\inr\func_{n\to n}}{P}\left(\d^{F_{f\left(0^{n}\right)}}\left(1^{n}\right)=1\right)=\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(\a^{F_{k}}\left(1^{n}\right)=1\right)
\]

\end_inset

כלומר באופן שכיח
\begin_inset Formula 
\[
\left|\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(\d^{F_{t}}\left(1^{n}\right)=1\right)-\underset{h\inr\func_{n\to n}}{P}\left(\d^{h}\left(1^{n}\right)=1\right)\right|=\beta>\frac{1}{2p\left(n\right)}
\]

\end_inset

בסתירה להיות 
\begin_inset Formula $F$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
נסיים את הוכחת הטענה המרכזית )לרשותכם היא התחילה 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{link5}{כאן}
\end_layout

\end_inset

(.
 מהטענה השנייה, 
\begin_inset Formula $F_{F_{k}\left(0^{n}\right)}$
\end_inset

 היא 
\begin_inset Formula $\prf$
\end_inset

 ובנוסף 
\begin_inset Formula $F_{k}$
\end_inset

 היא 
\begin_inset Formula $\prf$
\end_inset

 מהנתון.
 מהטענה הראשונה, הצמדה של 
\begin_inset Formula $\prf$
\end_inset

-ים ב
\begin_inset Quotes xrd
\end_inset

ת היא 
\begin_inset Formula $\prf$
\end_inset

 בעצמה.
 
\begin_inset Formula $W_{t_{1},t_{2}}=F_{F_{t_{1}}\left(0^{n}\right)}||F_{t_{2}}$
\end_inset

 היא הצמדה של 
\begin_inset Formula $\prf$
\end_inset

 ולכן 
\begin_inset Formula $\prf$
\end_inset

 בעצמה.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{V
\backslash
;
\backslash
; אימות, פונקציות האש והצפנה מאומתת}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{V}$
\end_inset

 | אימות, פונקציות האש והצפנה מאומתת
\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{א | מבוא למערכות אימות ואימות הודעות ארוכות}
\end_layout

\end_inset


\color lightgray
חלק א' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1HnQKC0nVabUi3OEH7j5rdxmXSfL6g9hb/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
נעזוב לעתה מערכות הצפנה ונעבור למערכות אימות.
\end_layout

\begin_layout Standard
נניח כי אליס ובוב מתקשרים ואיב שולטת על הערוץ ביניהם כאשר הערוץ לא מוצפן.
 נרצה לוודא שההודעה לא משתנה באמצע, ובמקום לשלום לצ'רלי עשרה דולר כמו שאליס
 ביקשה, בוב ישלם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\begin_inset Formula $10,000$
\end_inset

 כי איב שינתה את ההודעה לכך.
 כלומר, נרצה לוודא שההודעה לא שונתה במהלך מעבר ההודעה.
\end_layout

\begin_layout Description
הערה בהצפנה אנחנו מבטיחים סודיות ואימות אנחנו מבטיחים שלמות - שתי מטרות
 שונות לגמרי שלא בהכרח מבטיחות אחת את השנייה.
\end_layout

\begin_layout Description
הגדרה 
\bar under
מערכת אימות
\bar default
 היא 
\begin_inset Formula $\Pi=\left(\gent,\mact,\vrt\right)$
\end_inset

 כאשר:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $\gent$
\end_inset

 הוא אלג' יצירת מפתחות שמקבל קלט 
\begin_inset Formula $1^{n}$
\end_inset

 ומחזיר מפתח 
\begin_inset Formula $k$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\mact$
\end_inset

 הוא אלג' יצירת תגים שמקבל כקלט מפתח 
\begin_inset Formula $k$
\end_inset

 והודעה 
\begin_inset Formula $m\in\left\{ 0,1\right\} ^{*}$
\end_inset

 ופולט תג 
\begin_inset Formula $t\in\left\{ 0,1\right\} ^{*}$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\vrt$
\end_inset

 הוא אלג' אימות שמקבל כקלט מפתח 
\begin_inset Formula $k$
\end_inset

, הודעה 
\begin_inset Formula $m$
\end_inset

 ותג 
\begin_inset Formula $t$
\end_inset

 ופולט 
\begin_inset Formula $b$
\end_inset

 שמשמעותו האם ההודעה נדחתה או התקבלה.
\end_layout

\begin_layout Standard
נאמר כי היא נכונה אם 
\begin_inset Formula $\forall k,m$
\end_inset

, 
\begin_inset Formula $\vr{m,\mac m}=1,$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard
כדי לתקשר באמצעות 
\begin_inset Formula $\Pi$
\end_inset

, ניצור מפתח 
\begin_inset Formula $k$
\end_inset

, נפעיל את ה-
\begin_inset Formula $\mact$
\end_inset

 על 
\begin_inset Formula $m$
\end_inset

, נשלח את 
\begin_inset Formula $\left(m,t\right)$
\end_inset

 לצד השני, הוא יפעיל את 
\begin_inset Formula $\vrt$
\end_inset

 על 
\begin_inset Formula $\left(m,t\right)$
\end_inset

 ויקבל 
\begin_inset Formula $\left(m,b\right)$
\end_inset

 ויחליט האם ההודעה אמיתית או לא.
\end_layout

\begin_layout Standard
נרצה למנוע מכל יריב 
\begin_inset Formula $\pp$
\end_inset

 ליצור תגים חוקיים עבור הודעות שהוא רוצה.
 נניח כי ליריב יש גישת אורקל למערכת האימות, ונרצה למנוע ממנו למצוא תג חוקי
 עבור כל הודעה חדשה שהיא.
\end_layout

\begin_layout Description
הגדרה נגדיר את הניסוי 
\begin_inset Formula $\macf n$
\end_inset

 באופן הבא:
\end_layout

\begin_deeper
\begin_layout Itemize
ניצור מפתח באמצעות 
\begin_inset Formula $k\inr\gen 1^{n}$
\end_inset

.
\end_layout

\begin_layout Itemize
ניתן ל-
\begin_inset Formula $\a$
\end_inset

 גישת אורקל ל-
\begin_inset Formula $\mact_{k}$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\a$
\end_inset

 יחזיר בשלב כלשהו זוג 
\begin_inset Formula $\left(m^{*},t^{*}\right)$
\end_inset

.
\end_layout

\begin_layout Standard
נכריז את ערך הניסוי להיות 
\begin_inset Formula $\macf n=\begin{cases}
1 & \vr{m^{*},t^{*}}=1\land m^{*}\notin\q\\
0 & \text{אחרת}
\end{cases}$
\end_inset

 כאשר 
\begin_inset Formula $\q$
\end_inset

 אוסף כל ההודעות שאומתו ע
\begin_inset Quotes xrd
\end_inset

י האורקל, כלומר שהיריב צדק וגם לא ביקש לאמת את ההודעה שהחזיר.
\end_layout

\end_deeper
\begin_layout Description
הגדרה נאמר כי מערכת אימות 
\begin_inset Formula $\Pi$
\end_inset

 היא בטוחה אם לכל יריב 
\begin_inset Formula $\pp$
\end_inset

 
\begin_inset Formula $\a$
\end_inset

, קיימת 
\begin_inset Formula $\nu$
\end_inset

 זניחה כך ש-
\begin_inset Formula 
\[
P\left(\macf n=1\right)\leq\nu\left(n\right)
\]

\end_inset


\end_layout

\begin_layout Description
הערה הגדרה זו לא מונעת שליחה חוזרת של אותה הודעה מאומתת, לדוגמה שאליס תבקש
 מבוב 
\begin_inset Quotes xld
\end_inset

שלח לצ'רלי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2000
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ש
\begin_inset Quotes xrd
\end_inset

ח
\begin_inset Quotes xrd
\end_inset

 ואיב תשלח לבוב את ההודעה הזו ארבע פעמים.
 אפשר לדוגמה להוסיף ערך חח
\begin_inset Quotes xrd
\end_inset

ע לכל העברה וכך למנוע מתקפת חזרה כזו.
\end_layout

\begin_layout Standard
תהי 
\begin_inset Formula $F:\left\{ 0,1\right\} ^{n}\times\left\{ 0,1\right\} ^{n}\to\left\{ 0,1\right\} ^{n}$
\end_inset

.
 נגדיר מערכת אימות 
\begin_inset Formula $\Pi$
\end_inset

 באופן הבא:
\end_layout

\begin_layout Itemize
יצירת מפתחות: נדגום 
\begin_inset Formula $k\inr\left\{ 0,1\right\} ^{n}$
\end_inset

.
\end_layout

\begin_layout Itemize
יצירת תג: בהינתן 
\begin_inset Formula $k\in\left\{ 0,1\right\} ^{n}$
\end_inset

 ו-
\begin_inset Formula $m\in\left\{ 0,1\right\} ^{n}$
\end_inset

, נחשב 
\begin_inset Formula $t=F_{k}\left(m\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
ווידוא: בהינתן 
\begin_inset Formula $k\in\left\{ 0,1\right\} ^{n},m\in\left\{ 0,1\right\} ^{n},t\in\left\{ 0,1\right\} ^{n}$
\end_inset

, החזר 
\begin_inset Formula $\begin{cases}
1 & F_{k}\left(m\right)=t\\
0 & \text{אחרת}
\end{cases}$
\end_inset

.
\end_layout

\begin_layout Description
משפט אם 
\begin_inset Formula $F$
\end_inset

 היא 
\begin_inset Formula $\prf$
\end_inset

, אזי 
\begin_inset Formula $\Pi$
\end_inset

 היא מערכת אימות בטוחה.
\end_layout

\begin_layout Proof
נעשה זאת ברידוקציה.
 נניח בשלילה שקיים 
\begin_inset Formula $\a$
\end_inset

 יריב 
\begin_inset Formula $\pp$
\end_inset

 ו-
\begin_inset Formula $p$
\end_inset

 פולינום כך ש-
\begin_inset Formula $P\left(\macf n=1\right)\geq\frac{1}{p\left(n\right)}$
\end_inset

 באופן שכיח.
 נגדיר 
\begin_inset Formula $\d^{\o}$
\end_inset

 יריב עם גישת אורקל ל-
\begin_inset Formula $\o\in\left\{ h,F_{k}\right\} $
\end_inset

 כאשר 
\begin_inset Formula $h$
\end_inset

 נדגמת אחיד ו-
\begin_inset Formula $k$
\end_inset

 נדגם אחיד באופן הבא:
\end_layout

\begin_layout Proof
נקרא ל-
\begin_inset Formula $\a$
\end_inset

 ונגיב לכל בקשת אורקל שלו )הוא חושב שהוא מאמת הודעות( ב-
\begin_inset Formula $t=\o\left(m\right)$
\end_inset

.
 נקבל בסוף מ-
\begin_inset Formula $\a$
\end_inset

 
\begin_inset Formula $\left(m^{*},t^{*}\right)$
\end_inset

 ונפלוט
\begin_inset Formula 
\[
\begin{cases}
1 & \o\left(m^{*}\right)=t^{*}\land m^{*}\notin\q\\
0 & \text{אחרת}
\end{cases}
\]

\end_inset

ראשית ברור ש-
\begin_inset Formula $\d$
\end_inset

 הוא 
\begin_inset Formula $\pp$
\end_inset

.
\end_layout

\begin_layout Proof
למעשה הרעיון כאן הוא שאם 
\begin_inset Formula $\a$
\end_inset

 מצליח לצדוק, כנראה שמדובר 
\begin_inset Formula $F_{k}$
\end_inset

, אחרת לא היה לו מושג כי זו פ' אקראית.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\o=F_{k}$
\end_inset

, 
\begin_inset Formula $\a$
\end_inset

 בדיוק נמצא בניסוי 
\begin_inset Formula $\macf n$
\end_inset

 ולכן 
\begin_inset Formula $P\left(\d^{F_{k}}\left(1^{n}\right)=1\right)=P\left(\macf{\left(n\right)}=1\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\o=h$
\end_inset

 היא פ' אקראית באמת, אם 
\begin_inset Formula $m^{*}\notin Q$
\end_inset

, נקודת המבט של 
\begin_inset Formula $\a$
\end_inset

 ב
\begin_inset Quotes xrd
\end_inset

ת לגמרי ב-
\begin_inset Formula $\o\left(m^{*}\right)$
\end_inset

 ולכן הוא ינחש בהצלחה בהסת' 
\begin_inset Formula $\frac{1}{2^{n}}$
\end_inset

.
\end_layout

\begin_layout Standard
סה
\begin_inset Quotes xrd
\end_inset

כ מתקיים באופן שכיח
\begin_inset Formula 
\begin{align*}
\left|P\left(\d^{F_{k}}\left(1^{n}\right)=1\right)-P\left(\d^{h}\left(1^{n}\right)=1\right)\right| & =\left|P\left(\macf n=1\right)-\frac{1}{2^{n}}\right|\\
 & \geq\frac{1}{p\left(n\right)}-\frac{1}{2^{n}}
\end{align*}

\end_inset

וזה יתרון לא זניח על הבדלה בין פ' אקראית ל-
\begin_inset Formula $F_{k}$
\end_inset

, בסתירה להיות 
\begin_inset Formula $F_{k}$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

.
\end_layout

\begin_layout Standard
נרצה עתה לאמת הודעות באורך פולינומיאלי - נוכל לעשות זאת באמצעות שרשור אימותי
 הודעות קלאסי.
\end_layout

\begin_layout Standard

\size larger
נסיונות כושלים ליצירת מערכות אימות בטוחות להודעות ארוכות
\end_layout

\begin_layout Standard
נניח כי יש לנו מערכת אימות להודעות באורך קבוע 
\begin_inset Formula $\hat{\Pi}=\left(\hat{\gent},\hat{\mact},\hat{\vrt}\right)$
\end_inset

.
 נרצה להגדיר 
\begin_inset Formula $\Pi=\left(\gent,\mact,\vrt\right)$
\end_inset

 מערכת אימות להודעות באורך שרירותי.
\end_layout

\begin_layout Enumerate
\begin_inset Formula 
\begin{align*}
\gent & =\hat{\gent}\;\;\\
\mac m & =\left(t_{1},\ldots,t_{d}\right),t_{i}=\hat{\mact}_{k}\left(m_{i}\right)\\
\vr{\left(m_{1},\ldots,m_{d}\right),\left(t_{1},\ldots,t_{d}\right)} & =\begin{cases}
1 & \hat{\vrt}_{k}\left(m_{i},t_{i}\right)=1,\forall i\\
0 & \text{אחרת}
\end{cases}
\end{align*}

\end_inset

זהו נסיון לא מוצלח שכן אם היריב מבקש לאמת את 
\begin_inset Formula $m=\left(m_{1},m_{2}\right)$
\end_inset

, מקבל 
\begin_inset Formula $t=\left(t_{1},t_{2}\right)$
\end_inset

 ואז מחזיר 
\begin_inset Formula $\left(m^{*},t^{*}\right)=\left(m_{1},t_{1}\right)$
\end_inset

 הוא ניצח בניסוי בהסת'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
 אפע
\begin_inset Quotes xrd
\end_inset

פ ששיטה זו עבדה בהצפנה, הצפנה ואימות זה לא אותו הדבר!
\end_layout

\begin_layout Enumerate
הבעיה בדוגמה הקודמת היא שלא התחשבנו במספר הבלוקים )בין היתר( ויכולנו לזייף
 כל רישא של הודעות שאומתו מהאורקל, ננסה להתחשב במספר הבלוקים
\begin_inset Formula 
\begin{align*}
\gent & =\hat{\gent}\;\;\\
\mac m & =\left(t_{1},\ldots,t_{d}\right),t_{i}=\hat{\mact}_{k}\left(d,m_{i}\right)\\
\vr{\left(m_{1},\ldots,m_{d}\right),\left(t_{1},\ldots,t_{d}\right)} & =\begin{cases}
1 & \hat{\vrt}_{k}\left(\left(d,m_{i}\right),t_{i}\right)=1,\forall i\\
0 & \text{אחרת}
\end{cases}
\end{align*}

\end_inset

זה עדיין לא עובד, כי אנחנו לא מתחשבים בסדר עכשיו - עבור 
\begin_inset Formula $m=\left(m_{1},m_{2}\right)$
\end_inset

 נקבל 
\begin_inset Formula $t=\left(t_{1},t_{2}\right)$
\end_inset

 והיריב יוכל להחזיר
\begin_inset Formula 
\[
\left(m^{*},t^{*}\right)=\left(\left(m_{2},m_{1}\right),\left(t_{2},t_{1}\right)\right)
\]

\end_inset


\end_layout

\begin_layout Enumerate
עתה נתחשב גם במספר וגם בסדר הבלוקים
\begin_inset Formula 
\begin{align*}
\gent & =\hat{\gent}\;\;\\
\mac m & =\left(t_{1},\ldots,t_{d}\right),t_{i}=\hat{\mact}_{k}\left(d,i,m_{i}\right)\\
\vr{\left(m_{1},\ldots,m_{d}\right),\left(t_{1},\ldots,t_{d}\right)} & =\begin{cases}
1 & \hat{\vrt}_{k}\left(\left(d,i,m_{i}\right),t_{i}\right)=1,\forall i\\
0 & \text{אחרת}
\end{cases}
\end{align*}

\end_inset

זה גם לא עובד כי אנחנו לא מתחשבים בקשר בין ההודעות.
 לדוגמה אם נבקש מהאורקל את 
\begin_inset Formula $t=\left(t_{1},t_{2}\right)$
\end_inset

 עבור 
\begin_inset Formula $m=\left(m_{1},m_{2}\right)$
\end_inset

 ואת 
\begin_inset Formula $t'=\left(t_{1}',t_{2}'\right)$
\end_inset

 עבור 
\begin_inset Formula $m'=\left(m_{1}',m_{2}'\right)$
\end_inset

 אז נוכל לתת 
\begin_inset Formula $\left(m^{*},t^{*}\right)=\left(\left(m_{1},m_{2}'\right),\left(t_{1},t_{2}'\right)\right)$
\end_inset

 ולנצח שוב בהסת'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
\end_layout

\begin_layout Standard

\size larger
נסיונות מוצלחים למציאת מערכות אימות בטוחות להודעות ארוכות
\end_layout

\begin_layout Enumerate
\begin_inset Formula 
\begin{align*}
\gent & =\hat{\gent}\;\;\\
\mac m & =\left(r,t_{1},\ldots,t_{d}\right),t_{i}=\hat{\mact}_{k}\left(r,d,i,m_{i}\right),r\leftarrow\left\{ 0,1\right\} ^{n}\\
\vr{\left(m_{1},\ldots,m_{d}\right),\left(r,t_{1},\ldots,t_{d}\right)} & =\begin{cases}
1 & \hat{\vrt}_{k}\left(\left(r,d,i,m_{i}\right),t_{i}\right)=1,\forall i\\
0 & \text{אחרת}
\end{cases}
\end{align*}

\end_inset

זו כן בטיחותית, כי היא מקשרת גם בין האיברים וההסת' להתנגשות היא זניחה )
\begin_inset Formula $\frac{1}{2^{n}}$
\end_inset

(.
 כדי להוכיח את הנכונות שלה, צריך להראות שכל מתקפה נכנסת לאחת משלושת הקטגוריות
 הנ
\begin_inset Quotes xrd
\end_inset

ל )מספר הבלוקים, סדר הבלוקים וקשירה בין הבלוקים( ולהוכיח ברידוקציה.
\end_layout

\begin_deeper
\begin_layout Standard
הבעיה עם מערכת זו היא שתגי האימות היא מאוד ארוכה.
\end_layout

\end_deeper
\begin_layout Enumerate
כדי להימנע מתגים כל כך ארוכים, הומצא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CBC-MAC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
המוגדר באופן הבא:
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Formula $\mac m=t_{d}$
\end_inset

 כאשר 
\begin_inset Formula $t_{i}$
\end_inset

 מוגדרים באופן הבא: 
\begin_inset Formula $t_{0}=0^{n}$
\end_inset

 )או כל ערך מוסכם אחר( ו-
\begin_inset Formula $t_{i}=F_{k}\left(t_{i-1}\xor m_{i}\right)$
\end_inset

 כאשר 
\begin_inset Formula $F_{k}$
\end_inset

 הוא 
\begin_inset Formula $\prf$
\end_inset

 )לרוב 
\begin_inset Formula $\aes$
\end_inset

, עם בלוקים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
128
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביט( ו-
\begin_inset Formula $d$
\end_inset

 קבוע ומוסכם מראש.
\end_layout

\begin_layout Standard
הווידוא מתבצע באמצעות חישוב מחדש של 
\begin_inset Formula $t_{d}$
\end_inset

 והשוואתו לתג שהתקבל.
 שימו לב - 
\begin_inset Formula $t_{d}$
\end_inset

 הוא באורך בלוק שלם )
\numeric on
128
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביטים לרוב(.
\end_layout

\end_deeper
\begin_layout Enumerate
הבעיה עם הפתרון הנ
\begin_inset Quotes xrd
\end_inset

ל הוא שהוא לוקח הרבה זמן לחשב אם ההודעה ארוכה, לשם כך הומצאה שיטת ה-
\lang english
Hash-and-Authenticate
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמתבססת על פ' האש שמכווצת את ההודעה הארוכה 
\begin_inset Formula $m$
\end_inset

 להודעה קצרה 
\begin_inset Formula $H\left(m\right)$
\end_inset

 ואז נאמת עם 
\begin_inset Formula $H\left(m\right)$
\end_inset

 במקום 
\begin_inset Formula $m$
\end_inset

.
 הבעיה כאן היא שאנחנו צריכים להבטיח שקשה מאוד למצוא 
\begin_inset Formula $m'$
\end_inset

 כך ש-
\begin_inset Formula $H\left(m'\right)=H\left(m\right)$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ב | Hash-and-Authenticate}
\end_layout

\end_inset


\color lightgray
חלק ב' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1SbEI4tIz8vPIs0SQjuoJmNt9ePMYlqRZ/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Description
הגדרה נאמר כי פ' האש 
\begin_inset Formula $H$
\end_inset

 היא 
\bar under
חסינה בפני התנגשויות
\bar default
 אם קשה מאוד למצוא 
\begin_inset Formula $x\neq x'$
\end_inset

 כך ש-
\begin_inset Formula $H\left(x\right)=H\left(x'\right)$
\end_inset

.
\end_layout

\begin_layout Description
הערה מבחינת היוריסטית-קונקרטית, פ' ההאש לא מקבלת מפתח ומחזירה ערך שבתקווה
 לא מתנגש עם אף ערך אחר שאנחנו יכולים למצוא בזמן סביר.
\end_layout

\begin_deeper
\begin_layout Standard
מבחינה אסימפטוטית, פ' ההאש תקבל מפתח נדגם אחיד.
\end_layout

\end_deeper
\begin_layout Description
הגדרה )פ' האש בטוחה אסימפטוטית( 
\bar under
פונקציית האש
\bar default
 היא 
\begin_inset Formula $\Phi=\left(\gent,H\right)$
\end_inset

 כאשר:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $\gent$
\end_inset

 הוא אלג' ליצירת מפתחות המקבל כקלט 
\begin_inset Formula $1^{n}$
\end_inset

 ופולט מפתח 
\begin_inset Formula $s$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $H$
\end_inset

 הוא אלג' חישוב שמקבל כקלט 
\begin_inset Formula $s$
\end_inset

 ו-
\begin_inset Formula $x\in\left\{ 0,1\right\} ^{*}$
\end_inset

 ומחזיר 
\begin_inset Formula $H_{s}\left(x\right)\in\left\{ 0,1\right\} ^{\ell\left(n\right)}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
הגדרה נגדיר את הניסוי 
\begin_inset Formula $\haco n$
\end_inset

 באופן הבא:
\end_layout

\begin_deeper
\begin_layout Itemize
נדגום 
\begin_inset Formula $s\inr\gent\left(1^{n}\right)$
\end_inset

 וניתן אותו ל-
\begin_inset Formula $\a$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\a$
\end_inset

 יחזיר לנו 
\begin_inset Formula $x,x'$
\end_inset

.
\end_layout

\begin_layout Standard
נכריז על ערך הניסוי להיות 
\begin_inset Formula $\haco n=\begin{cases}
1 & H_{s}\left(x\right)=H_{s}\left(x'\right),x\neq x'\\
0 & \text{ארחת}
\end{cases}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
הגדרה נאמר כי 
\begin_inset Formula $\Phi$
\end_inset

 
\bar under
בטוחה בפני התנגשויות
\bar default
 אם לכל יריב 
\begin_inset Formula $\pp$
\end_inset

 קיימת פ' זניחה 
\begin_inset Formula $\nu$
\end_inset

 כך ש-
\begin_inset Formula 
\[
P\left(\haco n=1\right)\leq\nu\left(n\right)
\]

\end_inset


\end_layout

\begin_layout Description
הערה בניגוד לכל ההגדרות עד כה, אנחנו נותנים ליריב את המפתח והוא לא סודי
 כמו בפעמים הקודמות, ועדיין מצפים ממנו לא להיות יכול למצוא התנגשויות אלא
 בהסת' זניחה.
\end_layout

\begin_layout Standard

\size larger
מתקפת יום ההולדת
\end_layout

\begin_layout Standard
בהינתן 
\begin_inset Formula $H:\left\{ 0,1\right\} ^{*}\to\left\{ 0,1\right\} ^{\ell}$
\end_inset

, נדגום 
\begin_inset Formula $q=\ot{2^{\frac{\ell}{2}}}$
\end_inset

 באופן אחיד וב
\begin_inset Quotes xrd
\end_inset

ת ונמצא זוג התנגושיות בהסת' קבועה.
 כלומר, לכל פ' האש שמעתיקה לפלטים באורך 
\begin_inset Formula $\ell$
\end_inset

 יש מתקפה בזמן ריצה אקספוננציאלי ב-
\begin_inset Formula $\ell$
\end_inset

.
 לכן כיום משתמשים בפ' האש עם 
\begin_inset Formula $\ell\geq128$
\end_inset

.
 האלג' שבהם משתמשים כיום הם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MD5
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
SHA-1
\lang hebrew
, שאינן בטוחות אך טרם הוחלפו מפאת קשיי שינוי מערכות ו-
\lang english
SHA-2
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
SHA-3
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שכן בטוחות והכי עדכניות.
 עבור רוב פ' ההאש הפופולריות הרעיון המרכזי הוא פ' האש פנימית על אורך פנימי
 שמופעלת בצורה כזו או אחרת על קלט ארוך יותר.
\end_layout

\begin_layout Standard

\size larger
\begin_inset Formula $\,$
\end_inset


\lang english
Hash-and-Authenticate
\end_layout

\begin_layout Standard
בהינתן מערכת אימות 
\begin_inset Formula $\hat{\Pi}=\left(\hat{\gent},\hat{\mact},\hat{\vrt}\right)$
\end_inset

 ו-
\begin_inset Formula $\Phi=\left(\gent_{H},H\right)$
\end_inset

 פ' האשר עם מפתח, נגדיר את מערכת אימות הודעות באורך שרירותי 
\begin_inset Formula $\Pi=\left(\gent,\mact,\vrt\right)$
\end_inset

 באפן הבא:
\end_layout

\begin_layout Itemize
יצירת מפתחות: בהינתן 
\begin_inset Formula $1^{n}$
\end_inset

, נדגום 
\begin_inset Formula $k\inr\hat{\gent}\left(1^{n}\right)$
\end_inset

 ו-
\begin_inset Formula $s\inr\gent_{H}\left(1^{n}\right)$
\end_inset

 ונפלוט 
\begin_inset Formula $\left(k,s\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
יצירת תגים: בהינתן קלט 
\begin_inset Formula $\left(k,s\right)$
\end_inset

 ו-
\begin_inset Formula $m\in\left\{ 0,1\right\} ^{*}$
\end_inset

 נפלוט 
\begin_inset Formula $t=\hat{\mact_{k}}\left(H_{s}\left(m\right)\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
ווידוא: בהינתן קלט 
\begin_inset Formula $\left(k,s\right)$
\end_inset

,
\begin_inset Formula $m\in\left\{ 0,1\right\} ^{*}$
\end_inset

 ו-
\begin_inset Formula $t\in\left\{ 0,1\right\} ^{*}$
\end_inset

, נפלוט 
\begin_inset Formula $\hat{\vrt}_{k}\left(H_{s}\left(m\right),t\right)$
\end_inset

.
\end_layout

\begin_layout Description
משפט אם 
\begin_inset Formula $\hat{\Pi}$
\end_inset

 היא מערכת אימות בטוחה ו-
\begin_inset Formula $\Phi$
\end_inset

 חסינה בפני התנגושיות אזי 
\begin_inset Formula $\Pi$
\end_inset

 היא מערכת אימות בטוחה.
\end_layout

\begin_layout Proof
נוכיח כרגיל ברידוקציה, רק שהפעם נניח בשלילה שיש יריב עם יתרון לא זניח ונבנה
 זייפן ל-
\begin_inset Formula $\hat{\Pi}$
\end_inset

 או מוצא התנגשויות עבור 
\begin_inset Formula $\Phi$
\end_inset

, וכמו בארגומנט היברידי לא יעניין אותנו איזה מהם יתקיים, רק שאחד מהם בטוח
 מתקיים.
\end_layout

\begin_layout Proof
נניח בשלילה כי 
\begin_inset Formula $\Pi$
\end_inset

 אינה בטוחה, כלומר קיים 
\begin_inset Formula $\a$
\end_inset

 יריב 
\begin_inset Formula $\pp$
\end_inset

 עם יתרון לא זניח על זיוף תגי אימות של 
\begin_inset Formula $\hat{\Pi}$
\end_inset

.
 נגדיר את מאורע ההתנגשות להיות האם במהלך הניסוי 
\begin_inset Formula $\text{\macf n}$
\end_inset

, 
\begin_inset Formula $\a$
\end_inset

 מבקש את התג של הודעה 
\begin_inset Formula $m_{i}$
\end_inset

 עבורה מתקיים 
\begin_inset Formula $m_{i}\neq m^{*}$
\end_inset

 אבל 
\begin_inset Formula $H_{s}\left(m_{i}\right)=H_{s}\left(m^{*}\right)$
\end_inset

.
\end_layout

\begin_layout Proof
רק אינטואיטיבית, אם אירעתה התנגשות אז 
\begin_inset Formula $\a$
\end_inset

 מצא התנגשות לא טריוויאלית ב-
\begin_inset Formula $H$
\end_inset

.
 אם לא אירעתה התנגשות אז נוכל באמצעות 
\begin_inset Formula $\a$
\end_inset

 לזייף תג באורך קבוע, שכן 
\begin_inset Formula $H_{s}\left(m^{*}\right)\notin\left\{ H_{s}\left(m_{1}\right),\ldots,H_{s}\left(m_{q}\right)\right\} $
\end_inset

.
\end_layout

\begin_layout Proof
מתקיים 
\begin_inset Formula 
\[
P\left(\macf n=1\right)\leq P\left(\text{התנגשות}\right)+P\left(\macf n=1\land\text{אין התנגשות}\right)
\]

\end_inset

נוכיח כי ההסת' שכל אחד מהאיברים היא זניחה ומסגירות פ' זניחות לחיבור נקבל
 את הנדרש.
\end_layout

\begin_deeper
\begin_layout Description
טענה 
\begin_inset Formula $P\left(\text{התנגשות}\right)$
\end_inset

 היא זניחה ב-
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_layout Proof
נניח בשלילה שקיים 
\begin_inset Formula $\a$
\end_inset

 יריב 
\begin_inset Formula $\pp$
\end_inset

 ופולינום 
\begin_inset Formula $p$
\end_inset

 כך ש-
\begin_inset Formula $P\left(\text{התנגשות}\right)\geq\frac{1}{p\left(n\right)}$
\end_inset

 באופן שכיח.
\end_layout

\begin_deeper
\begin_layout Standard
נבנה מזייף 
\begin_inset Formula $\c$
\end_inset

 של 
\begin_inset Formula $H_{s}$
\end_inset

 שיסמלץ את 
\begin_inset Formula $\a$
\end_inset

:
\end_layout

\begin_layout Enumerate
בהינתן קלט מפתח 
\begin_inset Formula $s$
\end_inset

, נדגום 
\begin_inset Formula $k\inr\hat{\gent}\left(1^{n}\right)$
\end_inset

 ונקרא ל-
\begin_inset Formula $\a$
\end_inset

.
\end_layout

\begin_layout Enumerate
בכל פעם ש-
\begin_inset Formula $\a$
\end_inset

 יבקש אימות של הודעה 
\begin_inset Formula $m$
\end_inset

, ניתן לו את 
\begin_inset Formula $\hat{\mact}_{k}\left(H_{s}\left(m_{i}\right)\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
אם קיימת הודעה 
\begin_inset Formula $m\in\left\{ m_{1},\ldots,m_{q}\right\} $
\end_inset

 כך ש-
\begin_inset Formula $m\neq m^{*}$
\end_inset

 אבל 
\begin_inset Formula $H_{s}\left(m\right)=H_{s}\left(m^{*}\right)$
\end_inset

, נפלוט את 
\begin_inset Formula $\left(m,m^{*}\right)$
\end_inset

, אחרת 
\begin_inset Formula $\perp$
\end_inset

.
\end_layout

\begin_layout Standard
ברור שהוא 
\begin_inset Formula $\pp$
\end_inset

, ומבחינת ערך ההחזרה שלו, הוא מדמה ל-
\begin_inset Formula $\a$
\end_inset

 באופן מושלם את 
\begin_inset Formula $\macf n$
\end_inset

 כאשר הוא עצמו משתתף ב-
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\haco n$
\end_inset

 ולכן מתקיים
\begin_inset Formula 
\[
P\left(\haco n=1\right)=P\left(\text{התנגשות}\right)\geq\frac{1}{p\left(n\right)}
\]

\end_inset

בסתירה להיות 
\begin_inset Formula $H_{s}$
\end_inset

 בטוחה מפני התנגשויות.
\end_layout

\end_deeper
\begin_layout Description
טענה 
\begin_inset Formula $P\left(\macf n=1\land\text{אין התנגשות}\right)$
\end_inset

 זניחה.
\end_layout

\begin_layout Proof
נניח בשלילה שקיים יריב 
\begin_inset Formula $\pp$
\end_inset

 
\begin_inset Formula $\a$
\end_inset

 ופולינום 
\begin_inset Formula $p$
\end_inset

 כך שמתקיים 
\begin_inset Formula $P\left(\macf n=1\land\text{אין התנגשות}\right)\geq\frac{1}{p\left(n\right)}$
\end_inset

 באופן זניח.
\end_layout

\begin_deeper
\begin_layout Standard
נבנה זייפן תגי אימות 
\begin_inset Formula $\hat{\a}$
\end_inset

 ל-
\begin_inset Formula $\hat{\Pi}$
\end_inset

 בהתבסס על 
\begin_inset Formula $\a$
\end_inset

 באופן הבא:
\end_layout

\end_deeper
\begin_layout Enumerate
בהינתן הקלט 
\begin_inset Formula $1^{n}$
\end_inset

 נדגום 
\begin_inset Formula $s\inr\gent_{H}\left(1^{n}\right)$
\end_inset

 ונקרא ל-
\begin_inset Formula $\a$
\end_inset

.
\end_layout

\begin_layout Enumerate
בכל פעם ש-
\begin_inset Formula $\a$
\end_inset

 יבקש אימות על הודעה 
\begin_inset Formula $m$
\end_inset

, נחשב את 
\begin_inset Formula $H_{s}\left(m\right)$
\end_inset

 ונבקש מאורקל האימות של 
\begin_inset Formula $\hat{\a}$
\end_inset

 תג אימות עבורו, 
\begin_inset Formula $t$
\end_inset

, ונעביר אותו ל-
\begin_inset Formula $\a$
\end_inset

.
\end_layout

\begin_layout Enumerate
כש-
\begin_inset Formula $\a$
\end_inset

 מחזיר 
\begin_inset Formula $\left(m^{*},t^{*}\right)$
\end_inset

 נפלוט בדיוק את הערך הזה גם כן.
\end_layout

\begin_layout Standard
ברור שהוא 
\begin_inset Formula $\pp$
\end_inset

.
 בגלל שערך ההחזרה הוא בדיוק ערך ההחזרה של סימולציה של ניסיון זיוף של 
\begin_inset Formula $\a$
\end_inset

 את 
\begin_inset Formula $\Pi$
\end_inset

, מתקיים
\begin_inset Formula 
\begin{align*}
P\left(\macft_{\hat{\Pi},\hat{\a}}\left(n\right)=1\right) & =P\left(\macf n=1\land\text{אין התנגשות}\right)\\
 & \geq\frac{1}{p\left(n\right)}
\end{align*}

\end_inset

באופן שכיח בסתירה להיות 
\begin_inset Formula $\hat{\Pi}$
\end_inset

 מערכת אימות בטוחה.
 חשוב לשים לב כאן ש-
\begin_inset Formula $\hat{\a}$
\end_inset

 מצליח בניסוי אם
\begin_inset Quotes xrd
\end_inset

ם 
\begin_inset Formula $\hat{\a}$
\end_inset

 מזייף בהצלחה הודעה וגם מאורע ההתנגשות לא קורה, שזה אכן בדיוק מה שיש לנו
 כאן.
 
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ג | הצפנה ואימות גם יחד}
\end_layout

\end_inset


\color lightgray
חלק ג' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1G8BNiapc6vmmWGBzSM-Mi-643HPKUU40/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
הסטודנטית המשקיעה תראה שאם יש מערכת אימות הודעות בטוחה כלשהי אז קיימת מערכת
 אימות הודעה בטוחה שבה התג חושף לגמרי את תוכן ההודעה שהוא מאמת.,
\end_layout

\begin_layout Standard
מערכת אימות הודעות היא בכלל לא בהכרח בטוחה בפני מתקפות זיוף, לדוגמה המערכת
 שבנינו שבטוחה בפני מתקפות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
המשתמשת ב-
\begin_inset Formula $\prf$
\end_inset

 - 
\begin_inset Formula $\enc{m;r}=\left(r,F_{k}\left(r\right)\xor m\right)$
\end_inset

 - בכלל לא בטוחה, כי מתקיים לדוגמה
\begin_inset Formula 
\[
\enc{m\xor1^{n};r}=\left(r,F_{k}\left(r\right)\xor m\xor1^{n}\right)
\]

\end_inset

 ואז אפשר בקלות לזייף כל הודעה שהיא.
\end_layout

\begin_layout Standard
אם כן, נרצה להצפין וגם לאמת הודעות, בו בזמן - כלומר הצפנה מאומתת.
 לא נציג הגדרות פורמליות עבור בטיחות של הגדרות מסוג זה, אבל כן נראה כמה
 נסיונות כושלים לבנייה של כאלו.
 
\end_layout

\begin_layout Standard

\size larger
ניסיונות לבניית מערכות הצפנה מאומתת
\end_layout

\begin_layout Standard
נניח כי לאליס ובוב יש מפתח סודי משותף 
\begin_inset Formula $k=\left(k_{E},k_{M}\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
שיטת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Encrypt-and-Authenticate
\lang hebrew
: אליס תחשב 
\begin_inset Formula $c\inr\enct_{k_{E}}\left(m\right)$
\end_inset

 וגם 
\begin_inset Formula $t\inr\mact_{k_{M}}\left(m\right)$
\end_inset

.
 בוב יחשב 
\begin_inset Formula $m\inr\dect_{k_{E}}\left(c\right)$
\end_inset

 ויוודא באמצעות 
\begin_inset Formula $\vrt_{k_{M}}\left(m,t\right)$
\end_inset

 את שלמות ההודעה.
\end_layout

\begin_deeper
\begin_layout Standard
הבעיה עם שיטה זו היא ש-
\begin_inset Formula $t$
\end_inset

 מאמת את ההודעה המקורית ולכן יכול לחשוף עליה מידע )אפילו את כל תוכנה כפי
 שהסטודנטית המשקיעה בוודאי התוודעה כבר(.
 נצטרך להפיק ערך אימות בלי לחשוף מידע על ההודעה המקורית.
\end_layout

\end_deeper
\begin_layout Enumerate
שיטת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Encrypted-then-Authenticate
\lang hebrew
: אליס תחשב 
\begin_inset Formula $c\inr\enct_{k_{E}}\left(m\right)$
\end_inset

 וגם 
\begin_inset Formula $t\inr\mact_{k_{M}}\left(c\right)$
\end_inset

.
 בוב יחשב 
\begin_inset Formula $m\inr\dect_{k_{E}}\left(c\right)$
\end_inset

 ויוודא באמצעות 
\begin_inset Formula $\vrt_{k_{M}}\left(c,t\right)$
\end_inset

.
 מבחינת בטיחות, יש לנו גם בטיחות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי גם אם 
\begin_inset Formula $t$
\end_inset

 חושף את כל ההצפנה, היא לא חושפת שום דבר על ההודעה המקורית, וגם יש לנו בטיחות
 מבחינת האימות באופן מיידי.
 באופן עקרוני, אי אפשר מבחינה חישובית לייצר הצפנה ותג אימות חוקיים בלי גישה
 למפתח הסודי.
\end_layout

\begin_layout Standard
לסיכום, ראו איור ובררו שאתם מבינים כל שני חצים, אחרת חזרו אחורה בהרצאות
 כי מעתה עוברים לנושא חדש לגמרי.
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/symmatric-summary.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1BIdW1pqf7xETc_SYMX2W3D876VgIPfcG/view?usp=sh
aring}{קישור}
\end_layout

\end_inset


\end_layout

\begin_layout Description
שאלה תהי 
\begin_inset Formula $F$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

 שמעבירה 
\begin_inset Formula $n$
\end_inset

 ל-
\begin_inset Formula $n$
\end_inset

 עם מפתחות באורך 
\begin_inset Formula $n$
\end_inset

.
 נגדיר 
\begin_inset Formula $\Pi=\left(\kgt,\mact,\vrt\right)$
\end_inset

 מערכת אימות הודעות באופן הבא:
\end_layout

\begin_deeper
\begin_layout Enumerate
יצירת מפתחות: בהינתן קלט 
\begin_inset Formula $1^{n}$
\end_inset

, האלג' דוגם 
\begin_inset Formula $k\inr\left\{ 0,1\right\} ^{2n}$
\end_inset

.
\end_layout

\begin_layout Enumerate
יצירת תגים: בהינתן 
\begin_inset Formula $k\in\left\{ 0,1\right\} ^{2n}$
\end_inset

 ו-
\begin_inset Formula $m\in\left\{ 0,1\right\} ^{n}$
\end_inset

, 
\begin_inset Formula $\mac m=F_{F_{k}\left(0^{2n}\right)}\left(m||0^{n}\right)F_{k}\left(m||1^{n}\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
וידוא: בהינתן 
\begin_inset Formula $k\in\left\{ 0,1\right\} ^{2n}$
\end_inset

 ו-
\begin_inset Formula $m\in\left\{ 0,1\right\} ^{n}$
\end_inset

 ותגית 
\begin_inset Formula $t\in\left\{ 0,1\right\} ^{4n}$
\end_inset

, 
\begin_inset Formula $\vr{m,t}=\begin{cases}
1 & t=\mac m\\
0 & \text{אחרת}
\end{cases}$
\end_inset

.
\end_layout

\begin_layout Standard
האם 
\begin_inset Formula $\Pi$
\end_inset

 היא בהכרח סכימת אימות הודעות בטוחה?
\end_layout

\end_deeper
\begin_layout Description
פתרון כן! נניח בשלילה ש-
\begin_inset Formula $\Pi$
\end_inset

 אינה סכמת אימות בטוחה ונגיע לסתירה להיות 
\begin_inset Formula $F$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

.
 מההנחה, קיים יריב 
\begin_inset Formula $\a$
\end_inset

 
\begin_inset Formula $\pp$
\end_inset

 ופולינום 
\begin_inset Formula $p$
\end_inset

 כך שמתקיים 
\begin_inset Formula $P\left(\macf n=1\right)>\frac{1}{p\left(n\right)}$
\end_inset

 באופן שכיח.
 נגדיר מבחין 
\begin_inset Formula $\d$
\end_inset

 עם יתרון לא זניח בין גישת אורקל ל-
\begin_inset Formula $F_{k}$
\end_inset

 לעומת 
\begin_inset Formula $f$
\end_inset

 אקראית באופן הבא:
\end_layout

\begin_deeper
\begin_layout Enumerate
בהינתן קלט 
\begin_inset Formula $1^{2n+1}$
\end_inset

, נפלוט 
\begin_inset Formula $1$
\end_inset

 )מתעלמים מאי-זוגיים(.
\end_layout

\begin_layout Enumerate
בהינתן קלט 
\begin_inset Formula $1^{2n}$
\end_inset

 וגישת אורקל פ' 
\begin_inset Formula $\o$
\end_inset

, נבקש את 
\begin_inset Formula $a=\o\left(0^{2n}\right)$
\end_inset

 ונריץ את 
\begin_inset Formula $\a$
\end_inset

.
\end_layout

\begin_layout Enumerate
כל פעם ש-
\begin_inset Formula $\a$
\end_inset

 מבקש תג אימות עבור הודעה 
\begin_inset Formula $m\in\left\{ 0,1\right\} ^{n}$
\end_inset

, נבקש מהאורקל 
\begin_inset Formula $\o\left(m||1^{n}\right)$
\end_inset

 ונחזיר ל-
\begin_inset Formula $\a$
\end_inset

 את
\begin_inset Formula 
\[
t=F_{a}\left(m||0^{n}\right)||\o\left(m||1^{n}\right)
\]

\end_inset

ונסמן ב-
\begin_inset Formula $\q$
\end_inset

 את אוסף ההודעות ש-
\begin_inset Formula $\a$
\end_inset

 ביקש מהאורקל לאמת.
\end_layout

\begin_layout Enumerate
כש-
\begin_inset Formula $\a$
\end_inset

 מחזיר 
\begin_inset Formula $\left(m^{*},t^{*}\right)$
\end_inset

, נחזיר 
\begin_inset Formula $b'=\begin{cases}
1 & t^{*}=F_{a}\left(m^{*}||0^{n}\right)||\o\left(m^{*}||1^{n}\right)\\
0 & \text{אחרת}
\end{cases}$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
רעיון הניסוי כאן הוא ש-
\begin_inset Formula $\a$
\end_inset

 יצדק ביתרון לא זניח רק אם זו 
\begin_inset Formula $F_{k}$
\end_inset

 ובהסת' זניחה אם זה 
\begin_inset Formula $f$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $\o=F_{k}$
\end_inset

 עבור 
\begin_inset Formula $k\inr\left\{ 0,1\right\} ^{2n}$
\end_inset

 אחיד: 
\begin_inset Formula $\d$
\end_inset

 מסמלץ ל-
\begin_inset Formula $\a$
\end_inset

 בדיוק את 
\begin_inset Formula $\macf n$
\end_inset

 ולכן מתקיים באופן שכיח
\begin_inset Formula 
\[
\underset{k\inr\left\{ 0,1\right\} ^{2n}}{P}\left(D^{F_{k}}\left(1^{2n}\right)=1\right)=P\left(\macf n=1\right)>\frac{1}{p\left(n\right)}
\]

\end_inset


\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\o=f$
\end_inset

 כאשר 
\begin_inset Formula $f$
\end_inset

 נדגמת אחיד 
\begin_inset Formula $f\inr\func_{2n\to2n}$
\end_inset

: 
\begin_inset Formula $\d$
\end_inset

 מחזיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם
\begin_inset Quotes xrd
\end_inset

ם 
\begin_inset Formula $t^{*}=F_{f\left(0^{2n}\right)}\left(m^{*}||0^{n}\right)||f\left(m^{*}||1^{n}\right)$
\end_inset

 וגם 
\begin_inset Formula $m^{*}\notin\q$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
נסמן 
\begin_inset Formula $t^{*}=\left(t_{1}^{*},t_{2}^{*}\right)$
\end_inset

 ולכן אם 
\begin_inset Formula $\d$
\end_inset

 מחזיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הרי ש-
\begin_inset Formula $m^{*}\notin\q$
\end_inset

 וגם 
\begin_inset Formula $t_{2}^{*}=f\left(m^{*}||1^{n}\right)$
\end_inset

 )זה לא אם
\begin_inset Quotes xrd
\end_inset

ם כי זנחנו את התנאי על 
\begin_inset Formula $t_{1}^{*}$
\end_inset

(.
 
\begin_inset Formula $f\left(m^{*}||1^{n}\right)\in\left\{ 0,1\right\} ^{2n}$
\end_inset

 נדגם באקראי וב
\begin_inset Quotes xrd
\end_inset

ת בכל ערכי 
\begin_inset Formula $f\left(x\right)$
\end_inset

 הידועים ל-
\begin_inset Formula $\a$
\end_inset

 בהינתן ש-
\begin_inset Formula $m^{*}\notin\q$
\end_inset

 )אף ערך ש-
\begin_inset Formula $\a$
\end_inset

 ראה לא קשור להודעה 
\begin_inset Formula $m^{*}$
\end_inset

( ו-
\begin_inset Formula $f$
\end_inset

 אקראית באמת.
 לכן 
\begin_inset Formula $t_{2}^{*}=f\left(m^{*}||1^{n}\right)$
\end_inset

 מתקיים בהסת' 
\begin_inset Formula $\frac{1}{2^{2n}}$
\end_inset

.
 כלומר, 
\begin_inset Formula $\forall n\in\fldn$
\end_inset

,
\begin_inset Formula 
\begin{align*}
\underset{f\inr\func_{2n\to2n}}{P}\left(D^{f}\left(1^{2n}\right)=1\right) & =P\left(m^{*}\notin\q\land t^{*}=F_{f\left(0^{2n}\right)}\left(m^{*}||0^{n}\right)||f\left(m^{*}||1^{n}\right)\right)\\
\text{מחלישים את התנאי} & \leq P\left(m^{*}\notin\q\land t_{2}^{*}=f\left(m^{*}||1^{n}\right)\right)\\
\text{הגדרה הסת'} & =P\left(t_{2}^{*}=f\left(m^{*}||1^{n}\right)\mid m^{*}\notin\q\right)P\left(m^{*}\notin\q\right)\\
 & \leq P\left(t_{2}^{*}=f\left(m^{*}||1^{n}\right)\mid m^{*}\notin\q\right)\cdot1\\
 & =\frac{1}{2^{2n}}
\end{align*}

\end_inset

כלומר מצאנו שמתקיים
\begin_inset Formula 
\[
\left|\underset{k\inr\left\{ 0,1\right\} ^{2n}}{P}\left(D^{F_{k}}\left(1^{2n}\right)=1\right)-\underset{f\inr\func_{2n\to2n}}{P}\left(D^{f}\left(1^{2n}\right)=1\right)\right|>\frac{1}{p\left(n\right)}-\frac{1}{2^{2n}}>\frac{1}{2p\left(n\right)}
\]

\end_inset

באופן שכיח ולכן מתקיים באופן שכיח
\begin_inset Formula 
\[
\left|\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(D^{F_{k}}\left(1^{n}\right)=1\right)-\underset{f\inr\func_{n\to n}}{P}\left(D^{f}\left(1^{n}\right)=1\right)\right|>\frac{1}{2p\left(\lceil\frac{n}{2}\text{\ensuremath{\rceil}}\right)}
\]

\end_inset

כלומר 
\begin_inset Formula $\d$
\end_inset

 בעל יתרון לא זניח על 
\begin_inset Formula $F_{k}$
\end_inset

 לעומת פ' אקראית באמת, ולכן 
\begin_inset Formula $F$
\end_inset

 לא 
\begin_inset Formula $\prf$
\end_inset

 סתירה.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
שאלה תהי 
\begin_inset Formula $\Phi=\left(\gent,H\right)$
\end_inset

 משפחת פ' האש חסינות בפני התנגשויות המקבלת שמעתיקה 
\begin_inset Formula $2n$
\end_inset

 ל-
\begin_inset Formula $n$
\end_inset

.
 תהי 
\begin_inset Formula $c:\fldn\to\fldn$
\end_inset

 פ' כלשהי של פרמטר הבטיחות 
\begin_inset Formula $n\in\fldn$
\end_inset

 כך ש-
\begin_inset Formula $c\left(n\right)>2$
\end_inset

 לכל 
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
בנו משפחת פ' 
\begin_inset Formula $\Phi'=\left(\gent',H'\right)$
\end_inset

 שחסינה בפני התנגשויות כך ש-
\begin_inset Formula $H_{s}$
\end_inset

 מעתיקה מ-
\begin_inset Formula $c\left(n\right)\cdot n$
\end_inset

 ל-
\begin_inset Formula $n$
\end_inset

.
 למעשה אנחנו מוכיחים את היכולת לכווץ כל גודל שרק נרצה בהינתן שיש לנו פ'
 שמכווצת באופן בסיסי.
\end_layout

\end_deeper
\begin_layout Description
פתרון נבחר 
\begin_inset Formula $\gent'=\gent$
\end_inset

.
 תהי 
\begin_inset Formula $y_{0}$
\end_inset

 מחרוזת באורך 
\begin_inset Formula $n$
\end_inset

 ביטים שרירותית, לדוגמה 
\begin_inset Formula $0^{2n}$
\end_inset

.
 נגדיר את 
\begin_inset Formula $H_{s}'\left(x\right)$
\end_inset

 באופן הבא עבור 
\begin_inset Formula $x\in\left\{ 0,1\right\} ^{c\left(n\right)\cdot n}$
\end_inset

 ו-
\begin_inset Formula $s\inr\gen{1^{n}}$
\end_inset

:
\end_layout

\begin_deeper
\begin_layout Enumerate
נסמן 
\begin_inset Formula $x=x_{1},\ldots,x_{c}$
\end_inset

 כאשר 
\begin_inset Formula $c\left(n\right)=n$
\end_inset

 - כל בלוק הוא באורך 
\begin_inset Formula $n$
\end_inset

 ביטים.
\end_layout

\begin_layout Enumerate
נחשב 
\begin_inset Formula $y_{i}=H_{s}\left(y_{i-1}||x_{i}\right)$
\end_inset

 לכל 
\begin_inset Formula $i\in\left[c\right]$
\end_inset

.
\end_layout

\begin_layout Enumerate
נחזיר 
\begin_inset Formula $H_{s}'\left(x\right)=y_{c}$
\end_inset

.
\end_layout

\begin_layout Description
טענה לכל 
\begin_inset Formula $c\geq1$
\end_inset

, 
\begin_inset Formula $n\in\fldn$
\end_inset

, 
\begin_inset Formula $s\inr\gen{1^{n}}$
\end_inset

 ו-
\begin_inset Formula $x,x'$
\end_inset

, אם 
\begin_inset Formula $x\neq x'$
\end_inset

 וגם 
\begin_inset Formula $H_{s}'\left(x\right)=H_{s}'\left(x'\right)$
\end_inset

 אז קיים 
\begin_inset Formula $i\in\left[c\right]$
\end_inset

 שעבורו
\begin_inset Formula 
\[
y_{i-1}||x_{i}\neq y_{i-1}'||x_{i}'
\]

\end_inset

וגם
\begin_inset Formula 
\[
H_{s}\left(y_{i-1}||x_{i}\right)=H_{s}\left(y_{i-1}'||x_{i}'\right)
\]

\end_inset

כאשר 
\begin_inset Formula $y_{i-1}'$
\end_inset

 מגיע מחישוב 
\begin_inset Formula $H_{s}'\left(x'\right)$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
כלומר, אם יש ב-
\begin_inset Formula $H_{s}'$
\end_inset

 התנגשות הרי שהתנגשות קורת לפני השלב האחרון.
\end_layout

\end_deeper
\begin_layout Proof
יהיו 
\begin_inset Formula $x\neq x'$
\end_inset

 ונניח בשלילה כי לכל 
\begin_inset Formula $i$
\end_inset

 או שמתקיים 
\begin_inset Formula $y_{i-1}||x_{i}=y_{i-1}'||x_{i}'$
\end_inset

 או ש-
\begin_inset Formula $H_{s}\left(y_{i-1}||s_{i}\right)\neq H_{s}\left(y_{i-1}'||x_{i}'\right)$
\end_inset

 ונוכיח באינדוקציה על 
\begin_inset Formula $c$
\end_inset

 כי 
\begin_inset Formula $H_{s}'\left(x\right)\neq H_{s}'\left(x'\right)$
\end_inset

.
\end_layout

\begin_layout Proof
בסיס )
\begin_inset Formula $c=1$
\end_inset

(: ברור מהגדרת 
\begin_inset Formula $H'$
\end_inset

.
\end_layout

\begin_layout Proof
צעד )
\begin_inset Formula $c-1\to c$
\end_inset

(:
\end_layout

\begin_deeper
\begin_layout Itemize
אם קיים 
\begin_inset Formula $j\in\left[c-1\right]$
\end_inset

 כך ש-
\begin_inset Formula $x_{j}\neq x_{j}'$
\end_inset

 אז מה
\begin_inset Quotes xrd
\end_inset

א מתקיים 
\begin_inset Formula $y_{c-1}\neq y_{c-1}'$
\end_inset

 )אחרת היה מתקיים
\begin_inset Formula 
\[
H_{s}'\left(x_{1},\ldots,x_{c-1}\right)=H_{s}'\left(x'_{1},\ldots,x_{c-1}'\right)
\]

\end_inset

בסתירה להנחה בשלילה( ולכן מתקיים 
\begin_inset Formula $y_{c-1}||x_{c}\neq y_{c-1}'||x_{c}'$
\end_inset

.
 מתקיים
\begin_inset Formula 
\[
H_{s}'\left(x\right)=H_{s}\left(y_{c-1}||x_{c}\right)\overset{\text{ה"א}}{\neq}H_{s}\left(y_{c-1}'||x_{c}'\right)=H_{s}'\left(x'\right)
\]

\end_inset


\end_layout

\begin_layout Itemize
אם לא קיים 
\begin_inset Formula $j\in\left[c-1\right]$
\end_inset

 כך ש-
\begin_inset Formula $x_{j}\neq x_{j}'$
\end_inset

 הרי ש-
\begin_inset Formula $x_{c}\neq x_{c}'$
\end_inset

 )כי 
\begin_inset Formula $x\neq x'$
\end_inset

( ולכן שוב מתקיים 
\begin_inset Formula $y_{c-1}||x_{c}\neq y_{c-1}'||x_{c}'$
\end_inset

.
 באותו האופן מה
\begin_inset Quotes xrd
\end_inset

א מקבלים את הצד.
\end_layout

\end_deeper
\begin_layout Standard
נסיים עתה את ההוכחה של הבטיחות של 
\begin_inset Formula $\Phi'$
\end_inset

.
 נניח בשלילה שקיים 
\begin_inset Formula $\a'$
\end_inset

 אלג' 
\begin_inset Formula $\pp$
\end_inset

 ו-
\begin_inset Formula $p$
\end_inset

 פולינום כך ש-
\begin_inset Formula 
\[
P\left(\hacot_{\Phi',\a'}\left(n\right)=1\right)>\frac{1}{p\left(n\right)}
\]

\end_inset

באופן שכיח.
 נבנה אלג' 
\begin_inset Formula $\a$
\end_inset

 שימצא התנגשויות ב-
\begin_inset Formula $\Phi$
\end_inset

:
\end_layout

\begin_layout Enumerate
בהינתן קלט של מפתח 
\begin_inset Formula $s$
\end_inset

, נריץ את 
\begin_inset Formula $\a'$
\end_inset

 עם אותו הקלט.
\end_layout

\begin_layout Enumerate
כש-
\begin_inset Formula $\a'$
\end_inset

 מחזירה זוג ערכים 
\begin_inset Formula $x,x'\in\left\{ 0,1\right\} ^{c\cdot n}$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Enumerate
אם 
\begin_inset Formula $x=x'$
\end_inset

 או 
\begin_inset Formula $H_{s}'\left(x\right)\neq H_{s}'\left(x'\right)$
\end_inset

 נחזיר 
\begin_inset Formula $\left(0^{2n},0^{2n}\right)$
\end_inset

 )כלומר כניעה(.
\end_layout

\begin_layout Enumerate
אחרת, מהטענה הנ
\begin_inset Quotes xrd
\end_inset

ל קיים 
\begin_inset Formula $i\in\left[c\right]$
\end_inset

 כך ש-
\begin_inset Formula $y_{i-1}||x_{i}\neq y_{i-1}'||x_{i}'$
\end_inset

 וגם 
\begin_inset Formula $H_{s}\left(y_{i-1}||x_{i}\right)=H_{s}\left(y_{i-1}'||x_{i}'\right)$
\end_inset

 )כלומר מצאנו התנגשות 
\begin_inset Quotes xld
\end_inset

ביניים
\begin_inset Quotes xrd
\end_inset

 בפ' ההאש המוקרית(.
 נחשב את ה-
\begin_inset Formula $i$
\end_inset

 הרשאון עבורו התנאי הנ
\begin_inset Quotes xrd
\end_inset

ל מתקיים ומחזיר 
\begin_inset Formula $\left(y_{i-1}||x_{i},y_{i-1}'||x_{i}'\right)$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard
מהטענה הנ
\begin_inset Quotes xrd
\end_inset

ל, 
\begin_inset Formula $\a'$
\end_inset

 מוצא התנגשות ב-
\begin_inset Formula $H_{s}'$
\end_inset

 אם
\begin_inset Quotes xrd
\end_inset

ם 
\begin_inset Formula $\a$
\end_inset

 מוצא התנגשות ב-
\begin_inset Formula $H_{s}$
\end_inset

 ולכן מתקיים באופן שכיח
\begin_inset Formula 
\[
P\left(\haco n=1\right)=P\left(\hacot_{\Phi',\a'}\left(n\right)=1\right)>\frac{1}{p\left(n\right)}
\]

\end_inset

בסתירה לכך ש-
\begin_inset Formula $\Phi$
\end_inset

 בטוחה בפני התנגשויות.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{part}{אבטחת תוכנה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{VI
\backslash
;
\backslash
; פגיעויות תוכנה ברמה הנמוכה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{VI}$
\end_inset

 | פגיעויות תוכנה ברמה הנמוכה
\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{א | ניהול זיכרון במערכות הפעלה}
\end_layout

\end_inset


\color lightgray
חלק א' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1VQSWCylJL9LHiupk3qqgC3tYWl2vV13Z/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
עד כה ראינו שצריך הגדרות מדויקות לבטיחות, הנחות בטיחות והוכחה שלהן.
 עם זאת, ניתן לפרוץ מערכות אם הן ממומשות באופן פגיע.
\end_layout

\begin_layout Standard
נעקוב אחר ניהול הזיכרון של מערכת הפעלה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
32
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ביט של לינוקס.
 כל הזיכרון הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ג'יגה בייט וכתובות זיכרון הן מספר הקסדצימאלי עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תווים )
\numeric on
0-9
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
A-F
\lang hebrew
( כתובות גבוהות יהיו למעלה ונמוכות למטה.
 כל תהליך חושב שיש לו גישה לכל הזיכרון )זיכרון וירטואלי( ומערכת ההפעלה אמונה
 על המרת הזיכרון הוירטואלי לזיכרון פיזי.
\end_layout

\begin_layout Standard

\size larger
אזורי זיכרון
\end_layout

\begin_layout Enumerate
טקסט - קוד מכונה )אנחנו נתייחס אליו כאסמבלי(.
\end_layout

\begin_layout Enumerate
מידע סטטי מאותחל ולא מאותחל )ידוע בזמן הקימפול(.
\end_layout

\begin_layout Enumerate
מידע על הסביבה וה-
\lang english
Command Line
\lang hebrew
.
\end_layout

\begin_layout Enumerate
מחסנית שנגמרת מכתובת כלשהי וגדלה כלפי מטה.
\end_layout

\begin_layout Enumerate
ערימה להקצאה דינמית שמתחילה איפשהו וגדלה כלפי מעלה.
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/memory-layout.png
	lyxscale 60
	scale 40

\end_inset


\end_layout

\begin_layout Standard
נסתכל על החלק של זמן הריצה באופן אופקי - משמאל כתובות נמוכות )ולכן הערימה
 שגדלה ימיינה( ומימין כתובות גבוהות )ולכן המחסנית שגדלה שמאלה(.
\end_layout

\begin_layout Standard

\size larger
מה קורה כשקוראים לפונקציה
\end_layout

\begin_layout Description
דוגמה
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

void func(char *arg1, int arg2, int arg3) {
\end_layout

\begin_layout Plain Layout

	char loc1[4];
\end_layout

\begin_layout Plain Layout

	int loc2;
\end_layout

\begin_layout Plain Layout

	// ...
\end_layout

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
בקריאה לפ', נדחוף למחסנית את 
\begin_inset Formula ${\rm arg1,2,3}$
\end_inset

 בסדר יורד )קודם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
arg3
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ובסוף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
arg1
\lang hebrew
(, נשמור מקום לשני המשתנים הלוקליים ובין הארגומנט ללוקאליים נשמור עוד שני
 מיקומים של ארבעה בתים.
 כדי לגשת למשתנים הלוקאליים או לארגומנטים משתמשים בכתובות יחסיות, שכן מבנה
 )המסגרת של הפ' ב-( מחסנית ידוע כבר בזמן הקומפליציה, פשוט לא איפה הוא יהיה
 בדיוק.
 האוגר 
\begin_inset Formula ${\rm ebp}$
\end_inset

 שומר את סוף המשתנה הלוקאלי הראשון ואז קל לדעת איפה המשתנים הלוקאליים.
 בנוסף, ידוע לנו שהארגומנטים נמצאים ב-
\begin_inset Formula ${\rm \%ebp+8,12,16,\ldots}$
\end_inset

 ולכן שמנו אותם בסדר הפוך - אם היו עוד הם היו באינדקסים עולים שאחרי, ולא
 לפני.
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/stack-horizontal.png
	lyxscale 60
	scale 40

\end_inset


\end_layout

\begin_layout Standard
עתה נראה מה קורה מהצד של הקורא.
 נניח שקראנו לפ' הנ
\begin_inset Quotes xrd
\end_inset

ל באופן הבא
\end_layout

\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

int main() {
\end_layout

\begin_layout Plain Layout

	// ...
\end_layout

\begin_layout Plain Layout

	func(
\begin_inset Quotes xld
\end_inset

Hey
\begin_inset Quotes xrd
\end_inset

, 10, -3);
\end_layout

\begin_layout Plain Layout

	// ...
\end_layout

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
גם לפ' הקוראת יש 
\begin_inset Formula ${\rm \%ebp}$
\end_inset

 שהיא משתמשת בו, וכן 
\begin_inset Formula ${\rm \%esp}$
\end_inset

 שהוא הפוינטר לראשית המחסנית.
 צריך לשמור את המידע הזה איפשהו כדי שזה לא ידרס ע
\begin_inset Quotes xrd
\end_inset

י הפ' הנקראת ונאבד את המידע.
 לכן בקריאה לפ', נשמור בתא שמיד אחרי המשתנה הלוקאלי האחרון, קרי ב-
\begin_inset Formula ${\rm \%ebp}$
\end_inset

 החדש, את 
\begin_inset Formula ${\rm \%ebp}$
\end_inset

 הישן.
 כשנחזור מהפ', נחזיר את הערך ששמרנו לאוגר.
\end_layout

\begin_layout Standard
נצטרך לדעת לאן לחזור בחזרה מהפ' הנקראת, כי זה יכול להיות בכמה מקומות שונים.
 
\begin_inset Formula ${\rm eip}$
\end_inset

 הוא אוגר שמחזיק את כתובת הפקודה הנוכחית, וכשקופצים פשוט משנים את ערכו.
 בנוסף, כתובת החזרה מהקריאה ידועה כבר בזמן הקומפילציה )שורה אחת אחרי פקודת
 ה-
\begin_inset Formula ${\rm call}$
\end_inset

( ולכן אפשר להציב אותה במפורש בפקודות, ואז גם במיקום האחר ששמרנו לשים את
 
\begin_inset Formula ${\rm \%eip}$
\end_inset

 בעת הקריאה לפ'.
 בחזרה מהפ', נציב ב-
\begin_inset Formula ${\rm eip}$
\end_inset

 את הכתובת ששמרנו.
 כך נדע לאן לחזור בפקודות והיכן המידע שלנו, כשנחזיר מהפ'.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
סיכום קריאה לפונקציה
\end_layout

\begin_layout Itemize
הפ' הקוראת:
\end_layout

\begin_deeper
\begin_layout Enumerate
דוחפת את הארגומנטים.
 בסדר הפוך.
\end_layout

\begin_layout Enumerate
דוחפת את כתובת החזרה.
\end_layout

\begin_layout Enumerate
קופצת לכתובת של הפ' הנקראת.
\end_layout

\end_deeper
\begin_layout Itemize
הפ' הנקראת:
\end_layout

\begin_deeper
\begin_layout Enumerate
דוחפת את פוינטר מסגרת המסחנית.
\end_layout

\begin_layout Enumerate
קובעת את פוינטר מסגרת המחסנית להיות פוינטר המחסנית.
\end_layout

\begin_layout Enumerate
מקצה מקום למשתנים לוקאליים.
\end_layout

\begin_deeper
\begin_layout Standard
...
\end_layout

\end_deeper
\begin_layout Enumerate
משחררת את מיקום המשתנים המקומיים )מתבטא בהקטנת פוינטר המחסנית(.
\end_layout

\begin_layout Enumerate
מחזירה את פוינטר מסגרת המחסנית השמור למקומו.
\end_layout

\begin_layout Enumerate
מחזירה את כתובת החזרה אל תוך 
\begin_inset Formula ${\rm eip}$
\end_inset

 וקופצת אליו.
\end_layout

\end_deeper
\begin_layout Itemize
הפ' הקוראת:
\end_layout

\begin_deeper
\begin_layout Standard

\numeric on
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שחרור מיקום הארגומנטים.
\end_layout

\end_deeper
\begin_layout Description
דוגמה ראו פ' והתרגום שלה לקוד אסמבלי.
 הסטודנטית המשקיעה תבצע את הריצה של הפ' בקוד עם מחסנית דמה.
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

void func() {	// push %ebp
\end_layout

\begin_layout Plain Layout

		// mov %ebp, %esp
\end_layout

\begin_layout Plain Layout

	int x;	// sub %esp, 4
\end_layout

\begin_layout Plain Layout

	x = 1;	// mov %ebp-4, 1
\end_layout

\begin_layout Plain Layout

}		// mov %esp, %ebp
\end_layout

\begin_layout Plain Layout

		// pop %ebp
\end_layout

\begin_layout Plain Layout

		// ret
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Description
דוגמה הנה עוד פ' ותרגומה, שימו לב לאופן בו אנחנו מגיעים למשתנים המקומיים.
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

void func(int x) { // push %ebp
\end_layout

\begin_layout Plain Layout

	    	   // mov %ebp, %esp
\end_layout

\begin_layout Plain Layout

	int y;     // sub %esp, 4
\end_layout

\begin_layout Plain Layout

	y = x;     // mov %eax, (%ebp+8)
\end_layout

\begin_layout Plain Layout

	   	   // mov %ebp-4, %eax
\end_layout

\begin_layout Plain Layout

}	     	   // mov %esp, %ebp
\end_layout

\begin_layout Plain Layout

	     	   // pop %ebp
\end_layout

\begin_layout Plain Layout

	     	   // ret
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ב | Buffer-Overflow}
\end_layout

\end_inset


\color lightgray
חלק ב' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1U1w-0sr1i1JGBPWg7XqJU6tbJO-K28Z4/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
Buffer Overflow
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא באג בקוד בשפות תוכנה לו-לבל, קרי 
\begin_inset Formula ${\rm C,C++}$
\end_inset

 וכיוצ
\begin_inset Quotes xrd
\end_inset

ב, שיש להן גישה ישירה לזיכרון.
 ברוב המקרים התכנית פשוט תקרוס כשקורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Buffer Overflow
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אבל אם מנצלים אותו, הוא יכול לגרום לגניבת מידע, השחתתו ואפילו השגת שליטה
 מלאה על המערכת.
 זו אחת המתקפות המסוכנות והנפוצות ביותר.
\end_layout

\begin_layout Standard
מערך )באפר( הוא אזור זיכרון רציף שמיוחס למשתנה כלשהו, לדוגמה מחרוזות ב-
\begin_inset Formula ${\rm C}$
\end_inset

 מיוצגות ע
\begin_inset Quotes xrd
\end_inset

י באפר שנגמר בבית 
\begin_inset Formula ${\rm NULL}$
\end_inset

 )כלומר 
\begin_inset Formula ${\rm 0x00}$
\end_inset

(.
 האוברפלואו הוא שימוש במערך לגישה למיקומים מחוץ לזיכרון שהוקצה לו.
\end_layout

\begin_layout Description
דוגמה כאן הקוד רק קורס, לא עושה נזק.
 הפ' 
\begin_inset Formula ${\rm strcpy}$
\end_inset

 מעתיקה בתים החל מהפוינטר שמועבר אליה ועד שהיא נתקלת ב-
\begin_inset Formula ${\rm NULL}$
\end_inset

.
 מה שיקרה כאן זה שאנחנו נדרוס גם ארבעה בתים אחרי 
\begin_inset Formula ${\rm buffer}$
\end_inset

, כלומר גם את 
\begin_inset Formula ${\rm \%ebp}$
\end_inset

 השמור, וזה יגרום לקריסה )ראו איור(.
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

void func(char *arg1) {
\end_layout

\begin_layout Plain Layout

	char buffer[4];
\end_layout

\begin_layout Plain Layout

	strcpy(buffer, arg1);
\end_layout

\begin_layout Plain Layout

	// ...
\end_layout

\begin_layout Plain Layout

}
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

int main() {
\end_layout

\begin_layout Plain Layout

	char *mystr = 
\begin_inset Quotes xld
\end_inset

AuthMe!
\begin_inset Quotes xrd
\end_inset

;
\end_layout

\begin_layout Plain Layout

	func(mystr);
\end_layout

\begin_layout Plain Layout

	// ...
\end_layout

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/buffer-1.png
	lyxscale 60
	scale 40

\end_inset


\end_layout

\end_deeper
\begin_layout Description
דוגמה הפעם הקוד הוא מסוכן, לא רק קורס.
 עכשיו הכתיבה דורסת את המשתנה הלוקאלי 
\begin_inset Formula ${\rm authenticated}$
\end_inset

 והוא כבר לא 
\begin_inset Formula $0$
\end_inset

, כלומר נכנס אל תוך ה-
\begin_inset Formula ${\rm if}$
\end_inset

 אפילו שלא אמורה להיות לנו גישה.
 הקוד כאן לא קורס כי לא פגענו בחוקיות של שום דבר, חוץ מהשגת גישה שלא הייתה
 אמורה להיות לנו לחלק רגיש של הקוד.
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

void func(char *arg1) {
\end_layout

\begin_layout Plain Layout

	int authenticated = 0;
\end_layout

\begin_layout Plain Layout

	char buffer[4];
\end_layout

\begin_layout Plain Layout

	strcpy(buffer, arg1);
\end_layout

\begin_layout Plain Layout

	if (authenticated) {
\end_layout

\begin_layout Plain Layout

		// sensitive information access
\end_layout

\begin_layout Plain Layout

	}
\end_layout

\begin_layout Plain Layout

}
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

int main() {
\end_layout

\begin_layout Plain Layout

	char *mystr = 
\begin_inset Quotes xld
\end_inset

AuthMe!
\begin_inset Quotes xrd
\end_inset

;
\end_layout

\begin_layout Plain Layout

	func(mystr);
\end_layout

\begin_layout Plain Layout

	// ...
\end_layout

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Description
הערה למעשה נוכל לכתוב כמה שנרצה ככל שהסטרינג יותר ארוך, עד כדי הזרקת קוד
 כרצוננו לתוכנה.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ג | הזרקת קוד}
\end_layout

\end_inset


\color lightgray
חלק ג' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1e_mbMdq-h3D5Y5R4km24C1KxV0_AqHZw/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
הזרקת קוד מורכבת משני חלקים: הזרקת הקוד )הכנסתו לזיכרון( והרצתו )שינוי 
\begin_inset Formula ${\rm \%eip}$
\end_inset

 למיקום ההזרקה(.
\end_layout

\begin_layout Standard

\size larger
הערות על הזרקת הקוד
\end_layout

\begin_layout Itemize
הקוד חייב להיות בשפת מכונה, כלומר כבר מקומפל, ולא ב-
\begin_inset Formula ${\rm C}$
\end_inset

 או באסמבלי.
\end_layout

\begin_layout Itemize
אסור על הקוד להכיל בית מלא אפסים כי אחרת 
\begin_inset Formula ${\rm strcpy}$
\end_inset

 ודומיה פשוט יפסיקו את ההעתקה באמצע.
\end_layout

\begin_layout Itemize
הקוד חייב להשתמש בכתובות אבסולוטיות שכן אין לנו 
\begin_inset Formula ${\rm loader}$
\end_inset

 בזמן קומפילציה שיכול להמיר בין יחסיות לאבסולוטיות.
\end_layout

\begin_layout Standard
המטרה היא להזריק קוד 
\begin_inset Formula ${\rm shell}$
\end_inset

 שייתן גישה ל-;
\lang english
Command Line
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שממנו הרבה יותר קל להמשיך את המתקפה.
\end_layout

\begin_layout Standard
אנחנו לא בהכרח יודעים איפה הכתובת ראשונה של הקוד המוזרק ואנחנו לא יכולים
 להכניס פקודה של קפיצה לקוד שלנו ישירות.
 כדי להגיע לקוד שלנו פשוט נדרוס את כתובת החזרה ששמרנו במחסנית עם עוד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Buffer Overflow
\lang hebrew
.
 אם יש לנו גישה לקוד שאנחנו מריצים אז אפשר לחשב את עומק המחסנית ואז את מיקום
 כתובת החזרה, אבל אם אין לנו, אנחנו לא יודעים איפה להזריק את כתובת החזרה
 שלנו.
\end_layout

\begin_layout Standard

\size larger
מציאת כתובת החזרה
\end_layout

\begin_layout Enumerate
לעבור על כל האפשרויות שזה לא ממש עוזר.
\end_layout

\begin_layout Enumerate
לבצע ניחוש מושכל )בהנחה שאין רנדומיזציה על הזיכרון, נדון בהמשך( - המחסנית
 מתחילה באותו המקום והמחסנית לרוב לא גדלה יותר מדי, וכך נוכל להגדיל את סיכויי
 ההצלחה שלנו.
\end_layout

\begin_layout Enumerate
להשתמש במגלשות 
\begin_inset Formula ${\rm nop}$
\end_inset

.
 
\begin_inset Formula ${\rm nop}$
\end_inset

 היא פקודה שלא מבצעת דבר, ונוכל לרפד את הקוד המוזרק עם הרבה 
\begin_inset Formula ${\rm nop}$
\end_inset

-ים ואז כל ניחוש של כתובת זיכרון בתוך הטווח המרופד )יחסית גדול( יצליח.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ד | פרצות זיכרון נוספות}
\end_layout

\end_inset


\color lightgray
חלק ד' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1WfBars-iPF2ptFllPf_3vhZOBr9BFUjr/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
עד כה עסקנו ב-
\lang english
Buffer Overflow
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
רק במחסנית.
 אפשר לעשות את זה גם בערימה,
\end_layout

\begin_layout Description
דוגמה הקוד הבא מנצל 
\begin_inset Formula ${\rm Overflow}$
\end_inset

 בערימה.
 אנחנו מעתיקים את הסטרינג הראשון אל תוך הבאפר ואז עושים שרשור של הסטרינג
 השני לבאפר.
 לסיום קוראים לפ' עם הבאפר.
 הבעיה כאן היא שאם סכום אורכי המחרוזות ארוך מ-
\lang english
MAX_LEN
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אז נדרוס את המצביע הפ' השמורה ב-
\begin_inset Formula ${\rm struct}$
\end_inset

 וכך נוכל לגרום לה להצביע לפ' כרצוננו, לדוגמה ל-
\begin_inset Formula ${\rm shellcode}$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

typedef {
\end_layout

\begin_layout Plain Layout

	char buff[MAX_LEN];
\end_layout

\begin_layout Plain Layout

	int (*comp)(char *, char *);
\end_layout

\begin_layout Plain Layout

} exploitable;
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

int foo(exploitable *s, char *one, char *two) {
\end_layout

\begin_layout Plain Layout

	strcpy(s->buff, one);
\end_layout

\begin_layout Plain Layout

	strcat(s->buff, two);
\end_layout

\begin_layout Plain Layout

	return s->comp(s->buffer, 
\begin_inset Quotes xld
\end_inset

badstring
\begin_inset Quotes xrd
\end_inset

);
\end_layout

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Description
דוגמה לאובייקטים ב-
\begin_inset Formula ${\rm C++}$
\end_inset

 יש 
\begin_inset Formula ${\rm vtable}$
\end_inset

-ים שמצביעים למתודות של האובייקט בהתאם לסוג שלו )בפולימורפיזם זה עוזר(.
 השדה הזה חבוי מהמשתמש אבל אפשר באמצעות 
\begin_inset Formula ${\rm Overflow}$
\end_inset

 קלאסי לדרוס אותו כך שיצביע לכתובת כרצוננו.
\end_layout

\begin_layout Description
דוגמה אפשר לנצל גם 
\begin_inset Formula ${\rm Overflow}$
\end_inset

 כדי לפגוע באובייקט שנמצא ליד הבאפר על הערימה.
\end_layout

\begin_layout Description
דוגמה הערימה שומרת 
\begin_inset Formula ${\rm header}$
\end_inset

 קטן מוחבא מהמשתמש לפני פוינטר שמוקצה באמצעות 
\begin_inset Formula ${\rm malloc}$
\end_inset

, אם נעשה 
\begin_inset Formula ${\rm Overflow}$
\end_inset

 אל תוך ה-
\begin_inset Formula ${\rm header}$
\end_inset

 נוכל לגרום לערימה להשחית את עצמה.
\end_layout

\begin_layout Description
דוגמה אפשר במקום לעשות 
\begin_inset Formula ${\rm Overflow}$
\end_inset

 לבאפר, לעשות זאת למספר.
 אם 
\begin_inset Formula ${\rm len}$
\end_inset

 גדול מדי, נקבל 
\begin_inset Formula ${\rm Overflow}$
\end_inset

 ואז המספר יהפוך ל-
\numeric on
0
\numeric off
, כלומר נעשה הקצאה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים.
 תלוי במערכת, יכול להיות שנקבל הקצאה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים על הערימה, ואז כל כתיבה ל-
\begin_inset Formula ${\rm buff}$
\end_inset

 תביא לכתיבה לכתובות מחוץ לשטחו.
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

void vulnerable() {
\end_layout

\begin_layout Plain Layout

	char *buff;
\end_layout

\begin_layout Plain Layout

	int len = packet_get_int();
\end_layout

\begin_layout Plain Layout

	if (len > 0) {
\end_layout

\begin_layout Plain Layout

		buff = malloc(len * sizeof(char *));
\end_layout

\begin_layout Plain Layout

		for (int i = 0; i < len; i++) {
\end_layout

\begin_layout Plain Layout

			buff[i] = packet_get_string(NULL);
\end_layout

\begin_layout Plain Layout

		}
\end_layout

\begin_layout Plain Layout

	}
\end_layout

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Description
דוגמה חוץ מלכתוב לזיכרון, אפשר גם לקרוא לזיכרון שלא אמורים לגשת אליו, לדוגמה
 מידע רגיש.
 התכנית הבאה מקבלת מחרוזת מהמשתמש ומדפיסה אותה למסך.
\end_layout

\begin_deeper
\begin_layout Standard
היא עושה זאת באופן הבא: היא מקבלת את אורך המחרוזת שהמשתמש יעביר ואז קוראת
 אותו וכותבת חזרה למסך אותו, כאשר תווים שאינם אותיות/סימנים היא מחליפה ב-
\begin_inset Formula $.$
\end_inset

.
\end_layout

\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

int main() {
\end_layout

\begin_layout Plain Layout

	char buf[100];
\end_layout

\begin_layout Plain Layout

	char *p;
\end_layout

\begin_layout Plain Layout

	int i, len;
\end_layout

\begin_layout Plain Layout

	while (1) {
\end_layout

\begin_layout Plain Layout

		p = fgets(buf, sizeof(buf), stdin);
\end_layout

\begin_layout Plain Layout

		len = atoi(p);
\end_layout

\begin_layout Plain Layout

		p = fgets(buf, sizeof(buf), stdin);
\end_layout

\begin_layout Plain Layout

		for (i = 0; i < len; i++) {
\end_layout

\begin_layout Plain Layout

			if (!iscntrl(buf[i])) putchar(buf[i]);
\end_layout

\begin_layout Plain Layout

			else putchar('.');
\end_layout

\begin_layout Plain Layout

		}
\end_layout

\begin_layout Plain Layout

		printf(
\begin_inset Quotes xld
\end_inset


\backslash
n
\begin_inset Quotes xrd
\end_inset

);
\end_layout

\begin_layout Plain Layout

	}
\end_layout

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
אם המשתמש נותן 
\begin_inset Formula ${\rm len}$
\end_inset

 ארוך מההודעה עצמה )בהתעלם מהמגבלה של 
\begin_inset Formula $100$
\end_inset

 תוים סה
\begin_inset Quotes xrd
\end_inset

כ(, הוא יכול לקרוא מידע שהוא לא אמור לראות.
\end_layout

\begin_layout Standard
אמנם זה נראה כמו קוד שברור שמסוכן, הוא הוביל לאחת מפרצות האבטחה הכי חמורות
 בהסיטוריה -
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Heartbleed
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\numeric on
2014
\numeric off
(.
 שרת 
\begin_inset Formula ${\rm SSL}$
\end_inset

 מקבל הודעות 
\begin_inset Quotes xld
\end_inset


\begin_inset Formula ${\rm heartbeat}$
\end_inset


\begin_inset Quotes xrd
\end_inset

 שמעדכנות אותו שהסשן הנוכחי עדיין חי והוא מחזיר אותן.
 המשתמש שולח את אורך ההודעה וההודעה עצמה, וחלק מהמימושים של השרתים האלה
 לא בדקו את תקינות האורך, וכך קיבלנו בדיוק את הדוגמה הנ
\begin_inset Quotes xrd
\end_inset

ל.
 התוכן שאפשר לקרוא מעבר להודעה הכיל סיסמאות ומפתחות הצפנה מה שפגע קשות באיכות
 הפרוטוקול.
\end_layout

\end_deeper
\begin_layout Description
דוגמה שימוש במצביע שכבר שוחרר.
 לאחר שמשחררים זיכרון שהוקצה על הערימה, אפשר להקצות אותו מחדש ויש סיכוי
 לא קטן שהמקום שיוקצה יהיה זהה לזה ששוחרר.
 כך, ניתן לקרוא את התוכן שהיה שם לפני ע
\begin_inset Quotes xrd
\end_inset

י הקצאה מחדש כחלק מהזרקת קוד.
 בדוגמה הבא אנחנו משתמשים ב-
\begin_inset Formula $p$
\end_inset

 גם אחרי שכבר שוחרר )מתוך חוסר תשומת לב בכתיבת הקוד( אבל הקוד שהזרקנו מצליח
 להשתלט על הפ' הנקראת ולעשות בו שימוש זדוני.
 זוהי פרצת האבטחה שהכי קל להגן מפניה )פשוט לשים לב באיזה מצביע משתמשים(.
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

struct foo {
\end_layout

\begin_layout Plain Layout

	int (*cmp)(char *, char *);
\end_layout

\begin_layout Plain Layout

};
\end_layout

\begin_layout Plain Layout

struct foo *p = malloc(...);
\end_layout

\begin_layout Plain Layout

// program uses pointer
\end_layout

\begin_layout Plain Layout

free(p);
\end_layout

\begin_layout Plain Layout

// ...
\end_layout

\begin_layout Plain Layout

// injected code:
\end_layout

\begin_layout Plain Layout

q = malloc(...);
\end_layout

\begin_layout Plain Layout

*q = 0xdeadbeef;
\end_layout

\begin_layout Plain Layout

// ...
\end_layout

\begin_layout Plain Layout

p->cmp(
\begin_inset Quotes xld
\end_inset

hello
\begin_inset Quotes xrd
\end_inset

, 
\begin_inset Quotes xld
\end_inset

hello
\begin_inset Quotes xrd
\end_inset

);
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ה | פרצות פורמט מחרוזת}
\end_layout

\end_inset


\color lightgray
חלק ה' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1cuDJhakJnMZj8IsZo5XFvz5PwCPUK7Qs/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
כדי להדפיס מחרוזת עם פורמטינג כלשהו )לדוגמה השמת מספר באמצע מחרוזת( אפשר
 להשתמש ב-
\lang english
printf
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם סימולי פורמט, לדוגמה 
\begin_inset Formula ${\rm "Number:\;\%d"}$
\end_inset

 מאפשר הדפסת מספר כדצימלי בתוך המחרוזת.
 ל-
\begin_inset Formula ${\rm printf}$
\end_inset

 יש מספר בלתי מוגבל של משתנים שאפשר להעביר ל-
\begin_inset Formula ${\rm printf}$
\end_inset

 כדי להחדירם אל תוך פורמט המחרוזת.
\end_layout

\begin_layout Description
דוגמה נשווה קוד בטוח ומולו קוד לא בטוח להדפסת פורמט.
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

void echo() {
\end_layout

\begin_layout Plain Layout

	char buf[80];
\end_layout

\begin_layout Plain Layout

	if (fgets(buf, sizeof(buf), stdin) == NULL)
\end_layout

\begin_layout Plain Layout

		return;
\end_layout

\begin_layout Plain Layout

	printf(
\begin_inset Quotes xld
\end_inset

%s
\begin_inset Quotes xrd
\end_inset

, buf); // secure
\end_layout

\begin_layout Plain Layout

	printf(buf); // insecure
\end_layout

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
כאן הגרסה הבטוחה פשוט מדפיסהה את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
buf
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כמחרוזת ליטרלית ותו לא.
 הקוד הלא בטוח מתייחס ל-
\lang english
buf
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כפורמט עצמו, והמשתמש יכול לתת פורמט זדוני שיגרום להדפסה של דברים שאנחנו
 לא רוצים לחשוף.
 לדוגמה העברת המחרוזת 
\begin_inset Formula ${\rm "\%d"}$
\end_inset

 תגרום ל-
\lang english
printf
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לחשוב שהיא צריכה להדפיס מספר שנמצא במיקום הארגומנטים שלה.
 עם זאת, אין לה ארגומנטים ולכן היא פשוט מתחילה לקרוא את המיקום שאחרי איפה
 שהארגומנטים היו אמורים להיות, כלומר מידע מהמחסנית שלא קשור בכלל אליה ושהיא
 לא אמורה לחשוף למשתמש.
\end_layout

\end_deeper
\begin_layout Description
דוגמה עבור אותו קוד לא בטיחותי לפני, אפשר לקבל התנהגות לא רצויה גם אם אפילו
 לא מנסים.
 לדוגמה אם המשתמש יזין את המחרוזת 
\begin_inset Formula ${\rm "100\%\;dave"}$
\end_inset

, 
\begin_inset Formula ${\rm printf}$
\end_inset

 תתעלם מהרווח ותחשוב שמדובר ב-
\begin_inset Formula ${\rm \%d}$
\end_inset

, מה שיוביל לקריאה מהזיכרון במיקום 
\begin_inset Formula ${\rm \%ebp+12}$
\end_inset

 שזו כמובן התנהגות לא רצויה.
\end_layout

\begin_layout Description
דוגמה המחרוזת 
\lang english

\begin_inset Quotes xld
\end_inset

%d %d %d...
\begin_inset Quotes xrd
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תקרא כמות כרצוננו של בתים מתוך המחסנית.
\end_layout

\begin_layout Description
דוגמה 
\lang english

\begin_inset Quotes xld
\end_inset

%08x %08x ...
\begin_inset Quotes xrd
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תקרא בתים ותפרמט אותם יפה בהקסאדצימאלי.
\end_layout

\begin_layout Description
דוגמה 
\lang english

\begin_inset Quotes xld
\end_inset

100% no way!
\begin_inset Quotes xrd
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar under
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כותבת
\bar default
 את המספר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לכתובת הזיכרון שאליה מצביע המיקום ב-
\begin_inset Formula ${\rm \%ebp+12}$
\end_inset

.
 זה בגלל ש-
\begin_inset Formula ${\rm \%n}$
\end_inset

 מצפה לפוינטר שהוא כותב בו את מספר התווים שנכתבו עד כה )במקרה הזה 
\begin_inset Formula $100$
\end_inset

 הם שלושה תווים(.
\end_layout

\begin_layout Description
דוגמה ניצול מחרוזות פורמט הן גם טכנית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Buffer Overflow
\lang hebrew
-ים שכן אנחנו ניגשים לכתובות שאנחנו לא אמורים לגשת אליהם, כאשר מסגרת המחסנית
 של הפ' היא הבאפר במקרה הזה.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1W8CEXi8fhXQVGtZhEmpxkpgi9r92u9Yy/view?usp=sh
aring}{קישור}
\end_layout

\end_inset


\end_layout

\begin_layout Description
שאלה תהי 
\begin_inset Formula $F$
\end_inset

 משפחת פ' שמעתיקה 
\begin_inset Formula $n$
\end_inset

 ל-
\begin_inset Formula $n$
\end_inset

 עם מפתחות באורך 
\begin_inset Formula $n$
\end_inset

.
 נתבונן במערכת ההצפנה 
\begin_inset Formula $\Pi$
\end_inset

 המוגדרת באופן הבא:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $\kg{1^{n}}$
\end_inset

 מחזיר 
\begin_inset Formula $k\inr\left\{ 0,1\right\} ^{n}$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\enc m$
\end_inset

 מגריל 
\begin_inset Formula $r\inr\left\{ 0,1\right\} ^{n}$
\end_inset

 ומחזיר 
\begin_inset Formula $c=\left(r,F_{k}\left(r\right)\xor m\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\dec c$
\end_inset

 מחזיר 
\begin_inset Formula $c_{2}\xor F_{k}\left(c_{1}\right)$
\end_inset

 כאשר 
\begin_inset Formula $c=\left(c_{1},c_{2}\right)$
\end_inset

.
\end_layout

\begin_layout Standard
בהרצאה ראינו כי אם 
\begin_inset Formula $F$
\end_inset

 היא 
\begin_inset Formula $\prf$
\end_inset

 אז 
\begin_inset Formula $\Pi$
\end_inset

 היא מערכת הצפנה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPA
\lang hebrew
-בטוחה.
 עתה נעסוק בכיוון השני.
\end_layout

\begin_layout Enumerate
נניח ש-
\begin_inset Formula $\Pi$
\end_inset

 היא בעלת הבנ
\begin_inset Quotes xrd
\end_inset

ל.
 האם 
\begin_inset Formula $F$
\end_inset

 היא בהכרח 
\begin_inset Formula $\prf$
\end_inset

?
\end_layout

\begin_layout Enumerate
נניח ש-
\begin_inset Formula $\Pi$
\end_inset

 היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPA
\lang hebrew
-בטוחה, האם 
\begin_inset Formula $F$
\end_inset

 היא בהכרח 
\begin_inset Formula $\prf$
\end_inset

?
\end_layout

\end_deeper
\begin_layout Description
פתרון
\end_layout

\begin_deeper
\begin_layout Enumerate
לא! נביט ב-
\begin_inset Formula $F_{k}\left(x\right)=k$
\end_inset

.
 ברור שהיא אינה 
\begin_inset Formula $\prf$
\end_inset

 כי היא קבועה על 
\begin_inset Formula $k$
\end_inset

 ולכן שונה מאוד מפ' אקראית באמת.
 מצד שני, 
\begin_inset Formula $\Pi$
\end_inset

 היא בעלת הבנ
\begin_inset Quotes xrd
\end_inset

ל ואפילו בעלת סודיות מושלמת.
 זאת משום שעם 
\begin_inset Formula $F$
\end_inset

 הנ
\begin_inset Quotes xrd
\end_inset

ל, מדובר בדיוק ב-
\lang english
OTP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ש
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hyperlink{link38}{כבר הוכחנו}
\end_layout

\end_inset

 שהיא סודית מושלמת.
\end_layout

\begin_layout Enumerate
לא! אינטואיטיבית מבחין על 
\begin_inset Formula $F$
\end_inset

 מול פ' אקראית באמת יכול לבקש ערכים ספציפיים לחישוב, בעוד ב-
\begin_inset Formula $\cpa n$
\end_inset

 הקלטים של 
\begin_inset Formula $F$
\end_inset

 הם אקראים )
\begin_inset Formula $r$
\end_inset

-ים( ולכן לחמוק מאחד אבל לא מהאחר.
\end_layout

\begin_deeper
\begin_layout Standard
תהי 
\begin_inset Formula $H_{k}$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

 שמעתיקה 
\begin_inset Formula $n$
\end_inset

 ל-
\begin_inset Formula $n$
\end_inset

.
 נגדיר 
\begin_inset Formula $F_{k}\left(x\right)=\begin{cases}
0^{n} & x=0^{n}\\
H_{k}\left(x\right) & x\neq0^{n}
\end{cases}$
\end_inset

.
 כבר הוכחנו בשאלות החזרה שזו אינה 
\begin_inset Formula $\prf$
\end_inset

.
 נוכיח ש-
\begin_inset Formula $\Pi$
\end_inset

 היא אכן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPA
\lang hebrew
-בטוחה.
 תהי 
\begin_inset Formula $\Sigma$
\end_inset

 מערכת ההצפנה שעובדת כבשאלה רק עם 
\begin_inset Formula $H$
\end_inset

 במקום 
\begin_inset Formula $F$
\end_inset

.
 ראינו שזו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPA
\lang hebrew
-בטוחה.
 נוכיח ברידוקציה כי גם 
\begin_inset Formula $\Pi$
\end_inset

 היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPA
\lang hebrew
-בטוחה.
\end_layout

\begin_layout Standard
יהי 
\begin_inset Formula $\a$
\end_inset

 אלג' 
\begin_inset Formula $\pp$
\end_inset

.
 נגדיר 
\begin_inset Formula ${\rm ZERO}_{\Pi}$
\end_inset

 המאורע בו אחת ההצפנות שרואה 
\begin_inset Formula $\a$
\end_inset

 בניסוי 
\begin_inset Formula $\ind n$
\end_inset

 )גם מהאורקל וגם 
\begin_inset Formula $c^{*}$
\end_inset

( עושה שימוש ב-
\begin_inset Formula $r=0^{n}$
\end_inset

.
 נגדיר 
\begin_inset Formula ${\rm ZERO}_{\Sigma}$
\end_inset

 באופן דומה.
\begin_inset Formula 
\begin{align*}
P\left(\indt_{\Sigma,\a}^{{\rm CPA}}\left(n\right)=1\right) & =P\left(\indt_{\Sigma,\a}^{{\rm CPA}}\left(n\right)=1\mid{\rm ZERO}_{\Sigma}^{C}\right)P\left({\rm ZERO}_{\Sigma}^{C}\right)+P\left(\indt_{\Sigma,\a}^{{\rm CPA}}\left(n\right)=1\mid{\rm ZERO}_{\Sigma}\right)P\left({\rm ZERO}_{\Sigma}\right)
\end{align*}

\end_inset

ואילו 
\begin_inset Formula $\Sigma$
\end_inset

 היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPA
\lang hebrew
-בטוחה ולכן מההגדרה קיימת פ' 
\begin_inset Formula $\nu$
\end_inset

 זניחה כך ש-
\begin_inset Formula 
\[
P\left(\indt_{\Sigma,\a}^{{\rm CPA}}\left(n\right)=1\mid{\rm ZERO}_{\Sigma}^{C}\right)\overset{\left(*\right)}{\leq}\frac{1}{P\left({\rm ZERO}_{\Sigma}^{C}\right)}\left(\frac{1}{2}+\nu\left(n\right)\right)\leq\frac{1}{1-\frac{q\left(n\right)}{2^{n}}}\left(\frac{1}{2}+\nu\left(n\right)\right)\leq\frac{1}{2}+\nu'\left(n\right)
\]

\end_inset


\begin_inset Formula $\left(*\right)$
\end_inset

 פתחנו את הגדרת ההסת' המותנת והצבנו את החסם על הסת' הצלחת הניסוי.
\end_layout

\begin_layout Standard
כאשר 
\begin_inset Formula $q\left(n\right)$
\end_inset

 חוסם את מספר ההצפנות ש-
\begin_inset Formula $\a$
\end_inset

 מבקש מהאורקל ו-
\begin_inset Formula $\nu'$
\end_inset

 היא פ' זניחה שמורכבת מ-
\begin_inset Formula $\nu$
\end_inset

 ו-
\begin_inset Formula $q\left(n\right)$
\end_inset

.
 נשים לב כי מתקיים
\begin_inset Formula 
\[
P\left(\indt_{\Pi,\a}^{{\rm CPA}}\left(n\right)=1\mid{\rm ZERO}_{\Pi}^{C}\right)=P\left(\indt_{\Sigma,\a}^{{\rm CPA}}\left(n\right)=1\mid{\rm ZERO}_{\Sigma}^{C}\right)
\]

\end_inset

כי אם לא יצא לנו 
\begin_inset Formula $0^{n}$
\end_inset

 אף פעם אז התפלגות ההצפנות זהה בין המערכות.
 לכן סה
\begin_inset Quotes xrd
\end_inset

כ נקבל
\begin_inset Formula 
\begin{align*}
P\left(\cpa n=1\right) & \overset{\text{הסת' שלמה}}{\leq}P\left(\cpa n=1\mid{\rm ZERO}_{\Pi}^{C}\right)+P\left({\rm ZERO}_{\Pi}\right)\\
 & \leq P\left(\indt_{\Sigma,\a}^{{\rm CPA}}\left(n\right)=1\right)+\frac{p\left(n\right)}{2^{n}}\\
 & \leq\frac{1}{2}+\nu'\left(n\right)+\frac{p\left(n\right)}{2^{n}}\\
 & =\frac{1}{2}+\nu''\left(n\right)
\end{align*}

\end_inset

כאשר גם 
\begin_inset Formula $\nu''$
\end_inset

 היא פ' זניחה, שמורכבת מ-
\begin_inset Formula $\nu'$
\end_inset

 ו-
\begin_inset Formula $p$
\end_inset

 שהוא פולינום שחוסם את מספר ההצפנות ש-
\begin_inset Formula $\a$
\end_inset

 מבקש מהאורקל בניסוי 
\begin_inset Formula $\ind n$
\end_inset

.
 כלומר, 
\begin_inset Formula $\Pi$
\end_inset

 היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CPA
\lang hebrew
-בטוחה.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
טענה סכימת ה-
\lang english
CBC-MAC
\lang hebrew
 אינה בטוחה כאשר היריב בניסוי 
\begin_inset Formula $\macf n$
\end_inset

 יכול לבקש ערכי אימות עבור הודעות מאורך משתנה )עבור 
\begin_inset Formula $d$
\end_inset

-ים שונים(.
\end_layout

\begin_layout Description
הערה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CBC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא הסכמה בה התגים שלנו הם 
\begin_inset Formula $t_{0}=0^{n}$
\end_inset

 ו-
\begin_inset Formula $t_{i}=F_{k}\left(t_{i-1}\xor m_{i}\right)$
\end_inset

 ופולט 
\begin_inset Formula $t_{d}$
\end_inset

 )האחרון שמחושב( כאשר 
\begin_inset Formula $F_{k}$
\end_inset

 היא 
\begin_inset Formula $\prf$
\end_inset

.
\end_layout

\begin_layout Proof
נגדיר יריב 
\begin_inset Formula $\a$
\end_inset

 באופן הבא: בקש תג עבור 
\begin_inset Formula $m_{1}=0^{n}$
\end_inset

 וכן 
\begin_inset Formula $m_{2}=0^{2n}$
\end_inset

 )
\begin_inset Formula $d=1,2$
\end_inset

 בהתאמה(.
 נסמן את התשובות המתקבלות ב-
\begin_inset Formula $t_{1},t_{2}$
\end_inset

 בהתאמה.
 נחזיר את הזוג 
\begin_inset Formula $\left(m^{*},t^{*}\right)=\left(t_{1},t_{2}\right)$
\end_inset

 )כלומר הצלחנו לאמת את 
\begin_inset Formula $t_{1}$
\end_inset

, באורך 
\begin_inset Formula $d=1$
\end_inset

, באמצעות התג של 
\begin_inset Formula $t_{2}$
\end_inset

(.
\end_layout

\begin_layout Proof
ברור שזהו יריב 
\begin_inset Formula $\pp$
\end_inset

.
 מתקיים
\begin_inset Formula 
\[
t_{1}=\mac{0^{n}}=F_{k}\left(0^{n}\xor0^{n}\right)=F_{k}\left(0^{n}\right)
\]

\end_inset

וכן
\begin_inset Formula 
\[
t_{2}=\mac{0^{2n}}=F_{k}\left(F_{k}\left(0^{2n}\right)\right)
\]

\end_inset

כלומר ש-
\begin_inset Formula 
\[
\mac{t_{1}}=F_{k}\left(t_{1}\right)=F_{k}\left(F_{k}\left(0^{n}\right)\right)
\]

\end_inset

לכן 
\begin_inset Formula $t_{2}$
\end_inset

 הוא תג אימות חוקי של 
\begin_inset Formula $t_{1}$
\end_inset

.
\end_layout

\begin_layout Proof
נותר להוכיח שבהסת' גבוהה, 
\begin_inset Formula $\a$
\end_inset

 לא ביקש תג ל-
\begin_inset Formula $m^{*}=t_{1}$
\end_inset

.
 זה קורה רק אם הוא מבקש תג ל-
\begin_inset Formula $F_{k}\left(0^{n}\right)=t_{1}$
\end_inset

.
 זה קורה אם
\begin_inset Quotes xrd
\end_inset

ם 
\begin_inset Formula $F_{k}\left(0^{n}\right)=0^{n}$
\end_inset

 שזה קורה בהסת' זניחה מעל 
\begin_inset Formula $\frac{1}{2^{n}}$
\end_inset

 )אחרת היינו בונים מבחין שבודק האם 
\begin_inset Formula $F_{k}\left(0^{n}\right)=0^{n}$
\end_inset

 והוא היה מצליח בהסת' לא זניחה מעל 
\begin_inset Formula $\frac{1}{2}$
\end_inset

(.
 כלומר, קיימת פ' זניחה 
\begin_inset Formula $\nu$
\end_inset

 כך ש
\begin_inset Formula 
\[
\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(F_{k}\left(0^{n}\right)=0^{n}\right)\leq\frac{1}{2^{n}}+\nu\left(n\right)
\]

\end_inset

כמעט תמיד.
 כלומר, כמעט תמיד מתקיים
\begin_inset Formula 
\begin{align*}
P\left(\macf n=1\right) & =P\left(\vr{m^{*},t^{*}}=1\land m^{*}\notin\q\right)\\
 & =P\left(\vr{m^{*},t^{*}=1}\mid m^{*}\notin\q\right)P\left(m^{*}\notin\q\right)\\
 & \ge1-\frac{1}{2^{n}}-\nu\left(n\right)
\end{align*}

\end_inset

כאשר 
\begin_inset Formula $\q$
\end_inset

 אוסף ההודעות ש-
\begin_inset Formula $\a$
\end_inset

 קיבל עבורן תגי אימות.
\end_layout

\begin_layout Description
טענה סכמת ה-
\lang english
CBC-MAC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אינה בטוחה להודעות מאורך קבוע )עבור 
\begin_inset Formula $d=d\left(n\right)$
\end_inset

 קבוע מראש( כאשר הערך 
\begin_inset Formula $t_{0}$
\end_inset

 נבחר באקראי ע
\begin_inset Quotes xrd
\end_inset

י 
\begin_inset Formula $\mact$
\end_inset

 וערך האימות של ההודעות הוא 
\begin_inset Formula $t_{0}||t_{d}$
\end_inset

 )ולא רק 
\begin_inset Formula $t_{d}$
\end_inset

(.
\end_layout

\begin_layout Proof
נוכיח עבור 
\begin_inset Formula $d=1$
\end_inset

.
 נגדיר 
\begin_inset Formula $\a$
\end_inset

 באופן הבא: בקש תג אימות עבור 
\begin_inset Formula $m=0^{n}$
\end_inset

.
 נסמן 
\begin_inset Formula $t=t_{0}||t_{1}$
\end_inset

 את התשובה.
 החזר
\begin_inset Formula 
\[
\left(m^{*},t^{*}\right)=\left(1^{n},\left(t_{0}\xor1^{n}\right)||t_{1}\right)
\]

\end_inset


\end_layout

\begin_layout Proof
ברור שזהו יריב 
\begin_inset Formula $\pp$
\end_inset

.
 בנוסף, 
\begin_inset Formula $F_{k}\left(\left(t_{0}\xor1^{n}\right)\xor1^{n}\right)=F_{k}\left(t_{0}\right)=t_{1}$
\end_inset

 ולכן 
\begin_inset Formula $t^{*}$
\end_inset

 הוא תג אימות חוקי של 
\begin_inset Formula $m^{*}$
\end_inset

 בהסת'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
 ברור ש-
\begin_inset Formula $\a$
\end_inset

 לא ביקש תג אימות עבור 
\begin_inset Formula $m^{*}=1^{n}$
\end_inset

 כי הוא ביקש רק עבור 
\begin_inset Formula $0^{n}$
\end_inset

.
 לכן
\begin_inset Formula 
\[
P\left(\macf n=1\right)=P\left(\vr{m^{*},t^{*}}\land m^{*}\notin\q\right)=1
\]

\end_inset


\end_layout

\begin_layout Description
טענה סכמת ה-
\lang english
CBC-MAC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אינה בטוחה להודעות מאורך קבוע כאשר ערך האימות הוא 
\begin_inset Formula $t=t_{1}||\ldots||t_{d}$
\end_inset

 )ולא רק 
\begin_inset Formula $t_{d}$
\end_inset

(.
\end_layout

\begin_layout Proof
נראה זאת עבור 
\begin_inset Formula $d=2$
\end_inset

, קרי מחרוזות באורך 
\begin_inset Formula $2n$
\end_inset

.
 נגדיר יריב באופן הבא:
\end_layout

\begin_deeper
\begin_layout Enumerate
בקש תג אימות עבור 
\begin_inset Formula $m_{1}=0^{2n}$
\end_inset

 ונסמן 
\begin_inset Formula $t=t_{1}||t_{2}$
\end_inset

 את התשובה.
\end_layout

\begin_layout Enumerate
בקש תג אימות עבור 
\begin_inset Formula $m_{2}=\left(t_{1}\xor1^{n}\right)||0^{n}$
\end_inset

 ונסמן 
\begin_inset Formula $t'=t_{1}'||t_{2}'$
\end_inset

 את התשובה.
\end_layout

\begin_layout Enumerate
החזר 
\begin_inset Formula $\left(m^{*},t^{*}\right)=\left(0^{n}||1^{n},t_{1}||t_{1}'\right)$
\end_inset


\end_layout

\end_deeper
\begin_layout Proof
ברור שזהו יריב 
\begin_inset Formula $\pp$
\end_inset

.
 
\begin_inset Formula $t_{1}=F_{k}\left(0^{n}\right)$
\end_inset

 ולכן 
\begin_inset Formula $t_{1}'=F_{k}\left(F_{k}\left(0^{n}\right)\xor1\right)$
\end_inset

, כלומר
\begin_inset Formula 
\[
t^{*}=t_{1}||t_{1}'=F_{k}\left(0^{n}\right)||F_{k}\left(F_{k}\left(0^{n}\right)\xor1^{n}\right)
\]

\end_inset

שזהו תג אימות תקין עבור 
\begin_inset Formula $m^{*}=0^{n}||1^{n}$
\end_inset

 בהסת'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
 
\begin_inset Formula $\a$
\end_inset

 לא ביקש ערך אימות עבור 
\begin_inset Formula $m^{*}$
\end_inset

 כי הוא תמיד ביקש הודעות שנגמרות באפסים.
 לכן,
\begin_inset Formula 
\[
P\left(\macf n=1\right)=P\left(\vr{m^{*},t^{*}}\land m^{*}\notin\q\right)=1
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{VII
\backslash
;
\backslash
; הגנות מפני מתקפות ברמה הנמוכה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{VII}$
\end_inset

 | הגנות מפני מתקפות ברמה הנמוכה
\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{א | בטיחות זיכרון}
\end_layout

\end_inset


\color lightgray
חלק א' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1bj3jZJcVHltxnbL89kNVVvQIA4LTKV0w/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
המכנה המשותף לכל המתקפות שראינו בהרצאה הקודמת הוא שכולם מאפשרים לתוקף לשלוט
 במידע של התוכנה ומכוח כך לגשת לזיכרון שהוא לא אמור להיות יכול לגשת אליו.
\end_layout

\begin_layout Description
הגדרה נאמר כי תוכנה היא בטוחה מבחינת זיכרון אם היא:
\end_layout

\begin_deeper
\begin_layout Itemize
משתמשת רק בדרכים הסטנדריות להקצאה/גישה לזיכרון;
\end_layout

\begin_layout Itemize
משתמשת בפוינטרים לגישה לזיכרון ששייך לאותו הפוינטר בלבד - מחולק לבטיחות
 מרחבית וזמנית.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
בטיחות מרחבית
\end_layout

\begin_layout Description
סימון נביט בפוינטר כשלשה 
\begin_inset Formula $\left(p,b,e\right)$
\end_inset

 כאשר:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $p$
\end_inset

 הוא הפוינטר עצמו.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $b$
\end_inset

 הוא כתובת הבסיס של הזיכרון המשויך לפוינטר.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $e$
\end_inset

 החסם העליון על הזיכרון המשויך לפוינטר החל מהבסיס.
\end_layout

\end_deeper
\begin_layout Standard
מכאן, שימוש בפוינטר לגישה לזיכרון הוא חוקי אם
\begin_inset Quotes xrd
\end_inset

ם 
\begin_inset Formula $b\leq p\le e-{\rm sizeof}\left({\rm typeof}\left(p\right)\right)$
\end_inset

.
 כאשר פעולה אריתמטית על הפוינטר יוצרת שלשה חדשה שעבורה 
\begin_inset Formula $p$
\end_inset

 משתנה אבל 
\begin_inset Formula $b,e$
\end_inset

 קבועים.
 בשימוש ב-
\begin_inset Formula $\&$
\end_inset

, 
\begin_inset Formula $e$
\end_inset

 נקבע ע
\begin_inset Quotes xrd
\end_inset

י גודל הטייפ המקורי של מה שאנחנו מצביעים עליו.
\end_layout

\begin_layout Description
דוגמה נראה את הפורמליות הנ
\begin_inset Quotes xrd
\end_inset

ל על קוד לדוגמה.
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

int x; // sizeof(int) = 4
\end_layout

\begin_layout Plain Layout

int *y = &x // p = &x, b=&x, e=&x + 4
\end_layout

\begin_layout Plain Layout

int *z = y + 1; // p = &x + 4, b=&x, e=&x + 4
\end_layout

\begin_layout Plain Layout

*y = 3; // legal because &x $
\backslash
leq$ &x $
\backslash
leq$ (&x + 4) - 4
\end_layout

\begin_layout Plain Layout

*z = 5; // illegal because &x $
\backslash
leq$ &x $
\backslash
nleq$ (&x + 4) - 4
\end_layout

\end_inset


\end_layout

\begin_layout Standard
הצלחנו לקבוע בזמן ריצה איזו גישה היא חוקית ואיזו לא.
\end_layout

\end_deeper
\begin_layout Description
דוגמה נביט בדוגמה נוספת.
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

struct foo {
\end_layout

\begin_layout Plain Layout

	char buf[4];
\end_layout

\begin_layout Plain Layout

	int x;
\end_layout

\begin_layout Plain Layout

};
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

struct foo f = {
\begin_inset Quotes xld
\end_inset

cat
\begin_inset Quotes xrd
\end_inset

, 5};
\end_layout

\begin_layout Plain Layout

char *y = &f.buf; // p = b = &f.but, e = &f.buf + 4 (determined by size of
 buf)
\end_layout

\begin_layout Plain Layout

y[3] = 's'; // legal because p = &f.buf + 3 $
\backslash
leq$ (&f.buf + 4) - 1
\end_layout

\begin_layout Plain Layout

y[4] = 'y' // illegal because p = &f.buf + 4 $
\backslash
nleq$ (&f.buf + 4) - 1
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Description
דוגמה נשים לב הפעם שיש לנו כמה פוינטרים מקוננים.
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

struct foo {
\end_layout

\begin_layout Plain Layout

	int x;
\end_layout

\begin_layout Plain Layout

	int y;
\end_layout

\begin_layout Plain Layout

	char *pc;
\end_layout

\begin_layout Plain Layout

}
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

struct foo *pf = malloc(...); // defines a trio (p, b, e)
\end_layout

\begin_layout Plain Layout

pf->x = 5;
\end_layout

\begin_layout Plain Layout

pf->y = 256;
\end_layout

\begin_layout Plain Layout

pf->pc = 
\begin_inset Quotes xld
\end_inset

before
\begin_inset Quotes xrd
\end_inset

; // pc is another trio, (p', b', e')
\end_layout

\begin_layout Plain Layout

pf->pc += 3; // this doesn't change b', e' but does change p' (and is legal
 in this case)
\end_layout

\begin_layout Plain Layout

int *px = &pf->x; // this is yet another trio
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard

\size larger
מתקפות שנפגעות מבטיחות מרחבית
\end_layout

\begin_layout Enumerate
לא ייתכנו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Buffer Overflow
\lang hebrew
-ים כי כולם הם מההגדרה גישה לא חוקית לזיכרון שהייתה נפסלת בבדיקה החדשה.
\end_layout

\begin_layout Enumerate
ביצוע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
integer overflow
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
גם לא ייתכן כי גבולות הגזרה החוקיים של הפוינטר )
\begin_inset Formula $e$
\end_inset

( לא יאפשרו גישה תועה לזיכרון.
\end_layout

\begin_layout Enumerate
אין יותר מתקפות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Format String
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי הן כולן גישה לזיכרון שלא משויך לפוינטר של המחרוזת )מחוץ לתחום המחרוזת(.
\end_layout

\begin_layout Standard

\size larger
בטיחות זמנית
\end_layout

\begin_layout Standard
ייתכן שניגשים למיקום עם פוינטר שנמצא בגבולות הגזרה אבל לא פעיל כרגע, לדוגמה
 אם עשינו לו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
free
\lang hebrew
.
 לשם כך נצטרך לוודא שהפוינטר תמיד פעיל - לא לפני הקצאה, אחרי שחרור או לא
 מאותחלים.
\end_layout

\begin_layout Description
דוגמה גישה לפוינטר ששוחרר כפי שראינו בהרצאה הקודמת )
\lang english
stale pointer
\lang hebrew
( היא לא חוקית מבחינת הבטיחות הזמנית.
 בנוסף, השמת ערך בפוינטר שמצביע למקום שלא הוקצה באופן סטנדרטי )לדוגמה סתם
 
\begin_inset Formula $\text{int *p;}$
\end_inset

( גם היא לא חוקית.
\end_layout

\begin_layout Standard
הדרך הכי טובה להימנע מפגיעויות זיכרון היא שימוש בשפות בטוחות מבחינת זיכרון,
 שהן רוב מה שהוא לא 
\begin_inset Formula ${\rm C}$
\end_inset

 ודומיו.
 רוב השפות הן לא רק בטוחות מבחינת זיכרון אלא גם מבחינת טייפים.
 כלומר, שכל לכל אובייקט יש סוג ופעולות על אובייקטים חייבות להיות תואמות
 לסוג שלו.
 זו דרישה יותר חזקה מבטיחות זיכרון.
\end_layout

\begin_layout Description
דוגמה להלן דוגמה לקוד שהוא בטוח מבחינת זיכרון אבל לא מבחינת סוג.
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

int (*comp)(char *, char*);
\end_layout

\begin_layout Plain Layout

int *p = (int *) malloc(sizeof(int));
\end_layout

\begin_layout Plain Layout

*p  = 1;
\end_layout

\begin_layout Plain Layout

 // we cast an int to a function pointer - memory safe but not type safe
\end_layout

\begin_layout Plain Layout

comp = (int (*)(char *, char*))p;
\end_layout

\begin_layout Plain Layout

comp(
\begin_inset Quotes xld
\end_inset

hello
\begin_inset Quotes xrd
\end_inset

, 
\begin_inset Quotes xld
\end_inset

bye
\begin_inset Quotes xrd
\end_inset

); // crashes
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
הסיבה ש-
\begin_inset Formula $C$
\end_inset

 ודומותיה אינן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בטוחות סוגים וגם לא זיכרון היא ביצועים - הן הרבה יותר יעילות כי הן לא דורשות
 כל כך הרבה בדיקות.
\end_layout

\begin_layout Standard
מעבדים בשנים האחרונות מכילים הגנה מובנת בחומרה לפגיעויות שונות ונראה שלשם
 העתיד פונה.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ב | קנריות מחסנית ו-ASLR}
\end_layout

\end_inset


\color lightgray
חלק ב' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1T_kG1d2GB6snwuyaPoFKzZenD_vVDsMt/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
אפע
\begin_inset Quotes xrd
\end_inset

פ ש-
\begin_inset Formula ${\rm C}$
\end_inset

 היא לא בטוחה זיכרון, אבל אפשר להקשות על ביצוע שלהן.
 ננסה עתה למנוע מתקפות הזרקת קוד.
 כזכור מתקפה כזו בנויה מהזרקת הקוד והרצתו באמצעות שינוי ערך ה-
\begin_inset Formula ${\rm \%eip}$
\end_inset

.
\end_layout

\begin_layout Standard

\size larger
קנריות מחסנית
\end_layout

\begin_layout Standard
ציפור הקנרית שומשה בעבר לזיהוי גזים רעילים במכרות פחם, ומשם בא השימוש שלה
 כאן - זיהוי קוד מסוכן.
\end_layout

\begin_layout Standard
נוסיף לכל מסגרת פ' בזיכרון ערך קנרית אקראי בין 
\begin_inset Formula ${\rm \%ebp}$
\end_inset

 לבין המשתנה הלוקאלי הראשון.
 כך, אם תוקף דורס את הערך ב-
\begin_inset Formula ${\rm \%ebp}$
\end_inset

 )כתובת החזרה( הוא יצטרך לעבור קודם דרך הקנרית.
 בקפיצה חזרה מהפ', נבדוק האם ערך הקנרית במסגרת הפ' שווה לזה ששמרנו לנו בצד
 במקום בטוח ואם לא, לא נקפוץ לכתובת החזרה ונפסיק את התכנית.
\end_layout

\begin_layout Description
הערה אסור שהערך של הפ' הקנרית יהיה צפוי )צריך להיות אקראי מספיק( כי אחרת
 תוקף יכול לנחש אותו ובהסת' לא זניחה לצלוח את המתקפה.
 לשם ווידוא הערך צריך לשמור אותו במקום אחר בזיכרון ולמנוע כתיבה אליו.
 אפשר במקום לשמור את הערך עצמו גם לשמור ערך שמאפשר חישוב מחדש שלו, לדוגמה
 מפתח לפ' פסאודו-אקראית.
\end_layout

\begin_layout Standard
גם אם איכשהו התוקף הצליח להזריק קוד, נוכל להכריז על כל ערך במחסנית/ערימה
 כבלתי-ניתן להרצה וכך רק קוד בסגמנט הטקסט ניתן יהיה להרצה, וכך נמגר לגמרי
 את המתקפה.
\end_layout

\begin_layout Standard
עם זאת, יש מתקפה שמפניה זה לא מגן -
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Return-to-libc
\lang hebrew
.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
libc
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מכילה הרבה פ' סטנדרטיות כמו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
printf
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ודומותיה והיא נטענת לעתים קרובות אל תוך סגמנט הטקסט.
 אם תוקף משנה את ה-
\begin_inset Formula ${\rm \%eip}$
\end_inset

 לכתובת בטקסט שמצביע לפ' כמו 
\begin_inset Formula ${\rm exec}$
\end_inset

 למשל עם ארגומנט זדוני )כגון 
\begin_inset Formula $\text{shell code}$
\end_inset

( אז הצלחנו לתקוף בלי להזריק שום קוד.
\end_layout

\begin_layout Standard

\size larger
\begin_inset Formula $ $
\end_inset


\lang english
ASLR
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
Address Space Layout Randomization
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא מנגנון שמשנה באקראיות את מיקומי הסגמנטים בזיכרון כדי למנוע גישה צפויה
 של תוקף לספריות ברירת מחדל.
 בגלל שמנגנון
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
novel
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כזה ידרוש יכולת למפות את כל הכתובות הלוך ושוב שזה מאוד לא יעיל, מה שעושים
 כיום זה פשוט להסיט את כל הכתובות )או רק את אלו של הספריות הרגילות( בהיסט
 אקראי.
 במערכות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\begin_inset Formula $32$
\end_inset

-ביט השיטה לא כל כך אפקטיבית אבל בשיטות בשישים ביטים זה כבר הרבה יותר קשה
 לפרוץ.
\end_layout

\begin_layout Standard
פתרון נוסף למניעת חזרה ל-
\begin_inset Formula ${\rm libc}$
\end_inset

 הוא הימנעות מהכלה של כל 
\begin_inset Formula ${\rm libc}$
\end_inset

 אלא רק מה שצריך.
\end_layout

\begin_layout Standard
גם עם כל ההגנות האלה, עדיין ניתן להשתמש במתקפות בסגנון 
\begin_inset Formula ${\rm ROP}$
\end_inset

 )סוג מתקפות מאוד מעניין ששווה העמקה(.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ג | Control-Flow-Integrity}
\end_layout

\end_inset


\color lightgray
חלק ג' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1pGNvzoqRrhiQczSVw-o0Qh7F0YwjwEKC/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
הרעיון הבסיסי של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CFI
\lang hebrew
, או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Control Flow Integrity
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא התבוננות בהתנהגות של התכנית וניסיון לראות אם היא מבצעת את מה שאנחנו
 מצפים שהיא תעשה, ואם לא אז יכול להיות שהיא הושחתה/נפרצה.
\end_layout

\begin_layout Standard
כדי להשתמש במנגנון זה, צריך להגדיר מה זה התנהגות תקינה; לזהות סטייות מההתנהגות
 התקינה; ומניעה של מתקפה על המזהה הסטיות.
\end_layout

\begin_layout Standard
דוגמה נבין את עקרונות ה-
\lang english
CFI
\lang hebrew
 באמצעות הדוגמה הבאה: 
\begin_inset Formula ${\rm func}$
\end_inset

 קוראת לפ' שממיינת פעם בסדר עולה ופעם בסדר יורד.
 חשוב לשים לב ש-
\begin_inset Formula ${\rm sort}$
\end_inset

 קוראת באופן לא ישיר ל-
\begin_inset Formula ${\rm order}$
\end_inset

, כלומר שהכתובת של 
\begin_inset Formula ${\rm order}$
\end_inset

 לא נמצאת בקוד האסמבלי של 
\begin_inset Formula ${\rm sort}$
\end_inset

, אלא לפי ערך המשתנה 
\begin_inset Formula ${\rm order}$
\end_inset

.
 זאת בניגוד לקריאות ישירות, לדוגמה הקריאה של 
\begin_inset Formula ${\rm func}$
\end_inset

 ל-
\begin_inset Formula ${\rm sort}$
\end_inset

.
 בדומה, כל חזרה מפ' היא גם קריאה לא ישירה לפ' כי הכתובת שלה נמצאת בזיכרון
 כמצביע ולא בקוד האסמבלי.

\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\end_layout

\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

bool lt(int x, int y) {
\end_layout

\begin_layout Plain Layout

	return x > y;
\end_layout

\begin_layout Plain Layout

}
\end_layout

\begin_layout Plain Layout

bool gt(int x, int y) {
\end_layout

\begin_layout Plain Layout

	return x < y;
\end_layout

\begin_layout Plain Layout

}
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

void sort(int a[], int n, fptr *order) {
\end_layout

\begin_layout Plain Layout

	// code of some sorting algorithm (e.g.
 bubble sort) that compares using order(x, y)
\end_layout

\begin_layout Plain Layout

}
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

func(int a[], int b[], int len) {
\end_layout

\begin_layout Plain Layout

	sort(a, len, lt);
\end_layout

\begin_layout Plain Layout

	sort(b, len, gt);
\end_layout

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\size larger
\lang english
Control Flow Graph
\end_layout

\begin_layout Standard
ה-
\lang english
Call Graph
\lang hebrew
 של התכנית הנ
\begin_inset Quotes xrd
\end_inset

ל נראה כך
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/cg.png
	scale 40

\end_inset


\end_layout

\begin_layout Standard
עתה נוסיף קשתות נפרדות לכל חזרה או קריאה לפ' ונשמור את שורות הקוד שבהן מתבצעת
 הקריאה.
 באיור החצים בכוונה ממוקמים על חלקים שונים של הבלוקים כדי לייצג את השורה
 בה מתבצעת הקריאה/חזרה.
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/cfg.png
	scale 40

\end_inset


\end_layout

\begin_layout Standard
הסטודנטית המשקיעה תעבור על כל קשת ותבין את משמעותה, אבל לדוגמה הקשת השנייה
 שיוצאת מ-
\begin_inset Formula ${\rm sort}$
\end_inset

 היא ל-
\begin_inset Formula ${\rm gt}$
\end_inset

 וממוקמת בהתאם לשורה בה היא נקראת.
 יש בנוסף קשת ל-
\begin_inset Formula ${\rm lt}$
\end_inset

 כי כש-
\begin_inset Formula ${\rm sort}$
\end_inset

 נקרא בפעם הראשונה הוא מבצע קריאות ל-
\begin_inset Formula ${\rm lt}$
\end_inset

 באותה השורה שבה הוא עושה זאת ל-
\begin_inset Formula ${\rm gt}$
\end_inset

 בהמשך.
\end_layout

\begin_layout Standard
בניית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Control Flow Graph
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שכזה קורה בזמן הקומפילציה.
\end_layout

\begin_layout Standard
במהלך זמן הריצה, נוודא שכל קפיצה היא בהתאם ל-
\lang english
CFG
\lang hebrew
.
 נשים לב שצריך לעשות את זה רק על קפיצות לא ישירות כי ניתן להניח שהקוד של
 התכנית לא משתנה במהלך הריצה.
 כלומר, ננתר רק פעולות 
\begin_inset Formula $\text{jmp, call}$
\end_inset

 עם כתובות קפיצה לא קבועות וכן כל פעולת 
\begin_inset Formula ${\rm ret}$
\end_inset

.
\end_layout

\begin_layout Standard
לכן אפשר להיפטר מכמה קשתות ב-
\lang english
CFG
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)לדוגמה הקשתות מ-
\begin_inset Formula ${\rm func}$
\end_inset

 ל-
\begin_inset Formula ${\rm sort}$
\end_inset

, אבל לא האלה בכיוון ההפוך(.
\end_layout

\begin_layout Standard

\size larger
\begin_inset Formula $ $
\end_inset


\lang english
In-line Reference Monitor
\end_layout

\begin_layout Standard
ה-
\begin_inset Formula ${\rm IRM}$
\end_inset

 אמון על שינוי הקוד של התכנית להוספת הבדיקות.
 נוסיף לייבל לפני כל כתובת קפיצה של קריאה לא ישירה.
 נכניס קוד שבודק את התווית בצד השני של הקפיצה 
\series bold
לפני
\series default
 הקפיצה, ואם אין התאמה נפסיק את ריצת התכנית, אחרת נקפוץ ונמשיך כרגיל.
\end_layout

\begin_layout Standard
אם ניתן לכל הפ' ב-
\lang english
CFG
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
את אותו הלייבל האקראי 
\begin_inset Formula $L$
\end_inset

 אז נוכל למנוע קפיצה לפ' ספריה שאין לה לייבל, אבל זה לא מונע קפיצה לא ישירה
 בין פ' בתוך ה-
\lang english
CFG
\lang hebrew
.
\end_layout

\begin_layout Standard
הפתרון הכי מדויק לגרף הנ
\begin_inset Quotes xrd
\end_inset

ל הוא הגרלת שלושה לייבלים 
\begin_inset Formula ${\rm L,M,N}$
\end_inset

 באופן הבא:
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/label.png
	scale 40

\end_inset


\end_layout

\begin_layout Standard
נשים לב שהלייבל הוא פר קפיצה/חזרה ולכן אם קפצנו מאותו המקום לשני מקומות
 שונים )לדוגמה ב-
\begin_inset Formula ${\rm sort}$
\end_inset

 ל-
\begin_inset Formula ${\rm lt}$
\end_inset

ו-
\begin_inset Formula ${\rm gt}$
\end_inset

(, נצטרך שיהיה למטרות הקפיצה את אותו הלייבל )כפי שקורה כאן(.
 בגלל ש-
\begin_inset Formula ${\rm sort}$
\end_inset

 לא יודעת אם היא בריצה הראשונה או השנייה שלה, נצטרך שב-
\begin_inset Formula ${\rm func}$
\end_inset

 יהיה את אותו הלייבל 
\begin_inset Formula ${\rm L}$
\end_inset

 בשתי החזרות מ-
\begin_inset Formula ${\rm sort}$
\end_inset

.
 מעבר לכך 
\begin_inset Formula ${\rm N}$
\end_inset

 הוא ב
\begin_inset Quotes xrd
\end_inset

ת בכל השאר ולכן נשים אותו לערך אקראי שלישי שונה.
 כך מנענו גם קריאה זדונית לא ישירה לפ' בתוך ה-
\lang english
CFG
\lang hebrew
.
\end_layout

\begin_layout Standard
כדי לתקוף את ה-
\lang english
CFI
\lang hebrew
, אפשר או להזריק קוד עם לייבל חוקי, שזה לא אפשרי כי אנחנו מניחים שאי אפשר
 להריץ קוד במחסנית/ערימה.
 לחלופין, אפשר לשנות את הלייבלים כדי לשנות את ה-
\lang english
Control Flow
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
למשהו זדוני, אבל זה לא אפשרי כי הקוד )ובו הלייבלים( הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
read-only
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן בלתי ניתן לשינוי.
\end_layout

\begin_layout Standard
עם זאת, ניתן להסיט את ריצת התכנית באופן שעולה בקנה אחד עם ה-
\lang english
CFG
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אבל עדיין זדוני.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ד | תכנות בטוח}
\end_layout

\end_inset


\color lightgray
חלק ד' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1UJP0cmQjpAPk56ttl-zt0bC_dy3c2sXI/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
בגלל ששפות כמו 
\begin_inset Formula ${\rm C/C++}$
\end_inset

 אינן מספקות יותר מדי הבטחות בטיחות, מפתחים צריכים להשתמש במשמעת עצמית יחד
 עם בדיקה של קוד )בהמשך(.
\end_layout

\begin_layout Standard
כדי לכתוב קוד בטוח, נעקוב אחר עקרונות )עיצוב שאפשר לממש בדרכים שונות( וחוקים
 )פרקטיקות ספציפיות שמבוססות על עקרונות(.
\end_layout

\begin_layout Standard
בפרט, נסתכל על חוקים לתכנות טוב ב-
\begin_inset Formula ${\rm C/C++}$
\end_inset

.
\end_layout

\begin_layout Standard

\size larger
אכיפת תקינות קלט
\end_layout

\begin_layout Description
דוגמה ניזכר בקוד שכבר ראינו, הבעיה בזמנו הייתה ש-
\begin_inset Formula ${\rm len}$
\end_inset

 יכול להיות יותר גדול מאורך הבאפר האמיתי.
 השגיאה שלנו כאן היא שהנחנו שהמשתמש נענה לחוקי התכנית, אבל אין שום סיבה
 להניח זאת.
\end_layout

\begin_deeper
\begin_layout Standard
מכאן מגיע החוק הראשון שלנו - אכיפת תקינות הקלט.
 ניתן בקלות לעשות סניטציה לקלט באמצעות הכנסת השורה
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\text{len = min(len ,strlen(buf)));}$
\end_inset

אחרי שורה מספר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
7
\numeric off
.
 כך לא נדפיס יותר תווים משיש בסטרינג.
 עם זאת חשוב בנוסף לדאוג ש-
\begin_inset Formula ${\rm strlen}$
\end_inset

 עצמו לא חורג מעבר ל-
\numeric on
100
\numeric off
.
\end_layout

\end_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

int main() {
\end_layout

\begin_layout Plain Layout

	char buf[100];
\end_layout

\begin_layout Plain Layout

	char *p;
\end_layout

\begin_layout Plain Layout

	int i, len;
\end_layout

\begin_layout Plain Layout

	while (1) {
\end_layout

\begin_layout Plain Layout

		p = fgets(buf, sizeof(buf), stdin);
\end_layout

\begin_layout Plain Layout

		len = atoi(p);
\end_layout

\begin_layout Plain Layout

		p = fgets(buf, sizeof(buf), stdin);
\end_layout

\begin_layout Plain Layout

		for (i = 0; i < len; i++) {
\end_layout

\begin_layout Plain Layout

			if (!iscntrl(buf[i])) putchar(buf[i]);
\end_layout

\begin_layout Plain Layout

			else putchar('.');
\end_layout

\begin_layout Plain Layout

		}
\end_layout

\begin_layout Plain Layout

		printf(
\begin_inset Quotes xld
\end_inset


\backslash
n
\begin_inset Quotes xrd
\end_inset

);
\end_layout

\begin_layout Plain Layout

	}
\end_layout

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Description
דוגמה כאן אנחנו מניחים אמון לא מבוסס במשתמש, כי עבור כל קלט מעבר ל-
\begin_inset Formula $9$
\end_inset

 נקבל 
\begin_inset Formula ${\rm Overflow}$
\end_inset

.
 בנוסף, ניתן לגשת עם אינדקס שלילי למערך שזה כמובן לא רצוי.
 הוספת בדיקה ש-
\begin_inset Formula $i$
\end_inset

 בין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\begin_inset Formula $9$
\end_inset

 יפתור את הבעיה.
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

char digit_to_char(int i) {
\end_layout

\begin_layout Plain Layout

	char buf[] = 
\begin_inset Quotes xld
\end_inset

0123456789
\begin_inset Quotes xrd
\end_inset

;
\end_layout

\begin_layout Plain Layout

	return buf[i];
\end_layout

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
דוגמאות אלה חלק מעיקרון יותר כללי - תכנות רובאסטי - כל רכיב בודק באופן הפסימי
 ביותר את מה שהוא חושב שידוע לו כי קוראים חיצוניים לא בהכרח מתנהגים באותו
 האופן ועדיף שהתוכנה תפסיק לעבוד מאשר שתריץ קוד זדוני.
\end_layout

\begin_layout Standard

\size larger
שימוש בפונקציות מחרוזות בטוחות
\end_layout

\begin_layout Standard
הפ' הקלאסיות לעיבוד מחרוזות מניחות שהבאפרים שהן מקבלות מספיק גדולים לביצוע
 הפעולות השונות, שזו הנחה שגויה כמובן.
\end_layout

\begin_layout Description
דוגמה במקום להשתמש ב-
\begin_inset Formula ${\rm strcpy}$
\end_inset

, מוטב להשתמש ב-
\begin_inset Formula ${\rm strlcpy}$
\end_inset

 שמקבל גם את גודל הבאפר, ונכשל אם הפעולה שהוא מבקש לבצע הייתה גורמת לאוברפלאו
\end_layout

\begin_layout Standard

\size larger
לא לשכוח את ה-
\lang english
NULL Terminator
\end_layout

\begin_layout Standard
כל מחרוזת נגמרת בתו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NULL
\lang hebrew
, והוא מוכנס באופן אוטומי כשמתמשים במחרוזות ליטרלים.
 לדוגמה 
\begin_inset Formula ${\rm "bye"}$
\end_inset

 הוא למעשה 
\begin_inset Formula $\text{b,y,e,\backslash0}$
\end_inset

 בזיכרון.
 כשמקצים מערך למחרוזת, חשוב תמיד לזכור להקצות מספיק מקום גם ל-
\lang english
NULL Terminator
\lang hebrew
.
 שימוש בפ' מחרוזות בטוחות תופס שגיאות כאלה בזמן.
\end_layout

\begin_layout Standard

\size larger
הבנת אריתמטיקה של מצביעים
\end_layout

\begin_layout Standard
ראשית,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sizeof
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מחזיר את מספר הבתים שהוקצו לפוינטר מסוים ולא את מספר האובייקטים שנכנסים
 בהקצאה ההיא.
 בנוסף, הוספה של מספר לפוינטר היא בהתאם לגודל האובייקט שהוא מצביע אליו.
 כלומר 
\begin_inset Formula $\text{p + sizeof(p)}$
\end_inset

 לא יעבור לאיבר הבא במערך שהוקצה החל מ-
\begin_inset Formula $p$
\end_inset

, אלא יקפוץ כמה צעדים קדימה בהתאם לסוג האובייקט שהוקצה.
 שימוש מוטעה בהוספה הנ
\begin_inset Quotes xrd
\end_inset

ל יכול בקלות לגרום ל-
\lang english
Overflow
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וחשוב להבין מה כל פעולה אריתמטית על פוינטרים מבצעת.
\end_layout

\begin_layout Standard

\size larger
הגנה מפני פוינטרים רופפים
\end_layout

\begin_layout Standard
קריאת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
free
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על פוינטר מפנה את המקום שהוא הצביע עליו למישהו אחר ומכריזה למעשה שאין לנו
 שימוש בו עד שהוא מוקצה מחדש.
 עם זאת, פעולה השחרור לא משפיעה על ערך המצביע ולכן שימוש חוזר בקוד בפוינטר
 הוא מסוכן מאוד.
\end_layout

\begin_layout Description
דוגמה בקוד הבא קשה לזהות את השגיאה אם לא מסבים תשומת לב רבה למה שהקוד עושה.
 סביר מאוד שהמקום שיוקצה ל-
\begin_inset Formula $p$
\end_inset

 וזה שיוקצה ל-
\begin_inset Formula $q$
\end_inset

 יהיו זהים ובמקרה כזה הערך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ידרוס את הערך ב-
\begin_inset Formula ${\rm *q}$
\end_inset

 ואז 
\begin_inset Formula ${\rm **q=3}$
\end_inset

 הוא לא חוקי בעליל.
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language={C++},numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

int x = 5;
\end_layout

\begin_layout Plain Layout

int *p = malloc(sizeof(int));
\end_layout

\begin_layout Plain Layout

free(p);
\end_layout

\begin_layout Plain Layout

int **q = malloc(sizeof(int *)); // allocated in the same place p points
 to
\end_layout

\begin_layout Plain Layout

*q = &x;
\end_layout

\begin_layout Plain Layout

*p = 10;
\end_layout

\begin_layout Plain Layout

**q = 3; // does *10 = 3; which is obviously invalid
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
לכן עלינו לשנות את ערכו של פוינטר משוחרר ל-
\lang english
NULL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תמיד, ואז אם ננסה לגשת אליו שוב התוכנה תקרוס במקום לבצע פעולות מסוכנות.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard

\color lightgray
אין הקלטה של התרגול
\end_layout

\begin_layout Description
שאלה תהי 
\begin_inset Formula $F$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

 שמעתיקה 
\begin_inset Formula $n$
\end_inset

 ל-
\begin_inset Formula $2n$
\end_inset

 עם מפתחות באורך 
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Enumerate
נגדיר 
\begin_inset Formula $H_{k}\left(x\right)=F_{k}\left(x\right)||F_{k}\left(\overline{x}\right)$
\end_inset

 לכל 
\begin_inset Formula $n\in\fldn$
\end_inset

, 
\begin_inset Formula $k\in\left\{ 0,1\right\} ^{n}$
\end_inset

 ו-
\begin_inset Formula $x\in\left\{ 0,1\right\} ^{n}$
\end_inset

, כאשר 
\begin_inset Formula $\overline{x}=x\xor1^{n}$
\end_inset

 הוא 
\begin_inset Formula $x$
\end_inset

 עם כל הביטים הפוכים.
 הוכיחו כי 
\begin_inset Formula $H$
\end_inset

 אינה 
\begin_inset Formula $\prf$
\end_inset

.
\end_layout

\begin_layout Enumerate
נגדיר 
\begin_inset Formula $G\left(k||x\right)=F_{k}\left(x\right)||F_{k}\left(\overline{x}\right)$
\end_inset

 לכל 
\begin_inset Formula $n\in\fldn$
\end_inset

 ו-
\begin_inset Formula $k,x\in\left\{ 0,1\right\} ^{n}$
\end_inset

.
 הוכיחו כי ההתפלגות 
\begin_inset Formula $G$
\end_inset

 היא בלתי ניתנת להבחנה חישובית מההתפלגות האחידה כאשר 
\begin_inset Formula $k,x\inr\left\{ 0,1\right\} ^{n}$
\end_inset

 נדגמים אחיד וב
\begin_inset Quotes xrd
\end_inset

ת.
\end_layout

\begin_layout Enumerate
נגדיר 
\begin_inset Formula $W_{k}\left(x\right)=F_{k}\left(x\right)||F_{\overline{k}}\left(x\right)$
\end_inset

 לכל 
\begin_inset Formula $n\in\fldn$
\end_inset

, 
\begin_inset Formula $k\in\on^{n}$
\end_inset

 ו-
\begin_inset Formula $x\in\on^{n}$
\end_inset

.
 האם 
\begin_inset Formula $W$
\end_inset

 בהכרח 
\begin_inset Formula $\prf$
\end_inset

?
\end_layout

\end_deeper
\begin_layout Description
פתרון
\end_layout

\begin_deeper
\begin_layout Enumerate
נבנה מבחין 
\begin_inset Formula $\d$
\end_inset

 עם גישת אורקל ל-
\begin_inset Formula $\o\in\left\{ F,h\right\} $
\end_inset

 כאשר 
\begin_inset Formula $h\inr\func_{n,4n}$
\end_inset

 באופן הבא: בקש מהאורקל את הערכים
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\alpha_{0}||\beta_{0}=\o\left(0^{n}\right)$
\end_inset

 ו-
\begin_inset Formula $\alpha_{1}||\beta_{1}=\o\left(1^{n}\right)$
\end_inset

 )כאשר החצאים הם באותו הגודל, 
\begin_inset Formula $2n$
\end_inset

( והחזר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם
\begin_inset Quotes xrd
\end_inset

ם 
\begin_inset Formula $\alpha_{0}=\beta_{1}$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
ברור ש-
\begin_inset Formula $\d$
\end_inset

 הוא 
\begin_inset Formula $\pp$
\end_inset

 כי הוא מבצע רק שתי קריאות.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\o=H_{k}$
\end_inset

 אז 
\begin_inset Formula $\alpha_{0}=\beta_{1}=F_{k}\left(0^{n}\right)$
\end_inset

 לכל 
\begin_inset Formula $k$
\end_inset

 והוא תמיד יחיד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\o=h$
\end_inset

 אז 
\begin_inset Formula $\alpha_{0},\beta_{1}$
\end_inset

 מתפלגים אחיד וב
\begin_inset Quotes xrd
\end_inset

ת ולכן ההסת' ש-
\begin_inset Formula $\d$
\end_inset

 יחיזר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא 
\begin_inset Formula $\frac{1}{2^{2n}}$
\end_inset

.
\end_layout

\begin_layout Standard
לכן
\begin_inset Formula 
\[
\left|\underset{k\inr\left\{ 0,1\right\} ^{n}}{P}\left(\d^{H_{k}}\left(1^{n}\right)=1\right)-\p{h\inr\func_{n,4n}}{\d^{h}\left(1^{n}\right)=1}\right|=1-\frac{1}{2^{2n}}
\]

\end_inset

שזה בבירור לא זניח.
\end_layout

\end_deeper
\begin_layout Enumerate
נניח בשלילה שקיים מבחין 
\begin_inset Formula $\a$
\end_inset

 ופולינום 
\begin_inset Formula $p\left(n\right)$
\end_inset

 כך שמתקיים באופן שכיח
\begin_inset Formula 
\[
\left|\p{k,x\inr\left\{ 0,1\right\} ^{n}}{\a\left(G\left(k||x\right)\right)=1}-\p{r\inr\left\{ 0,1\right\} ^{4n}}{\a\left(r\right)=1}\right|>\frac{1}{p\left(n\right)}
\]

\end_inset

כלומר 
\begin_inset Formula $\a$
\end_inset

 מקבל ערך כלשהו וצריך לקבוע מאיזו התפלגות הוא הגיע.
\end_layout

\begin_deeper
\begin_layout Standard
נבנה מבחין 
\begin_inset Formula $\d$
\end_inset

 בין 
\begin_inset Formula $F$
\end_inset

 לפ' אקראית באמת באופן הבא: בהינתן גישת אורקל 
\begin_inset Formula $\o\in\left\{ F_{k},h\right\} $
\end_inset

 כאשר 
\begin_inset Formula $h\inr\func_{n,2n}$
\end_inset

, נגריל 
\begin_inset Formula $x\inr\left\{ 0,1\right\} ^{n}$
\end_inset

, נריץ את 
\begin_inset Formula $\a$
\end_inset

 עם 
\begin_inset Formula $\o\left(x\right)||\o\left(\overline{x}\right)$
\end_inset

 ונחזיר את הערך ש-
\begin_inset Formula $\a$
\end_inset

מחזיר.
\end_layout

\begin_layout Standard
ברור ש-
\begin_inset Formula $\d$
\end_inset

 הוא 
\begin_inset Formula $\pp$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\o=G$
\end_inset

 אז 
\begin_inset Formula $\a$
\end_inset

 רץ על הקלט 
\begin_inset Formula $G\left(k||x\right)=F_{k}\left(x\right)||F_{k}\left(\overline{x}\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\o=h$
\end_inset

 כאשר 
\begin_inset Formula $h\inr\func_{n,2n}$
\end_inset

 אז 
\begin_inset Formula $\a$
\end_inset

 רץ על 
\begin_inset Formula $h\left(x\right)||h\left(\overline{x}\right)$
\end_inset

 שזהו ערך אחיד וב
\begin_inset Quotes xrd
\end_inset

ת ב-
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Standard
לכן
\begin_inset Formula 
\begin{align*}
\left|\p{k,x\inr\left\{ 0,1\right\} ^{n}}{\d^{F_{k}}\left(1^{n}\right)=1}-\p{h\inr\func_{n,2n}}{\d^{h}\left(1^{n}\right)=1}\right| & =\left|\p{k,x\inr\left\{ 0,1\right\} ^{n}}{\a\left(G\left(k||x\right)\right)=1}-\p{r\inr\left\{ 0,1\right\} ^{4n}}{\a\left(r\right)=1}\right|\\
 & >\frac{1}{p\left(n\right)}
\end{align*}

\end_inset

באופן שכיח בסתירה להיות 
\begin_inset Formula $F$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
\begin_inset Formula $W$
\end_inset

 אינה בהכרח 
\begin_inset Formula $\prf$
\end_inset

.
 נניח שקיימת 
\begin_inset Formula $\prf$
\end_inset

 כלשהי ונראה כי קיימת 
\begin_inset Formula $\prf$
\end_inset

 
\begin_inset Formula $F$
\end_inset

 שעבורה 
\begin_inset Formula $F_{k}\equiv F_{\overline{k}}$
\end_inset

.
 עבור 
\begin_inset Formula $W$
\end_inset

 על בסיס 
\begin_inset Formula $F$
\end_inset

 כזו, ברור שהיא אינה 
\begin_inset Formula $\prf$
\end_inset

 כי החצי השמאלי והימני של 
\begin_inset Formula $W$
\end_inset

 שווים תמיד.
\end_layout

\begin_deeper
\begin_layout Standard
תהי 
\begin_inset Formula $H$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

 כלשהי שמעתיקה 
\begin_inset Formula $n+1$
\end_inset

 ל-
\begin_inset Formula $2\left(n+1\right)$
\end_inset

 עם מפתחות באורך 
\begin_inset Formula $n$
\end_inset

.
 נגדיר 
\begin_inset Formula $F_{k}=H_{\phi\left(k\right)}$
\end_inset

 כאשר 
\begin_inset Formula $\phi\left(k\right)\in\on^{n-1}$
\end_inset

 מוגדר באופן הבא לכל 
\begin_inset Formula $k=k_{1}\ldots k_{n}\in\on^{n}$
\end_inset

:
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $k_{1}=0$
\end_inset

 אז 
\begin_inset Formula $\phi\left(k\right)=k_{2}\ldots k_{n}$
\end_inset

 )השמטה של הביט הראשון(.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $k_{1}=1$
\end_inset

 אז 
\begin_inset Formula $\phi\left(k\right)=\overline{k_{2}\ldots k_{n}}$
\end_inset

 )כלומר השמטה והיפוך(.
\end_layout

\begin_layout Description
הערה הסטודנטית המשקיעה תשים לב שלמעשה 
\begin_inset Formula $\phi\left(k_{1}\ldots k_{n}\right)=k_{2}\ldots k_{n}\xor k_{1}\ldots k_{1}$
\end_inset

.
\end_layout

\begin_layout Standard
ברור שלכל מפתח 
\begin_inset Formula $k$
\end_inset

 מתקיים 
\begin_inset Formula $\phi\left(k\right)=\phi\left(\overline{k}\right)$
\end_inset

 ולכן 
\begin_inset Formula $F_{k}=H_{\phi\left(k\right)}=H_{\phi\left(\overline{k}\right)}=F_{\overline{k}}$
\end_inset

 כלומר התכונה שחיפשנו מתקיימת.
 בנוסף, 
\begin_inset Formula $\phi\left(k\right)\in\on^{n}$
\end_inset

 מתפלג אחיד אם 
\begin_inset Formula $k\inr\on^{n+1}$
\end_inset

 מתפלג אחיד.
\end_layout

\begin_layout Standard
נוכיח כי 
\begin_inset Formula $F$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

 ונסיים.
 נניח בשלילה שהיא לא, כלומר שקיים מבחין 
\begin_inset Formula $\pp$
\end_inset

 
\begin_inset Formula $\a$
\end_inset

 ופולינום 
\begin_inset Formula $p$
\end_inset

 כך שבאופן שכיח מתקיים
\begin_inset Formula 
\[
\left|\p{k\inr\on^{n}}{\a^{F_{k}}\left(1^{n}\right)=1}-\p{f\inr\func_{n,2n}}{\a^{f}\left(1^{n}\right)=1}\right|>\frac{1}{p\left(n\right)}
\]

\end_inset


\end_layout

\begin_layout Standard
נבנה אלג' מבחין 
\begin_inset Formula $\d$
\end_inset

 בין 
\begin_inset Formula $H_{k}$
\end_inset

 לפ' אקראית באמת שמקבל פרמטר בטיחות 
\begin_inset Formula $1^{n}$
\end_inset

 וגישה לאורקל 
\begin_inset Formula $\o\in\left\{ H_{k},f\right\} $
\end_inset

 כאשר
\begin_inset Newline newline
\end_inset


\begin_inset Formula $f\inr\func_{n,2n}$
\end_inset

, ומריץ ומחזיר את הפלט של 
\begin_inset Formula $\a\left(1^{n+1}\right)$
\end_inset

 כאשר כל פעם ש-
\begin_inset Formula $\a$
\end_inset

 מבקש ערך מהאורקל נחזיר לו את הערך מהאורקל שלנו, 
\begin_inset Formula $\o$
\end_inset

.
\end_layout

\begin_layout Standard
ברור ש-
\begin_inset Formula $\d$
\end_inset

 הוא 
\begin_inset Formula $\pp$
\end_inset

.
\end_layout

\begin_layout Standard
לכן
\begin_inset Formula 
\begin{align*}
 & \left|\p{k\inr\on^{n}}{\d^{H_{k}}\left(1^{n}\right)=1}-\p{h\inr n+1,2\left(n+1\right)}{\d^{h}\left(1^{n}\right)=1}\right|\\
\text{\d}\;\text{כמו}\;\text{מתנהג}\;\a & =\left|\p{k\inr\on^{n}}{\a^{H_{k}}\left(1^{n+1}\right)=1}-\p{h\inr\func_{n+1,2\left(n+1\right)}}{\a^{h}\left(1^{n+1}\right)=1}\right|\\
\text{מתפלג אחיד}\;\phi\left(k\right) & =\left|\p{k\inr\on^{n+1}}{\a^{H_{\phi\left(k\right)}}\left(1^{n+1}\right)=1}-\p{h\inr\func_{n+1,2\left(n+1\right)}}{\a^{h}\left(1^{n+1}\right)=1}\right|\\
F_{k}\;\text{הגדרת} & =\left|\p{k\inr\on^{n+1}}{\a^{F_{k}}\left(1^{n+1}\right)=1}-\p{f\inr\func_{n+1,2\left(n+1\right)}}{\a^{f}\left(1^{n}\right)=1}\right|\\
 & >\frac{1}{p\left(n+1\right)}
\end{align*}

\end_inset

בסתירה להיות 
\begin_inset Formula $H_{k}$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

.
\end_layout

\end_deeper
\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{VIII
\backslash
;
\backslash
; זיהוי מתקפות ברמה נמוכה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{VIII}$
\end_inset

 | זיהוי מתקפות ברמה נמוכה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1taJLDGAGExC3_iNNSjIIMpc6WJOXKkqy/view?usp=sh
aring}{קישור}
\end_layout

\end_inset


\end_layout

\begin_layout Description
שאלה 
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/q1.png
	scale 60

\end_inset


\end_layout

\begin_layout Enumerate
תארו את תוכן המחסנית )מסגרת המחסנית( הנוצר כתוצאה מהרצת הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
main
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כאשר התכנית בשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
05
\numeric off
.
 יש להניח כי הקומפילציה מתבצעת בארכיטקטורת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\begin_inset Formula $32$
\end_inset

-ביט לא כולל מנגנוני אבטחה אוטומטיים או אופטימיזציות, שהארגומנטים הניתנים
 לפ' מוכנסים למחסנית בסדר הפוך להגדרתם ושהמשתנים המקומיים מוכנסים למחסנית
 לפי סדר הגרדתם )כל זה כמו שראינו בהרצאה(.
\end_layout

\begin_deeper
\begin_layout Standard
המחסנית מכילה את כתובת החזרה, מסגרת הפ' הקוראת ושלושת המשתנים המקומיים כבאיור
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/q1a.png
	scale 60

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
הראו כי תוקף המריץ את הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
main
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וצופה במידע המודפס למסך יכול לספק ערכי קלט בשורות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
15
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\numeric on
17
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)בכל הרצה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
get_input
\lang hebrew
( שיגרמו להרצה אחת או יותר של הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
first_goal
\lang hebrew
.
 תארו את תוכנם ואורכם של הקלטים המוצעים והסבירו כיצד יגרמו להרצה אחת או
 יותר של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
first_goal
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Standard
חשוב לשים לב גם בסעיף הזה וגם בסעיף הבא שאנחנו קוראים ל-
\lang english
get_input
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
פעמיים, ובכל פעם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
get_input
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קוראת ל-
\lang english
fgets
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
פעמיים.
\end_layout

\begin_layout Standard
בקריאה לפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
get_input
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
המחסנית נמצאת במצב הבא
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/stack1.png
	scale 30

\end_inset


\end_layout

\begin_layout Standard
בקריאה הראשונה ל-
\lang english
get_input
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ניתן ב-
\lang english
fgets
\lang hebrew
 את הערך 
\begin_inset Formula ${\rm \%d\%d\%d\%d\%d\%p\%p}$
\end_inset

 וכך יודפסו למסך ערכי 
\begin_inset Formula ${\rm \%ebp},{\rm \%eip}$
\end_inset

.
\end_layout

\begin_layout Standard
בקריאה השנייה ל-
\lang english
fgets
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)עדיין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
get_input
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הראשון( נספק את 
\begin_inset Formula $"{\rm A\ldots A\;\%ebp\;\%eip\;1}"$
\end_inset

 כאשר ה-
\begin_inset Formula $A$
\end_inset

-ים מספיקים כדי שהערכים שאנחנו שמים אחרי יפלו בדיוק על המיקומים שאנחנו רוצים
 לדרוס.
 כתוצאה מכך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
guard
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 כבר לא יהיה 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וניכנס ל-
\lang english
if
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלאחר מכן ואז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
first_goal
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תקרא.
\end_layout

\end_deeper
\begin_layout Enumerate
הראו כי תוקף המריץ את הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
main
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וצופה במידע המודפס למסך יכול לספק ערכי קלט בשורות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
15
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\numeric on
17
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)בכל הרצה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
get_input
\lang hebrew
( שיגרמו להרצה אחת או יותר של הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
first_goal
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וגם של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
second_goal
\lang hebrew
.
 תארו את תוכנם ואורכם של הקלטים המוצעים והסבירו כיצד יגרמו להרצה אחת או
 יותר של הפ' הנ
\begin_inset Quotes xrd
\end_inset

ל.
\end_layout

\begin_deeper
\begin_layout Standard
נציג שני פתרונות.
\end_layout

\begin_layout Enumerate
בקריאה הראשונה ל-
\lang english
fgets
\lang hebrew
 נספק את אותו הערך כמו בסעיף הקודם ואז יהיו לנו ערכי 
\begin_inset Formula ${\rm \%ebp}$
\end_inset

 ו-
\begin_inset Formula ${\rm \%eip}$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
בקריאה השנייה ל-
\lang english
fgets
\lang hebrew
 נספק את 
\begin_inset Formula ${\rm "A\ldots A\;\%ebp\;\left(\%eip+s\right)\;1"}$
\end_inset

 כאשר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
A
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הם ריפוד כנ
\begin_inset Quotes xrd
\end_inset

ל ו-
\begin_inset Formula $s$
\end_inset

 הוא ההיסט כדי ש-
\begin_inset Formula ${\rm \%eip}$
\end_inset

 ידלג על שורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
7
\numeric off
.
 כך 
\begin_inset Formula ${\rm flag}$
\end_inset

 נשאר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והפ' 
\begin_inset Formula ${\rm second\_goal}$
\end_inset

 תקרא )יחד עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
first_goal
\lang hebrew
, מאותם הסיבות כבסעיף הקודם(.
\end_layout

\begin_layout Standard
הבעיה עם פתרון כזה היא שהתוקף צריך איכשהו לחשב את 
\begin_inset Formula $s$
\end_inset

 ושהמתקפה נמנעת ע
\begin_inset Quotes xrd
\end_inset

י שימוש ב-
\lang english
CFI
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי אין חץ חוזר מ-
\lang english
get_input
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ב-
\lang english
CFG
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של התכנית )החץ הוא לשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
7
\numeric off
(.
\end_layout

\end_deeper
\begin_layout Enumerate
בקריאה הראשונה ל-
\lang english
get_input
\lang hebrew
 נספק כרגיל את אותו הערך ואז יהיו לנו ערכי 
\begin_inset Formula ${\rm \%ebp}$
\end_inset

 ו-
\begin_inset Formula ${\rm \%eip}$
\end_inset

 ובקריאה השנייה ל-
\lang english
fgets
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
את אותו הערך כבסעיף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כך שנדרוס את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
guard
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Standard
בקריאה השנייה ל-
\lang english
get_input
\lang hebrew
 נספק ב-
\lang english
fgets
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הראשון סתם משהו, זה לא רלוונטי ובפעם השנייה את הקלט
\begin_inset Newline newline
\end_inset


\begin_inset Formula ${\rm "A\ldots A\;\%ebp\;\%eip"}$
\end_inset

 כאשר 
\begin_inset Formula ${\rm \%ebp},{\rm \%eip}$
\end_inset

 הם הערכים שזכרנו בזמנו.
\end_layout

\begin_layout Standard
כך, כשהפ' תחזור מ-
\lang english
get_input
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא תחזור לשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
7
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)שמרנו אותם כשזה מה שהיה אמור לקרות(, תשנה את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
flag
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שוב ותריץ את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
second_goal
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)ושוב את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
first_goal
\lang hebrew
(.
\end_layout

\begin_layout Standard
במקרה זה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CFI
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא יעזור כי שורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
7
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא אכן כתובת חזרה אפשרית מ-
\lang english
get_input
\lang hebrew
.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ASLR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא יעזור, אבל קנריות מחסנית יפתרו את כל העניין כאן בקלות כי הן מונעות לחלוטין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Buffer Overflow
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אל תוך כתובת החזרה.
\end_layout

\end_deeper
\end_deeper
\begin_layout Standard
לנוחיותכם, קוד השאלה כאן שוב כדי שלא תצטרכו לגלול הלוך ושוב יותר מדי.
\end_layout

\end_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/q1.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{IX
\backslash
;
\backslash
; בטיחות רשת}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{IX}$
\end_inset

 | בטיחות רשת
\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{א | מבוא ל-World-Wide-Web}
\end_layout

\end_inset


\color lightgray
חלק א' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/13jIPvQi8Yf9ZlCHLLEybqJYb3Ncfx0mn/view}{קישור
}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
נעבור מפגיעויות בשפות ספיציפות למתקפות על הרשת ומנגנונים שונים בה.
\end_layout

\begin_layout Standard
באופן מפושט, האינטרנט הוא תקשורת בין לקוחות לשרתים.
 הלקוח מתקשר באמצעות הדפדפן ויש לו מידע לוקאלי.
 השרת מתקשר באמצעות קוד של שרת ויש לו מבני נתונים.
\end_layout

\begin_layout Standard
כדי לגשת לאתר, משתמשים ב-
\lang english
URL
\lang hebrew
-ים, לדוגמה 
\begin_inset Formula $\text{http://www.cs.huji.ac.il/\textasciitilde segev/index.html}$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula ${\rm http}$
\end_inset

 הוא הפרוטוקול;
\end_layout

\begin_layout Itemize
\begin_inset Formula $\text{www.cs.huji.ac.il/}$
\end_inset

 היא כתובת שמתרגמת לכתובת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
IP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ע
\begin_inset Quotes xrd
\end_inset

י
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DNS
\lang hebrew
;
\end_layout

\begin_layout Itemize
\begin_inset Formula $\text{\textasciitilde segev/index.html}$
\end_inset

 הוא ה-
\lang english
path
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
למשאב כלשהו, במקרה הזה תוכן סטטי שאנחנו מבקשים מהשרת.
 התוכן לא חייב להיות סטטי אלא לקבל פרמטרים ולהחזיר קוד ספציפי.
\end_layout

\begin_layout Standard
בכל גלישה לאתר, אנחנו שולחים בקשה, לצורך עניינו או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
GET
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
POST
\lang hebrew
.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
GET
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מבקש מידע בהינתן פרמטרים.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה הנה דוגמה לבקשת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
GET
\lang hebrew
, נשים לב כאן כי יש לנו שדה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Referer
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שאומר לנו מאיזה אתר הגענו לכאן, זה מופיע רק כשאנחנו לוחצים על קישור מאתר
 אחר.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/get.png
	lyxscale 40
	scale 40

\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
POST
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שולח מידע להשמה במבני הנתונים של השרת.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה בדוגמה הזו נשים לב שיש לנו לא רק מידע על הדפדפן כמו לפני, אלא עכשיו
 יש לנו גם מידע על העדכון, הן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
implictly
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)כפרמטר ב-
\lang english
URL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בשורה השנייה( והן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
explicitly
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)בשורה האחרונה(.
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/post.png
	lyxscale 40
	scale 40

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
כיצד מגיב השרת לבקשות כאלה? יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
רכיבים לתגובה:
\end_layout

\begin_layout Itemize
קוד סטטוס - האם הפעולה הצליחה, ואם לא מה גרם לשגיאה.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Header
\lang hebrew
-ים - מתארים את המידע שהשרת החזיר.
\end_layout

\begin_layout Itemize
מידע - מה שביקשנו/התגובה של השרת לבקשה שלנו.
\end_layout

\begin_layout Itemize
עוגיות - נדון על כך בהמשך )בעיקרון המשתמש שומר בדפדפן את הקוקי ובכל בקשה
 יצרף אותו כדי שהשרת ידע לזהות את המשתמש(.
\end_layout

\begin_layout Description
דוגמה להלן דוגמה לתגובה של שרת, כאשר ניתן לזהות כל רכיב שזה עתה הזכרנו.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/res.png
	lyxscale 40
	scale 40

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ב | SQL Injection}
\end_layout

\end_inset


\color lightgray
חלק ב' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/18aVxA83HW17jyYk1quz172b-7mi4Pds3/view}{קישור
}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
כאמור אצל השרת יש מסדי נתונים, שלרוב משמשים אותם לטווח ארוך והמידע בפנים
 יכול להיות רגיש.
\end_layout

\begin_layout Standard
כדי לגשת למסדי הנתונים, משתמשים בין היתר בשפה שנקראת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Standard Query Language (SQL)
\lang hebrew
.
\end_layout

\begin_layout Description
דוגמה נניח שיש לנו את הטבלה הבאה,
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/users.png
	lyxscale 40
	scale 40

\end_inset


\end_layout

\begin_layout Standard
נכיר ארבעה סוגי שאילתות:
\end_layout

\end_deeper
\begin_layout Itemize
שאילתת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SELECT
\lang hebrew
: בחירת עמודה)/ות( בהינתן תנאים, כאן אנחנו לוקחים את כל הגילאים של משתמשים
 ששמם הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Dee
\lang hebrew
, כלומר איבר אחד,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
28
\numeric off
.
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language=SQL,numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

SELECT Age FROM Users Where Name='Dee';
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
שאילתת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
UPDATE
\lang hebrew
: עדכון ערך בעמודה, נשים לב כאן כי כל שורה נגמר ב-; ואחריה יכולה להיות הערה
 שמתעלמים ממנה לחלוטין.
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language=SQL,numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

UPDATE Users SET Email='new@email.com' WHERE Age=32; -- this is a comment
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
שאילתת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
INSERT
\lang hebrew
:הכנסת איבר חדש לעמודה.
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language=SQL,numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

INSERT INTO Users Values('Frank', 'M', 57, ...);
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
שאילתת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DROP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מחיקת עמודה/טבלה.
\end_layout

\begin_deeper
\begin_layout Standard

\lang english
\begin_inset listings
lstparams "language=SQL,numbers=left,stepnumber=1,basicstyle={\sffamily}"
inline false
status open

\begin_layout Plain Layout

DROP TABLE Users
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Description
דוגמה נשתמש ב-
\lang english
SQL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כדי לבצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
login
\lang hebrew
.
 נניח שקיבלנו מהמשתמש שם משתמש וסיסמה.
 נבצע )ב-
\lang english
PHP
\lang hebrew
(,
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/sqli.png
	lyxscale 40
	scale 40

\end_inset


\end_layout

\begin_layout Standard
כאשר כוכבית מסמלת את כל השדות ולא אחד ספציפי.
 אם חזרו תוצאות )יותר מ-
\numeric on
0
\numeric off
(, נכריז שהמשתמש נכנס בהצלחה.
\end_layout

\end_deeper
\begin_layout Standard
כיצד ננצל את הקוד הזה? נניח שאנחנו תוקפים ורוצים להיכנס למערכת באופן לא
 לגיטימי.
 אם ניתן את שם המשתמש
\begin_inset Formula 
\[
\mathrm{frank\;'\;OR\;1=1);\;--}
\]

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וסיסמה כלשהי לכאורה אנחנו לא אמורים להצליח להיכנס, אבל מה שיקרה זה שהשרת
 יבצע את
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/sqli2.png
	lyxscale 40
	scale 40

\end_inset


\end_layout

\begin_layout Standard
ואז מה שאנחנו עושים כאן בעצם זה מחפשים את כל המשתמשים ששמם הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או שעבורם מתקיים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
=
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שזה כמובן מתקיים לכל משתמש ולכן יוחזרו תוצאות ונצליח להיכנס למערכת באופן
 לא לגיטימי.
\end_layout

\begin_layout Standard
להיכנס למערכת זה חלבי מאוד, שליחת שם המשתמש
\begin_inset Formula 
\[
\mathrm{frank'\;OR\;1=1);\;DROP\;TABLES\;Users;\;--}
\]

\end_inset

לא רק שיצליח להיכנס למערכת אלא גם ימחק את כל הטבלה אחריו - זה נזק ממשי.
\end_layout

\begin_layout Standard
אלו מתקפות מאוד נפוצות ועדיין מהוות אחוז לא זניח ממתקפות ברשת.
 
\end_layout

\begin_layout Standard
אז מה הבעיה שגורמת לפגיעות הזו? אנחנו מדביקים את הפרמטרים של המשתמש באופן
 ישיר וכך כאשר הסטרינג מכיל ערבוב של דאטא עם קוד, אנחנו חושפים את עצמנו
 לפגיעות.
\end_layout

\begin_layout Standard
ניתן להסתכל על השאילתה בתור העץ הבא,
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/data.png
	lyxscale 40
	scale 40

\end_inset


\end_layout

\begin_layout Standard
כאשר כאן ברורה מאוד ההפרדה בין קוד למידע.
 ברגע שאין הפרדה העץ הזה משתנה בהתאם לגחמת המשתמש.
\end_layout

\begin_layout Standard

\size larger
מניעת
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SQLi
\end_layout

\begin_layout Standard
פתרון אחד, מאוד לא יעיל שאסור אף פעם להשתמש בו כי לא ככה מגנים על האינטרנט,
 הוא סניטציה של התוכן באמצעות רשימה שחורה של תווים אסורים לדוגמה ; ו-' אבל
 חיסרון אחד של הוא שזה לעתים פוסל אפשרויות לגיטימיות אבל בעיקר זה משחק של
 חתול ועכבר כי תמיד ימצאו דרך לתת אינפוט מטורף שעוקף את הכל.
 לחלופין אפשר לעשות אסקייפינג באמצעות 
\backslash
 לכל דבר חשוד.
 גם זו שיטה בעייתית.
\end_layout

\begin_layout Standard
פתרון נוסף הוא רשימה לבנה שבהינתן קלט במקום לתקן אותו היא פשוט פוסלת אותו.
 פתרון זה מתבסס על עקרון ה-
\lang english
fail safe defaults
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמגביל פונקציונאליות לטובת בטיחות.
\end_layout

\begin_layout Standard

\size larger
הצהרות מוכנות מראש
\end_layout

\begin_layout Standard
במקום פשוט להדביק את המידע אל תוך הבקשה, נשמור להם מקום ובכל קריאה נשים
 אותם כטקסט בלבד בלי התייחס אליהם כקוד.
 לדוגמה בקוד הבא,
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/sql.png
	lyxscale 40
	scale 40

\end_inset


\end_layout

\begin_layout Standard
אנחנו מציבים את שם המשתמש והסיסמה במקומות המיודעים להם וגם מכריזים על סוג
 המשתנה שאנחנו מכניסים, במקרה הזה פעמיים סטרינג )
\lang english
s
\lang hebrew
(.
\end_layout

\begin_layout Standard
גם כאן יש מתקפות שעובדות אבל הן הרבה יותר נדירות וקשות למימוש.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ג | Session ומתקפות עליו}
\end_layout

\end_inset


\color lightgray
חלק ג' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1DzxlvPjhE3hoiMjRC7fyxuqEgoBDSijz/view}{קישור
}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
סשן של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
HTTP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא לרוב משהו מהצורה: הלקוח מתחבר לשרת, מבצע בקשה, השרת מגיב, הלקוח מבצע
 עוד בקשה וחוזר חלילה על שהלקוח מתנתק.
 עם זאת,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
HTTP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 בפני עצמו הוא חסר זיכרון לגמרי, לכן נצטרך להזכיר לשרת מי אנחנו ומה אנחנו
 רוצים בכל בקשה.
 אנחנו רואים את זה בכל מקום, לדוגמה בסל קניות שזוכר בין מעברים באתר מה הלקוח
 רוצה לקנות.
\end_layout

\begin_layout Standard
גם בטווח הקצר, תוכנות רשת שומרות על 
\begin_inset Quotes xld
\end_inset

מצב
\begin_inset Quotes xrd
\end_inset

 שמכיל תוצאות ביניים של השרת שהלקוח שומר ובכל בקשה, הלקוח מעביר את המצב
 הזה לשרת.
 ה
\begin_inset Quotes xrd
\end_inset

מצב
\begin_inset Quotes xrd
\end_inset

 ממומש באמצעות שדות חבויים וקוקיז.
\end_layout

\begin_layout Description
דוגמה נניח שגלשנו לכתובת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
socks.com/order.php
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולחצנו על כפתור ההזמנה עבור גרביים כלשהם.
 משם עברנו למסך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
socks.com/pay.php
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולחצנו על השלמת ההזמנה.
\end_layout

\begin_deeper
\begin_layout Standard
איך זה קרה בפועל? הנה הקוד שהוגש למשתמש בדף התשלום )משמאל( וקוד השרת שמפרסר
 את הבקשה )מימין(
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/pay.png
	lyxscale 40
	scale 50

\end_inset


\begin_inset Graphics
	filename img/hidden.png
	lyxscale 40
	scale 30

\end_inset


\end_layout

\begin_layout Standard
וכפי שניתן לראות השרת גרם ללקוח לשלוח לו שוב את ה
\begin_inset Quotes xrd
\end_inset

מצב
\begin_inset Quotes xrd
\end_inset

 שלו ואז השתמש בו שוב כדי לשרת בקשה נוספת.
\end_layout

\begin_layout Standard
עכשיו נחשוב כתוקפים - איך אפשר לתקוף דבר כזה? נוכל פשוט לשנות את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
header
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
המחיר לערך מאוד נמוך ולשלם הרבה פחות משאנחנו אמורים.
\end_layout

\end_deeper
\begin_layout Standard
כדי לפתור את הבעיה הנ
\begin_inset Quotes xrd
\end_inset

ל הומצאו מזהי סשן שעובדים באופן הבא.
 השרת שומר את מצב הלקוח במקום אמין והלקוח אחראי לכל השאר.
 השרת שומר את המצב, שולח מזהה סשן ללקוח והלקוח נותן לשרת את המזהה הזה בכל
 בקשה נוספת.
\end_layout

\begin_layout Standard
חשוב כמובן לשמור שה-
\lang english
Session Identifiers
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יהיו בלתי ניתנים לניחוש כדי למנוע גישה לא חוקית ל
\begin_inset Quotes xrd
\end_inset

מצב
\begin_inset Quotes xrd
\end_inset

, לדוגמה סטרינג פסאודו-אקראי.
\end_layout

\begin_layout Standard
עתה במקום לתת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
header
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
price
\lang hebrew
, נעביר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
header
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sid
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם הערך שקיבלנו מהשרת.
\end_layout

\begin_layout Standard
יש עדיין בעיות עם המנגנון הזה, בין היתר קשה לתאם את ההעברה שלו בין הרבה
 דפים וצריך להתחיל כל פעם מהתחלה כל פעם שהדפדפן נסגר )כי אז נגמר הסשן בהכרח(.
\end_layout

\begin_layout Standard
כאן נשתמש ב-
\lang english
Cookies
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שיזהו את הלקוח בכל תחילת סשן שהוא ישמור בדפדפן וכך לא נצטרך להתעסק עם זה
 כל כך הרבה.
\end_layout

\begin_layout Description
דוגמה כל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
cookie
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 מכיל מפתח וערך ויכול לשמור גם ערכים נוספים, ראו תגובה לתגובת השרת לבקשה
 כלשהי, כאשר ה-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
header
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Set-Cookie
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 מבקש מהלקוח לשמור את הקוקיז האלה אצלו.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/cookie.png
	lyxscale 40
	scale 30

\end_inset


\end_layout

\begin_layout Standard
נשים לב כי בין היתר הועברה אפשרות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
domain
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמכילה את הסיומת של כל האתרים שאליהם צריך להעביר את הקוקי, ולא לאף אתר אחר.
\end_layout

\begin_layout Standard
בכל בקשה נוספת של הלקוח, הוא ישלח לו ב-
\lang english
header
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ה-
\lang english
Cookie
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
את כל הקוקיז שעונים על הדרישות של הבקשה )בתוקף עדיין, לאתר הנכון וכו'(.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
שימושים לעוגיות
\end_layout

\begin_layout Itemize
זיהוי משתמש לאחר זיהוי ב-
\lang english
login
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בלי צורך ל-
\lang english
login
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
חוזר.
\end_layout

\begin_layout Itemize
התאמה אישית של האתר למשתמש בלי מגע של המשתמש )צבע גופן מועדף וכו'(.
\end_layout

\begin_layout Itemize
מעקב אחר משתמש לשם פרסום מותאם.
 לרוב השימוש בעוגיות לאותו האתר הן בסדר ולא חמורות.
 אבל אם יש עוגיות בין אתרים )
\lang english
Cross Site Cookies
\lang hebrew
( זה יכול ליצור בעיה.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה אם אנחנו מעוניינים לרכוש ביטוח שלא דורש הצהרה רפואית ולפני כן במקרה
 גלשנו באתר אחר וקראנו על מחלה שיש/אין לנו, אם רשת פרסום/מעקב מצליחה לעלות
 על הקשר הזה ולייקר את הביטוח כי היא חושבת שיש לנו את המחלה הזו, זו הפרה
 בוטה של הפרטיות שלנו.
\end_layout

\begin_layout Description
דוגמה רשת פרסום יכולה לעקוב גם בלי המנגנון המתוחכם הזה.
 אם במהלך גלישה באתר כלשהו מופיעה מודעה של רשת פרסום כלשהי, השרת של רשת
 הפרסום יכול לזהות את ה-
\lang english
referrer
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וכך יודע שגלשנו באתר ואז לשמור קוקי שאוגר את כל האתרים שבו המשתמש היה.
 כך למעשה אנחנו עוזרים לרשת הפרסום לעקוב אחרינו בעל כורנו.
 בימינו אפשר לחסום קוקיז מצד שלישי כמו אלה.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
\begin_inset Formula $ $
\end_inset


\lang english
Session Hijacking
\end_layout

\begin_layout Standard
לאחר ביצוע הזדהות מוצלחת מול שרת, המשתמש מקבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Session Cookie
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שבאמצעותה ייכנס לאתר בפעמים הבאות בלי לבצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Login
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כל פעם מחדש.
 הקוקי יכול להיות מועבר או דרך ארגומנט ב-
\lang english
URL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או דרך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Header
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בבקשה ומבחינתנו אין הבדל.
\end_layout

\begin_layout Standard
באמצעות גישה לקוקי אפשר לבצע פעולות רגישות באמצעות הגישה המאומתת לאתר.
 כיצד נתקוף וניגש לקוקי?
\end_layout

\begin_layout Itemize
לפרוץ למחשב של הלקוח או לשרת.
\end_layout

\begin_layout Itemize
לנחש את הקוקי )קשה אם הקוקי ממומש היטב, אקראית(.
\end_layout

\begin_layout Itemize
להסניף את התקשורת של המחשב ואם היא לא מאובטחת לגשת לקוקי.
\end_layout

\begin_layout Itemize
להרעיל את ה-
\lang english
DNS cache
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- לגרום למשתמש לחשוב שהוא ניגש לפייסבוק אפילו שהוא לא ואז יועבר הקוקי לאתר
 הזדוני.
\end_layout

\begin_layout Standard

\size larger
\begin_inset Formula $ $
\end_inset


\lang english
Cross Site Request Forgery
\end_layout

\begin_layout Standard
אם התוקף הצליח לגרום למשתמש להיכנס ל-
\lang english
URL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמעביר כסף מחשבון בנק אחד לאחר אחרי שהוא חקר מספיק את מנגוני הבנק, הוא הצליח
 לבצע מתקפה.
 אבל למה שהשתמש יכנס לקישור שכזה?
\end_layout

\begin_layout Standard
נניח שהמשתמש הגיע לאתר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
attacker.com
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ושם יש תמונה שכתובתה המוצהרת היא
\begin_inset Formula 
\[
\text{http://bank.com/tranfer.cgi?amt=9999\&to=attacker}
\]

\end_inset

כלומר אותה הכתובת הזדונית האמורה.
 הדפדפן יגש לכתובת הזו באופן אוטומטי כדי להציג את התמונה וימצא את עצמו מעביר
 כסף בטעות לתוקף כי הדפדפן שולח את ה-
\lang english
Session Cookie
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי כל המהלך כאן חוקי לגמרי.
\end_layout

\begin_layout Standard
מתקפה זו מוצלחת רק על משתמשים עם חשבון בשרת פגיע; המטרה של התוקף היא לגרום
 למשתמש לבצע בקשות חוקיות שהוא לא רוצה לבצע; והוא עושה זאת באמצעות גרימה
 למשתמש ללחיצה על כפתור שהוא לא רוצה )או הורדת תמונה זדונית וכו'(.
\end_layout

\begin_layout Standard
כיצד נגן מפני מתקפה כזו?
\end_layout

\begin_layout Itemize
באמצעות שדה ה-
\lang english
refferer
\lang hebrew
, אם אנחנו רואים שהלקוח הופנה מאתר לא לגיטימי פשוט לא נבצע את הבקשה שלו.
 זו לא שיטה טובה כי זהו שדה אופציונאלי ולא אמין.
\end_layout

\begin_layout Itemize
נכלול ב-
\lang english
URL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
סוד כלשהו - נקשור בין הקישור לקוקי.
 אפשר להשתמש בשדה סודי או לקודד את הסוד בתוך ה-
\lang english
URL
\lang hebrew
.
 זה יכול להיות ה-
\lang english
session id
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או סתם מחרוזת אקראית שהוגרלה על ידי האתר הלגיטימי שהעביר את המשתמש לבקשה
 הנוכחית.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ד | Javascript בעד ונגד}
\end_layout

\end_inset


\color lightgray
חלק ד' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1WiaRPncKI869LOUiqdBAsjRBIT1sRXeH/view}{קישור
}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
במקום שיהיה לנו משאב סטטי או משאב שמוגש סופית בהינתן פרמטרים, נוכל להשתמש
 ב-
\lang english
Javascript
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כדי לבצע חישובים דינמיים אצל הלקוח במקום לעשות הכל בשרת.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
JS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
סימן את המעבר מדור ראשון לדור השני של האינטרנט.
\end_layout

\begin_layout Standard
הסקריפטים רצים על הלקוח ויכולים לעשות כל מיני דברים כמו לעקוב אחר אירועים,
 ליצור קוקיז ועוד.
\end_layout

\begin_layout Standard
חשוב לוודא שסקריפט של אתר אחד לא יכול לגשת לקוקי של אתר אחר כי אז תוקף שהאתר
 שלו פתוח אצל הלקוח יוכל לגשת לבנק של המשתמש באופן זדוני.
 דפדפנים הם אלה שחייבים לוודא שסקריפט נוגע רק במה ששייך לו ולא שום דבר אחר.
\end_layout

\begin_layout Standard
הבידוד הזה מבוצע על ידי הדפדפן באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Same Origin Policy
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמשייכת כל אלמנט )קוקי, תמונה וכו'( למקור כלשהו ומאפשרת לכל אלמנט לגשת רק
 לדברים עם מקור זהה לשלו.
\end_layout

\begin_layout Standard

\size larger
\begin_inset Formula $ $
\end_inset


\lang english
Cross Site Scripting
\end_layout

\begin_layout Standard
המטרה של מתקפה זו היא לעקוף את ה-
\lang english
SOP
\lang hebrew
, כלומר לגרום לדפדפן לחשוב שסקריפט ממקור כלשהו )זדוני( הוא למעשה ממקור אחר
 )רגיש(.
 מתקפות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
XSS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
גורמות לשרת הרגיש לשלוח קוד זדוני למשתמש וכך הדפדפן יחשוב שהוא מגיע מאותו
 מקור פגיע כי זה באמת המצב.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Persistent XSS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- התוקף משאיר סקריפט על השרת של הבנק.
 השרת בטעות יגיש ללקוח קורבן את הקוד והוא יריץ אותו מאותוה מקור של הבנק.
 הסקריפט הזדוני שנשתל אצל השרת יכול לעשות כל דבר, החל מלגנוב קוקיז ועד לביצוע
 פעולות רגישות.
\end_layout

\begin_deeper
\begin_layout Standard
נדמה שקשה מאוד לתוקף לשתול קוד אצל השרת אבל זה בכלל לא המצב.
\end_layout

\begin_layout Description
דוגמה המתקפה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Samy
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MySpace
\lang hebrew
.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Samy
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
העלה לדף שלו סקריפט.
 כל משתמש שנכנס לדף שלו הריץ את הסקריפט בעל כורחו.
 הסקריפט הוסיף את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Samy
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לרשימת החברים של המשתמש, שינה את הדף של המשתמש להכיל תעמולה פרו-
\lang english
Samy
\lang hebrew
-ית והדביק את הדף של הקורבן כך שכל מי שיבקר בדף שלו יהיה קורבן לאותו תהליך.
\end_layout

\begin_deeper
\begin_layout Standard
מספר החברים של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Samy
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קפץ מ-
\numeric on
73
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
למיליון בעשרים שעות והוא הצליח לגרום ל-
\lang english
MySpace
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ליפול לסופ
\begin_inset Quotes xrd
\end_inset

ש באוקטובר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2005
\numeric off
.
\end_layout

\end_deeper
\begin_layout Description
הערה גם בשנים האחרונות היו מתקפות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
XSS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בטוויטר שגרמו לזה שהמשתמש היה עושה לייק ומשתף את הפוסט ומדביק עוד משתמשים.
\end_layout

\end_deeper
\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Reflected XSS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- התוקף יגרום למשתמש לשלוח את הסקריפט )כפרמטר בבקשה לדוגמה( לשרת של הבנק
 והשרת יחזיר בהמשך את הסקריפט והוא ירוץ על המחשב שלו עם מקור חוקי )רגיש(.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה נניח שהמשתמש ביקר באתר זדוני ולחץ על קישור לאתר הבנק שמכיל פרמטר עם
 סקריפט )כמחרוזת(, לדוגמה שם נמען ההעברה.
\end_layout

\begin_deeper
\begin_layout Standard
השרת יחזיר דף שמכיל את התוכן הזה מסיבה כלשהי )לדוגמה כדי להודיע שלא קיים
 נמען כזה( אבל במקום להסתכל על זה כמידע, הסקריפט יגיע כקוד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
JS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
להרצה והמשתמש יריץ את הסקריפט הזדוני.
\end_layout

\end_deeper
\begin_layout Standard
הסיבה שהמתקפה הזו עובדת היא שהשרת לא מצליח לזהות שהתגובה שלו מכילה סקריפט
 מוטמע בתוכה.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
הגנות מפני
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
XSS
\end_layout

\begin_layout Standard
דרך אחת להתגונן מפני מתקפות כאלה היא לוודא שהשרת לא מגיש דף עם סקריפט שהוא
 לא התכוון להגיש.
 הבעיה היא שיש הרבה מאוד דרכים להכניס סקריפט וזה כמו הרבה דברים משחק של
 חתול ועכבר.
\end_layout

\begin_layout Standard
המצב אפילו יותר חמור כי דפדפנים רבים מנסים לעזור ל-
\lang english
HTML
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שבור לעבוד ואז למעשה יוצרים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
XSS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 שלא היו קיימים אחרת.
\end_layout

\begin_layout Standard
פתרון נוסף הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Whitelisting
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שדוחה כל דבר שנראה חשוד בלי ניסיון לתקן אותו, זה כמובן יותר מוצלח אבל גם
 לא פותר את כל הבעיה.
\end_layout

\begin_layout Standard
חשוב להבדיל בין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
XSS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\lang english
CSRF
\lang hebrew
.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
XSS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מנצל את העובדה ש
\bar under
משתמש מאמין לכל מה שהשרת נותן לו
\bar default
 ואז גורם לשרת לשלוח סקריפט זדוני שלא השרת ולא הלקוח רוצים.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CSRF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לעומת זאת מנצל את העובדה ש
\bar under
שרת מאמין לכל מה שהלקוח נותן לו
\bar default
.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1ZhPYS-3_0oTMBuVOn5rlwWu2X3G12IEU/view}{קישור
}
\end_layout

\end_inset


\end_layout

\begin_layout Description
שאלה נתון הקוד הבא,
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/pp1.png
	lyxscale 40
	scale 40

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
main
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קוראת שם באורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
12
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים, מדפיסה אותו עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
printf
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)באופן ישיר, לא עם פורמט(, קוראת סיסמה באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
forward_to_fgets
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וקוראת ל-
\lang english
f
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לסיום, שהיא מאותחלת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
forawrd_to_printf
\lang hebrew
.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
forward_to_fgets
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קוראת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
40
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים אל תוך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
input
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז מעתיקה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים ל-
\lang english
pasword
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שהוא באפר באורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\numeric off
.
\end_layout

\begin_layout Enumerate
תארו את תוכן המחסנית בשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
6
\numeric off
.
 בהנחה שאין אופטימיזציות ומנגנוני אבטחה ושהארגומנטים מוכנסים למחסנית בסדרך
 הפוך לסדר הגדרתם ולוקאליים מוכנסים לפי סדר הגדרתם.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/stack2.png
	lyxscale 40
	scale 30

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
הראו כי תוקף המריץ את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
main
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יכול לספק קלט בשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 שיאפשר לחשב את הכתובת הוירטואלית של 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
f
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Standard
נשים לב שכשאנחנו קוראים ל-
\lang english
forward_to_printf
\lang hebrew
, אנחנו עושים את זה באופן ישיר.
 אם יש לנו את הכתובת הוירטואלית של 
\begin_inset Formula ${\rm \%ebp}$
\end_inset

 )כפי שערכו בפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
main
\lang hebrew
(, בקלות נוכל לחשב את 
\begin_inset Formula $f$
\end_inset

 )פשוט 
\begin_inset Formula ${\rm \%ebp-16}$
\end_inset

( ולכן נספק את הקלט 
\begin_inset Formula ${\rm \%p}$
\end_inset

 וזה ידפיס לנו את הכתובת של 
\begin_inset Formula ${\rm \%ebp}$
\end_inset

 )השמור במסגרת של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
main
\lang hebrew
, לא של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
forward_to_printf
\lang hebrew
(.
\end_layout

\end_deeper
\begin_layout Enumerate
הראו כי תוקף יכול לספק שני ערכי קלט בשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ושורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
22
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כך שהתכנית תגיע לשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
14
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ותריץ את קוד הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
boo
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
במקום
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
forward_to_printf
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Standard
בקריאה לפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
forward_to_fgets
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
המחסנית נראת כך,
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/stack3.png
	lyxscale 40
	scale 30

\end_inset


\end_layout

\begin_layout Standard
לכן בשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נספק את הקלט 
\begin_inset Formula ${\rm \%p}$
\end_inset

 ונקבל את ערכו של 
\begin_inset Formula ${\rm \%ebp}$
\end_inset

 )של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
main
\lang hebrew
( ונשמור את 
\begin_inset Formula ${\rm loc=\%ebp-4}$
\end_inset

.
\end_layout

\begin_layout Standard
בשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
22
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נספק את הקלט 
\begin_inset Formula ${\rm AAAAloc}$
\end_inset

 וכך 
\begin_inset Formula ${\rm \%ebp}$
\end_inset

 יזוז בארבעה בתים אחורה כך שכשניגש בכתובת היחסית ל-
\begin_inset Formula ${\rm \%ebp}$
\end_inset

 למה שנראה לנו כמו 
\begin_inset Formula ${\rm f}$
\end_inset

, למעשה אנו ניגשים ל-
\begin_inset Formula ${\rm g}$
\end_inset

, הלא היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
foo
\lang hebrew
.
\end_layout

\end_deeper
\begin_layout Enumerate
האם שימוש ב-
\lang english
canary values
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יעזור למנוע את המתקפה?
\end_layout

\begin_deeper
\begin_layout Standard
כן, כי לפני שנדרוס את 
\begin_inset Formula ${\rm \%ebp}$
\end_inset

 נצטרך לעבור קודם דרך ערך קנרית ולדרוס גם אותו.
\end_layout

\begin_layout Standard
האם שימוש ב-
\lang english
ASLR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יעזור?
\end_layout

\begin_layout Standard
לא, הוא לא רלוונטי כי לא חישבנו כתובת קבועה עבור אף פ', 
\begin_inset Formula $g$
\end_inset

 בכל מקום תרוץ עדיין.
\end_layout

\begin_layout Standard
האם שימוש ב-
\lang english
CFI
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יעזור?
\end_layout

\begin_layout Standard
כן,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
boo
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא מחובר בקשת לאף פ' ולא קיבל אף תווית ולכן ברור שקריאה לפ' הוא דבר לא חוקי
 שהיה נצער בידי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CFI
\lang hebrew
.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
שאלה נתון הקוד הבא,
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/pp2.png
	lyxscale 40
	scale 40

\end_inset


\end_layout

\begin_layout Standard
הקוד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
func
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 מעתיקה לכל היותר 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
11
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 סטראקטים מסוג 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
bar
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אל תוך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
buf
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם מתקיים התנאי הראשון ואחרת היא מעתיקה סטראקט אחד כל פעם, במשך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
idx + 1
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
איטרציות )שימו לב ל-
\begin_inset Formula $<=$
\end_inset

 במקום 
\begin_inset Formula $<$
\end_inset

(.
\end_layout

\begin_layout Enumerate
תראו את תוכן המחסנית בשורה מספר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
9
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תחת אותם ההנחות כמו תמיד.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/stack4.png
	lyxscale 40
	scale 30

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
נתון כי פ' המערכת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sleep
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נמצא בכתובת 
\begin_inset Formula ${\rm 0xaabbccdd}$
\end_inset

.
 הראו כי יש שתי חולשות שונות בפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
func
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמאפשרות לתוקף להריץ את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sleep
\lang hebrew
.
 כלומר מצאו שתי שלשות 
\begin_inset Formula $\left({\rm idx,p,data}\right)$
\end_inset

 כקלט ל-
\lang english
func
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שגורמות להרצת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sleep
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Enumerate
נדרוס את 
\begin_inset Formula ${\rm \%eip}$
\end_inset

 איכשהו בכניסה ל-
\lang english
if
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הראשון.
 נשים לב כי אנחנו מעתיקים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
11
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כפול
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים של זיכרון, כלומר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
88
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים, שזה בדיוק מספיק כדי לדרוס את 
\begin_inset Formula ${\rm \%eip}$
\end_inset

.
 לכן ניתן את הקלט 
\begin_inset Formula $p$
\end_inset

 שמצביע למחרוזת 
\begin_inset Formula ${\rm AA...AAA0xaabbccdd}$
\end_inset

 כשיש לנו 
\begin_inset Formula $84$
\end_inset

 פעמים 
\begin_inset Formula $A$
\end_inset

, 
\begin_inset Formula ${\rm idx}$
\end_inset

 שיהיה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
11
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)או מספר שלילי וכו'( ו-
\begin_inset Formula ${\rm data}$
\end_inset

 כלשהו.
\end_layout

\begin_deeper
\begin_layout Standard
התוכנה תיכנס לשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
11
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
strncpy
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תדרוס את כל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
buf
\lang hebrew
, את 
\begin_inset Formula ${\rm \%ebp}$
\end_inset

 וגם את 
\begin_inset Formula ${\rm \%eip}$
\end_inset

 עם הפוינטר לפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sleep
\lang hebrew
.
 כשהפ' תסיים את ריצתה היא תחזור לכתובת החזרה שלה, הלא היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sleep
\lang hebrew
.
\end_layout

\end_deeper
\begin_layout Enumerate
נדרוס את 
\begin_inset Formula ${\rm \%eip}$
\end_inset

 באמצעות שורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
15
\numeric off
.
 אנחנו מעתיקים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים בכל איטרציה ועושים זאת 
\begin_inset Formula ${\rm idx+1}$
\end_inset

 פעמים לכן עבור הקלט 
\begin_inset Formula ${\rm idx=10}$
\end_inset

, 
\begin_inset Formula $p$
\end_inset

 כלשהו ודאטא שהוא 
\begin_inset Formula ${\rm AAAA0xaabbccdd}$
\end_inset

, לא ניכנס לשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אלא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
14
\numeric off
, נריץ את הלולאה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
11
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
איטרציות ובאיטרציה האחרונה נדרוס את 
\begin_inset Formula ${\rm \%ebp}$
\end_inset

 וכן 
\begin_inset Formula ${\rm \%eip}$
\end_inset

 )בכתובת של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sleep
\lang hebrew
(.
 כשהפ' תחזור היא תמצא את עצמה ב-
\lang english
sleep
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
פתאום.
\end_layout

\end_deeper
\begin_layout Enumerate
האם שימוש בערכי קנרית היה מונע את המתקפה?
\end_layout

\begin_deeper
\begin_layout Standard
כן, כי שתי המתקפות היו דורסות גם כן את ערך הקנרית ואז התוכנה הייתה מסרבת
 לקפוץ בשל אי התאמה בערכים.
\end_layout

\begin_layout Standard
האם שימוש ב-
\lang english
ASLR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יעזור?
\end_layout

\begin_layout Standard
כן, כי אנחנו מניחים בשתי המתקפות שהמיקום של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sleep
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא קבוע וידוע לנו, אף על פי שהוא לא.
\end_layout

\begin_layout Standard
האם שימוש ב-
\lang english
CFI
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יעזור?
\end_layout

\begin_layout Standard
כן, כי התוכנה לא משתמשת בשום שלב ב-
\lang english
sleep
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן לא תהיה תווית תואמת עבור פ' זו ושתי המתקפות ימנעו.
\end_layout

\end_deeper
\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{X
\backslash
;
\backslash
; ניתוח קוד סטטי}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{X}$
\end_inset

 | ניתוח קוד סטטי
\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{א | מבוא לאנליזה סטטית של קוד}
\end_layout

\end_inset


\color lightgray
חלק א' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1oHeNjA0Sxb_EE4ib1gvGpRSbXZowNEse/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
ניתוח קוד סטטי הוא שיטה אחת לבדיקת קוד באופן אוטומטי להגנה מפני מפגעי אבטחה.
 הוא מאפשר בנוסף לבדוק האם מערכת שלא אנחנו כתבנו היא בטוחה.
\end_layout

\begin_layout Standard
ראשית עלינו לענות על השאלה - מה היא תכנית בטוחה? בעיקרון זו תכנית שיכולה
 להתנהג רק בדרכים שהמתכנת התכוון שהיא תתנהג, אבל אז צריך לענות על השאלה
 - מה היא הריצה הנכונה של תוכנה?
\end_layout

\begin_layout Standard

\size larger
גישות לבדיקת נכונות
\end_layout

\begin_layout Enumerate
טסטינג - הרצת התכנית עם קלטים שונים )שנבחרים תוך הבנה של התכנית(.
\end_layout

\begin_deeper
\begin_layout Description
יתרונות אם התכנית כן נופלת, אפשר בקלות לברר מה השתבש ולתקן זאת.
\end_layout

\begin_layout Description
חסרונות יקר על הרבה קלטים, קשה לבדוק כל מסלול אפשרי של הקוד ולא מבטיח שאין
 קלט אחד שפיספסנו שהתוקף יכול להשתמש בו )מספיק אחד שפיספסנו והכל מיותר(.
\end_layout

\end_deeper
\begin_layout Enumerate
אודיטינג - לשכנע מישהו שהקוד שלנו הוא נכון.
\end_layout

\begin_deeper
\begin_layout Description
יתרונות בני אדם יכולים להבין קונספטים מורכבים יותר ממכונה.
\end_layout

\begin_layout Description
חסרונות גם יקר, קשה לכסות כל אפשרות ולא מבטיח שלא פיספסנו שום דבר.
\end_layout

\end_deeper
\begin_layout Standard
ניתוח קוד סטטי מנתחת את הקוד בלי להריץ אותו.
\end_layout

\begin_layout Description
יתרונות כיסוי הרבה יותר רחב של מסלולי הריצה )לפעמים אפילו כולם, מה שכן מבטיח
 שהקוד באמת בטוח( ואפילו כיסוי על ספריות.
\end_layout

\begin_layout Description
חסרונות מנתח רק תכונות די מוגבלות, יכול לקחת הרבה זמן ויכול לפספס מפגעי
 אבטחה או להתריע אזעקות שווא
\end_layout

\begin_layout Standard
אנליזה סטטית של קוד מאפשרת שלילה של מחלקות שלמות של פרצות אבטחה )כל הבאפר-אובפרפ
לואים וכו'(; מאפשרת למתכנתים להתרכז בהגנה מפני מפגעים יותר עמוקים ולא להתעסק
 בזוטות; ומשתמשים בה יותר ויותר במשק.
\end_layout

\begin_layout Standard
בנוסף, אנליזה סטטית גורמת למפתחים להימנע משגיאות מלכתחילה וגורמת להם לחשוב
 על הנחות היסוד שלהן יותר לעומק.
\end_layout

\begin_layout Standard
אי אפשר להשיג אנליזה סטטית מושלמת כי פתירת בעיה זו שקולה לפתרון בעיית העצירה.
\end_layout

\begin_layout Standard
עם זאת, אפשר לעשות אנליזה סטטית שימושית שעלולה לא להסתיים אף פעם, להתריע
 התרעות שווא ולפספס מפגעים.
\end_layout

\begin_layout Standard
כלומר אנליזה סטטית טובה היא טריידוף בין דיוק, יכולת לנתח תוכנות גדולות ויכולת
 להבין מה המפגעים שהאנליזה מדווחת עליהם.
\end_layout

\begin_layout Description
הערה גם סגנון תכנות הוא חשוב, כאשר קוד שכתוב גרוע מדי יכול פשוט להיות מסורב
 בידי הכלי מטעמי אבטחה.
 בנוסף, התרעות שווא לרוב נובעות מסיבוך קוד מיותר.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ב | Flow-Analysis}
\end_layout

\end_inset


\color lightgray
חלק ב' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/11h4Q5VUxuD2MtrtMcPpvu8RVvnEte13I/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
המטרה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Flow Analysis
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא לעקוב אחר איך ערכים עוברים ממקום למקום בזיכרון.
 הסיבה שזה עוזר לנו היא שהרבה מתקפות מתבססות על מתן אימון בקלט לא חוקי.
 לכן קלט מהמשתמש ייחשב מעתה חשוד )
\lang english
tainted
\lang hebrew
( ומידע פנימי שלנו ייחשב לא חשוד )
\lang english
untainted
\lang hebrew
(.
\end_layout

\begin_layout Description
דוגמה פ' כמו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
strcpy
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מניחות שהקלט שלהן הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
untainted
\lang hebrew
.
 בדומה,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 שאילתות 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SQL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מניחות שהקלט הוא לא חשוד.
\end_layout

\begin_layout Standard
הרעיןן המרכזי ב-
\lang english
FA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא שנסמן בקוד כל משתנה אם הוא חשוד או לא חשוד.
 הסימון יוגדר באופן הבא:
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
tainted
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם יכול להיות שהתוקף שלוט בו, ו-
\lang english
untainted
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם התוקף בטוח לא שולט בו.
\end_layout

\begin_layout Description
דוגמה בקוד הבא,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
printf
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
חייב להניח שהקלט שלו לא חשוד, אבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
fgets
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כמובן מחזיר תוכן חשוד מהמשתמש.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/tainted.png
	scale 60

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
אם אנחנו מוצאים את עצמנו משתמשים במשתנה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
tainted
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
במקום שאמור להיות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
untainted
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- הרי לנו מפגע אבטחה!
\end_layout

\begin_layout Standard
המטרה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
FA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא לענות על השאלה האם קיים קלט שגורם לזרימה של ערכים חשודים לערכים לא חשודים
 - זרימה כזו נקראת זרימה לא חוקית.
\end_layout

\begin_layout Description
דוגמה הקוד הבא הוא זרימה חוקית, כי לא אכפת לנו אם ערך לא חשוד מועבר לפ'
 שמקבלת חשודים,
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/legal.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
עם זאת, הקוד הבא אינו זרימה חוקית, כי אנחנו מעבירים ערך חשוד אל תוך פ' שמניחה
 שהקלט שלה אינו חשוד,
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/illegal.png
	scale 50

\end_inset


\end_layout

\end_deeper
\begin_layout Description
הערה אם נסתכל על זה בתור סדר, כאשר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
untainted
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קטן ממש מ-
\lang english
tainted
\lang hebrew
, וכל מעבר של ערך ממקום למקום בזיכרון הוא איבר בסדר, אז זרימה לא חוקית היא
 סדרה לא מונוטונית עולה.
\end_layout

\begin_layout Standard
כיצד פרקטית נבצע את האנליזה? 
\end_layout

\begin_layout Enumerate
ניתן לכל משתנה/ערך החזרה/ארגומנט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
qualifier
\lang hebrew
.
\end_layout

\begin_layout Enumerate
לכל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
statement
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתכנית, ניצור תנאי מהצורה 
\begin_inset Formula $q_{1}\leq q_{2}$
\end_inset

 )עם אותו הסדר הנ
\begin_inset Quotes xrd
\end_inset

ל(.
\end_layout

\begin_deeper
\begin_layout Description
דוגמה עבור 
\begin_inset Formula $x=y$
\end_inset

 האילוץ החדש הוא 
\begin_inset Formula $q_{y}\leq q_{x}$
\end_inset

 כאשר 
\begin_inset Formula $q_{x},q_{y}$
\end_inset

 הם ה-
\lang english
qualifier
\lang hebrew
-ים של 
\begin_inset Formula $x,y$
\end_inset

 בהתאמה.
\end_layout

\end_deeper
\begin_layout Enumerate
נפתור את בעיית ההשמה תחת כל האילוצים.
\end_layout

\begin_layout Enumerate
אם אין פתרון, יכול להיות שיש זרימה לא חוקית.
\end_layout

\begin_layout Description
דוגמה ננתח את הקוד הבא,
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/tainted.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/ex1.png
	scale 50

\end_inset


\end_layout

\begin_layout Standard
ניצור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
qualifier
\lang hebrew
-ים 
\begin_inset Formula $\alpha,\beta$
\end_inset

 ל-
\begin_inset Formula $name,x$
\end_inset

 בהתאמה.
\end_layout

\begin_layout Standard
האילוץ הראשון הוא 
\begin_inset Formula $\ta\leq\alpha$
\end_inset

 )ערך ההחזר השל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
fgets
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא חשוד(.
\end_layout

\begin_layout Standard
האילוץ השני הוא 
\begin_inset Formula $\alpha\leq\beta$
\end_inset

.
\end_layout

\begin_layout Standard
האילוץ השלישי הוא 
\begin_inset Formula $\beta\leq\unt$
\end_inset

.
\end_layout

\begin_layout Standard
כלומר קיבלנו את המשוואה 
\begin_inset Formula $\ta\leq\alpha\leq\beta\leq\unt$
\end_inset

 וכמובן שאין לזה פתרון כי 
\begin_inset Formula $\unt<\ta$
\end_inset

 ולכן יש פה זרימה לא חוקית וזו אינה אזעקת שווא!
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ג | Flow-Sensitivity ו-Path-Sensitivity}
\end_layout

\end_inset


\color lightgray
חלק ג' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/12-GWWaRXQGmsqsVosQG1Qa0kMb6S4-6j/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
אזעקות שווא בעיקרון הן לא דבר רע כי אפשר לברר שהן אכן כאלה ופשוט להתעלם
 מהן.
 עם זאת, יותר מדי כאלה מעקבות את הריצה ומבלבלת אותנו.
 נברר כיצד למגר אותן.
\end_layout

\begin_layout Description
דוגמה נניח שיש לנו את הקוד הבא
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/cond.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
ננתח את הקוד.
 יש לנו כבר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
qualifier
\lang hebrew
-ים 
\begin_inset Formula $\alpha,\beta$
\end_inset

.
 האילוצים המתקבלים משורות הקוד הם:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\ta\le\alpha$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\alpha\leq\beta$
\end_inset

 )יכול להיות שאנחנו לא נכנסים ל-
\lang english
if
\lang hebrew
, אבל אנחנו מסתכלים על כל המקרים ובפרט על המקרה הכי גרוע ולכן נוסיף את האילוץ
 תמיד(.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq\beta$
\end_inset

 )נכלול גם את זה כדי לא לפספס אף מקרה, אפע
\begin_inset Quotes xrd
\end_inset

פ שהוא מקרה פרטי של הנ
\begin_inset Quotes xrd
\end_inset

ל(.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\beta\leq\unt$
\end_inset

.
\end_layout

\begin_layout Standard
תחת אילוץ זה, יש עדיין זרימה לא חוקית, 
\begin_inset Formula $\ta\leq\alpha\leq\beta\leq\unt$
\end_inset

 והתגברנו על ה-
\lang english
conditional
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולא הצלחנו לתת לו לבלבל אותנו! העניין כאן הוא שלא לקחנו סיכונים.
\end_layout

\begin_layout Standard
נשים לב שגם אם שתי השורות ב-
\lang english
if-else
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היו רצות תמיד )פשוט בלי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
if
\lang hebrew
(, היינו מקבלים את אותה ההתרעה על זרימה לא חוקית כמקודם.
 עם זאת, הפעם, המחרוזת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
hello!
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הלא חשודה דורסת את הערך החשוד ב-
\lang english
x
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן זו התרעת שווא - הקוד בסדר גמור.
\end_layout

\end_deeper
\begin_layout Description
הערה הסיבה שהייתה פה אזעקת שווא היא ש-
\lang english
x
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הפך מחשוד ללא חשוד, ו-
\lang english
FA
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא זיהה את השינוי הזה.
\end_layout

\begin_layout Standard
עד כה האנליזה שלנו הייתה לא רגישה לזרימה, כלומר כל משתנה הוא בעל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
qualifier
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אחד שקובע האם המשתנה הוא חשוד תחת כל ההשמות שלו במשך כל הריצה, שזה כמובן
 לא תמיד מה שאנחנו רוצים.
\end_layout

\begin_layout Standard
אנליזה רגישת זרימה )
\lang english
Flow-Sensitive
\lang hebrew
( מכירה בכך שתוכן המשתנים משתנה לאורך זמן, ולכן לכל השמה במשתנה נחזיק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
qualifier
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אחר )לדוגמה 
\begin_inset Formula $x$
\end_inset

 חשוד בשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
23
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אבל לא חשוד בשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
105
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וכו'(.
 אפשר לממש זאת באמצעות פיצול כל משתנה למשתנים שונים בין כל שתי השמות.
\end_layout

\begin_layout Description
דוגמה תחת הדוגמה הקודמת בלי ה-
\lang english
if
\lang hebrew
-ים, נפצל את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
x
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בין הדריסות ונקבל את הקוד הבא,
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/sensitive.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
עתה האילוצים שלנו הם 
\begin_inset Formula $\ta\leq\alpha$
\end_inset

, 
\begin_inset Formula $\alpha\leq\beta$
\end_inset

, 
\begin_inset Formula $\unt\leq\gamma$
\end_inset

, 
\begin_inset Formula $\gamma\leq\unt$
\end_inset

 ויש לך השמה חוקית - 
\begin_inset Formula $\gamma=\unt$
\end_inset

 ו-
\begin_inset Formula $\alpha=\beta=\ta$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Description
דוגמה נביט בדוגמת קוד עם מספר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
conditional
\lang hebrew
-ים,
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/multi.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
השורה השלישית נותנת את האילוץ 
\begin_inset Formula $\unt\leq\alpha$
\end_inset

, הרביעית נותנת 
\begin_inset Formula $\ta\leq\alpha$
\end_inset

 והחמישית נותנת 
\begin_inset Formula $\alpha\leq\unt$
\end_inset

.
 כלומר נקבל את המשוואה 
\begin_inset Formula $\ta\leq\alpha\leq\unt$
\end_inset

 שלזה אין פתרון כי 
\begin_inset Formula $\unt<\ta$
\end_inset

.
\end_layout

\begin_layout Standard
עם זאת, זו כמובן אזעקת שווא כי ה-
\lang english
printf
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
רץ רק אם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
x
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתקיים, ובמקרה כזה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
y
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מכיל ערך לא חשוד.
\end_layout

\begin_layout Standard
הבעיה כאן היא שאי אפשר לפצל את המשתנים שוב ולכן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
flow sensitivity
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא עוזרת לנו.
\end_layout

\end_deeper
\begin_layout Standard
אנליזה רגישת מסלול )
\lang english
Path-Sensitive
\lang hebrew
( מכירה בכך שיכולים להיות מסלולים שונים באותה התכנית.
 ניתן לכל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
statement
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אינדקס ואז כל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
qualifier
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מכיל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
path condition
\lang hebrew
.
\end_layout

\begin_layout Description
דוגמה עבור הקוד הנ
\begin_inset Quotes xrd
\end_inset

ל, האינדקסים שלנו יהיו כבתמונה למטה,
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/path.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
ואז המסלולים האפשריים הם 
\begin_inset Formula $1-2-4-5-6$
\end_inset

 כאשר 
\begin_inset Formula $x\neq0$
\end_inset

 ו-
\begin_inset Formula $1-3-4-6$
\end_inset

 כאשר 
\begin_inset Formula $x=0$
\end_inset

.
\end_layout

\begin_layout Standard
לאחר מכן, האילוצים שלנו הם 
\begin_inset Formula $x\neq0\Rightarrow\unt\leq\alpha$
\end_inset

 עבור הרצת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קטעים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1-2
\numeric off
, 
\begin_inset Formula $x=0\Rightarrow\ta\leq\alpha$
\end_inset

 עבור הרצת קטעים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1-3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\begin_inset Formula $x\neq0\Rightarrow\alpha\leq\unt$
\end_inset

 עבור הרצת קטעים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4-5
\numeric off
.
 לזה כמובן יש השמה חוקית בכל מסלול.
\end_layout

\end_deeper
\begin_layout Standard
גם רגישות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Flow
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וגם רגישות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Path
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עוזרות למנוע אזעקות שווא, ומעלות את דיוק הכלי.
 עם זאת, הן מעלות את הסיבוכיות )ולכן את הסקיילביליטי( של הכלי כי הן דורשות
 את העלאת מספר האילוצים ופתרון אילוצים יותר כללי כדי לטפל ב-
\lang english
path condition
\lang hebrew
-ים שונים, בהאתמה.
\end_layout

\begin_layout Description
הערה לרוב ה-
\lang english
conditionals
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא יהיו כאלה טריוויאלים ולעתים קשה לאתר שוויון בין תנאים, ואז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Path Sensitivity
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 שוב יזרוק התרעת שווא.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ד | Context-Sensitivity}
\end_layout

\end_inset


\color lightgray
חלק ד' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1JsfZeyB4Iyp3Q1hqfc80ttBE8ocfol9M/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Description
דוגמה נתון הקוד הבא, וניתן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
qualifier
\lang hebrew
-ים גם לערכי החזרה והארגומנטים של הפ'.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/handle.png
	scale 60

\end_inset


\begin_inset Formula $\;\;$
\end_inset


\begin_inset Graphics
	filename img/id.png
	scale 40

\end_inset


\end_layout

\begin_layout Standard
עתה נוכל גם ליצור זרימה בין המשתנים שהפ' הקוראת מעבירה לארגומנטים של הפ'
 הנקראת וערכי ההחזרה של הנקראת למשתנים של הקוראת.
\end_layout

\begin_layout Standard
כלומר, עתה יש לנו את האילוצים:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\ta\leq\alpha$
\end_inset

 כי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
fgets
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תמיד חשודה.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\alpha\leq\gamma$
\end_inset

 בגלל ש-
\begin_inset Formula $a$
\end_inset

 מועבר כארגומנט.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\gamma\leq\delta$
\end_inset

 כי ערך ההחזרה הוא פשוט 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\delta\leq\beta$
\end_inset

 עבור ההשמה בשורה האחרונה.
\end_layout

\begin_layout Standard
נוסיף עוד שתי שורות לקבלת הקוד הבא,
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/handl2.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
ולכן נקבל עוד שני אילוצים:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq\em$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\em\leq\ta$
\end_inset

.
\end_layout

\begin_layout Standard
ואכן יש השמה שמקיימת את האילוצים האלה, בפרט, זוהי 
\begin_inset Formula $\em=\unt$
\end_inset

 ו-
\begin_inset Formula $\alpha=\beta=\gamma=\delta=\ta$
\end_inset

 ולכן אין זרימה לא חוקית.
\end_layout

\begin_layout Standard
עתה נחליף את הקוד לקוד הבא, שמבחינתנו אין שום משמעות לשינוי ועדיין אין זרימה
 לא חוקית,
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/ide.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
הפעם ארבעת האילוצים הראשונים עדיין מתקיימים, אך האילוצים הנוספים הם:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq\gamma$
\end_inset

 כי המחרוזת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
hi
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מועברת כארגומנט לח-
\lang english
id
\lang hebrew
.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\gamma\leq\delta$
\end_inset

 כי זהו ערך ההחזרה של הפ'.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\delta\leq\em$
\end_inset

 כי אנחנו מבצעים את ההשמה הזו בשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\em\le\unt$
\end_inset

 כי אנחנו מדפיסים את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
c
\lang hebrew
.
\end_layout

\begin_layout Standard
הפעם אין השמה חוקית כי מתקיים 
\begin_inset Formula $\ta\leq\alpha\leq\gamma\leq\delta\leq\em\leq\unt$
\end_inset

 ולכן קיבלנו אזעקת שווא.
\end_layout

\begin_layout Standard
המשוואה ללא הפתרון קורת בקפיצה מהאילוץ 
\begin_inset Formula $\alpha\leq\gamma$
\end_inset

 )בהשמה ל-
\lang english
b
\lang hebrew
( לאילוץ 
\begin_inset Formula $\gamma\leq\delta$
\end_inset

 בקריאה ל-
\lang english
id
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בפעם השנייה, אפע
\begin_inset Quotes xrd
\end_inset

פ שברור שאין קשר בין הקריאות.
 כלומר לא הבדלנו בקונטקסט שבו קורים הדברים, שכן אין מסלול אפשרי בין הביטויים
 המתאימים לאילוצים אלו.
\end_layout

\end_deeper
\begin_layout Standard
אנליזה רגישת קונטקסט מבדילה בין קריאות שונות לאותה הפ'.
 במקום להוסיף עוד הרבה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
qualifier
\lang hebrew
-ים לכל פעם שקוראים לפ', נשנה את אופן הניתוח שלנו: נסמן אילוצים של השמות
 בפרמטרים/ערכי החזרה באמצעות אינדקס הקריאה לפ' )פעם ראשונה שקראנו, פעם שנייה
 וכיוצ
\begin_inset Quotes xrd
\end_inset

ב( וסימן להשמה )
\begin_inset Formula $-$
\end_inset

 אם זה ארגומנט ו-
\begin_inset Formula $+$
\end_inset

 אם זה ערך החזרה(, לכן ההשמה של ערך ההחזרה של הקריאה ה-
\begin_inset Formula $i$
\end_inset

 היא משהו מהצורה 
\begin_inset Formula $q_{1}\leq_{+i}q_{2}$
\end_inset

 )כאשר 
\begin_inset Formula $q_{1}$
\end_inset

 ה-
\lang english
qualifier
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של ערך ההחזרה(.
\end_layout

\begin_layout Standard
לאחר מכן, כשבודקים אם יש השמה חוקית, נוודא משוואת עם כמה אילוצים רק אם יש
 התאמה בין האינדקסים, ועם סימנים מתאימים )קודם 
\begin_inset Formula $-$
\end_inset

 ואז 
\begin_inset Formula $+$
\end_inset

(.
 לדוגמה, את השרשור 
\begin_inset Formula $q_{1}\leq_{-1}q_{3}\leq q_{4}\leq_{+1}q_{19}$
\end_inset

 נבדוק אבל לא את 
\begin_inset Formula $q_{1}\leq_{+2}q_{4}\leq_{-2}q_{2}$
\end_inset

 )מבלבל אבל הרעיון הוא שנתייחס רק למסלולים 
\begin_inset Quotes xld
\end_inset

הגיונים
\begin_inset Quotes xrd
\end_inset

 מבחינת המעבר של הפרמטרים אל תוך ומחוץ לפ'.
\end_layout

\begin_layout Description
דוגמה עם אותו הקוד למעלה, ניתן את התוויות 
\begin_inset Formula $1$
\end_inset

 לקריאה הראשונה ל-
\lang english
id
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\begin_inset Formula $2$
\end_inset

 לקריאה השנייה.
 לכן האילוצים שלנו הם:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $\ta\leq\alpha$
\end_inset

 )השמה ב-
\lang english
a
\lang hebrew
(.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\alpha\leq_{-1}\gamma$
\end_inset

 )השמה לפרמטר בקריאה הראשונה(.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\gamma\leq\delta$
\end_inset

 )מחזירים את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
x
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כמות שהוא(.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\delta\leq_{+1}\beta$
\end_inset

 )השמה בחזרה מהפ'(.
\end_layout

\begin_layout Standard
ואז לשתי השורות התחתונות:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq_{-2}\gamma$
\end_inset

 )השמה לפרמטר הפ' בקריאה השנייה(.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\gamma\leq\delta$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\delta\leq_{+2}\em$
\end_inset

 )השמה של ערך ההחזרה ב-
\lang english
c
\lang hebrew
(.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\em\leq\unt$
\end_inset

.
\end_layout

\begin_layout Standard
ונתייחס כאמור רק לזרימות עם אותו סימן ואותו אינדקס, ואז כבר לא נקבל את התרעת
 השווא.
\end_layout

\end_deeper
\begin_layout Description
הערה באנליזה עם רגישות לקונטקסט, אי אפשר סתם לפתור מערכת משוואות כי יש תוויות
 שונות וכו', לכן צריך להשתמש באלג' שמוצאים מסלולים בגרפים מכוונים ודבירם
 כאלה, שבהם לא נעסוק.
\end_layout

\begin_layout Standard
בדומה לרגישויות קודמות, הדיוק עולה אבל הסקיילביליטי נפגע כי זה שוב מעלה
 את הסיבוכיות.
\end_layout

\begin_layout Standard
כדי קצת להקטין את הסיבוכיות, אפשר להתייחס ברגישות רק לחלק מהקריאות לפ',
 או לתת אינדקס משותף לכמה קריאות לפ' או לחלופין לתת אינדקסים רק עד לעומק
 מסוים של קריאות לפ'.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ה | Information-Flow}
\end_layout

\end_inset


\color lightgray
חלק ה' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1Tij6n_bwffO2a-gmHQQrN91npEEaoQR8/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
בעיה יותר חמורה מאזעקות שווא שהן בסופו של דבר לא מזיקות, הן פיספוס זרימות
 לא חוקיות.
\end_layout

\begin_layout Description
דוגמה ראו הקוד הבא, שעובד עם פוינטרים, עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
qualifier
\lang hebrew
-ים.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/point.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
מה שקורה פה זה ששלושת השורות הראשונות יוצרות מצביעים למחרוזת, השורה הרביעית
 והחמישית מקבלות מחרוזת חשודה מהמשתמש ושמות במה ש-
\begin_inset Formula $q$
\end_inset

 מצביע ואז מדפיסות את זה.
\end_layout

\begin_layout Standard
האילוצים שלנו הם:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq\alpha$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\alpha\leq\beta$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\beta\leq\gamma$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\ta\leq\em$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\em\leq\gamma$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\beta\leq\unt$
\end_inset

.
\end_layout

\begin_layout Standard
ועבור ההשמה 
\begin_inset Formula $\alpha=\beta=\unt$
\end_inset

 ו-
\begin_inset Formula $\gamma=\em=\ta$
\end_inset

, נקבל זרימה חוקית.
 עם זאת, ברור שלא זרימה חוקית.
\end_layout

\begin_layout Standard
מה שפיספסנו כאן הוא ש-
\begin_inset Formula $q$
\end_inset

 ו-
\begin_inset Formula $p$
\end_inset

 הם אותו הדבר בשמות שונים, ולכן לא ייתכן שיהיו להם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
qualifier
\lang hebrew
-ים שונים ותיתכן זרימה 
\begin_inset Quotes xld
\end_inset

דו-כיוונית
\begin_inset Quotes xrd
\end_inset

.
 לכן נוסיף אילוץ בכיוון ההפוך, 
\begin_inset Formula $\gamma\leq\beta$
\end_inset

 עבור השורה השלישית.
 ככה נתפוס את הזרימה הלא חוקית, עם זאת נקבל עוד אזעקות שווא בגלל הגישה השמרנית
 יותר.
\end_layout

\begin_layout Standard
הזרימה הלא חוקית עכשיו היא
\begin_inset Formula 
\[
\ta\leq\em\leq\gamma\leq\beta\leq\unt
\]

\end_inset


\end_layout

\end_deeper
\begin_layout Description
דוגמה מקרה נוסף שבו נפספס זרימה לא חוקית היא בהשמות אימפליסיות, ראו דוגמה.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/implicit.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
כאן אנחנו מעתיקים שתי מחרוזות, רק שבתוך ה-
\lang english
for-loop
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
החיצוני, במקום פשוט לעשות השמה ישירה של ערכי המערך, שזה כמובן ייתפס ע
\begin_inset Quotes xrd
\end_inset

י האנליזה הנוכחית, אנחנו עושים לולאה נוספת שמוצאת את 
\begin_inset Formula $j$
\end_inset

 ששוה לתו שאנחנו מעתיקים ושמה אותו.
\end_layout

\begin_layout Standard
כמובן שזה זהה לחלוטין סמנטית, אבל הפעם אנחנו כן מפספסים את הזרימה הלא חוקית,
 כי 
\begin_inset Formula $j$
\end_inset

 הוא כמובן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $\ta$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard
עתה נכנסת אנליזה חדשה -
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Information Flow Analysis
\lang hebrew
, שמנסה לאתר מעבר של מידע ממשתנה אחד לאחר באופן אימפליסיטי.
 נוסיף בכל השמה 
\begin_inset Formula $x=y$
\end_inset

 אילוץ נוסף על 
\begin_inset Formula $q_{y}\leq q_{x}$
\end_inset

, שהוא 
\begin_inset Formula $pc\leq q_{x}$
\end_inset

 כאשר 
\begin_inset Formula $pc$
\end_inset

 הוא ה-
\lang english
Program Counter
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
באותו הרגע.
 הרעיון הוא שעצם העובדה שהגענו לשורת הקוד 
\begin_inset Formula $pc$
\end_inset

, עלולה להשפיע באופן עקיף על ערכו )חשודיותו של הערך, יותר נכון(.
\end_layout

\begin_layout Description
דוגמה ננתח את הקוד הבא עם אנליזת זרימת מידע.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/if.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
כמובן שכאן 
\begin_inset Formula $dst$
\end_inset

 מושפע באופן עקיף ע
\begin_inset Quotes xrd
\end_inset

י 
\begin_inset Formula $src$
\end_inset

 ולכן נרצה שהוא יהיה חשוד )השורה האחרונה רק מדגימה שימוש במשתנה הנגוע(.
 האילוצים הקלאסיים שנקבל הם:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq\alpha$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq\alpha$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq\alpha$
\end_inset

.
\end_layout

\begin_layout Standard
ועתה אילוצי ה-
\begin_inset Formula $pc$
\end_inset

 החדשים )כאשר 
\begin_inset Formula $pc_{i}$
\end_inset

 הוא 
\begin_inset Formula $pc$
\end_inset

 בשורה ה-
\begin_inset Formula $i$
\end_inset

( הם:
\end_layout

\begin_layout Itemize
\begin_inset Formula $pc_{4}\leq\alpha$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $pc_{6}\leq\alpha$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $pc_{7}\leq\alpha$
\end_inset

.
\end_layout

\begin_layout Standard
עכשיו נסווג את 
\begin_inset Formula $pc_{i}$
\end_inset

 לפי חשודיותם - 
\begin_inset Formula $pc_{3}$
\end_inset

 ו-
\begin_inset Formula $pc_{7}$
\end_inset

 הם 
\begin_inset Formula $\unt$
\end_inset

 כי הגענו אליהם בלי תלות במשתנה חשוד )תמיד נבדוק את תנאי ה-
\lang english
if
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ותמיד נריץ את השורה האחרונה( אבל 
\begin_inset Formula $pc_{4},pc_{6}$
\end_inset

 הם 
\begin_inset Formula $\ta$
\end_inset

 כי מגיעים אליהם בהתבסס על תנאי ה-
\lang english
if
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שתלוי ב-
\lang english
src
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
החשוד.
\end_layout

\begin_layout Standard
לכן גילינו ש-
\begin_inset Formula $\alpha$
\end_inset

 הוא חשוד ונדע להתריע מפני שימוש בו כ-
\begin_inset Formula $\unt$
\end_inset

, שכן 
\begin_inset Formula $\ta=pc_{4}\leq\alpha$
\end_inset

 ולכן 
\begin_inset Formula $\alpha=\ta$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard
עם זאת, לא נשתמש תמיד ב-
\lang english
Information Flow Analysis
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי הוא מתריע בפני הרבה אזעקות שווא )לדוגמה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
if
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם אותה ההשמה בשני המקרים(.
 הסיבה השנייה לא להשתמש היא שהסיבוכיות עולה משמעותית בשל העלייה במספר המשתנים.
\end_layout

\begin_layout Standard
למדנו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Flow Analysis
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
די בסיסי ויש אתגרים רבים נוספים מעבר לכך.
\end_layout

\begin_layout Standard

\size larger
אתגרים באנליזה סטטית של קוד
\end_layout

\begin_layout Itemize
מה קורה בפעולות כמו סכימה על משתנים? אם ידוע לנו משהו על התפלגות הערכים,
 לעתים ניתן לקבוע שהם 
\begin_inset Formula $\unt$
\end_inset

 גם אם ערכו מכיל 
\begin_inset Formula ${\rm operand}$
\end_inset

 שהוא כן 
\begin_inset Formula $\ta$
\end_inset

.
\end_layout

\begin_layout Itemize
מה קורה עם פוינטרים לפ'? לאילו פ' מותר לפוינטר להצביע ולאילו לא?
\end_layout

\begin_layout Itemize
האם מערכים נחשבים אמינים/חשודים כאובייקט כולל, או שכל אלמנט צריך לקבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
qualifier
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
משל עצמו?
\end_layout

\begin_layout Itemize
כיצד נזהה סניטציה של ערכים )ניקוי ערכים לא אמינים לאמינים(?
\end_layout

\begin_layout Itemize
לזהות מתי משתנה חייב להיות 
\begin_inset Formula $\unt$
\end_inset

 לדוגמה אינדקסים בגישה למערכים.
\end_layout

\begin_layout Itemize
כיצד להרחיב את הניתוח לזיהוי דליפה של מידע רגיש, לדוגמה לאסור על מעבר מידע
 ממקורות פרטיים ל
\begin_inset Quotes xrd
\end_inset

כיורים
\begin_inset Quotes xrd
\end_inset

 )מידע שמוצג למשתמש בצורה כזו או אחרת( פומביים.
 הרבה יותר קשה לזהות הדלפות עקיפות של מידע סודי וזה תחום שלם.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/18CnBwknjEhZFoRkZg4AMrk4A1J21Ob7-/view?usp=sh
aring}{קישור}
\end_layout

\end_inset


\end_layout

\begin_layout Description
שאלה נתון הקוד הבא
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/q10.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
כאשר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sprintf
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא פ' ששמה בארגומנט הראשון את המחרוזת שהייתה מודפסת לפי הפורמט הנתון, אם
 היה מדובר ב-
\lang english
printf
\lang hebrew
.
\end_layout

\begin_layout Standard
הניחו את כל ההנחות הסטנדרטיות.
\end_layout

\begin_layout Enumerate
תארו את תוכן המחסנית כתוצאה מהקריאה ל-
\lang english
func
\lang hebrew
.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/content.png
	scale 60

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
הראו כיצד ניתן לגרום לפ' להיכנס ללולאה אינסופית.
\end_layout

\begin_deeper
\begin_layout Standard
נציב ב-
\lang english
username
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
את הקלט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
111
\numeric off
..
\numeric on
1111
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כך שיהיו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
33
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תווי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
סה
\begin_inset Quotes xrd
\end_inset

כ, ואז המחרוזת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sprintf
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 תכתוב ל-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
buf
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בית אחד יותר מדי שידרוס את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וייתן לו ערך שאינו אפס, כך שניכנס ללולאה אינסופית.
\end_layout

\begin_layout Standard
נשים לב כי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא ארבעה בתים ולכן הבית הראשון יהיה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, הבית השני
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי זה ה-
\lang english
NULL Terminator
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז שני הבתים האחרים ישארו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
 כך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא לא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, אלא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $2^{17}$
\end_inset

, שזה עדיין בסדר כי זה לא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
\end_layout

\end_deeper
\begin_layout Enumerate
כיצד ניתן לשנות את הפ' על מנת למנוע את המתקפה הנ
\begin_inset Quotes xrd
\end_inset

ל?
\end_layout

\begin_deeper
\begin_layout Standard
נשנה את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
sprintf
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\lang english
snprintf
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ונוסיף בארגומנט השני
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
40
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כדי לסמל שאנחנו רוצים מחרוזת באורך לכל היותר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
40
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תווים )כולל ה-
\lang english
NULL Terminator
\lang hebrew
(.
\end_layout

\end_deeper
\begin_layout Enumerate
הראו כיצד ניתן )בהתעלם מהשינוי הנ
\begin_inset Quotes xrd
\end_inset

ל( לתת קלט לפ' כך שיודפס
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Good Job
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בלולאה האינסופית )בלי שבקלט יופיע הביטוי עצמו, ואפשר להדפיס גם דברים נוספים
 מלבד הביטוי(.
\end_layout

\begin_deeper
\begin_layout Standard
ניתן את הקלט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
%s111..1111
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 ואז 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ידרס לערך שאינו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ובלולאה האינסופית,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
buf
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יתפרש כפורמט ואז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
printf
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 יחפש את המחרוזת שעליו להדפיס, ימצא בדיוק את 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
msg
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)ראו הרכב המרוזת הנ
\begin_inset Quotes xrd
\end_inset

ל( וידפיס אותו.
\end_layout

\end_deeper
\begin_layout Enumerate
האם שימוש ב-
\lang english
ASLR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או ערכי קנרית יעזור?
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
ASLR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא כי אנחנו לא מתבססים על שום דבר קבוע וערכי קנרית גם לא כי אנחנו לא נוגעים
 ב-
\lang english
ebp
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
eip
\lang hebrew
.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
שאלה נתונים קטעי הקוד הבאים
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/q102.png
	scale 73

\end_inset


\begin_inset Graphics
	filename img/q101.png
	scale 60

\end_inset


\end_layout

\begin_layout Enumerate
תארו את תוכן מהחסנית בשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ובשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
16
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)בכחול שורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
16
\numeric off
, בכתום התוספת בשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
(
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/content1.png
	scale 50

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
הראו כיצד ניתן לגרום להרצת הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
bar
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 באמצעות הזנת שני קלטים בשורות 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
17
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 ו-
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\numeric off
.
\end_layout

\begin_deeper
\begin_layout Standard
ל-
\lang english
password
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ניתן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
AAAA2
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כך שתודפס בשורה הבאה כתובתה של הפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
bar
\lang hebrew
, נסמנה ב-
\lang english
adrs
\lang hebrew
.
 ל-
\lang english
buf
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ניתן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
AA...AAAAadrs
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 כך שהכתובת תדרוס את 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula ${\rm \%eip}$
\end_inset

, כך, בחזרה מ-
\lang english
foo
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 נקפוץ לכתובת של 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
bar
\lang hebrew
.
\end_layout

\end_deeper
\begin_layout Enumerate
הראו כיצד ניתן למנוע מתקפה זו באמצעות שינוי הפ' בשורות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
17
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\numeric on
3
\numeric off
.
\end_layout

\begin_deeper
\begin_layout Standard
נהפוך את שתי קריאות ה-
\lang english
gets
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\lang english
fgets
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ובארגומנט אורך המחרוזת שנבקש, נשים את המספרים המתאימים )
\numeric on
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\numeric on
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהתאמה(.
\end_layout

\end_deeper
\begin_layout Enumerate
האם הוספת ערכי קנרית או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ASLR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יעזרו?
\end_layout

\begin_deeper
\begin_layout Standard
קנרית כן כי היא תחסום את ה-
\lang english
Buffer Overflow
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ASLR
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא כי לא קשור.
\end_layout

\end_deeper
\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{XI
\backslash
;
\backslash
; ניתוח קוד סטטי לעומק}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{XI}$
\end_inset

 | ניתוח קוד סטטי לעומק
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1ESppzP7cGe4WxCkvT0I5oWN42Z2510_X/view?usp=sh
aring}{קישור}
\end_layout

\end_inset


\end_layout

\begin_layout Description
שאלה נתון הקוד הבא
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/q111.png
	scale 61

\end_inset


\end_layout

\begin_layout Enumerate
נתחו קטע זה ללא אף רגישות והראו שמתקבלת התראה על זרימה לא חוקית באמצעות
 בניית אוסף האילוצים, והצבע העל זרימה לא חוקית הנובעת מאילוצים אלו.
\end_layout

\begin_deeper
\begin_layout Standard
האילוצים הם )מסודרים בסדר כרונולוגי של קריאות בקוד(:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\ta\leq name$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $name\leq str$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $str\leq echo$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq str$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $str\leq echo$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $echo\leq output$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq output$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $output\leq str$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $str\leq echo$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $echo\leq\unt$
\end_inset

.
\end_layout

\begin_layout Standard
והזרימה הלא חוקית מתקבלת ע
\begin_inset Quotes xrd
\end_inset

י 
\begin_inset Formula $\ta\leq name\leq str\leq echo\leq\unt$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
הראו כי ניתן להוסיף רגישות אחת מבין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
context, flow, path sensitivity
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או זיהוי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
implicit flows
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כך שלא תתקבל התראה על זרימה לא חוקית ע
\begin_inset Quotes xrd
\end_inset

י בניית האילוצים עם הרגישות והסבר מילולי על למה לא מתקבלת התראה.
\end_layout

\begin_deeper
\begin_layout Standard
ניזכר בקצרה כי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
path
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שם לב ל-
\lang english
conditionals
\lang hebrew
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
context
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שם לב לקריאות שונות לאותה הפ',
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
flow
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שם לב להשמה מחדש באותו המשתנה, ו-
\lang english
implicit flows
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 שומר 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
qualifier
\lang hebrew
-ים גם לשורות הקוד עצמן.
\end_layout

\begin_layout Standard
במקרה הזה, הבעיה נוצרת כי יש זרימה לא חוקית שקופצת דרך הקריאות השונות של
 הפ' ולכן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
context sensitivity
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יעזור, אוסף האילוצים במקרה הזה הוא:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\ta\leq name$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $name\leq_{-1}str$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $str\leq echo$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq_{-2}str$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $str\leq echo$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $echo\leq_{+2}output$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq output$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $output\leq_{-3}str$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $str\leq echo$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $echo\leq_{+3}\unt$
\end_inset

.
\end_layout

\begin_layout Standard
ניתן לראות כי האילוצים לא מסתכמים לכדי זרימה לא חוקית.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
שאלה נתון הקוד הבא,
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/q112.png
	scale 61

\end_inset


\end_layout

\begin_layout Enumerate
נתחו את קטע הקוד ללא רגישויות והראו שמתקבלת אזעקת שווא, כלומר הצביע על זרימה
 לא חוקית מאוסף האילוצים שתכתבו והסבירו למה היא לא באמת פרצת אבטחה.
\end_layout

\begin_deeper
\begin_layout Standard
אוסף האילוצים הוא:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\ta\leq sp$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $sp\leq msg$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $flag\leq set$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $msg\leq echo$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq echo$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $echo\leq sp1$
\end_inset

.
\end_layout

\begin_layout Itemize
)חמשת האילוצים הנ
\begin_inset Quotes xrd
\end_inset

ל, רק עם 
\begin_inset Formula $sp2$
\end_inset

 הפעם(.
\end_layout

\begin_layout Itemize
\begin_inset Formula $sp2\leq\unt$
\end_inset

.
\end_layout

\begin_layout Standard
אזעקת השווא מתקבלת ע
\begin_inset Quotes xrd
\end_inset

י הזרימה הלא חוקית 
\begin_inset Formula $\ta\leq sp\leq msg\leq echo\leq sp2\leq\unt$
\end_inset

.
 זו אינה באמת בעיה משום שנדפיס את 
\begin_inset Formula $sp2$
\end_inset

 רק אם 
\begin_inset Formula $flag$
\end_inset

 כבוי, ובמקרה כזה הפ' 
\begin_inset Formula $echo$
\end_inset

 תמיד החזירה את המחרוזת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Hello!
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שהיא 
\begin_inset Formula $\unt$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
הראו כי ניתן להוסיף רגישות אחת מבין הרגישויות שלמדנו כך שלא תהיה אזעקת שווא.
\end_layout

\begin_deeper
\begin_layout Standard
הבעיה כאן היא שהתעלמנו מה-
\lang english
if
\lang hebrew
-ים השונים, לכן נוסיף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
path sensitivity
\lang hebrew
.
 נמספר את ה-
\lang english
conditionals
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
באופן הבא,
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/q1121.png
	scale 61

\end_inset


\end_layout

\begin_layout Standard
ונשים לב כי המסלולים האפשריים הם 
\begin_inset Formula $1-3-1-3-4-5$
\end_inset

 או 
\begin_inset Formula $1-2-1-2-4$
\end_inset

 ואף אחד מהם לא מספק זרימה לא חוקית )מטעמי חוסר כוח לא כתבתי את האילוצים
 מחדש, אבל בעיקר מפרידים את אוסף האילוצים לשני אוספי אילוצים עם חפיפה כלשהי,
 ורואים שהא
\begin_inset Quotes xrd
\end_inset

ש שאיפשרו את הזרימה החוקית לפני נמצאים בשני אוספים שונים ולכן אי אפשר לבנות
 מהם זרימה לא חוקית(.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
שאלה נתון קטע הקוד הבא,
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/q113.png
	scale 61

\end_inset


\end_layout

\begin_layout Enumerate
נתחו את קטע הקוד ללא רגישויות והצביעו על קיומן של שתי זרימות לא חוקיות והסבירו
 למה הן לא מקבילות לזרימות אמיתיות בתכנית.
\end_layout

\begin_deeper
\begin_layout Standard
אוסף האילוצים הוא:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\ta\leq msg1$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq msg2$
\end_inset

.
\end_layout

\begin_layout Itemize
)אין כאן אילוץ על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
printf
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
13
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי אנחנו דורשים רק שהפרמטר הראשון יהיה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $\unt$
\end_inset

 וכאן ה-
\begin_inset Formula $\ta$
\end_inset

 הוא הארגומנט השני(.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\ta\leq msg2$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $msg1\leq name$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $name\leq echo$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $echo\leq str1$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $msg2\leq name$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $name\leq echo$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $echo\leq str2$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $str2\leq\unt$
\end_inset

.
\end_layout

\begin_layout Standard
הזרימות הלא חוקיות כאן הן 
\begin_inset Formula 
\begin{align*}
\ta & \leq msg1\leq name\leq echo\leq str2\leq\unt\\
\ta & \leq msg2\leq name\leq echo\leq str2\leq\unt
\end{align*}

\end_inset

 כאשר אף אחת מהן לא קורת במציאות כי הראשונה קופצת בין קריאות לפ'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
echo
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והשנייה לא אמיתית כי הא
\begin_inset Quotes xrd
\end_inset

ש הראשון רלוונטי רק אם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 כבוי ובמקרה כזה הא
\begin_inset Quotes xrd
\end_inset

ש האחרון לא מתקיים )לא נכנסים ל-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
if
\lang hebrew
(.
\end_layout

\end_deeper
\begin_layout Enumerate
האם ניתן להוסיף רגישות אחת מבין 
\lang english
context, path, flow
\lang hebrew
 כך שלא תתקבל אזעקת שווא?
\end_layout

\begin_deeper
\begin_layout Standard
לא.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
flow
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בכלל לא קשור,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
context
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ימנע את הזרימה הראשונה אבל לא השנייה, ו-
\lang english
path
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 ימנע את השנייה אבל לא את הראשונה )נובע מהסיבות לאי-קיום הזרימות שהזכרתי
 למעלה(.
 הסטודנטית המשקיעה תכתוב את כל האילוצים מחדש ותראה שאכן עדיין יש זרימות
 לא חוקיות בכל המקרים.
\end_layout

\end_deeper
\begin_layout Enumerate
הראו כי ניתן להוסיף שתי רגישויות כך שלא יתקבלו אזעקות שווא.
\end_layout

\begin_deeper
\begin_layout Standard
נוסיף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
path
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
context
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז האילוצים עבור 
\begin_inset Formula $set\neq0$
\end_inset

 יהיו הכל חוץ מ-
\begin_inset Formula $\ta\leq msg2$
\end_inset

 וגם הוספת 
\begin_inset Formula $\pm i$
\end_inset

 על קריאות הפ' ואז לא מקבלים אזעקה, ועבור 
\begin_inset Formula $set=0$
\end_inset

 מורידים את 
\begin_inset Formula $str\leq\unt$
\end_inset

 ומוסיפים 
\begin_inset Formula $\pm i$
\end_inset

 ולא מקבלים אזעקה.
\end_layout

\end_deeper
\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{XII
\backslash
;
\backslash
; Pen-testing ו-Fuzzing}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{XII}$
\end_inset

 |
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Pen-testing
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
Fuzzing
\end_layout

\begin_layout Standard

\size largest
הרצאה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{א | מבוא להרצה סמלית}
\end_layout

\end_inset


\color lightgray
חלק א' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1aQTRcsQghj6ibW7MTp2RNHlAfxRoSFoI/view}{קישור
}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
בהרצאה הקודמת ראינו אנליזה סטטית שמאפשרת לבדוק את כל הריצות האפשרויות של
 התוכנה והיא מאוד שימושית, אבל במציאות בעיקר מנסים להימנע מאזעקות שווא וזה
 גורם להם לפספס באגים/פרצות אבטחה.
\end_layout

\begin_layout Standard
הרצה סמלית היא גישת ביניים בין טסטינג ואנליזה סטטית שמנסה לשמר את היתרונות
 שלהם ולמגר את ההשלכות שלהם.
 טסטינג לא נותן לנו אזעקות שווא כי כל בדיקה מתאימה לקלט אחד בלבד, שזה גם
 החסרון שלה.
 פורמלית, אנחנו מקבלים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
completeness
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אבל לא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
soundness
\lang hebrew
.
 כל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
assert
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ובדיקה אחרת מעידים רק על המסלולים שאנחנו בודקים ולא כל מסלול.
 זו בעיה כי התוקף צריך רק מסלול אחד פגיע.
 הרצה סימבולית מכלילה טסטינג.
\end_layout

\begin_layout Standard
בהרצה סמלית, ניתן למשתנים ערכים סמליים, לדוגמה 
\begin_inset Formula $y=\alpha$
\end_inset

 ואז כשנעשה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
assert
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 נוכל לבדוק מקרים יותר כלליים מאלו שנציב.
\end_layout

\begin_layout Standard
בנוסף, תלות של מסלול הרצה בערך סמלי מוביל אותנו לפיצול של מסלול, שגם אחריו
 נוכל לעקוב.
\end_layout

\begin_layout Description
דוגמה נתון קטע הקוד הבא עם השמות סמליות במשתנים,
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/sym.png
	scale 40

\end_inset


\end_layout

\begin_layout Standard
אנחנו מנסים לבדוק האם קיימת ריצה עם השמה בערכים הסמליים שתקיים 
\begin_inset Formula $x+y+z==3$
\end_inset

.
\end_layout

\begin_layout Standard
ניצור עץ שבו הקודקודים יהיו תנאים על המשתנים הסמליים ב-
\lang english
conditinals
\lang hebrew
,
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/tree.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
התנאי בתחית נקרא תנאי המסלול.
 מצאנו מסלול שבו כן מתקיים התנאי הלא רצוי.
 נשים לב כי כיסינו את כל המסלולים האפשריים.
\end_layout

\end_deeper
\begin_layout Description
הערה בניגוד לטסטינג, קיבלנו את כל המסלולים האפשריים בהשמות של המשתנים הסמליים.
\end_layout

\begin_deeper
\begin_layout Standard
הרצה סימבולית לא נותנת אזעקות שווא, אבל היא יכולה לא להסתיים ודורשת קושי
 חישובי מאוד גדול.
\end_layout

\end_deeper
\begin_layout Standard
בעבר הקושי החישובי היווה מכשול משמעותי בדרך לשימוש בהרצה סימבולית ונדרשים
 פתרנים שיקבעו האם מסלולים הם אפשריים בכלל ואילו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
assert
\lang hebrew
-ים יכולים להיכשל.
\end_layout

\begin_layout Standard
בשני העשורים האחרונים הייתה התקדמות טכנלוגית והן פיתוחית )לפתורנים( וכיום
 הרצה סימבולית מצליחה אכן למצוא מפגעים.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ב | יסודות ההרצה הסמלית}
\end_layout

\end_inset


\color lightgray
חלק ב' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1nXsw4NemaPHRF6hKkAUfb7EAWhi3NY5P/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
באופן פורמלי, הרצה סמלית מוסיפה אפשרות לביטויים בשפת התכנות )מלבד מספרים,
 סכומים, א
\begin_inset Quotes xrd
\end_inset

ש וכו'( - משתנה סמלי )שמסמל ערך לא ידוע(.
 מכאן גם שביטויים נוספים יכולים להכיל משתנים סמליים, לדוגמה 
\begin_inset Formula $\alpha+5$
\end_inset

.
\end_layout

\begin_layout Standard
נכניס משתנים סמליים במקומות שבהם מקבלים קלטים מהמשתמש/תוקף.
\end_layout

\begin_layout Description
דוגמה נתון קטע הקוד הבא,
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/read.png
	scale 80

\end_inset


\end_layout

\begin_layout Standard
קל לראות שעבור קלטים מסוימים נקבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
overflow
\lang hebrew
.
 נניח בריצה קונקרטית שנתנו ל-
\begin_inset Formula $x$
\end_inset

 את הערך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
5
\numeric off
, וש-
\begin_inset Formula $a$
\end_inset

 הוא מערך עם ארבע איברים, עתה ניגש ל-
\begin_inset Formula $a\left[17\right]$
\end_inset

 שזה אוברפלאו, שהוא פרצת אבטחה.
\end_layout

\begin_layout Standard
בהרצה סמלית, נשים ב-
\begin_inset Formula $x$
\end_inset

 את 
\begin_inset Formula $\alpha$
\end_inset

, ואז 
\begin_inset Formula $y=5+\alpha$
\end_inset

, 
\begin_inset Formula $z=12+\alpha$
\end_inset

 ואז ניגשים ל-
\begin_inset Formula $a\left[12+\alpha\right]$
\end_inset

.
 כאן אנחנו יודעים אפילו עבור אילו ערכי 
\begin_inset Formula $\alpha$
\end_inset

 מקבלים אוברפלואו.
\end_layout

\end_deeper
\begin_layout Description
דוגמה נתון קטע הקוד הבא,
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/read-cond.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
נסמן ב-
\begin_inset Formula $\pi$
\end_inset

 את תנאי המסלול שנדרש כדי להגיע לשורה כלשהי.
\end_layout

\begin_layout Itemize
תנאי המסלול של שורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא 
\begin_inset Formula $\pi=\left(\alpha>5\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
לשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
זהו 
\begin_inset Formula $\pi=\left(\alpha>5\right)\land\left(\alpha<3\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
לשורה 
\begin_inset Formula $6$
\end_inset

 זהו 
\begin_inset Formula $\pi=\left(\alpha\leq5\right)$
\end_inset

.
\end_layout

\begin_layout Standard
נשים לב כי תנאי המסלול מכילים משתנים סמליים.
 נוכל להשתמש בפתרנים כדי לראות אילו מסלולים הם פיזביליים, ובמקרה הזה כל
 המסלולים הם פיזיביליים חוץ משורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
5
\numeric off
.
\end_layout

\end_deeper
\begin_layout Description
דוגמה נתון קטע הקוד הבא עם תנאי המסלולים לידו
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/abort.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
אם ניתן להגיע לשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
7
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)אם אחד המסלולים פיזיבלי( מצאנו מפגע בטיחות.
\end_layout

\end_deeper
\begin_layout Standard

\size larger
ריצה מתפצלת
\end_layout

\begin_layout Standard
כשמגיעים לפיצול בהרצה, נבדוק האם קיימות השמות שנכנסות למסלול ונשתמש באלג'
 שבודק את כל הכיוונים האפשריים באופן שיטתי.
\end_layout

\begin_layout Enumerate
אתחול: 
\begin_inset Formula $pc=0$
\end_inset

 מספר השורה שעתה נריץ סמבולית, 
\begin_inset Formula $\pi=\varnothing$
\end_inset

 תנאי המסלול הנוכחי ו-
\begin_inset Formula $\sigma=\varnothing$
\end_inset

 המצב הסמבולי.
\end_layout

\begin_layout Enumerate
נכניס את 
\begin_inset Formula $\left(pc,\pi,\sigma\right)$
\end_inset

 לרשימת המשימות.
\end_layout

\begin_layout Enumerate
כל עוד רשימת המשימות לא ריקה:
\end_layout

\begin_deeper
\begin_layout Enumerate
נוציא מהרשימה משימה 
\begin_inset Formula $\left(pc,\pi,\sigma\right)$
\end_inset

 ונריץ אותה.
\end_layout

\begin_layout Enumerate
אם יש חשד לפיצול ב-
\begin_inset Formula $\left(pc_{0},\pi_{0},\sigma_{0}\right)$
\end_inset

 כאשר התנאי הוא 
\begin_inset Formula $p$
\end_inset

:
\end_layout

\begin_deeper
\begin_layout Enumerate
אם 
\begin_inset Formula $\pi_{0}\land p$
\end_inset

 מסופק ע
\begin_inset Quotes xrd
\end_inset

י איזושהי השמה, נוסיף לרשימת המשימות את 
\begin_inset Formula $\left(pc_{1},\left(\pi_{0}\land p\right),\sigma_{0}\cup\left\{ p={\rm True}\right\} \right)$
\end_inset

 כאשר 
\begin_inset Formula $pc_{1}$
\end_inset

 השורה הראשונה לאחר הפיצול כש-
\begin_inset Formula $p$
\end_inset

 מתקיים.
\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $\pi_{0}\land\lnot p$
\end_inset

 מסופק ע
\begin_inset Quotes xrd
\end_inset

י השמה כלשהי, נוסיף לרשימת המשימות את 
\begin_inset Formula $\left(pc_{2},\left(\pi_{0}\land\lnot p\right),\sigma_{0}\cup\left\{ p={\rm False}\right\} \right)$
\end_inset

 כאשר 
\begin_inset Formula $pc_{2}$
\end_inset

 השורה הראושנה לאחר הפיצול כש-
\begin_inset Formula $p$
\end_inset

 לא מתקיים.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
הערה כבר עכשיו אפשר לראות שזה מאוד דומה ל-
\lang english
BFS
\lang hebrew
.
\end_layout

\begin_layout Standard
בשלב כלשהו נגיע לגבולות הקוד, כאשר הפ' תקרא לספריה, תריץ קוד אסמבלי וכו'.
 אפשר לבחור להריץ גם את קוד הספריה באופן סימבולי.
 בגלל שספריות יכולות להיות מורכבות לעתים, ניתן להריץ סמלית גרסה פשוטה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
libc
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)לדוגמה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
newlib
\lang hebrew
(, שלא יעילה אבל קלה להרצה סמבולית.
\end_layout

\begin_layout Standard
בהרצה סמבולית דינאמית מריצים סמלית ובאותו הזמן מריצים קונקרטית עם ערכים
 שמספקים את תנאי המסלול הנוכחי.
 בכל פעם מסתכלים על מסלול אחר כאשר לאחר סיום מסלול אחד הופכים ערך כלשהו
 בזיכרון ורואים אם מגיעים למסלול אחר.
 כך יש גם ערכים קונקרטיים שאפשר להשתמש בהם כי אנחנו באמת מריצים את הקוד.
\end_layout

\begin_layout Standard
הקונקרטיות הזו נותנת לנו את היכולת לזהות מסלולים קונקרטיים שמגיעים למפגעים.
 בנוסף, אפשר באמת לעשות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
syscall
\lang hebrew
-ים כי אנחנו מריצים קוד, אבל שם מאבדים את הסמבוליות של התוצאה.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ג | הקושי החישובי בהרצה סמלית}
\end_layout

\end_inset


\color lightgray
חלק ג' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1Vz6Yf-DQPRkDTPVhDhPlkIAgRGFBl29d/view}{קישור
}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
בהרצה סמלית אנחנו מקווים לקבל הבטחה חד משמעית בנוגע לבטיחות הקוד, אבל הבעיה
 היא שפרקטית לא נוכל לחכות עד שההרצה מסיימת, כי יכול להיות שמספר המסלולים
 האפשריים הוא אקספוננציאלי במספר המשתנים הסמליים או בשורות הקוד.
\end_layout

\begin_layout Description
דוגמה קוד שעושה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
 
\lang english
if-else
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על משתנים סמבוליים מוביל ל-
\begin_inset Formula $2^{3}$
\end_inset

 מסלולים אפשריים.
\end_layout

\begin_layout Description
דוגמה לולאות )
\lang english
while
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על 
\begin_inset Formula $\alpha$
\end_inset

( פותחות 
\begin_inset Formula $2^{32}-1$
\end_inset

 מסלולים.
\end_layout

\begin_layout Standard
היתרון של אנליזה סטטית היא שהיא נגמרת תמיד לאחר בדיקת כל המסלולים האפשריים,
 כשהיא למעשה משערכת הרבה הרצות ופיצולים - החלק שגורם לאזעקות שווא.
\end_layout

\begin_layout Standard
נרצה להכווין את ההרצה הסמלית למסלולים בעייתיים.
 אפשר להסתכל על הרצה סמלית כגרף מכוון, כאשר הקודקודים הם מצבי התכנית ויש
 צלע בין שני קודקודים אם
\begin_inset Quotes xrd
\end_inset

ם ניתן לעבור מאחד לשני.
 תחת סימונים אלה, אלג' ההרצה הסמלית הוא פשוט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
BFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על הגרף שנוצר.
\end_layout

\begin_layout Standard
חיפוש באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
BFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נותן לנו חיפוש רוחבי והוא לא מתרכז רק בנישה אחת במשך רוב ריצתו )בהנחה שהיא
 מוגבלת(, בעוד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מגיע למסלולים עמוקים הרבה יותר, אבל יכול להיתקע על מסלולים שבכלל אינם בעיתיים.
 לכן תמיד צריכה להיות איזושהי הנחיה מהותית שמודעת לקוד עצמו.
 כאמור, נצטרך לתעדף מסלולים מסוימים.
\end_layout

\begin_layout Standard
אם אין לנו דרך חכמה לתעדף, אפשר להכניס אקראיות אל תוך ההרצה.
 לדוגמה, אם לא הגענו במפגע, להתחיל את ההרצה מהתחלה באקראיות, או לבחור את
 המסלול הבא כל פעם באקראיות.
\end_layout

\begin_layout Standard
כמובן שנצטרך להיות יכולים לשחזר את האקראיות הזו, ולכן נשתמש ב-
\begin_inset Formula $\prf$
\end_inset

 עם מפתח שנשמור למקרה שנרצה לשחזר את התוצאות.
\end_layout

\begin_layout Description
דוגמה לעתים אקראיות לא תעזור לנו בכלל.
 בקוד הבא מספר המסלולים האפשריים הוא 
\begin_inset Formula $2^{100}$
\end_inset

 ומספר המסלולים שבו 
\begin_inset Formula $counter=75$
\end_inset

 הוא 
\begin_inset Formula $2^{78}$
\end_inset

, כלומר בהסת' 
\begin_inset Formula $2^{-22}$
\end_inset

 ניפול על מסלול כזה אם נשתמש באקראיות - כלומר פספסנו מפגע רציני.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/75.png
	scale 60

\end_inset


\end_layout

\end_deeper
\begin_layout Standard

\size larger
מערכות נפוצות להרצה סמלית
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
SAGE
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- מבצעת הרצה דינאמית וממוקדת במציאת באגים בפרסרים של קבצים )שקל להשתמש בהרצה
 סמלית עבורם(.
 השיטה עברה על מיליוני מסלולים וגילתה מאות באגים.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
KLEE
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- מריץ סמבולית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
bitcode
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
LLVM
\lang hebrew
.
 היא משתמשת במריץ הסמלי שראינו באמצעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
fork
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כדי לנהל מספר תהליכים.
 היא משתמשת בכמה שיטות חיפוש שונות וכן מסמלצת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
syscall
\lang hebrew
-ים.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Mayhem
\lang hebrew
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Cloud9
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ועוד.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{ד | Fuzzing}
\end_layout

\end_inset


\color lightgray
חלק ד' של ההרצאה )
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1pWN3Tdv9saJHghDqHv1bJx6O84Bb_b4k/view?usp=sh
aring}{קישור}
\end_layout

\end_inset

(
\end_layout

\begin_layout Standard
בטסטינג הבעיה היא שיכול להיות שפיספסנו קלט אחד בעייתי אבל זו שיטה די טובה
 מבחינות אחרות.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Fuzzing
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 נותן ערכים אקראיים כקלטים ומכוון לזיהוי בעיות שטחיות למדי, בעיקר קריסות
 אקספשנים וכו', שעלולות להוות תשתית למתקפות יותר מתוחכמות.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
Fuzzing
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מנסה לשבש את הריצה של התכנית באמצעות ערכים אקראיים.
\end_layout

\begin_layout Standard

\size larger
שיטות
\family roman
\series medium
\shape up
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Fuzzing
\end_layout

\begin_layout Itemize
קופסה שחורה - לא ידוע לנו שום דבר על התכנית או הקלטים שלה.
 שיטה זו היא קלה לשימוש אבל בודקת רק מצבים מאוד שטחיים.
\end_layout

\begin_layout Itemize
\begin_inset Formula $ $
\end_inset


\lang english
Fuzzing
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מבוסס על דקדוק - הכלי יוצר קלטים שמודעים ל
\begin_inset Quotes xrd
\end_inset

דקדוק
\begin_inset Quotes xrd
\end_inset

.
 שיטה זו דורשת יותר מאמץ לשימוש אבל יכולה להגיע עמוק יותר.
\end_layout

\begin_layout Itemize
קופסה לבנה - כלי שיוצר קלטים באופן מודע חלקית לקוד של התכנית.
 שיטה זו קלה לשימוש אבל יקרה חישובית.
\end_layout

\begin_layout Standard

\size larger
קלטים ב-
\lang english
Fuzzing
\end_layout

\begin_layout Itemize
מוטציה - לקחת ערך חוקי ולשנות אותו )ערך חוקי מושג ע
\begin_inset Quotes xrd
\end_inset

י בן אדם או פתרן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SMT
\lang hebrew
, או דקדוק ידוע(.
\end_layout

\begin_layout Itemize
גנרטיבי - יצירת קלטים 
\lang english

\begin_inset Quotes xld
\end_inset

from scratch
\begin_inset Quotes xrd
\end_inset


\lang hebrew
.
\end_layout

\begin_layout Itemize
תערובת של השניים - יצירת קלטים גנרטיבית, מטציה, עוד יצירה גנרטיבית, יצירת
 מוטציות עם דקדוק.
\end_layout

\begin_layout Description
דוגמה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Radamsa
\lang hebrew
 הוא 
\lang english
Fuzzer
\lang hebrew
 קופסה שחורה המבוסס על מוטציות.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/radamsa.png
	scale 60

\end_inset


\end_layout

\begin_layout Standard
הכלי מקבל כקלט ערך תקין,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
seed
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ומספר מוטציות רצויות ומחזיר ערכים אקראיים בדומה לדקדוק.
\end_layout

\end_deeper
\begin_layout Description
דוגמה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Blab
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Fuzzer
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 קופסה שחורה מבוסס דקדוק חסר הקשר שמבוסס על ביטויים רגולריים.
\end_layout

\begin_layout Description
דוגמה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Americal Fuzzy Lop
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Fuzzer
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קופסה לבנה מבוסס על מוטציות.
 הוא מריץ פעם אחת, עושה מוטציות לקלטים ואם נכנס למסלול אחר שומר את המוטציה.
\end_layout

\begin_layout Standard
נניח שעשינו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Fuzzing
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והתכנית קרסה.
 כיצד נגיע לסיבת הקריסה? הקלטים של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Fuzzer
\lang hebrew
-ים הם ככלל מסובכים ולכן נרצה לפשט אותם.
 בנוסף, פישוט קלטים כאלה יכול לגלות לנו אם שתי קריסות נבעו מאותו הבאג )לדוגמה
 אם שניהם פושטו לאותו קלט מפושט(.
\end_layout

\begin_layout Standard
בנוסף, נרצה לדעת האם קריסה כזו היא באמת מפגע אבטחה או לא.
\end_layout

\begin_layout Description
דוגמה ביצוע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
dereference
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NULL
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אינה מפגע אבטחה אבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Buffer Overflow
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כמובן שכן.
\end_layout

\begin_layout Standard
הבעיה היא שקשה מאוד לזהות מה הסיבה לקריסה, כי יכול להיות ש-
\lang english
Buffer Overflow
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
השפיע מאוחר הרבה יותר מביצוע האוברפלואו עצמו ולקשר בין השניים זה לא פשוט.
\end_layout

\begin_layout Standard
לשם כן אפשר להשתמש ב-
\lang english
Address Sanitizier
\lang hebrew
-ים בעת הקימפול, שמכניסים קוד שקורס מיד כשיש גישה לא חוקית, ואז אם קרסנו
 במהלך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Fuzzing
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נדע בדיוק מה הגורם.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
href{https://drive.google.com/file/d/1dw-EWqOY02qzPTTGrElobp1nwp0HdP9W/view?usp=sh
aring}{קישור}
\end_layout

\end_inset


\end_layout

\begin_layout Description
שאלה נתון קטע הקוד הבא,
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/q121.png
	scale 61

\end_inset


\end_layout

\begin_layout Enumerate
נתו את קטע הקוד ללא רגישויות והראו שמתקבלת אזעקת שווא.
\end_layout

\begin_deeper
\begin_layout Standard
האילוצים הם:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\ta\leq name$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $action\leq flag$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $name\leq msg1$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq msg2$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $msg1\leq foo$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $msg2\leq foo$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $action\leq flag$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq msg1$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq msg2$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $msg1\leq foo$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $msg2\leq foo$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $foo\leq temp$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq name$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $temp\leq\unt$
\end_inset

.
\end_layout

\begin_layout Standard
ואזעקת השווא מתקבלת מ-
\begin_inset Formula $\ta\leq name\leq msg1\leq foo\leq temp\leq\unt$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
הראו כי ניתן להוסיף רגישות אחת ולהימנע מאזעקת השווא.
\end_layout

\begin_deeper
\begin_layout Standard
הבעיה היא שאנחנו קופצים בין קריאות לפ', לכן נוסיף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
context
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ונמנע מהבעיה כי האילוצים לא יאפשרו לקפוץ בין אינדקסים )הא
\begin_inset Quotes xrd
\end_inset

ש שסותרים הם השני שהוא 
\begin_inset Formula $-1$
\end_inset

 והאחד לפני האחרון שהוא 
\begin_inset Formula $+2$
\end_inset

(.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
שאלה נתון קטע הקוד הבא,
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/q122.png
	scale 61

\end_inset


\end_layout

\begin_layout Enumerate
נתחו את קטע הקוד הבא בלי רגישויות והראו כי מתקבלת אזעקת שווא.
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $\ta\leq str$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $str\leq name$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $name\leq simple$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $simple\leq str1$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq name$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $name\leq simple$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $simple\leq str1$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $str1\leq\unt$
\end_inset

.
\end_layout

\begin_layout Standard
האזעקה מתקבלת עבור הזרימה הלא חוקית 
\begin_inset Formula $\ta\leq str\leq name\leq simpleq\leq str1\leq\unt$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
האם ניתן להוסיף רגישות אחת מבין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
context, path, flow
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שתמנע את אזעקת השווא?
\end_layout

\begin_deeper
\begin_layout Standard
הבעיה היא שדרסנו את ערך המשתנה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
str1
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם ערך בסדר רק שעשינו זאת באמצעות קריאה לפ' שנקראת בפעם אחרת עם פרמטר חשוד
 לכן צריך גם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
flow
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וגם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
context
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן אחת לא תספיק.
\end_layout

\begin_layout Standard
\begin_inset Formula $ $
\end_inset


\lang english
path
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא קשור ולכן הוא לא יעזור, רק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
flow
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יאפשר את הזרימה הלא חוקית
\begin_inset Formula 
\[
\ta\leq str\leq name\leq simple\leq str1B\leq\unt
\]

\end_inset

ורק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
context
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יאפשר את הזרימה הלא חוקית
\begin_inset Formula 
\[
\ta\leq str\leq_{-1}name\leq simple\leq_{+1}str1\leq\unt
\]

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
הראו כי ניתן להוסיף שתי רגישויות כך שלא תתקבל אזעקת שווא.
\end_layout

\begin_deeper
\begin_layout Standard
נוסיף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
flow
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\lang english
context
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כאמור ונשים לב כי הא
\begin_inset Quotes xrd
\end_inset

ש העליון מהסעיף הקודם לא מתקיים כי הא
\begin_inset Quotes xrd
\end_inset

ש השני והאחד לפני האחרון מקבלים 
\begin_inset Formula $-1,+2$
\end_inset

 בהתאמה ולכן זו לא זרימה והא
\begin_inset Quotes xrd
\end_inset

ש התחתון לא מתקיים כי הא
\begin_inset Quotes xrd
\end_inset

ש האחד לפני האחרון הוא על 
\begin_inset Formula $str1A$
\end_inset

 והאחרון הוא על 
\begin_inset Formula $str1B$
\end_inset

 ולכן גם שם אין זרימה לא חוקית.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
שאלה נתון קטע הקוד הבא,
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/q123.png
	scale 61

\end_inset


\end_layout

\begin_layout Enumerate
נתחו את קטע הקוד הבא בלי אף רגישות והראו כי קיימת השמה של ערכי 
\begin_inset Formula $\ta$
\end_inset

 ו-
\begin_inset Formula $\unt$
\end_inset

 שמספקת את אוסף האילוצים.
\end_layout

\begin_deeper
\begin_layout Standard
האילוצים הם:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\ta\leq name$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq output$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\unt\leq output$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $output\leq\unt$
\end_inset

.
\end_layout

\begin_layout Standard
במקרה זה ההשמה 
\begin_inset Formula $name=\ta$
\end_inset

, 
\begin_inset Formula $output=\unt$
\end_inset

 מקיימת את אוסף האילוצים.
\end_layout

\end_deeper
\begin_layout Enumerate
האם הוספת אחת מבין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
context, flow, path
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
implicit flows
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תגרום לקבת תוצאה שונה מזו של הסעיף הקודם?
\end_layout

\begin_deeper
\begin_layout Standard
כן, העניין כאן הוא ש-
\lang english
output
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מקבל ערך שמושפע מ-
\lang english
name
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אבל ההשפעה קורת בתוך ה-
\lang english
if
\lang hebrew
, לכן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
implicit flows
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יעזור.
 האילוצים )המעניינים( שנוספים הם:
\end_layout

\begin_layout Itemize
\begin_inset Formula $pc_{9}=\ta$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $pc_{12}=\ta$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $pc_{7}\leq name$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $pc_{9}\leq output$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $pc_{12}\leq output$
\end_inset

.
\end_layout

\begin_layout Standard
ואז יש זרימה לא חוקית 
\begin_inset Formula $\ta=pc_{9}\leq output\leq\unt$
\end_inset

.
\end_layout

\end_deeper
\end_deeper
\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{section}{XIII
\backslash
;
\backslash
; חזרה}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size giant
שבוע 
\begin_inset Formula $\mathbb{XIII}$
\end_inset

 | חזרה
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
phantomsection
\end_layout

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{subsection}{תרגול}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size largest
תרגול
\end_layout

\begin_layout Description
שאלה תהי 
\begin_inset Formula $G$
\end_inset

 פ' ניתנת לחישוב ביעילות שמעתיקה 
\begin_inset Formula $n$
\end_inset

 ל-
\begin_inset Formula $2n$
\end_inset

.
 תהי 
\begin_inset Formula $F$
\end_inset

 שמקבלת מפתחות בגודל 
\begin_inset Formula $n$
\end_inset

 ומעתיקה 
\begin_inset Formula $2n$
\end_inset

 ל-
\begin_inset Formula $2n$
\end_inset

 )ניתנת לחישוב ביעילות(.
 נגדיר 
\begin_inset Formula $H$
\end_inset

 משפחת פ' שמקבלת מפתחות בגודל 
\begin_inset Formula $n$
\end_inset

 המוגדרת ע
\begin_inset Quotes xrd
\end_inset

י 
\begin_inset Formula $H_{k}\left(x\right)=F_{k}\left(G\left(x\right)\right)$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Enumerate
נניח כי 
\begin_inset Formula $F,H$
\end_inset

 הן 
\begin_inset Formula $\prf$
\end_inset

, האם 
\begin_inset Formula $G$
\end_inset

 בהכרח 
\begin_inset Formula $\pr$
\end_inset

?
\end_layout

\begin_deeper
\begin_layout Standard
היא אינה בהכרח 
\begin_inset Formula $\pr$
\end_inset

, נסתכל על 
\begin_inset Formula $G\left(s\right)=s||0^{\left|s\right|}$
\end_inset

 )העתקת הזהות בסופו של דבר(.
 ברור שזו אינה 
\begin_inset Formula $\pr$
\end_inset

 כי הביט האחרון שלה הוא 
\begin_inset Formula $0$
\end_inset

, בהסת'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
 תהי 
\begin_inset Formula $F$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

 ונוכיח כי 
\begin_inset Formula $H$
\end_inset

 היא 
\begin_inset Formula $\prf$
\end_inset

.
\end_layout

\begin_layout Standard
נניח בשלילה ש-
\begin_inset Formula $H$
\end_inset

 אינה 
\begin_inset Formula $\prf$
\end_inset

, לכן קיים מבחין 
\begin_inset Formula $\d$
\end_inset

 
\begin_inset Formula $\pp$
\end_inset

 ופולינום 
\begin_inset Formula $p\left(n\right)$
\end_inset

 כך שמתקיים באופן שכיח
\begin_inset Formula 
\[
\left|\underset{k\inr\on^{n}}{P}\left(\d^{H_{k}}\left(1^{n}\right)=1\right)-\underset{h\inr\func_{n,2n}}{P}\left(\d^{h}\left(1^{n}\right)=1\right)\right|>\frac{1}{p\left(n\right)}
\]

\end_inset


\end_layout

\begin_layout Standard
נגדיר 
\begin_inset Formula $\a$
\end_inset

 מבחין ל-
\begin_inset Formula $F$
\end_inset

 באופן הבא: בהינתן גישה לאורקל 
\begin_inset Formula $\o\in\left\{ F_{k},f\right\} $
\end_inset

, מריץ את 
\begin_inset Formula $\d$
\end_inset

 ועונה לכל בקשת אורקל עם 
\begin_inset Formula $\o\left(G\left(x\right)\right)$
\end_inset

 ומחזיר את הערך ש-
\begin_inset Formula $\d$
\end_inset

 מחזיר.
\end_layout

\begin_layout Standard
ברור שזהו יריב 
\begin_inset Formula $\pp$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\o=F_{k}$
\end_inset

: קיבלנו סימולציה מדויקת של 
\begin_inset Formula $\d$
\end_inset

 עם 
\begin_inset Formula $H$
\end_inset

, שכן
\begin_inset Formula 
\[
\o\left(G\left(x\right)\right)=F_{k}\left(G\left(x\right)\right)=H_{k}\left(x\right)
\]

\end_inset


\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\o=f$
\end_inset

: מתקיים כי 
\begin_inset Formula $f\left(G\left(x\right)\right)$
\end_inset

 היא פ' שמתפלגת אחיד על 
\begin_inset Formula $\func_{n,2n}$
\end_inset

 שכן 
\begin_inset Formula $G\left(x\right)$
\end_inset

 חח
\begin_inset Quotes xrd
\end_inset

ע, לכן 
\begin_inset Formula $\o\left(G\left(x\right)\right)=f\left(g\left(x\right)\right)=h\left(x\right)$
\end_inset

 כאשר 
\begin_inset Formula $h$
\end_inset

 פ' אקראית באמת.
\end_layout

\begin_layout Standard
לכן קיבלנו )אפשר לכתוב את הנוסחאות במפורש אבל עשינו את זה מספיק פעמים( של-
\begin_inset Formula $\a$
\end_inset

 יש יתרון לא זניח על 
\begin_inset Formula $F$
\end_inset

 בסתירה להיות 
\begin_inset Formula $F$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
נניח כי 
\begin_inset Formula $F$
\end_inset

 היא 
\begin_inset Formula $\prf$
\end_inset

 ו-
\begin_inset Formula $G$
\end_inset

 היא 
\begin_inset Formula $\pr$
\end_inset

, האם 
\begin_inset Formula $H$
\end_inset

 היא בהכרח 
\begin_inset Formula $\prf$
\end_inset

?
\end_layout

\begin_deeper
\begin_layout Standard
היא אינה בהכרח 
\begin_inset Formula $\prf$
\end_inset

.
 אם ל-
\begin_inset Formula $G$
\end_inset

 יש התנגשות שידועה לנו, לדוגמה 
\begin_inset Formula $G\left(0^{n}\right)=G\left(1^{n}\right)$
\end_inset

, אז 
\begin_inset Formula $H$
\end_inset

 אינה 
\begin_inset Formula $\prf$
\end_inset

 כי
\begin_inset Newline newline
\end_inset


\begin_inset Formula $H_{k}\left(0^{n}\right)=H_{k}\left(1^{n}\right)$
\end_inset

 שזה מספיק למבחין שמצליח ביתרון לא זניח )ל-
\begin_inset Formula $\pr$
\end_inset

 מותר תהי 
\begin_inset Formula $F$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

 כלשהי ונראה שקיים 
\begin_inset Formula $G$
\end_inset

 כנ
\begin_inset Quotes xrd
\end_inset

ל.
 יהי 
\begin_inset Formula $W$
\end_inset

 
\begin_inset Formula $\pr$
\end_inset

, בתרגיל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוכחנו כי
\begin_inset Formula 
\[
G\left(s\right)=\begin{cases}
W\left(1^{\left|s\right|}\right) & s=0^{\left|s\right|}\\
W\left(s\right) & \text{אחרת}
\end{cases}
\]

\end_inset

הוא גם 
\begin_inset Formula $\pr$
\end_inset

.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
שאלה תהי 
\begin_inset Formula $F$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

 שמעתיקה 
\begin_inset Formula $n$
\end_inset

 ל-
\begin_inset Formula $n$
\end_inset

 עם מפתחות בגודל 
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Enumerate
נגדיר 
\begin_inset Formula $G\left(s\right)=F_{s}\left(0^{n}\right)||F_{F_{s}\left(0^{n}\right)}\left(0^{n}\right)$
\end_inset

, הוכיחו כי 
\begin_inset Formula $G$
\end_inset

 אינו 
\begin_inset Formula $\pr$
\end_inset

 לכל 
\begin_inset Formula $F$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
נגדיר מבחין 
\begin_inset Formula $\d$
\end_inset

 בין 
\begin_inset Formula $G$
\end_inset

 לערכים אקראיים, שבהינתן קלט 
\begin_inset Formula $\alpha||\beta\in\on^{2n}$
\end_inset

, מחזיר 
\begin_inset Formula $1$
\end_inset

 אם
\begin_inset Quotes xrd
\end_inset

ם 
\begin_inset Formula $\beta=F_{\alpha}\left(0^{n}\right)$
\end_inset

.
 ברור שזהו יריב 
\begin_inset Formula $\pp$
\end_inset

.
\end_layout

\begin_layout Standard
אם 
\begin_inset Formula $\alpha||\beta=G\left(s\right)$
\end_inset

 אז 
\begin_inset Formula $\d$
\end_inset

 תמיד יחזיר 
\begin_inset Formula $1$
\end_inset

 ואם 
\begin_inset Formula $\alpha||\beta=r\inr\on^{2n}$
\end_inset

 אז 
\begin_inset Formula $\alpha,\beta$
\end_inset

 מתפלגים אחיד וב
\begin_inset Quotes xrd
\end_inset

ת ולכן 
\begin_inset Formula $\beta=F_{\alpha}\left(0^{n}\right)$
\end_inset

 בהסת' 
\begin_inset Formula $\frac{1}{2^{2n}}$
\end_inset

 )כאשר 
\begin_inset Formula $\alpha$
\end_inset

 קבוע ו-
\begin_inset Formula $\beta$
\end_inset

 אחיד(.
 לכן 
\begin_inset Formula $G$
\end_inset

 אינו 
\begin_inset Formula $\pr$
\end_inset

 כי יש לו יתרון ברור )הסטודנטית המשקיעה תפרמל זאת(.
\end_layout

\end_deeper
\begin_layout Enumerate
נגדיר 
\begin_inset Formula $H\left(s\right)=F_{s}\left(0^{n}\right)||\left(F_{F_{s}\left(0^{n}\right)}\left(0^{n}\right)\xor F_{s}\left(1^{n}\right)\right)$
\end_inset

, הוכיחו כי 
\begin_inset Formula $H$
\end_inset

 הוא 
\begin_inset Formula $\pr$
\end_inset

 לכל 
\begin_inset Formula $F$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Standard
ראשית ברור שזהו אלג' 
\begin_inset Formula $\pp$
\end_inset

.
 נניח בשלילה שקיים יריב 
\begin_inset Formula $\a$
\end_inset

 עם יתרון לא זניח על 
\begin_inset Formula $H$
\end_inset

 לעומת ערך אקראי.
\end_layout

\begin_layout Standard
נגדיר מבחין 
\begin_inset Formula $\d$
\end_inset

 ל-
\begin_inset Formula $F$
\end_inset

 באופן הבא: בהינתן גישת אורקל 
\begin_inset Formula $\o\in\left\{ F,f\right\} $
\end_inset

, בקש מהארוקל את 
\begin_inset Formula $\alpha=\o\left(0^{n}\right),\beta=\o\left(1^{n}\right)$
\end_inset

 והחזר את הפלט של 
\begin_inset Formula $\a$
\end_inset

 על הקלט 
\begin_inset Formula $\alpha||\left(F_{\alpha}\left(0^{n}\right)\xor\beta\right)$
\end_inset

.
 ברור שזהו יריב 
\begin_inset Formula $\pp$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\o=F_{k}$
\end_inset

: 
\begin_inset Formula $\a$
\end_inset

 מורץ עם הקלט 
\begin_inset Formula $F_{k}\left(0^{n}\right)||\left(F_{F_{k}\left(0^{n}\right)}\left(0^{n}\right)\xor F_{k}\left(1^{n}\right)\right)=H\left(k\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\o=f$
\end_inset

 כאשר 
\begin_inset Formula $f$
\end_inset

 אקראית באמת: 
\begin_inset Formula $\alpha,\beta$
\end_inset

 מתפלגים אחיד וב
\begin_inset Quotes xrd
\end_inset

ת ולכן 
\begin_inset Formula $F_{\alpha}\left(0^{n}\right)\xor\beta$
\end_inset

 גם אחיד וב
\begin_inset Quotes xrd
\end_inset

ת ב-
\begin_inset Formula $\alpha$
\end_inset

, כלומר 
\begin_inset Formula $\d$
\end_inset

 מריץ את 
\begin_inset Formula $\a$
\end_inset

 עם קלט אקראי.
\end_layout

\begin_layout Standard
לכן,
\begin_inset Formula 
\begin{align*}
 & \left|\underset{s\inr\on^{n}}{P}\left(\d^{F_{s}}\left(1^{n}\right)=1\right)-\underset{f\inr\func_{n,2n}}{P}\left(\d^{f}\left(1^{n}\right)=1\right)\right|\\
 & =\left|\underset{s\inr\on^{n}}{P}\left(\a\left(H\left(s\right)\right)=1\right)-\underset{r\inr\on^{2n}}{P}\left(\a\left(r\right)=1\right)\right|\\
 & >\frac{1}{p\left(n\right)}
\end{align*}

\end_inset

באופן שכיח, בסתירה להיות 
\begin_inset Formula $F$
\end_inset

 
\begin_inset Formula $\prf$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
נגדיר 
\begin_inset Formula $W\left(s\right)=F_{s}\left(0^{n}\right)||F_{F_{s}\left(1^{n}\right)}\left(1^{n}\right)$
\end_inset

, האם 
\begin_inset Formula $W$
\end_inset

 בהכרח 
\begin_inset Formula $\pr$
\end_inset

?
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Formula $W$
\end_inset

 הוא בהכרח 
\begin_inset Formula $\pr$
\end_inset

.
 נניח בשלילה שהוא אינו, ולכן קיים יריב 
\begin_inset Formula $\a$
\end_inset

 
\begin_inset Formula $\pp$
\end_inset

 ו-
\begin_inset Formula $p\left(n\right)$
\end_inset

 כך שמתקיים באופן שכיח
\begin_inset Formula 
\[
\left|\underset{s\inr\on^{n}}{P}\left(\a\left(W\left(s\right)\right)=1\right)-\underset{r\inr\on^{2n}}{P}\left(\a\left(r\right)=1\right)\right|>\frac{1}{p\left(n\right)}
\]

\end_inset

נשתמש בארגומנט היברידי,
\begin_inset Formula 
\begin{align*}
\frac{1}{p\left(n\right)} & <\left|\underset{s\inr\on^{n}}{P}\left(\a\left(W\left(s\right)\right)=1\right)-\underset{r\inr\on^{2n}}{P}\left(\a\left(r\right)=1\right)\right|\\
 & =\left|\underset{s\inr\on^{n}}{P}\left(\a\left(F_{s}\left(0^{n}\right)||F_{F_{s}\left(1^{n}\right)}\left(1^{n}\right)\right)=1\right)-\underset{r\inr\on^{2n}}{P}\left(\a\left(r_{0}||r_{1}\right)=1\right)\right|\\
 & \overset{\Delta}{\leq}\left|\underset{s\inr\on^{n}}{P}\left(\a\left(F_{s}\left(0^{n}\right)||F_{F_{s}\left(1^{n}\right)}\left(1^{n}\right)\right)=1\right)-\underset{r_{0},t\inr\on^{n}}{P}\left(\a\left(r_{0}||F_{t}\left(1^{n}\right)\right)=1\right)\right|\\
 & \;\;+\left|\underset{r_{0},t\inr\on^{n}}{P}\left(\a\left(r_{0}||F_{t}\left(1^{n}\right)\right)=1\right)-\underset{r\inr\on^{2n}}{P}\left(\a\left(r_{0}||r_{1}\right)=1\right)\right|
\end{align*}

\end_inset

לכן או שהאיבר הראשון גדול מ-
\begin_inset Formula $\frac{1}{2p\left(n\right)}$
\end_inset

 באופן שכיח או השני.
 נחלק למקרים:
\end_layout

\begin_layout Itemize
אם הביטוי הראשון מתקיים לא זניח באופן שכיח: נגדיר יריב 
\begin_inset Formula $\d$
\end_inset

 המבחין בין 
\begin_inset Formula $F$
\end_inset

 לפ' אקראית באופן הבא: בהינתן גישת אורקל 
\begin_inset Formula $\o\in\left\{ F_{s},f\right\} $
\end_inset

, בקש את הערכים 
\begin_inset Formula $r_{0}=\o\left(0^{n}\right),t=\o\left(1^{n}\right)$
\end_inset

 והחזר את הפלט של 
\begin_inset Formula $\a$
\end_inset

 על הקלט 
\begin_inset Formula $r_{0}||F_{t}\left(1^{n}\right)$
\end_inset

 )ל-
\begin_inset Formula $\d$
\end_inset

 יש גישה ל-
\begin_inset Formula $F$
\end_inset

 כרגיל(.
\end_layout

\begin_deeper
\begin_layout Standard
ברור שזהו יריב 
\begin_inset Formula $\pp$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\o=F_{s}$
\end_inset

: 
\begin_inset Formula $\d$
\end_inset

 מריץ את 
\begin_inset Formula $\a$
\end_inset

 על 
\begin_inset Formula $F_{s}\left(0^{n}\right)||F_{F_{s}\left(1^{n}\right)}\left(1^{n}\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\o=f$
\end_inset

 כאשר 
\begin_inset Formula $f$
\end_inset

 אקראית באמת: 
\begin_inset Formula $r_{0},t$
\end_inset

 מתפלגים אחיד וב
\begin_inset Quotes xrd
\end_inset

ת.
\end_layout

\begin_layout Standard
לכן
\begin_inset Formula 
\begin{align*}
 & \left|\underset{s\inr\on^{n}}{P}\left(\d^{F_{s}}\left(1^{n}\right)=1\right)-\underset{f\inr\func_{n,n}}{P}\left(\d^{f}\left(1^{n}\right)=1\right)\right|\\
 & =\left|\underset{s\inr\on^{n}}{P}\left(\a\left(F_{s}\left(0^{n}\right)||F_{F_{s}\left(1^{n}\right)}\left(1^{n}\right)\right)=1\right)-\underset{r_{0},t\inr\on^{n}}{P}\left(\a\left(r_{0}||F_{t}\left(1^{n}\right)\right)=1\right)\right|\\
 & >\frac{1}{2p\left(n\right)}
\end{align*}

\end_inset

באופן שכיח, כלומר מצאנו יריב שמנצח את 
\begin_inset Formula $F_{s}$
\end_inset

 ביתרון לא זניח, בסתירה להיותה 
\begin_inset Formula $\prf$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Itemize
אם הביטי השני מתקיים לא זניח באופן שכיח: נגדיר יריב 
\begin_inset Formula $\d$
\end_inset

 המבחין בין 
\begin_inset Formula $F$
\end_inset

 לפ' אקראית באמת באופן הבא: בהינתן גישת אורקל 
\begin_inset Formula $\o\in\left\{ F_{s},f\right\} $
\end_inset

, מבקש את הערך 
\begin_inset Formula $r_{1}=\o\left(1^{n}\right)$
\end_inset

 ודוגם אחיד 
\begin_inset Formula $r_{0}\inr\on^{n}$
\end_inset

 ומחזיר את הפלט של 
\begin_inset Formula $\a$
\end_inset

 על 
\begin_inset Formula $r_{0}||r_{1}$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $\o=F_{s}$
\end_inset

: 
\begin_inset Formula $\d$
\end_inset

 מריץ את 
\begin_inset Formula $\a$
\end_inset

 על 
\begin_inset Formula $r_{0}||F_{t}\left(0^{n}\right)$
\end_inset

 כאשר 
\begin_inset Formula $r_{0}$
\end_inset

 ו-
\begin_inset Formula $t$
\end_inset

 מתפלגים אחיד.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\o=f_{s}$
\end_inset

 אז 
\begin_inset Formula $f\left(0^{n}\right)$
\end_inset

 וכן 
\begin_inset Formula $r_{0}$
\end_inset

 מתפלגים אחיד ולכן 
\begin_inset Formula $\d$
\end_inset

 מריץ את 
\begin_inset Formula $\a$
\end_inset

 על 
\begin_inset Formula $r_{0}||r_{1}$
\end_inset

 אקראיים.
\end_layout

\begin_layout Standard
לכן באותו האופן כמו לפני, מצאנו יריב שמנצח ביתרון לא זניח על פני 
\begin_inset Formula $F_{s}$
\end_inset

 בסתירה להיותה 
\begin_inset Formula $\prf$
\end_inset

.
\end_layout

\end_deeper
\end_deeper
\begin_layout Description
שאלה נתון קטע הקוד הבא,
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/final.png
	scale 80

\end_inset


\end_layout

\begin_layout Enumerate
תארו את תוכן המחסנית בתוך קריאתה הראשונה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
main
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\lang english
get_input
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)כלומר בשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
14
\numeric off
(, כאשר אין שום אופטמיזציות וכל ההנחות הרגילות חלות.
\end_layout

\begin_deeper
\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename img/final-stack.png

\end_inset


\end_layout

\end_deeper
\begin_layout Enumerate
הראו כי תוקף המריץ את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
main
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וצופה במידע המודפס למסך יכול לספק קלט בשורות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
15
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\numeric on
17
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כך ש-
\lang english
first_goal
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תרוץ פעם אחת או יותר.
\end_layout

\begin_deeper
\begin_layout Standard
ניתן כקלט ל-
\numeric on
15
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
%d%d%d%d%d%p%p
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כך שבשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
16
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יודפסו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מספרים שתופסים את כל תוכן הבאפר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
input
\lang hebrew
, ואז הפוינטרים שתוכנם 
\begin_inset Formula ${\rm \%ebp},{\rm \%eip}$
\end_inset

.
\end_layout

\begin_layout Standard
בשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
17
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ניתן את הקלט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
A...A(ebp+4)eip
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כאשר יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
20
\numeric off
 
\lang english
A
\lang hebrew
-ים כדי למלא את הבאפר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
input
\lang hebrew
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ebp
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא הערך שהודפס לנו ל-
\begin_inset Formula ${\rm \%ebp}$
\end_inset

 בשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
16
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)הפוינטר הראשון( ו-
\lang english
eip
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהתאמה.
\end_layout

\begin_layout Standard
עכשיו הפ' תחזור כרגיל ל-
\lang english
main
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לאותה הנקודה, רק שעתה המחשב חושב שהמשתנה הלוקאלי הראשון שלו הוא אחד אחורה
 משהוא באמת, כלומר גישה ל-
\lang english
flag
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא בעצם ל-
\lang english
test
\lang hebrew
.
 בשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
7
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נבצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
flag=1-flag
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כאשר למעשה החישוב יהיה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
test=1-test
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואכן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
flag=-127
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שכן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
flag
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מכיל את 
\begin_inset Formula $1-128$
\end_inset

 )החישוב מהשורה לפני( ואז נריץ את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
frirst_goal
\lang hebrew
.
\end_layout

\end_deeper
\begin_layout Enumerate
האם שימוש ב-
\lang english
CFI
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היה מונע את המתקפה שהצעתם?
\end_layout

\begin_deeper
\begin_layout Standard
לא, כי המתקפה לא שינתה קריאה לא ישירה לפ' )רק 
\begin_inset Formula ${\rm \%ebp}$
\end_inset

 שונה(.
\end_layout

\end_deeper
\begin_layout Enumerate
הראו כי תוקף המריץ את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
main
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ורואה מה מודפס למסך יכול לספק קלטים בשורות 
\begin_inset Formula $15$
\end_inset

 ו-
\numeric on
17
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)בשתי ריצות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
get_input
\lang hebrew
( כך שתורץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
first_goal
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
פעם אחת או יותר וגם תורץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
second_goal
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
פעם אחת או יותר.
\end_layout

\begin_deeper
\begin_layout Standard
בריצה הראשונה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
get_input
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נספק את אותם הקלטים כנ
\begin_inset Quotes xrd
\end_inset

ל וכך נקבל ריצה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
first_goal
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כפי שכבר ראינו, כאן לא ירוץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
second_goal
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי התנאי ב-
\numeric on
9
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא מתקיים )
\lang english
flag
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שהוא בעצם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
test
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא 
\begin_inset Formula $-127$
\end_inset

(.
\end_layout

\begin_layout Standard
בריצה השנייה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
get_input
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נספק את הקלטים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
A...A(ebp-4)eip
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כאשר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ebp, eip
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כבסעיף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ויש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
20
\numeric off
 
\begin_inset Formula $A$
\end_inset

-ים כדי לדלג מעל הבאפר.
 המטרה של חיסור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתים היא שוב להסיט את המחסנית באופן מטעה, רק הפעם לצד השני.
 ערך ה-
\lang english
eip
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כפי שקיבלנו אותו בקריאה הקודמת ל-
\lang english
get_input
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יגרום לכך שבחזרה מה-
\lang english
get_input
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
השנייה, נחזור לשורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
7
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ב-
\lang english
main
\lang hebrew
.
\end_layout

\begin_layout Standard
לאחר מכן, שורה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
7
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תחשב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
flag=1-flag
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כאשר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
flag
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ערכו בעצם ערכו של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
guard
\lang hebrew
, כלומר נקבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
flag=1
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וגישה ל-
\lang english
test
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בעצם נגשת ל-
\lang english
flag
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואז אכן מתקיים ה-
\lang english
if
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ונריץ את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
second_goal
\lang hebrew
.
\end_layout

\end_deeper
\end_deeper
\end_deeper
\begin_layout Standard

\size giant
סוף.
\end_layout

\end_body
\end_document
